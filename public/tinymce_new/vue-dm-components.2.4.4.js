!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VueDmComponents",[],t):"object"==typeof exports?exports.VueDmComponents=t():e.VueDmComponents=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=41)}([function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=c[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(i(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(i(n.parts[o]));c[n.id]={id:n.id,refs:1,parts:a}}}}function o(){var e=document.createElement("style");return e.type="text/css",f.appendChild(e),e}function i(e){var t,n,r=document.querySelector("style["+v+'~="'+e.id+'"]');if(r){if(p)return m;r.parentNode.removeChild(r)}if(b){var i=h++;r=d||(d=o()),t=a.bind(null,r,i,!1),n=a.bind(null,r,i,!0)}else r=o(),t=s.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function a(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function s(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),g.ssrId&&e.setAttribute(v,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=n(45),c={},f=l&&(document.head||document.getElementsByTagName("head")[0]),d=null,h=0,p=!1,m=function(){},g=null,v="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n,o){p=n,g=o||{};var i=u(e,t);return r(i),function(t){for(var n=[],o=0;o<i.length;o++){var a=i[o],s=c[a.id];s.refs--,n.push(s)}t?(i=u(e,t),r(i)):i=[];for(var o=0;o<n.length;o++){var s=n[o];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete c[s.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,n,r,o,i){var a,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,s=e.default);var u="function"==typeof s?s.options:s;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):r&&(c=r),c){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=c,u.render=function(e,t){return c.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:s,options:u}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n.p+"jsoneditor-icons.svg?256e3abce3a61ba656dbb8f4967e3933"},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function r(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function o(e,t,n,o){var i=r(e,t,n,o);return i.setAttribute("role","presentation"),i}function i(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function a(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,n){var r=t.className;e(n).test(r)||(t.className+=(r?" ":"")+n)}function l(t,n){for(var r=t.split(" "),o=0;o<r.length;o++)r[o]&&!e(r[o]).test(n)&&(n+=" "+r[o]);return n}function u(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function f(e,t,n,r,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var i=r||0,a=o||0;;){var s=e.indexOf("\t",i);if(s<0||s>=t)return a+(t-i);a+=s-i,a+=n-a%n,i=s+1}}function d(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function h(e,t,n){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var a=i-r;if(i==e.length||o+a>=t)return r+Math.min(a,t-o);if(o+=i-r,o+=n-o%n,r=i+1,o>=t)return r}}function p(e){for(;Ga.length<=e;)Ga.push(m(Ga)+" ");return Ga[e]}function m(e){return e[e.length-1]}function g(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function v(e,t,n){for(var r=0,o=n(t);r<e.length&&n(e[r])<=o;)r++;e.splice(r,0,t)}function b(){}function y(e,t){var n;return Object.create?n=Object.create(e):(b.prototype=e,n=new b),t&&c(t,n),n}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ya.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function C(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function k(e){return e.charCodeAt(0)>=768&&Xa.test(e)}function _(e,t,n){for(;(n<0?t>0:t<e.length)&&k(e.charAt(t));)t+=n;return t}function E(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,i=r<0?Math.ceil(o):Math.floor(o);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+r}}function A(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",i),o=!0)}o||r(t,n,"ltr")}function S(e,t,n){var r;Ja=null;for(var o=0;o<e.length;++o){var i=e[o];if(i.from<t&&i.to>t)return o;i.to==t&&(i.from!=i.to&&"before"==n?r=o:Ja=o),i.from==t&&(i.from!=i.to&&"before"!=n?r=o:Ja=o)}return null!=r?r:Ja}function O(e,t){var n=e.order;return null==n&&(n=e.order=Za(e.text,t)),n}function T(e,t){return e._handlers&&e._handlers[t]||Qa}function D(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var i=d(o,n);i>-1&&(r[t]=o.slice(0,i).concat(o.slice(i+1)))}}}function N(e,t){var n=T(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function F(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),N(e,n||t.type,e,t),M(t)||t.codemirrorIgnore}function L(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==d(n,t[r])&&n.push(t[r])}function P(e,t){return T(e,t).length>0}function B(e){e.prototype.on=function(e,t){es(this,e,t)},e.prototype.off=function(e,t){D(this,e,t)}}function R(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function q(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function M(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function j(e){R(e),q(e)}function I(e){return e.target||e.srcElement}function $(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Na&&e.ctrlKey&&1==t&&(t=3),t}function z(e){if(null==$a){var t=r("span","​");n(e,r("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&($a=t.offsetWidth<=1&&t.offsetHeight>2&&!(ya&&wa<8))}var o=$a?r("span","​"):r("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return o.setAttribute("cm-text",""),o}function H(e){if(null!=za)return za;var r=n(e,document.createTextNode("AخA")),o=Ba(r,0,1).getBoundingClientRect(),i=Ba(r,1,2).getBoundingClientRect();return t(e),!(!o||o.left==o.right)&&(za=i.right-o.right<3)}function V(e){if(null!=is)return is;var t=n(e,r("span","x")),o=t.getBoundingClientRect(),i=Ba(t,0,1).getBoundingClientRect();return is=Math.abs(o.left-i.left)>1}function U(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),as[e]=t}function W(e,t){ss[e]=t}function K(e){if("string"==typeof e&&ss.hasOwnProperty(e))e=ss[e];else if(e&&"string"==typeof e.name&&ss.hasOwnProperty(e.name)){var t=ss[e.name];"string"==typeof t&&(t={name:t}),e=y(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return K("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return K("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function G(e,t){t=K(t);var n=as[t.name];if(!n)return G(e,"text/plain");var r=n(e,t);if(ls.hasOwnProperty(t.name)){var o=ls[t.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}function Y(e,t){c(t,ls.hasOwnProperty(e)?ls[e]:ls[e]={})}function X(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function J(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Z(e,t,n){return!e.startState||e.startState(t,n)}function Q(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(t<i){n=o;break}t-=i}return n.lines[t]}function ee(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,function(e){var i=e.text;o==n.line&&(i=i.slice(0,n.ch)),o==t.line&&(i=i.slice(t.ch)),r.push(i),++o}),r}function te(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ne(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function re(e){if(null==e.parent)return null;for(var t=e.parent,n=d(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;r.children[o]!=t;++o)n+=r.children[o].chunkSize();return n+t.first}function oe(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(t<i){e=o;continue e}t-=i,n+=o.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],l=s.height;if(t<l)break;t-=l}return n+a}function ie(e,t){return t>=e.first&&t<e.first+e.size}function ae(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function se(e,t,n){if(void 0===n&&(n=null),!(this instanceof se))return new se(e,t,n);this.line=e,this.ch=t,this.sticky=n}function le(e,t){return e.line-t.line||e.ch-t.ch}function ue(e,t){return e.sticky==t.sticky&&0==le(e,t)}function ce(e){return se(e.line,e.ch)}function fe(e,t){return le(e,t)<0?t:e}function de(e,t){return le(e,t)<0?e:t}function he(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function pe(e,t){if(t.line<e.first)return se(e.first,0);var n=e.first+e.size-1;return t.line>n?se(n,Q(e,n).text.length):me(t,Q(e,t.line).text.length)}function me(e,t){var n=e.ch;return null==n||n>t?se(e.line,t):n<0?se(e.line,0):e}function ge(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=pe(e,t[r]);return n}function ve(e,t,n,r){var o=[e.state.modeGen],i={};Ee(e,t.text,e.doc.mode,n,function(e,t){return o.push(e,t)},i,r);for(var a=n.state,s=0;s<e.state.overlays.length;++s)!function(r){n.baseTokens=o;var s=e.state.overlays[r],l=1,u=0;n.state=!0,Ee(e,t.text,s.mode,n,function(e,t){for(var n=l;u<e;){var r=o[l];r>e&&o.splice(l,1,e,o[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)o.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"overlay "+t}},i),n.state=a,n.baseTokens=null,n.baseTokenPos=1}(s);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function be(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=ye(e,re(t)),o=t.text.length>e.options.maxHighlightLength&&X(e.doc.mode,r.state),i=ve(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function ye(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new fs(r,!0,t);var i=Ae(e,t,n),a=i>r.first&&Q(r,i-1).stateAfter,s=a?fs.fromSaved(r,a,i):new fs(r,Z(r.mode),i);return r.iter(i,t,function(n){we(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function we(e,t,n,r){var o=e.doc.mode,i=new us(t,e.options.tabSize,n);for(i.start=i.pos=r||0,""==t&&xe(o,n.state);!i.eol();)Ce(o,i,n.state),i.start=i.pos}function xe(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=J(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ce(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=J(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}function ke(e,t,n,r){var o,i=e.doc,a=i.mode;t=pe(i,t);var s,l=Q(i,t.line),u=ye(e,t.line,n),c=new us(l.text,e.options.tabSize,u);for(r&&(s=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,o=Ce(a,c,u.state),r&&s.push(new ds(c,o,X(i.mode,u.state)));return r?s:new ds(c,o,u.state)}function _e(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Ee(e,t,n,r,o,i,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,f=new us(t,e.options.tabSize,r),d=e.options.addModeClass&&[null];for(""==t&&_e(xe(n,r.state),i);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&we(e,t,r,f.pos),f.pos=t.length,l=null):l=_e(Ce(n,f,r.state,d),i),d){var h=d[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||c!=l){for(;u<f.start;)u=Math.min(f.start,u+5e3),o(u,c);c=l}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);o(p,c),u=p}}function Ae(e,t,n){for(var r,o,i=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=i.first)return i.first;var l=Q(i,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof cs?u.lookAhead:0)<=i.modeFrontier))return s;var c=f(l.text,null,e.options.tabSize);(null==o||r>c)&&(o=s-1,r=c)}return o}function Se(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=Q(e,r).stateAfter;if(o&&(!(o instanceof cs)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function Oe(){hs=!0}function Te(){ps=!0}function De(e,t,n){this.marker=e,this.from=t,this.to=n}function Ne(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Fe(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Le(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Pe(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker,s=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);if(s||i.from==t&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var l=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push(new De(a,i.from,l?null:i.to))}}return r}function Be(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker,s=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);if(s||i.from==t&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var l=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push(new De(a,l?null:i.from-t,null==i.to?null:i.to-t))}}return r}function Re(e,t){if(t.full)return null;var n=ie(e,t.from.line)&&Q(e,t.from.line).markedSpans,r=ie(e,t.to.line)&&Q(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,i=t.to.ch,a=0==le(t.from,t.to),s=Pe(n,o,a),l=Be(r,i,a),u=1==t.text.length,c=m(t.text).length+(u?o:0);if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null==d.to){var h=Ne(l,d.marker);h?u&&(d.to=null==h.to?null:h.to+c):d.to=o}}if(l)for(var p=0;p<l.length;++p){var g=l[p];if(null!=g.to&&(g.to+=c),null==g.from){var v=Ne(s,g.marker);v||(g.from=c,u&&(s||(s=[])).push(g))}else g.from+=c,u&&(s||(s=[])).push(g)}s&&(s=qe(s)),l&&l!=s&&(l=qe(l));var b=[s];if(!u){var y,w=t.text.length-2;if(w>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(y||(y=[])).push(new De(s[x].marker,null,null));for(var C=0;C<w;++C)b.push(y);b.push(l)}return b}function qe(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Me(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=d(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var a=r[i],s=a.find(0),l=0;l<o.length;++l){var u=o[l];if(!(le(u.to,s.from)<0||le(u.from,s.to)>0)){var c=[l,1],f=le(u.from,s.from),h=le(u.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),o.splice.apply(o,c),l+=c.length-3}}return o}function je(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ie(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function $e(e){return e.inclusiveLeft?-1:0}function ze(e){return e.inclusiveRight?1:0}function He(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),i=le(r.from,o.from)||$e(e)-$e(t);if(i)return-i;var a=le(r.to,o.to)||ze(e)-ze(t);return a||t.id-e.id}function Ve(e,t){var n,r=ps&&e.markedSpans;if(r)for(var o=void 0,i=0;i<r.length;++i)o=r[i],o.marker.collapsed&&null==(t?o.from:o.to)&&(!n||He(n,o.marker)<0)&&(n=o.marker);return n}function Ue(e){return Ve(e,!0)}function We(e){return Ve(e,!1)}function Ke(e,t){var n,r=ps&&e.markedSpans;if(r)for(var o=0;o<r.length;++o){var i=r[o];i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!n||He(n,i.marker)<0)&&(n=i.marker)}return n}function Ge(e,t,n,r,o){var i=Q(e,t),a=ps&&i.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=le(u.from,n)||$e(l.marker)-$e(o),f=le(u.to,r)||ze(l.marker)-ze(o);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?le(u.to,n)>=0:le(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?le(u.from,r)<=0:le(u.from,r)<0)))return!0}}}function Ye(e){for(var t;t=Ue(e);)e=t.find(-1,!0).line;return e}function Xe(e){for(var t;t=We(e);)e=t.find(1,!0).line;return e}function Je(e){for(var t,n;t=We(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function Ze(e,t){var n=Q(e,t),r=Ye(n);return n==r?t:re(r)}function Qe(e,t){if(t>e.lastLine())return t;var n,r=Q(e,t);if(!et(e,r))return t;for(;n=We(r);)r=n.find(1,!0).line;return re(r)+1}function et(e,t){var n=ps&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)if(r=n[o],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&tt(e,t,r))return!0}}function tt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return tt(e,r.line,Ne(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,i=0;i<t.markedSpans.length;++i)if(o=t.markedSpans[i],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&tt(e,t,o))return!0}function nt(e){e=Ye(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var i=n.parent;i;n=i,i=n.parent)for(var a=0;a<i.children.length;++a){var s=i.children[a];if(s==n)break;t+=s.height}return t}function rt(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Ue(r);){var o=t.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}for(r=e;t=We(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function ot(e){var t=e.display,n=e.doc;t.maxLine=Q(n,n.first),t.maxLineLength=rt(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=rt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function it(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),je(e),Ie(e,n);var o=r?r(e):1;o!=e.height&&ne(e,o)}function at(e){e.parent=null,je(e)}function st(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?bs:vs;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function lt(e,t){var n=o("span",null,null,xa?"padding-right: .1px":null),r={pre:o("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a=i?t.rest[i-1]:t.line,s=void 0;r.pos=0,r.addToken=ct,H(e.display.measure)&&(s=O(a,e.doc.direction))&&(r.addToken=dt(r.addToken,s)),r.map=[];pt(a,r,be(e,a,t!=e.display.externalMeasured&&re(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=l(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=l(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(z(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(xa){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return N(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=l(r.pre.className,r.textClass||"")),r}function ut(e){var t=r("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ct(e,t,n,o,i,a,s){if(t){var l,u=e.splitSpaces?ft(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){l=document.createDocumentFragment();for(var d=0;;){c.lastIndex=d;var h=c.exec(t),m=h?h.index-d:t.length-d;if(m){var g=document.createTextNode(u.slice(d,d+m));ya&&wa<9?l.appendChild(r("span",[g])):l.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!h)break;d+=m+1;var v=void 0;if("\t"==h[0]){var b=e.cm.options.tabSize,y=b-e.col%b;v=l.appendChild(r("span",p(y),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==h[0]||"\n"==h[0]?(v=l.appendChild(r("span","\r"==h[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",h[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(h[0]),v.setAttribute("cm-text",h[0]),ya&&wa<9?l.appendChild(r("span",[v])):l.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,l=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,l),ya&&wa<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||o||i||f||a){var w=n||"";o&&(w+=o),i&&(w+=i);var x=r("span",[l],w,a);if(s)for(var C in s)s.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&x.setAttribute(C,s[C]);return e.content.appendChild(x)}e.content.appendChild(l)}}function ft(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var i=e.charAt(o);" "!=i||!n||o!=e.length-1&&32!=e.charCodeAt(o+1)||(i=" "),r+=i,n=" "==i}return r}function dt(e,t){return function(n,r,o,i,a,s,l){o=o?o+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=void 0,d=0;d<t.length&&(f=t[d],!(f.to>u&&f.from<=u));d++);if(f.to>=c)return e(n,r,o,i,a,s,l);e(n,r.slice(0,f.to-u),o,i,null,s,l),i=null,r=r.slice(f.to-u),u=f.to}}}function ht(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function pt(e,t,n){var r=e.markedSpans,o=e.text,i=0;if(r)for(var a,s,l,u,c,f,d,h=o.length,p=0,m=1,g="",v=0;;){if(v==p){l=u=c=s="",d=null,f=null,v=1/0;for(var b=[],y=void 0,w=0;w<r.length;++w){var x=r[w],C=x.marker;if("bookmark"==C.type&&x.from==p&&C.widgetNode)b.push(C);else if(x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)){if(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,u=""),C.className&&(l+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==v&&(y||(y=[])).push(C.endStyle,x.to),C.title&&((d||(d={})).title=C.title),C.attributes)for(var k in C.attributes)(d||(d={}))[k]=C.attributes[k];C.collapsed&&(!f||He(f.marker,C)<0)&&(f=x)}else x.from>p&&v>x.from&&(v=x.from)}if(y)for(var _=0;_<y.length;_+=2)y[_+1]==v&&(u+=" "+y[_]);if(!f||f.from==p)for(var E=0;E<b.length;++E)ht(t,0,b[E]);if(f&&(f.from||0)==p){if(ht(t,(null==f.to?h+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=h)break;for(var A=Math.min(h,v);;){if(g){var S=p+g.length;if(!f){var O=S>A?g.slice(0,A-p):g;t.addToken(t,O,a?a+l:l,c,p+O.length==v?u:"",s,d)}if(S>=A){g=g.slice(A-p),p=A;break}p=S,c=""}g=o.slice(i,i=n[m++]),a=st(n[m++],t.cm.options)}}else for(var T=1;T<n.length;T+=2)t.addToken(t,o.slice(i,i=n[T]),st(n[T+1],t.cm.options))}function mt(e,t,n){this.line=t,this.rest=Je(t),this.size=this.rest?re(m(this.rest))-n+1:1,this.node=this.text=null,this.hidden=et(e,t)}function gt(e,t,n){for(var r,o=[],i=t;i<n;i=r){var a=new mt(e.doc,Q(e.doc,i),i);r=i+a.size,o.push(a)}return o}function vt(e){ys?ys.ops.push(e):e.ownsGroup=ys={ops:[e],delayedCallbacks:[]}}function bt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function yt(e,t){var n=e.ownsGroup;if(n)try{bt(n)}finally{ys=null,t(n)}}function wt(e,t){var n=T(e,t);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);ys?r=ys.delayedCallbacks:ws?r=ws:(r=ws=[],setTimeout(xt,0));for(var i=0;i<n.length;++i)!function(e){r.push(function(){return n[e].apply(null,o)})}(i)}}function xt(){var e=ws;ws=null;for(var t=0;t<e.length;++t)e[t]()}function Ct(e,t,n,r){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?At(e,t):"gutter"==i?Ot(e,t,n,r):"class"==i?St(e,t):"widget"==i&&Tt(e,t,r)}t.changes=null}function kt(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ya&&wa<8&&(e.node.style.zIndex=2)),e.node}function _t(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var o=kt(t);t.background=o.insertBefore(r("div",null,n),o.firstChild),e.display.input.setUneditable(t.background)}}function Et(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):lt(e,t)}function At(e,t){var n=t.text.className,r=Et(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,St(e,t)):n&&(t.text.className=n)}function St(e,t){_t(e,t),t.line.wrapClass?kt(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Ot(e,t,n,o){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=kt(t);t.gutterBackground=r("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px; width: "+o.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var s=kt(t),l=t.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),s.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(r("div",ae(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+o.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var u=0;u<e.display.gutterSpecs.length;++u){var c=e.display.gutterSpecs[u].className,f=a.hasOwnProperty(c)&&a[c];f&&l.appendChild(r("div",[f],"CodeMirror-gutter-elt","left: "+o.gutterLeft[c]+"px; width: "+o.gutterWidth[c]+"px"))}}}function Tt(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,o=void 0;r;r=o)o=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);Nt(e,t,n)}function Dt(e,t,n,r){var o=Et(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),St(e,t),Ot(e,t,n,r),Nt(e,t,r),t.node}function Nt(e,t,n){if(Ft(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Ft(e,t.rest[r],t,n,!1)}function Ft(e,t,n,o,i){if(t.widgets)for(var a=kt(n),s=0,l=t.widgets;s<l.length;++s){var u=l[s],c=r("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Lt(u,c,n,o),e.display.input.setUneditable(c),i&&u.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),wt(u,"redraw")}}function Lt(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Pt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!i(document.body,e.node)){var o="position: relative;";e.coverGutter&&(o+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(o+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,r("div",[e.node],null,o))}return e.height=e.node.parentNode.offsetHeight}function Bt(e,t){for(var n=I(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Rt(e){return e.lineSpace.offsetTop}function qt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Mt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,r("pre","x","CodeMirror-line-like")),o=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(o.paddingLeft),right:parseInt(o.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function jt(e){return Ha-e.display.nativeBarWidth}function It(e){return e.display.scroller.clientWidth-jt(e)-e.display.barWidth}function $t(e){return e.display.scroller.clientHeight-jt(e)-e.display.barHeight}function zt(e,t,n){var r=e.options.lineWrapping,o=r&&It(e);if(!t.measure.heights||r&&t.measure.width!=o){var i=t.measure.heights=[];if(r){t.measure.width=o;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&i.push((l.bottom+u.top)/2-n.top)}}i.push(n.bottom-n.top)}}function Ht(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(re(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Vt(e,t){t=Ye(t);var r=re(t),o=e.display.externalMeasured=new mt(e.doc,t,r);o.lineN=r;var i=o.built=lt(e,o);return o.text=i.pre,n(e.display.lineMeasure,i.pre),o}function Ut(e,t,n,r){return Gt(e,Kt(e,t),n,r)}function Wt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[An(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Kt(e,t){var n=re(t),r=Wt(e,n);r&&!r.text?r=null:r&&r.changes&&(Ct(e,r,n,xn(e)),e.curOp.forceUpdate=!0),r||(r=Vt(e,t));var o=Ht(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Gt(e,t,n,r,o){t.before&&(n=-1);var i,a=n+(r||"");return t.cache.hasOwnProperty(a)?i=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(zt(e,t.view,t.rect),t.hasHeights=!0),i=Jt(e,t,n,r),i.bogus||(t.cache[a]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}function Yt(e,t,n){for(var r,o,i,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(o=0,i=1,a="left"):t<l?(o=t-s,i=o+1):(u==e.length-3||t==l&&e[u+3]>t)&&(i=l-s,o=i-1,t>=l&&(a="right")),null!=o){if(r=e[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==o)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&o==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:o,end:i,collapse:a,coverStart:s,coverEnd:l}}function Xt(e,t){var n=xs;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var o=e.length-1;o>=0&&(n=e[o]).left==n.right;o--);return n}function Jt(e,t,n,r){var o,i=Yt(t.map,n,r),a=i.node,s=i.start,l=i.end,u=i.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;s&&k(t.line.text.charAt(i.coverStart+s));)--s;for(;i.coverStart+l<i.coverEnd&&k(t.line.text.charAt(i.coverStart+l));)++l;if(o=ya&&wa<9&&0==s&&l==i.coverEnd-i.coverStart?a.parentNode.getBoundingClientRect():Xt(Ba(a,s,l).getClientRects(),r),o.left||o.right||0==s)break;l=s,s-=1,u="right"}ya&&wa<11&&(o=Zt(e.display.measure,o))}else{s>0&&(u=r="right");var f;o=e.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect()}if(ya&&wa<9&&!s&&(!o||!o.left&&!o.right)){var d=a.parentNode.getClientRects()[0];o=d?{left:d.left,right:d.left+wn(e.display),top:d.top,bottom:d.bottom}:xs}for(var h=o.top-t.rect.top,p=o.bottom-t.rect.top,m=(h+p)/2,g=t.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var b=v?g[v-1]:0,y=g[v],w={left:("right"==u?o.right:o.left)-t.rect.left,right:("left"==u?o.left:o.right)-t.rect.left,top:b,bottom:y};return o.left||o.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=h,w.rbottom=p),w}function Zt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!V(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Qt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function en(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Qt(e.display.view[n])}function tn(e){en(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function nn(){return ka&&Ta?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rn(){return ka&&Ta?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function on(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Pt(e.widgets[n]));return t}function an(e,t,n,r,o){if(!o){var i=on(t);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var a=nt(t);if("local"==r?a+=Rt(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:rn());var l=s.left+("window"==r?0:nn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function sn(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=nn(),o-=rn();else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function ln(e,t,n,r,o){return r||(r=Q(e.doc,t.line)),an(e,r,Ut(e,r,t.ch,o),n)}function un(e,t,n,r,o,i){function a(t,a){var s=Gt(e,o,t,a?"right":"left",i);return a?s.left=s.right:s.right=s.left,an(e,r,s,n)}function s(e,t,n){var r=l[t],o=1==r.level;return a(n?e-1:e,o!=n)}r=r||Q(e.doc,t.line),o||(o=Kt(e,r));var l=O(r,e.doc.direction),u=t.ch,c=t.sticky;if(u>=r.text.length?(u=r.text.length,c="before"):u<=0&&(u=0,c="after"),!l)return a("before"==c?u-1:u,"before"==c);var f=S(l,u,c),d=Ja,h=s(u,f,"before"==c);return null!=d&&(h.other=s(u,d,"before"!=c)),h}function cn(e,t){var n=0;t=pe(e.doc,t),e.options.lineWrapping||(n=wn(e.display)*t.ch);var r=Q(e.doc,t.line),o=nt(r)+Rt(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function fn(e,t,n,r,o){var i=se(e,t,n);return i.xRel=o,r&&(i.outside=r),i}function dn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return fn(r.first,0,null,-1,-1);var o=oe(r,n),i=r.first+r.size-1;if(o>i)return fn(r.first+r.size-1,Q(r,i).text.length,null,1,1);t<0&&(t=0);for(var a=Q(r,o);;){var s=gn(e,a,o,t,n),l=Ke(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==o)return u;a=Q(r,o=u.line)}}function hn(e,t,n,r){r-=on(t);var o=t.text.length,i=E(function(t){return Gt(e,n,t-1).bottom<=r},o,0);return o=E(function(t){return Gt(e,n,t).top>r},i,o),{begin:i,end:o}}function pn(e,t,n,r){return n||(n=Kt(e,t)),hn(e,t,n,an(e,t,Gt(e,n,r),"line").top)}function mn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function gn(e,t,n,r,o){o-=nt(t);var i=Kt(e,t),a=on(t),s=0,l=t.text.length,u=!0,c=O(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?bn:vn)(e,t,n,i,c,r,o);u=1!=f.level,s=u?f.from:f.to-1,l=u?f.to:f.from-1}var d,h,p=null,m=null,g=E(function(t){var n=Gt(e,i,t);return n.top+=a,n.bottom+=a,!!mn(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(p=t,m=n),!0)},s,l),v=!1;if(m){var b=r-m.left<m.right-r,y=b==u;g=p+(y?0:1),h=y?"after":"before",d=b?m.left:m.right}else{u||g!=l&&g!=s||g++,h=0==g?"after":g==t.text.length?"before":Gt(e,i,g-(u?1:0)).bottom+a<=o==u?"after":"before";var w=un(e,se(n,g,h),"line",t,i);d=w.left,v=o<w.top?-1:o>=w.bottom?1:0}return g=_(t.text,g,1),fn(n,g,h,v,r-d)}function vn(e,t,n,r,o,i,a){var s=E(function(s){var l=o[s],u=1!=l.level;return mn(un(e,se(n,u?l.to:l.from,u?"before":"after"),"line",t,r),i,a,!0)},0,o.length-1),l=o[s];if(s>0){var u=1!=l.level,c=un(e,se(n,u?l.from:l.to,u?"after":"before"),"line",t,r);mn(c,i,a,!0)&&c.top>a&&(l=o[s-1])}return l}function bn(e,t,n,r,o,i,a){var s=hn(e,t,r,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,f=null,d=0;d<o.length;d++){var h=o[d];if(!(h.from>=u||h.to<=l)){var p=1!=h.level,m=Gt(e,r,p?Math.min(u,h.to)-1:Math.max(l,h.from)).right,g=m<i?i-m+1e9:m-i;(!c||f>g)&&(c=h,f=g)}}return c||(c=o[o.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function yn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==gs){gs=r("pre",null,"CodeMirror-line-like");for(var o=0;o<49;++o)gs.appendChild(document.createTextNode("x")),gs.appendChild(r("br"));gs.appendChild(document.createTextNode("x"))}n(e.measure,gs);var i=gs.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),t(e.measure),i||1}function wn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=r("span","xxxxxxxxxx"),o=r("pre",[t],"CodeMirror-line-like");n(e.measure,o);var i=t.getBoundingClientRect(),a=(i.right-i.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function xn(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=i.offsetLeft+i.clientLeft+o,r[s]=i.clientWidth}return{fixedPos:Cn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Cn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function kn(e){var t=yn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/wn(e.display)-3);return function(o){if(et(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return n?i+(Math.ceil(o.text.length/r)||1)*t:i+t}}function _n(e){var t=e.doc,n=kn(e);t.iter(function(e){var t=n(e);t!=e.height&&ne(e,t)})}function En(e,t,n,r){var o=e.display;if(!n&&"true"==I(t).getAttribute("cm-not-content"))return null;var i,a,s=o.lineSpace.getBoundingClientRect();try{i=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,u=dn(e,i,a);if(r&&1==u.xRel&&(l=Q(e.doc,u.line).text).length==u.ch){var c=f(l,l.length,e.options.tabSize)-l.length;u=se(u.line,Math.max(0,Math.round((i-Mt(e.display).left)/wn(e.display))-c))}return u}function An(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Sn(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)ps&&Ze(e.doc,t)<o.viewTo&&Tn(e);else if(n<=o.viewFrom)ps&&Qe(e.doc,n+r)>o.viewFrom?Tn(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)Tn(e);else if(t<=o.viewFrom){var i=Dn(e,n,n+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):Tn(e)}else if(n>=o.viewTo){var a=Dn(e,t,t,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):Tn(e)}else{var s=Dn(e,t,t,-1),l=Dn(e,n,n+r,1);s&&l?(o.view=o.view.slice(0,s.index).concat(gt(e,s.lineN,l.lineN)).concat(o.view.slice(l.index)),o.viewTo+=r):Tn(e)}var u=o.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(o.externalMeasured=null))}function On(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var i=r.view[An(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==d(a,n)&&a.push(n)}}}function Tn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Dn(e,t,n,r){var o,i=An(e,t),a=e.display.view;if(!ps||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=e.display.viewFrom,l=0;l<i;l++)s+=a[l].size;if(s!=t){if(r>0){if(i==a.length-1)return null;o=s+a[i].size-t,i++}else o=s-t;t+=o,n+=o}for(;Ze(e.doc,n)!=n;){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function Nn(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=gt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=gt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(An(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(gt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,An(e,n)))),r.viewTo=n}function Fn(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];o.hidden||o.node&&!o.changes||++n}return n}function Ln(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Pn(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Bn(e,s.head,o),l||qn(e,s,i)}}return r}function Bn(e,t,n){var o=un(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(r("div"," ","CodeMirror-cursor"));if(i.style.left=o.left+"px",i.style.top=o.top+"px",i.style.height=Math.max(0,o.bottom-o.top)*e.options.cursorHeight+"px",o.other){var a=n.appendChild(r("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=o.other.left+"px",a.style.top=o.other.top+"px",a.style.height=.85*(o.other.bottom-o.other.top)+"px"}}function Rn(e,t){return e.top-t.top||e.left-t.left}function qn(e,t,n){function o(e,t,n,o){t<0&&(t=0),t=Math.round(t),o=Math.round(o),l.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?f-e:n)+"px;\n                             height: "+(o-t)+"px"))}function i(t,n,r){function i(n,r){return ln(e,se(t,n),"div",h,r)}function a(t,n,r){var o=pn(e,h,null,t),a="ltr"==n==("after"==r)?"left":"right";return i("after"==r?o.begin:o.end-(/\s/.test(h.text.charAt(o.end-1))?2:1),a)[a]}var l,u,h=Q(s,t),p=h.text.length,m=O(h,s.direction);return A(m,n||0,null==r?p:r,function(e,t,s,h){var g="ltr"==s,v=i(e,g?"left":"right"),b=i(t-1,g?"right":"left"),y=null==n&&0==e,w=null==r&&t==p,x=0==h,C=!m||h==m.length-1;if(b.top-v.top<=3){var k=(d?y:w)&&x,_=(d?w:y)&&C,E=k?c:(g?v:b).left,A=_?f:(g?b:v).right;o(E,v.top,A-E,v.bottom)}else{var S,O,T,D;g?(S=d&&y&&x?c:v.left,O=d?f:a(e,s,"before"),T=d?c:a(t,s,"after"),D=d&&w&&C?f:b.right):(S=d?a(e,s,"before"):c,O=!d&&y&&x?f:v.right,T=!d&&w&&C?c:b.left,D=d?a(t,s,"after"):f),o(S,v.top,O-S,v.bottom),v.bottom<b.top&&o(c,v.bottom,null,b.top),o(T,b.top,D-T,b.bottom)}(!l||Rn(v,l)<0)&&(l=v),Rn(b,l)<0&&(l=b),(!u||Rn(v,u)<0)&&(u=v),Rn(b,u)<0&&(u=b)}),{start:l,end:u}}var a=e.display,s=e.doc,l=document.createDocumentFragment(),u=Mt(e.display),c=u.left,f=Math.max(a.sizerWidth,It(e)-a.sizer.offsetLeft)-u.right,d="ltr"==s.direction,h=t.from(),p=t.to();if(h.line==p.line)i(h.line,h.ch,p.ch);else{var m=Q(s,h.line),g=Q(s,p.line),v=Ye(m)==Ye(g),b=i(h.line,h.ch,v?m.text.length+1:null).end,y=i(p.line,v?0:null,p.ch).start;v&&(b.top<y.top-2?(o(b.right,b.top,null,b.bottom),o(c,y.top,y.left,y.bottom)):o(b.right,b.top,y.left-b.right,b.bottom)),b.bottom<y.top&&o(c,b.bottom,null,y.top)}n.appendChild(l)}function Mn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function jn(e){e.state.focused||(e.display.input.focus(),$n(e))}function In(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,zn(e))},100)}function $n(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(N(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xa&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Mn(e))}function zn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(N(e,"blur",e,t),e.state.focused=!1,Ma(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Hn(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var o=t.view[r],i=e.options.lineWrapping,a=void 0,s=0;if(!o.hidden){if(ya&&wa<8){var l=o.node.offsetTop+o.node.offsetHeight;a=l-n,n=l}else{var u=o.node.getBoundingClientRect();a=u.bottom-u.top,!i&&o.text.firstChild&&(s=o.text.firstChild.getBoundingClientRect().right-u.left-1)}var c=o.line.height-a;if((c>.005||c<-.005)&&(ne(o.line,a),Vn(o.line),o.rest))for(var f=0;f<o.rest.length;f++)Vn(o.rest[f]);if(s>e.display.sizerWidth){var d=Math.ceil(s/wn(e.display));d>e.display.maxLineLength&&(e.display.maxLineLength=d,e.display.maxLine=o.line,e.display.maxLineChanged=!0)}}}}function Vn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Un(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Rt(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,i=oe(t,r),a=oe(t,o);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<i?(i=s,a=oe(t,nt(Q(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(i=oe(t,nt(Q(t,l))-e.wrapper.clientHeight),a=l)}return{from:i,to:Math.max(a,i+1)}}function Wn(e,t){if(!F(e,"scrollCursorIntoView")){var n=e.display,o=n.sizer.getBoundingClientRect(),i=null;if(t.top+o.top<0?i=!0:t.bottom+o.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Sa){var a=r("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Rt(e.display))+"px;\n                         height: "+(t.bottom-t.top+jt(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}function Kn(e,t,n,r){null==r&&(r=0);var o;e.options.lineWrapping||t!=n||(t=t.ch?se(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?se(t.line,t.ch+1,"before"):t);for(var i=0;i<5;i++){var a=!1,s=un(e,t),l=n&&n!=t?un(e,n):s;o={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r};var u=Yn(e,o),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(nr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(or(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return o}function Gn(e,t){var n=Yn(e,t);null!=n.scrollTop&&nr(e,n.scrollTop),null!=n.scrollLeft&&or(e,n.scrollLeft)}function Yn(e,t){var n=e.display,r=yn(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,i=$t(e),a={};t.bottom-t.top>i&&(t.bottom=t.top+i);var s=e.doc.height+qt(n),l=t.top<r,u=t.bottom>s-r;if(t.top<o)a.scrollTop=l?0:t.top;else if(t.bottom>o+i){var c=Math.min(t.top,(u?s:t.bottom)-i);c!=o&&(a.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,d=It(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),h=t.right-t.left>d;return h&&(t.right=t.left+d),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(h?0:10)):t.right>d+f-3&&(a.scrollLeft=t.right+(h?0:10)-d),a}function Xn(e,t){null!=t&&(er(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Jn(e){er(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Zn(e,t,n){null==t&&null==n||er(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Qn(e,t){er(e),e.curOp.scrollToPos=t}function er(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;tr(e,cn(e,t.from),cn(e,t.to),t.margin)}}function tr(e,t,n,r){var o=Yn(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Zn(e,o.scrollLeft,o.scrollTop)}function nr(e,t){Math.abs(e.doc.scrollTop-t)<2||(ma||Or(e,{top:t}),rr(e,t,!0),ma&&Or(e),xr(e,100))}function rr(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function or(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Fr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ir(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+qt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+jt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function ar(e,t){t||(t=ir(e));var n=e.display.barWidth,r=e.display.barHeight;sr(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&Hn(e),sr(e,ir(e)),n=e.display.barWidth,r=e.display.barHeight}function sr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function lr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ma(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new _s[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),es(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?or(e,t):nr(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function ur(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Es},vt(e.curOp)}function cr(e){var t=e.curOp;t&&yt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;fr(e)})}function fr(e){for(var t=e.ops,n=0;n<t.length;n++)dr(t[n]);for(var r=0;r<t.length;r++)hr(t[r]);for(var o=0;o<t.length;o++)pr(t[o]);for(var i=0;i<t.length;i++)mr(t[i]);for(var a=0;a<t.length;a++)gr(t[a])}function dr(e){var t=e.cm,n=t.display;kr(t),e.updateMaxLine&&ot(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new As(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function hr(e){e.updatedDisplay=e.mustUpdate&&Ar(e.cm,e.update)}function pr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Hn(t),e.barMeasure=ir(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ut(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+jt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-It(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function mr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&or(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==a();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ar(t,e.barMeasure),e.updatedDisplay&&Nr(t,e.barMeasure),e.selectionChanged&&Mn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&jn(e.cm)}function gr(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Sr(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&rr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&or(t,e.scrollLeft,!0,!0),e.scrollToPos){Wn(t,Kn(t,pe(r,e.scrollToPos.from),pe(r,e.scrollToPos.to),e.scrollToPos.margin))}var o=e.maybeHiddenMarkers,i=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||N(o[a],"hide");if(i)for(var s=0;s<i.length;++s)i[s].lines.length&&N(i[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&N(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function vr(e,t){if(e.curOp)return t();ur(e);try{return t()}finally{cr(e)}}function br(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ur(e);try{return t.apply(e,arguments)}finally{cr(e)}}}function yr(e){return function(){if(this.curOp)return e.apply(this,arguments);ur(this);try{return e.apply(this,arguments)}finally{cr(this)}}}function wr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ur(t);try{return e.apply(this,arguments)}finally{cr(t)}}}function xr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,u(Cr,e))}function Cr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=ye(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(i){if(r.line>=e.display.viewFrom){var a=i.styles,s=i.text.length>e.options.maxHighlightLength?X(t.mode,r.state):null,l=ve(e,i,r,!0);s&&(r.state=s),i.styles=l.styles;var u=i.styleClasses,c=l.classes;c?i.styleClasses=c:u&&(i.styleClasses=null);for(var f=!a||a.length!=i.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=i.styles[d];f&&o.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=e.options.maxHighlightLength&&we(e,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return xr(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&vr(e,function(){for(var t=0;t<o.length;t++)On(e,o[t],"text")})}}function kr(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=jt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=jt(e)+"px",t.scrollbarsClipped=!0)}function _r(e){if(e.hasFocus())return null;var t=a();if(!t||!i(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&i(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Er(e){if(e&&e.activeElt&&e.activeElt!=a()&&(e.activeElt.focus(),e.anchorNode&&i(document.body,e.anchorNode)&&i(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Ar(e,n){var r=e.display,o=e.doc;if(n.editorIsHidden)return Tn(e),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Fn(e))return!1;Lr(e)&&(Tn(e),n.dims=xn(e));var i=o.first+o.size,a=Math.max(n.visible.from-e.options.viewportMargin,o.first),s=Math.min(i,n.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(o.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(i,r.viewTo)),ps&&(a=Ze(e.doc,a),s=Qe(e.doc,s));var l=a!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;Nn(e,a,s),r.viewOffset=nt(Q(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=Fn(e);if(!l&&0==u&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=_r(e);return u>4&&(r.lineDiv.style.display="none"),Tr(e,r.updateLineNumbers,n.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Er(c),t(r.cursorDiv),t(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,xr(e,400)),r.updateLineNumbers=null,!0}function Sr(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=It(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+qt(e.display)-$t(e),n.top)}),t.visible=Un(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Ar(e,t);r=!1){Hn(e);var o=ir(e);Ln(e),ar(e,o),Nr(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Or(e,t){var n=new As(e,t);if(Ar(e,n)){Hn(e),Sr(e,n);var r=ir(e);Ln(e),ar(e,r),Nr(e,r),n.finish()}}function Tr(e,n,r){function o(t){var n=t.nextSibling;return xa&&Na&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,a=e.options.lineNumbers,s=i.lineDiv,l=s.firstChild,u=i.view,c=i.viewFrom,f=0;f<u.length;f++){var h=u[f];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;l!=h.node;)l=o(l);var p=a&&null!=n&&n<=c&&h.lineNumber;h.changes&&(d(h.changes,"gutter")>-1&&(p=!1),Ct(e,h,c,r)),p&&(t(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(ae(e.options,c)))),l=h.node.nextSibling}else{var m=Dt(e,h,c,r);s.insertBefore(m,l)}c+=h.size}for(;l;)l=o(l)}function Dr(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function Nr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+jt(e)+"px"}function Fr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Cn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=i),n[a].gutterBackground&&(n[a].gutterBackground.style.left=i));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function Lr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=ae(e.options,t.first+t.size-1),o=e.display;if(n.length!=o.lineNumChars){var i=o.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=i.firstChild.offsetWidth,s=i.offsetWidth-a;return o.lineGutter.style.width="",o.lineNumInnerWidth=Math.max(a,o.lineGutter.offsetWidth-s)+1,o.lineNumWidth=o.lineNumInnerWidth+s,o.lineNumChars=o.lineNumInnerWidth?n.length:-1,o.lineGutter.style.width=o.lineNumWidth+"px",Dr(e.display),!0}return!1}function Pr(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var i=e[o],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!t)continue;r=!0}n.push({className:i,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Br(e){var n=e.gutters,o=e.gutterSpecs;t(n),e.lineGutter=null;for(var i=0;i<o.length;++i){var a=o[i],s=a.className,l=a.style,u=n.appendChild(r("div",null,"CodeMirror-gutter "+s));l&&(u.style.cssText=l),"CodeMirror-linenumbers"==s&&(e.lineGutter=u,u.style.width=(e.lineNumWidth||1)+"px")}n.style.display=o.length?"":"none",Dr(e)}function Rr(e){Br(e.display),Sn(e),Fr(e)}function qr(e,t,n,i){var a=this;this.input=n,a.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=o("div",null,"CodeMirror-code"),a.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=r("div",null,"CodeMirror-cursors"),a.measure=r("div",null,"CodeMirror-measure"),a.lineMeasure=r("div",null,"CodeMirror-measure"),a.lineSpace=o("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var s=o("div",[a.lineSpace],"CodeMirror-lines");a.mover=r("div",[s],null,"position: relative"),a.sizer=r("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=r("div",null,null,"position: absolute; height: "+Ha+"px; width: 1px;"),a.gutters=r("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=r("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=r("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),ya&&wa<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),xa||ma&&Da||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=Pr(i.gutters,i.lineNumbers),Br(a),n.init(a)}function Mr(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function jr(e){var t=Mr(e);return t.x*=Os,t.y*=Os,t}function Ir(e,t){var n=Mr(t),r=n.x,o=n.y,i=e.display,a=i.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||o&&l){if(o&&Na&&xa)e:for(var u=t.target,c=i.view;u!=a;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(r&&!ma&&!_a&&null!=Os)return o&&l&&nr(e,Math.max(0,a.scrollTop+o*Os)),or(e,Math.max(0,a.scrollLeft+r*Os)),(!o||o&&l)&&R(t),void(i.wheelStartX=null);if(o&&null!=Os){var d=o*Os,h=e.doc.scrollTop,p=h+i.wrapper.clientHeight;d<0?h=Math.max(0,h+d-50):p=Math.min(e.doc.height,p+d+50),Or(e,{top:h,bottom:p})}Ss<20&&(null==i.wheelStartX?(i.wheelStartX=a.scrollLeft,i.wheelStartY=a.scrollTop,i.wheelDX=r,i.wheelDY=o,setTimeout(function(){if(null!=i.wheelStartX){var e=a.scrollLeft-i.wheelStartX,t=a.scrollTop-i.wheelStartY,n=t&&i.wheelDY&&t/i.wheelDY||e&&i.wheelDX&&e/i.wheelDX;i.wheelStartX=i.wheelStartY=null,n&&(Os=(Os*Ss+n)/(Ss+1),++Ss)}},200)):(i.wheelDX+=r,i.wheelDY+=o))}}function $r(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort(function(e,t){return le(e.from(),t.from())}),n=d(t,o);for(var i=1;i<t.length;i++){var a=t[i],s=t[i-1],l=le(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var u=de(s.from(),a.from()),c=fe(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;i<=n&&--n,t.splice(--i,2,new Ds(f?c:u,f?u:c))}}return new Ts(t,n)}function zr(e,t){return new Ts([new Ds(e,t||e)],0)}function Hr(e){return e.text?se(e.from.line+e.text.length-1,m(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Vr(e,t){if(le(e,t.from)<0)return e;if(le(e,t.to)<=0)return Hr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Hr(t).ch-t.to.ch),se(n,r)}function Ur(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new Ds(Vr(o.anchor,t),Vr(o.head,t)))}return $r(e.cm,n,e.sel.primIndex)}function Wr(e,t,n){return e.line==t.line?se(n.line,e.ch-t.ch+n.ch):se(n.line+(e.line-t.line),e.ch)}function Kr(e,t,n){for(var r=[],o=se(e.first,0),i=o,a=0;a<t.length;a++){var s=t[a],l=Wr(s.from,o,i),u=Wr(Hr(s),o,i);if(o=s.to,i=u,"around"==n){var c=e.sel.ranges[a],f=le(c.head,c.anchor)<0;r[a]=new Ds(f?u:l,f?l:u)}else r[a]=new Ds(l,l)}return new Ts(r,e.sel.primIndex)}function Gr(e){e.doc.mode=G(e.options,e.doc.modeOption),Yr(e)}function Yr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,xr(e,100),e.state.modeGen++,e.curOp&&Sn(e)}function Xr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==m(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Jr(e,t,n,r){function o(e){return n?n[e]:null}function i(e,n,o){it(e,n,o,r),wt(e,"change",e,t)}function a(e,t){for(var n=[],i=e;i<t;++i)n.push(new ms(u[i],o(i),r));return n}var s=t.from,l=t.to,u=t.text,c=Q(e,s.line),f=Q(e,l.line),d=m(u),h=o(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(Xr(e,t)){var g=a(0,u.length-1);i(f,f.text,h),p&&e.remove(s.line,p),g.length&&e.insert(s.line,g)}else if(c==f)if(1==u.length)i(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),h);else{var v=a(1,u.length-1);v.push(new ms(d+c.text.slice(l.ch),h,r)),i(c,c.text.slice(0,s.ch)+u[0],o(0)),e.insert(s.line+1,v)}else if(1==u.length)i(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),o(0)),e.remove(s.line+1,p);else{i(c,c.text.slice(0,s.ch)+u[0],o(0)),i(f,d+f.text.slice(l.ch),h);var b=a(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,b)}wt(e,"change",e,t)}function Zr(e,t,n){function r(e,o,i){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=o){var l=i&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Qr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,_n(e),Gr(e),eo(e),e.options.lineWrapping||ot(e),e.options.mode=t.modeOption,Sn(e)}function eo(e){("rtl"==e.doc.direction?s:Ma)(e.display.lineDiv,"CodeMirror-rtl")}function to(e){vr(e,function(){eo(e),Sn(e)})}function no(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ro(e,t){var n={from:ce(t.from),to:Hr(t),text:ee(e,t.from,t.to)};return co(e,n,t.from.line,t.to.line+1),Zr(e,function(e){return co(e,n,t.from.line,t.to.line+1)},!0),n}function oo(e){for(;e.length;){if(!m(e).ranges)break;e.pop()}}function io(e,t){return t?(oo(e.done),m(e.done)):e.done.length&&!m(e.done).ranges?m(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),m(e.done)):void 0}function ao(e,t,n,r){var o=e.history;o.undone.length=0;var i,a,s=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(i=io(o,o.lastOp==r)))a=m(i.changes),0==le(t.from,t.to)&&0==le(t.from,a.to)?a.to=Hr(t):i.changes.push(ro(e,t));else{var l=m(o.done);for(l&&l.ranges||uo(e.sel,o.done),i={changes:[ro(e,t)],generation:o.generation},o.done.push(i);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,a||N(e,"historyAdded")}function so(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function lo(e,t,n,r){var o=e.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||so(e,i,m(o.done),t))?o.done[o.done.length-1]=t:uo(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&oo(o.undone)}function uo(e,t){var n=m(t);n&&n.ranges&&n.equals(e)||t.push(e)}function co(e,t,n,r){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=n.markedSpans),++i})}function fo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function ho(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(fo(n[o]));return r}function po(e,t){var n=ho(e,t),r=Re(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],a=r[o];if(i&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<i.length;++u)if(i[u].marker==l.marker)continue e;i.push(l)}else a&&(n[o]=a)}return n}function mo(e,t,n){for(var r=[],o=0;o<e.length;++o){var i=e[o];if(i.ranges)r.push(n?Ts.prototype.deepCopy.call(i):i);else{var a=i.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&d(t,Number(c[1]))>-1&&(m(s)[f]=u[f],delete u[f])}}}return r}function go(e,t,n,r){if(r){var o=e.anchor;if(n){var i=le(t,o)<0;i!=le(n,o)<0?(o=t,t=n):i!=le(t,n)<0&&(t=n)}return new Ds(o,t)}return new Ds(n||t,t)}function vo(e,t,n,r,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),ko(e,new Ts([go(e.sel.primary(),t,n,o)],0),r)}function bo(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=go(e.sel.ranges[i],t[i],null,o);ko(e,$r(e.cm,r,e.sel.primIndex),n)}function yo(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,ko(e,$r(e.cm,o,e.sel.primIndex),r)}function wo(e,t,n,r){ko(e,zr(t,n),r)}function xo(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new Ds(pe(e,t[r].anchor),pe(e,t[r].head))},origin:n&&n.origin};return N(e,"beforeSelectionChange",e,r),e.cm&&N(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?$r(e.cm,r.ranges,r.ranges.length-1):t}function Co(e,t,n){var r=e.history.done,o=m(r);o&&o.ranges?(r[r.length-1]=t,_o(e,t,n)):ko(e,t,n)}function ko(e,t,n){_o(e,t,n),lo(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function _o(e,t,n){(P(e,"beforeSelectionChange")||e.cm&&P(e.cm,"beforeSelectionChange"))&&(t=xo(e,t,n)),Eo(e,So(e,t,n&&n.bias||(le(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Jn(e.cm)}function Eo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,L(e.cm)),wt(e,"cursorActivity",e))}function Ao(e){Eo(e,So(e,e.sel,null,!1))}function So(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var a=t.ranges[i],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],l=To(e,a.anchor,s&&s.anchor,n,r),u=To(e,a.head,s&&s.head,n,r);(o||l!=a.anchor||u!=a.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new Ds(l,u))}return o?$r(e.cm,o,t.primIndex):t}function Oo(e,t,n,r,o){var i=Q(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var s=i.markedSpans[a],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(o&&(N(l,"beforeCursorEnter"),l.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var f=l.find(r<0?1:-1),d=void 0;if((r<0?c:u)&&(f=Do(e,f,-r,f&&f.line==t.line?i:null)),f&&f.line==t.line&&(d=le(f,n))&&(r<0?d<0:d>0))return Oo(e,f,t,r,o)}var h=l.find(r<0?-1:1);return(r<0?u:c)&&(h=Do(e,h,r,h.line==t.line?i:null)),h?Oo(e,h,t,r,o):null}}return t}function To(e,t,n,r,o){var i=r||1,a=Oo(e,t,n,i,o)||!o&&Oo(e,t,n,i,!0)||Oo(e,t,n,-i,o)||!o&&Oo(e,t,n,-i,!0);return a||(e.cantEdit=!0,se(e.first,0))}function Do(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?pe(e,se(t.line-1)):null:n>0&&t.ch==(r||Q(e,t.line)).text.length?t.line<e.first+e.size-1?se(t.line+1,0):null:new se(t.line,t.ch+n)}function No(e){e.setSelection(se(e.firstLine(),0),se(e.lastLine()),Ua)}function Fo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,o,i){t&&(r.from=pe(e,t)),n&&(r.to=pe(e,n)),o&&(r.text=o),void 0!==i&&(r.origin=i)}),N(e,"beforeChange",e,r),e.cm&&N(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Lo(e,t,n){if(e.cm){if(!e.cm.curOp)return br(e.cm,Lo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(P(e,"beforeChange")||e.cm&&P(e.cm,"beforeChange"))||(t=Fo(e,t,!0))){var r=hs&&!n&&Me(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)Po(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else Po(e,t)}}function Po(e,t){if(1!=t.text.length||""!=t.text[0]||0!=le(t.from,t.to)){var n=Ur(e,t);ao(e,t,n,e.cm?e.cm.curOp.id:NaN),qo(e,t,n,Re(e,t));var r=[];Zr(e,function(e,n){n||-1!=d(r,e.history)||(zo(e.history,t),r.push(e.history)),qo(e,t,null,Re(e,t))})}}function Bo(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var o,i=e.history,a=e.sel,s="undo"==t?i.done:i.undone,l="undo"==t?i.undone:i.done,u=0;u<s.length&&(o=s[u],n?!o.ranges||o.equals(e.sel):o.ranges);u++);if(u!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(o=s.pop(),!o.ranges){if(r)return void s.push(o);break}if(uo(o,l),n&&!o.equals(e.sel))return void ko(e,o,{clearRedo:!1});a=o}var c=[];uo(a,l),l.push({changes:c,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var f=P(e,"beforeChange")||e.cm&&P(e.cm,"beforeChange"),h=o.changes.length-1;h>=0;--h){var p=function(n){var r=o.changes[n];if(r.origin=t,f&&!Fo(e,r,!1))return s.length=0,{};c.push(ro(e,r));var i=n?Ur(e,r):m(s);qo(e,r,i,po(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Hr(r)});var a=[];Zr(e,function(e,t){t||-1!=d(a,e.history)||(zo(e.history,r),a.push(e.history)),qo(e,r,null,po(e,r))})}(h);if(p)return p.v}}}}function Ro(e,t){if(0!=t&&(e.first+=t,e.sel=new Ts(g(e.sel.ranges,function(e){return new Ds(se(e.anchor.line+t,e.anchor.ch),se(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Sn(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)On(e.cm,r,"gutter")}}function qo(e,t,n,r){if(e.cm&&!e.cm.curOp)return br(e.cm,qo)(e,t,n,r);if(t.to.line<e.first)return void Ro(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);Ro(e,o),t={from:se(e.first,0),to:se(t.to.line+o,t.to.ch),text:[m(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:se(i,Q(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ee(e,t.from,t.to),n||(n=Ur(e,t)),e.cm?Mo(e.cm,t,r):Jr(e,t,r),_o(e,n,Ua),e.cantEdit&&To(e,se(e.firstLine(),0))&&(e.cantEdit=!1)}}function Mo(e,t,n){var r=e.doc,o=e.display,i=t.from,a=t.to,s=!1,l=i.line;e.options.lineWrapping||(l=re(Ye(Q(r,i.line))),r.iter(l,a.line+1,function(e){if(e==o.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&L(e),Jr(r,t,n,kn(e)),e.options.lineWrapping||(r.iter(l,i.line+t.text.length,function(e){var t=rt(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),Se(r,i.line),xr(e,400);var u=t.text.length-(a.line-i.line)-1;t.full?Sn(e):i.line!=a.line||1!=t.text.length||Xr(e.doc,t)?Sn(e,i.line,a.line+1,u):On(e,i.line,"text");var c=P(e,"changes"),f=P(e,"change");if(f||c){var d={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&wt(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function jo(e,t,n,r,o){var i;r||(r=n),le(r,n)<0&&(i=[r,n],n=i[0],r=i[1]),"string"==typeof t&&(t=e.splitLines(t)),Lo(e,{from:n,to:r,text:t,origin:o})}function Io(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function $o(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||(i=e[o]=i.deepCopy(),i.copied=!0);for(var s=0;s<i.ranges.length;s++)Io(i.ranges[s].anchor,t,n,r),Io(i.ranges[s].head,t,n,r)}else{for(var l=0;l<i.changes.length;++l){var u=i.changes[l];if(n<u.from.line)u.from=se(u.from.line+r,u.from.ch),u.to=se(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function zo(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;$o(e.done,n,r,o),$o(e.undone,n,r,o)}function Ho(e,t,n,r){var o=t,i=t;return"number"==typeof t?i=Q(e,he(e,t)):o=re(t),null==o?null:(r(i,o)&&e.cm&&On(e.cm,o,n),i)}function Vo(e){var t=this;this.lines=e,this.parent=null;for(var n=0,r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n}function Uo(e){var t=this;this.children=e;for(var n=0,r=0,o=0;o<e.length;++o){var i=e[o];n+=i.chunkSize(),r+=i.height,i.parent=t}this.size=n,this.height=r,this.parent=null}function Wo(e,t,n){nt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Xn(e,n)}function Ko(e,t,n,r){var o=new Ns(e,n,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),Ho(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length-1,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!et(e,t)){var r=nt(t)<e.scrollTop;ne(t,t.height+Pt(o)),r&&Xn(i,o.height),i.curOp.forceUpdate=!0}return!0}),i&&wt(i,"lineWidgetAdded",i,o,"number"==typeof t?t:re(t)),o}function Go(e,t,n,r,i){if(r&&r.shared)return Yo(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return br(e.cm,Go)(e,t,n,r,i);var a=new Ls(e,i),s=le(t,n);if(r&&c(r,a,!1),s>0||0==s&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=o("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Ge(e,t.line,t,n,a)||t.line!=n.line&&Ge(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Te()}a.addToHistory&&ao(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,u=t.line,f=e.cm;if(e.iter(u,n.line+1,function(e){f&&a.collapsed&&!f.options.lineWrapping&&Ye(e)==f.display.maxLine&&(l=!0),a.collapsed&&u!=t.line&&ne(e,0),Le(e,new De(a,u==t.line?t.ch:null,u==n.line?n.ch:null)),++u}),a.collapsed&&e.iter(t.line,n.line+1,function(t){et(e,t)&&ne(t,0)}),a.clearOnEnter&&es(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(Oe(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Fs,a.atomic=!0),f){if(l&&(f.curOp.updateMaxLine=!0),a.collapsed)Sn(f,t.line,n.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var d=t.line;d<=n.line;d++)On(f,d,"text");a.atomic&&Ao(f.doc),wt(f,"markerAdded",f,a)}return a}function Yo(e,t,n,r,o){r=c(r),r.shared=!1;var i=[Go(e,t,n,r,o)],a=i[0],s=r.widgetNode;return Zr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),i.push(Go(e,pe(e,t),pe(e,n),r,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=m(i)}),new Ps(i,a)}function Xo(e){return e.findMarks(se(e.first,0),e.clipPos(se(e.lastLine())),function(e){return e.parent})}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(le(i,a)){var s=Go(e,i,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Zo(e){for(var t=0;t<e.length;t++)!function(t){var n=e[t],r=[n.primary.doc];Zr(n.primary.doc,function(e){return r.push(e)});for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==d(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}}(t)}function Qo(e){var t=this;if(ni(t),!F(t,e)&&!Bt(t.display,e)){R(e),ya&&(qs=+new Date);var n=En(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),a=0,s=0;s<o;++s)!function(e,r){if(!t.options.allowDropFileTypes||-1!=d(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=br(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),i[r]=e,++a==o){n=pe(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(i.join(t.doc.lineSeparator())),origin:"paste"};Lo(t.doc,l),Co(t.doc,zr(n,Hr(l)))}}),s.readAsText(e)}}(r[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var l=e.dataTransfer.getData("Text");if(l){var u;if(t.state.draggingText&&!t.state.draggingText.copy&&(u=t.listSelections()),_o(t.doc,zr(n,n)),u)for(var c=0;c<u.length;++c)jo(t.doc,"",u[c].anchor,u[c].head,"drag");t.replaceSelection(l,"around","paste"),t.display.input.focus()}}catch(e){}}}}function ei(e,t){if(ya&&(!e.state.draggingText||+new Date-qs<100))return void j(t);if(!F(e,t)&&!Bt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Ea)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_a&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),_a&&n.parentNode.removeChild(n)}}function ti(e,t){var o=En(e,t);if(o){var i=document.createDocumentFragment();Bn(e,o,i),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,i)}}function ni(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ri(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}function oi(){Ms||(ii(),Ms=!0)}function ii(){var e;es(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,ri(ai)},100))}),es(window,"blur",function(){return ri(zn)})}function ai(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}function si(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,o,i,a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);o=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),o&&(e="Shift-"+e),e}function li(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=g(n.split(" "),si),i=0;i<o.length;i++){var a=void 0,s=void 0;i==o.length-1?(s=o.join(" "),a=r):(s=o.slice(0,i+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function ui(e,t,n,r){t=hi(t);var o=t.call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ui(e,t.fallthrough,n,r);for(var i=0;i<t.fallthrough.length;i++){var a=ui(e,t.fallthrough[i],n,r);if(a)return a}}}function ci(e){var t="string"==typeof e?e:js[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function fi(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(Ra?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(Ra?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function di(e,t){if(_a&&34==e.keyCode&&e.char)return!1;var n=js[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),fi(n,e,t))}function hi(e){return"string"==typeof e?Hs[e]:e}function pi(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){for(var i=t(n[o]);r.length&&le(i.from,m(r).to)<=0;){var a=r.pop();if(le(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}vr(e,function(){for(var t=r.length-1;t>=0;t--)jo(e.doc,"",r[t].from,r[t].to,"+delete");Jn(e)})}function mi(e,t,n){var r=_(e.text,t+n,n);return r<0||r>e.text.length?null:r}function gi(e,t,n){var r=mi(e,t.ch,n);return null==r?null:new se(t.line,r,n<0?"after":"before")}function vi(e,t,n,r,o){if(e){var i=O(n,t.doc.direction);if(i){var a,s=o<0?m(i):i[0],l=o<0==(1==s.level),u=l?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Kt(t,n);a=o<0?n.text.length-1:0;var f=Gt(t,c,a).top;a=E(function(e){return Gt(t,c,e).top==f},o<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=mi(n,a,1))}else a=o<0?s.to:s.from;return new se(r,a,u)}}return new se(r,o<0?n.text.length:0,o<0?"before":"after")}function bi(e,t,n,r){var o=O(t,e.doc.direction);if(!o)return gi(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=S(o,n.ch,n.sticky),a=o[i];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return gi(t,n,r);var s,l=function(e,n){return mi(t,e instanceof se?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||Kt(e,t),pn(e,t,s,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,d=l(n,f?1:-1);if(null!=d&&(f?d<=a.to&&d<=c.end:d>=a.from&&d>=c.begin)){var h=f?"before":"after";return new se(n.line,d,h)}}var p=function(e,t,r){for(var i=function(e,t){return t?new se(n.line,l(e,1),"before"):new se(n.line,e,"after")};e>=0&&e<o.length;e+=t){var a=o[e],s=t>0==(1!=a.level),u=s?r.begin:l(r.end,-1);if(a.from<=u&&u<a.to)return i(u,s);if(u=s?a.from:l(a.to,-1),r.begin<=u&&u<r.end)return i(u,s)}},m=p(i+r,r,c);if(m)return m;var g=r>0?c.end:l(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=p(r>0?0:o.length-1,r,u(g)))?null:m}function yi(e,t){var n=Q(e.doc,t),r=Ye(n);return r!=n&&(t=re(r)),vi(!0,e,r,t,1)}function wi(e,t){var n=Q(e.doc,t),r=Xe(n);return r!=n&&(t=re(r)),vi(!0,e,n,t,-1)}function xi(e,t){var n=yi(e,t.line),r=Q(e.doc,n.line),o=O(r,e.doc.direction);if(!o||0==o[0].level){var i=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=i&&t.ch;return se(n.line,a?0:i,n.sticky)}return n}function Ci(e,t,n){if("string"==typeof t&&!(t=Vs[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=Va}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function ki(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=ui(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&ui(t,e.options.extraKeys,n,e)||ui(t,e.options.keyMap,n,e)}function _i(e,t,n,r){var o=e.state.keySeq;if(o){if(ci(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Us.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),Ei(e,o+" "+t,n,r))return!0}return Ei(e,t,n,r)}function Ei(e,t,n,r){var o=ki(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&wt(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(R(n),Mn(e)),!!o}function Ai(e,t){var n=di(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?_i(e,"Shift-"+n,t,function(t){return Ci(e,t,!0)})||_i(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Ci(e,t)}):_i(e,n,t,function(t){return Ci(e,t)}))}function Si(e,t,n){return _i(e,"'"+n+"'",t,function(t){return Ci(e,t,!0)})}function Oi(e){var t=this;if(t.curOp.focus=a(),!F(t,e)){ya&&wa<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=Ai(t,e);_a&&(Ws=r?n:null,!r&&88==n&&!os&&(Na?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Ti(t)}}function Ti(e){function t(e){18!=e.keyCode&&e.altKey||(Ma(n,"CodeMirror-crosshair"),D(document,"keyup",t),D(document,"mouseover",t))}var n=e.display.lineDiv;s(n,"CodeMirror-crosshair"),es(document,"keyup",t),es(document,"mouseover",t)}function Di(e){16==e.keyCode&&(this.doc.sel.shift=!1),F(this,e)}function Ni(e){var t=this;if(!(Bt(t.display,e)||F(t,e)||e.ctrlKey&&!e.altKey||Na&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(_a&&n==Ws)return Ws=null,void R(e);if(!_a||e.which&&!(e.which<10)||!Ai(t,e)){var o=String.fromCharCode(null==r?n:r);"\b"!=o&&(Si(t,e,o)||t.display.input.onKeyPress(e))}}}function Fi(e,t){var n=+new Date;return Ys&&Ys.compare(n,e,t)?(Gs=Ys=null,"triple"):Gs&&Gs.compare(n,e,t)?(Ys=new Ks(n,e,t),Gs=null,"double"):(Gs=new Ks(n,e,t),Ys=null,"single")}function Li(e){var t=this,n=t.display;if(!(F(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Bt(n,e))return void(xa||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!zi(t,e)){var r=En(t,e),o=$(e),i=r?Fi(r,o):"single";window.focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),r&&Pi(t,o,r,i,e)||(1==o?r?Ri(t,r,i,e):I(e)==n.scroller&&R(e):2==o?(r&&vo(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==o&&(qa?t.display.input.onContextMenu(e):In(t)))}}}function Pi(e,t,n,r,o){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),i=(1==t?"Left":2==t?"Middle":"Right")+i,_i(e,fi(i,o),o,function(t){if("string"==typeof t&&(t=Vs[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=Va}finally{e.state.suppressEdits=!1}return r})}function Bi(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(null==o.unit){var i=Fa?n.shiftKey&&n.metaKey:n.altKey;o.unit=i?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),null==o.addNew&&(o.addNew=Na?n.metaKey:n.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(Na?n.altKey:n.ctrlKey)),o}function Ri(e,t,n,r){ya?setTimeout(u(jn,e),0):e.curOp.focus=a();var o,i=Bi(e,n,r),s=e.doc.sel;e.options.dragDrop&&ts&&!e.isReadOnly()&&"single"==n&&(o=s.contains(t))>-1&&(le((o=s.ranges[o]).from(),t)<0||t.xRel>0)&&(le(o.to(),t)>0||t.xRel<0)?qi(e,r,t,i):ji(e,r,t,i)}function qi(e,t,n,r){var o=e.display,i=!1,a=br(e,function(t){xa&&(o.scroller.draggable=!1),e.state.draggingText=!1,D(o.wrapper.ownerDocument,"mouseup",a),D(o.wrapper.ownerDocument,"mousemove",s),D(o.scroller,"dragstart",l),D(o.scroller,"drop",a),i||(R(t),r.addNew||vo(e.doc,n,null,null,r.extend),xa||ya&&9==wa?setTimeout(function(){o.wrapper.ownerDocument.body.focus(),o.input.focus()},20):o.input.focus())}),s=function(e){i=i||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},l=function(){return i=!0};xa&&(o.scroller.draggable=!0),e.state.draggingText=a,a.copy=!r.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),es(o.wrapper.ownerDocument,"mouseup",a),es(o.wrapper.ownerDocument,"mousemove",s),es(o.scroller,"dragstart",l),es(o.scroller,"drop",a),In(e),setTimeout(function(){return o.input.focus()},20)}function Mi(e,t,n){if("char"==n)return new Ds(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Ds(se(t.line,0),pe(e.doc,se(t.line+1,0)));var r=n(e,t);return new Ds(r.from,r.to)}function ji(e,t,n,r){function o(t){if(0!=le(v,t))if(v=t,"rectangle"==r.unit){for(var o=[],i=e.options.tabSize,a=f(Q(u,n.line).text,n.ch,i),s=f(Q(u,t.line).text,t.ch,i),l=Math.min(a,s),m=Math.max(a,s),g=Math.min(n.line,t.line),b=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=b;g++){var y=Q(u,g).text,w=h(y,l,i);l==m?o.push(new Ds(se(g,w),se(g,w))):y.length>w&&o.push(new Ds(se(g,w),se(g,h(y,m,i))))}o.length||o.push(new Ds(n,n)),ko(u,$r(e,p.ranges.slice(0,d).concat(o),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,C=c,k=Mi(e,t,r.unit),_=C.anchor;le(k.anchor,_)>0?(x=k.head,_=de(C.from(),k.anchor)):(x=k.anchor,_=fe(C.to(),k.head));var E=p.ranges.slice(0);E[d]=Ii(e,new Ds(pe(u,_),x)),ko(u,$r(e,E,d),Wa)}}function i(t){var n=++y,s=En(e,t,!0,"rectangle"==r.unit);if(s)if(0!=le(s,v)){e.curOp.focus=a(),o(s);var c=Un(l,u);(s.line>=c.to||s.line<c.from)&&setTimeout(br(e,function(){y==n&&i(t)}),150)}else{var f=t.clientY<b.top?-20:t.clientY>b.bottom?20:0;f&&setTimeout(br(e,function(){y==n&&(l.scroller.scrollTop+=f,i(t))}),50)}}function s(t){e.state.selectingText=!1,y=1/0,t&&(R(t),l.input.focus()),D(l.wrapper.ownerDocument,"mousemove",w),D(l.wrapper.ownerDocument,"mouseup",x),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;R(t);var c,d,p=u.sel,m=p.ranges;if(r.addNew&&!r.extend?(d=u.sel.contains(n),c=d>-1?m[d]:new Ds(n,n)):(c=u.sel.primary(),d=u.sel.primIndex),"rectangle"==r.unit)r.addNew||(c=new Ds(n,n)),n=En(e,t,!0,!0),d=-1;else{var g=Mi(e,n,r.unit);c=r.extend?go(c,g.anchor,g.head,r.extend):g}r.addNew?-1==d?(d=m.length,ko(u,$r(e,m.concat([c]),d),{scroll:!1,origin:"*mouse"})):m.length>1&&m[d].empty()&&"char"==r.unit&&!r.extend?(ko(u,$r(e,m.slice(0,d).concat(m.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),p=u.sel):yo(u,d,c,Wa):(d=0,ko(u,new Ts([c],0),Wa),p=u.sel);var v=n,b=l.wrapper.getBoundingClientRect(),y=0,w=br(e,function(e){0!==e.buttons&&$(e)?i(e):s(e)}),x=br(e,s);e.state.selectingText=x,es(l.wrapper.ownerDocument,"mousemove",w),es(l.wrapper.ownerDocument,"mouseup",x)}function Ii(e,t){var n=t.anchor,r=t.head,o=Q(e.doc,n.line);if(0==le(n,r)&&n.sticky==r.sticky)return t;var i=O(o);if(!i)return t;var a=S(i,n.ch,n.sticky),s=i[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==l||l==i.length)return t;var u;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=S(i,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==s.level?-1:1);u=c==l-1||c==l?f<0:f>0}var d=i[l+(u?-1:0)],h=u==(1==d.level),p=h?d.from:d.to,m=h?"after":"before";return n.ch==p&&n.sticky==m?t:new Ds(new se(n.line,p,m),r)}function $i(e,t,n,r){var o,i;if(t.touches)o=t.touches[0].clientX,i=t.touches[0].clientY;else try{o=t.clientX,i=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&R(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(i>s.bottom||!P(e,n))return M(t);i-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=o){return N(e,n,e,oe(e.doc,i),e.display.gutterSpecs[l].className,t),M(t)}}}function zi(e,t){return $i(e,t,"gutterClick",!0)}function Hi(e,t){Bt(e.display,t)||Vi(e,t)||F(e,t,"contextmenu")||qa||e.display.input.onContextMenu(t)}function Vi(e,t){return!!P(e,"gutterContextMenu")&&$i(e,t,"gutterContextMenu",!1)}function Ui(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),tn(e)}function Wi(e,t,n){if(!t!=!(n&&n!=Xs)){var r=e.display.dragFunctions,o=t?es:D;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function Ki(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ma(e.display.wrapper,"CodeMirror-wrap"),ot(e)),_n(e),Sn(e),tn(e),setTimeout(function(){return ar(e)},100)}function Gi(e,t){var n=this;if(!(this instanceof Gi))return new Gi(e,t);this.options=t=t?c(t):{},c(Js,t,!1);var r=t.value;"string"==typeof r?r=new Rs(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Gi.inputStyles[t.inputStyle](this),i=this.display=new qr(e,r,o,t);i.wrapper.CodeMirror=this,Ui(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),lr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ia,keySeq:null,specialChars:null},t.autofocus&&!Da&&i.input.focus(),ya&&wa<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Yi(this),oi(),ur(this),this.curOp.forceUpdate=!0,Qr(this,r),t.autofocus&&!Da||this.hasFocus()?setTimeout(u($n,this),20):zn(this);for(var a in Zs)Zs.hasOwnProperty(a)&&Zs[a](n,t[a],Xs);Lr(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Qs.length;++s)Qs[s](n);cr(this),xa&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function Yi(e){function t(){o.activeTouch&&(i=setTimeout(function(){return o.activeTouch=null},1e3),a=o.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var o=e.display;es(o.scroller,"mousedown",br(e,Li)),ya&&wa<11?es(o.scroller,"dblclick",br(e,function(t){if(!F(e,t)){var n=En(e,t);if(n&&!zi(e,t)&&!Bt(e.display,t)){R(t);var r=e.findWordAt(n);vo(e.doc,r.anchor,r.head)}}})):es(o.scroller,"dblclick",function(t){return F(e,t)||R(t)}),es(o.scroller,"contextmenu",function(t){return Hi(e,t)});var i,a={end:0};es(o.scroller,"touchstart",function(t){if(!F(e,t)&&!n(t)&&!zi(e,t)){o.input.ensurePolled(),clearTimeout(i);var r=+new Date;o.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==t.touches.length&&(o.activeTouch.left=t.touches[0].pageX,o.activeTouch.top=t.touches[0].pageY)}}),es(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),es(o.scroller,"touchend",function(n){var i=o.activeTouch;if(i&&!Bt(o,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var a,s=e.coordsChar(o.activeTouch,"page");a=!i.prev||r(i,i.prev)?new Ds(s,s):!i.prev.prev||r(i,i.prev.prev)?e.findWordAt(s):new Ds(se(s.line,0),pe(e.doc,se(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),R(n)}t()}),es(o.scroller,"touchcancel",t),es(o.scroller,"scroll",function(){o.scroller.clientHeight&&(nr(e,o.scroller.scrollTop),or(e,o.scroller.scrollLeft,!0),N(e,"scroll",e))}),es(o.scroller,"mousewheel",function(t){return Ir(e,t)}),es(o.scroller,"DOMMouseScroll",function(t){return Ir(e,t)}),es(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(t){F(e,t)||j(t)},over:function(t){F(e,t)||(ti(e,t),j(t))},start:function(t){return ei(e,t)},drop:br(e,Qo),leave:function(t){F(e,t)||ni(e)}};var s=o.input.getField();es(s,"keyup",function(t){return Di.call(e,t)}),es(s,"keydown",br(e,Oi)),es(s,"keypress",br(e,Ni)),es(s,"focus",function(t){return $n(e,t)}),es(s,"blur",function(t){return zn(e,t)})}function Xi(e,t,n,r){var o,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=ye(e,t).state:n="prev");var a=e.options.tabSize,s=Q(i,t),l=f(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=i.mode.indent(o,s.text.slice(c.length),s.text))==Va||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>i.first?f(Q(i,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var d="",h=0;if(e.options.indentWithTabs)for(var m=Math.floor(u/a);m;--m)h+=a,d+="\t";if(h<u&&(d+=p(u-h)),d!=c)return jo(i,d,se(t,0),se(t,c.length),"+input"),s.stateAfter=null,!0;for(var g=0;g<i.sel.ranges.length;g++){var v=i.sel.ranges[g];if(v.head.line==t&&v.head.ch<c.length){var b=se(t,c.length);yo(i,g,new Ds(b,b));break}}}function Ji(e){el=e}function Zi(e,t,n,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var a=+new Date-200,s="paste"==o||e.state.pasteIncoming>a,l=ns(t),u=null;if(s&&r.ranges.length>1)if(el&&el.text.join("\n")==t){if(r.ranges.length%el.text.length==0){u=[];for(var c=0;c<el.text.length;c++)u.push(i.splitLines(el.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=g(l,function(e){return[e]}));for(var f=e.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var h=r.ranges[d],p=h.from(),v=h.to();h.empty()&&(n&&n>0?p=se(p.line,p.ch-n):e.state.overwrite&&!s?v=se(v.line,Math.min(Q(i,v.line).text.length,v.ch+m(l).length)):s&&el&&el.lineWise&&el.text.join("\n")==t&&(p=v=se(p.line,0)));var b={from:p,to:v,text:u?u[d%u.length]:l,origin:o||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Lo(e.doc,b),wt(e,"inputRead",e,b)}t&&!s&&ea(e,t),Jn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Qi(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||vr(t,function(){return Zi(t,n,0,null,"paste")}),!0}function ea(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(t.indexOf(i.electricChars.charAt(s))>-1){a=Xi(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(Q(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Xi(e,o.head.line,"smart"));a&&wt(e,"electricInput",e,o.head.line)}}}function ta(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:se(o,0),head:se(o+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function na(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function ra(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xa?e.style.width="1000px":e.setAttribute("wrap","off"),Oa&&(e.style.border="1px solid black"),na(e),t}function oa(e,t,n,r,o){function i(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new se(r,t.ch,t.sticky),u=Q(e,r))}function a(r){var a;if(null==(a=o?bi(e.cm,u,t,n):gi(u,t,n))){if(r||!i())return!1;t=vi(o,e.cm,u,t.line,n)}else t=a;return!0}var s=t,l=n,u=Q(e,t.line);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var c=null,f="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||a(!h);h=!1){var p=u.text.charAt(t.ch)||"\n",m=x(p,d)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||h||m||(m="s"),c&&c!=m){n<0&&(n=1,a(),t.sticky="after");break}if(m&&(c=m),n>0&&!a(!h))break}var g=To(e,t,s,l,!0);return ue(s,g)&&(g.hitSide=!0),g}function ia(e,t,n,r){var o,i=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*yn(e.display),3);o=(n>0?t.bottom:t.top)+n*l}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(var u;u=dn(e,a,o),u.outside;){if(n<0?o<=0:o>=i.height){u.hitSide=!0;break}o+=5*n}return u}function aa(e,t){var n=Wt(e,t.line);if(!n||n.hidden)return null;var r=Q(e.doc,t.line),o=Ht(n,r,t.line),i=O(r,e.doc.direction),a="left";if(i){a=S(i,t.ch)%2?"right":"left"}var s=Yt(o.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function sa(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function la(e,t){return t&&(e.bad=!0),e}function ua(e,t,n,r,o){function i(e){return function(t){return t.id==e}}function a(){c&&(u+=f,d&&(u+=f),c=d=!1)}function s(e){e&&(a(),u+=e)}function l(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void s(n);var u,h=t.getAttribute("cm-marker");if(h){var p=e.findMarks(se(r,0),se(o+1,0),i(+h));return void(p.length&&(u=p[0].find(0))&&s(ee(e.doc,u.from,u.to).join(f)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&a();for(var g=0;g<t.childNodes.length;g++)l(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(d=!0),m&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var u="",c=!1,f=e.doc.lineSeparator(),d=!1;l(t),t!=n;)t=t.nextSibling,d=!1;return u}function ca(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return la(e.clipPos(se(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return fa(i,t,n)}}function fa(e,t,n){function r(t,n,r){for(var o=-1;o<(f?f.length:0);o++)for(var i=o<0?c.map:f[o],a=0;a<i.length;a+=3){var s=i[a+2];if(s==t||s==n){var l=re(o<0?e.line:e.rest[o]),u=i[a]+r;return(r<0||s!=t)&&(u=i[a+(r?1:0)]),se(l,u)}}}var o=e.text.firstChild,a=!1;if(!t||!i(o,t))return la(se(re(e.line),0),!0);if(t==o&&(a=!0,t=o.childNodes[n],n=0,!t)){var s=e.rest?m(e.rest):e.line;return la(se(re(s),s.text.length),a)}var l=3==t.nodeType?t:null,u=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));u.parentNode!=o;)u=u.parentNode;var c=e.measure,f=c.maps,d=r(l,u,n);if(d)return la(d,a);for(var h=u.nextSibling,p=l?l.nodeValue.length-n:0;h;h=h.nextSibling){if(d=r(h,h.firstChild,0))return la(se(d.line,d.ch-p),a);p+=h.textContent.length}for(var g=u.previousSibling,v=n;g;g=g.previousSibling){if(d=r(g,g.firstChild,-1))return la(se(d.line,d.ch+v),a);v+=g.textContent.length}}function da(e,t){function n(){e.value=l.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=a();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var o;if(e.form&&(es(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var i=e.form;o=i.submit;try{var s=i.submit=function(){n(),i.submit=o,i.submit(),i.submit=s}}catch(e){}}t.finishInit=function(r){r.save=n,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,n(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(D(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=o))}},e.style.display="none";var l=Gi(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return l}var ha=navigator.userAgent,pa=navigator.platform,ma=/gecko\/\d/i.test(ha),ga=/MSIE \d/.test(ha),va=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ha),ba=/Edge\/(\d+)/.exec(ha),ya=ga||va||ba,wa=ya&&(ga?document.documentMode||6:+(ba||va)[1]),xa=!ba&&/WebKit\//.test(ha),Ca=xa&&/Qt\/\d+\.\d+/.test(ha),ka=!ba&&/Chrome\//.test(ha),_a=/Opera\//.test(ha),Ea=/Apple Computer/.test(navigator.vendor),Aa=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ha),Sa=/PhantomJS/.test(ha),Oa=!ba&&/AppleWebKit/.test(ha)&&/Mobile\/\w+/.test(ha),Ta=/Android/.test(ha),Da=Oa||Ta||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ha),Na=Oa||/Mac/.test(pa),Fa=/\bCrOS\b/.test(ha),La=/win/i.test(pa),Pa=_a&&ha.match(/Version\/(\d*\.\d*)/);Pa&&(Pa=Number(Pa[1])),Pa&&Pa>=15&&(_a=!1,xa=!0);var Ba,Ra=Na&&(Ca||_a&&(null==Pa||Pa<12.11)),qa=ma||ya&&wa>=9,Ma=function(t,n){var r=t.className,o=e(n).exec(r);if(o){var i=r.slice(o.index+o[0].length);t.className=r.slice(0,o.index)+(i?o[1]+i:"")}};Ba=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var ja=function(e){e.select()};Oa?ja=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ya&&(ja=function(e){try{e.select()}catch(e){}});var Ia=function(){this.id=null,this.f=null,this.time=0,this.handler=u(this.onTimeout,this)};Ia.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Ia.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var $a,za,Ha=30,Va={toString:function(){return"CodeMirror.Pass"}},Ua={scroll:!1},Wa={origin:"*mouse"},Ka={origin:"+move"},Ga=[""],Ya=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Xa=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Ja=null,Za=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?r.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/;return function(n,r){var u="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!o.test(n))return!1;for(var c=n.length,f=[],d=0;d<c;++d)f.push(e(n.charCodeAt(d)));for(var h=0,p=u;h<c;++h){var g=f[h];"m"==g?f[h]=p:p=g}for(var v=0,b=u;v<c;++v){var y=f[v];"1"==y&&"r"==b?f[v]="n":a.test(y)&&(b=y,"r"==y&&(f[v]="R"))}for(var w=1,x=f[0];w<c-1;++w){var C=f[w];"+"==C&&"1"==x&&"1"==f[w+1]?f[w]="1":","!=C||x!=f[w+1]||"1"!=x&&"n"!=x||(f[w]=x),x=C}for(var k=0;k<c;++k){var _=f[k];if(","==_)f[k]="N";else if("%"==_){var E=void 0;for(E=k+1;E<c&&"%"==f[E];++E);for(var A=k&&"!"==f[k-1]||E<c&&"1"==f[E]?"1":"N",S=k;S<E;++S)f[S]=A;k=E-1}}for(var O=0,T=u;O<c;++O){var D=f[O];"L"==T&&"1"==D?f[O]="L":a.test(D)&&(T=D)}for(var N=0;N<c;++N)if(i.test(f[N])){var F=void 0;for(F=N+1;F<c&&i.test(f[F]);++F);for(var L="L"==(N?f[N-1]:u),P="L"==(F<c?f[F]:u),B=L==P?L?"L":"R":u,R=N;R<F;++R)f[R]=B;N=F-1}for(var q,M=[],j=0;j<c;)if(s.test(f[j])){var I=j;for(++j;j<c&&s.test(f[j]);++j);M.push(new t(0,I,j))}else{var $=j,z=M.length;for(++j;j<c&&"L"!=f[j];++j);for(var H=$;H<j;)if(l.test(f[H])){$<H&&M.splice(z,0,new t(1,$,H));var V=H;for(++H;H<j&&l.test(f[H]);++H);M.splice(z,0,new t(2,V,H)),$=H}else++H;$<j&&M.splice(z,0,new t(1,$,j))}return"ltr"==r&&(1==M[0].level&&(q=n.match(/^\s+/))&&(M[0].from=q[0].length,M.unshift(new t(0,0,q[0].length))),1==m(M).level&&(q=n.match(/\s+$/))&&(m(M).to-=q[0].length,M.push(new t(0,c-q[0].length,c)))),"rtl"==r?M.reverse():M}}(),Qa=[],es=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||Qa).concat(n)}},ts=function(){if(ya&&wa<9)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),ns=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),t+=a+1):(n.push(i),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},rs=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},os=function(){var e=r("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),is=null,as={},ss={},ls={},us=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};us.prototype.eol=function(){return this.pos>=this.string.length},us.prototype.sol=function(){return this.pos==this.lineStart},us.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},us.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},us.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},us.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},us.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},us.prototype.skipToEnd=function(){this.pos=this.string.length},us.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},us.prototype.backUp=function(e){this.pos-=e},us.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},us.prototype.indentation=function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},us.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},us.prototype.current=function(){return this.string.slice(this.start,this.pos)},us.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},us.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},us.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var cs=function(e,t){this.state=e,this.lookAhead=t},fs=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};fs.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},fs.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},fs.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},fs.fromSaved=function(e,t,n){return t instanceof cs?new fs(e,X(e.mode,t.state),n,t.lookAhead):new fs(e,X(e.mode,t),n)},fs.prototype.save=function(e){var t=!1!==e?X(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new cs(t,this.maxLookAhead):t};var ds=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},hs=!1,ps=!1,ms=function(e,t,n){this.text=e,Ie(this,t),this.height=n?n(this):1};ms.prototype.lineNo=function(){return re(this)},B(ms);var gs,vs={},bs={},ys=null,ws=null,xs={left:0,right:0,top:0,bottom:0},Cs=function(e,t,n){this.cm=n;var o=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");o.tabIndex=i.tabIndex=-1,e(o),e(i),es(o,"scroll",function(){o.clientHeight&&t(o.scrollTop,"vertical")}),es(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ya&&wa<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Cs.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Cs.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Cs.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Cs.prototype.zeroWidthHack=function(){var e=Na&&!Aa?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ia,this.disableVert=new Ia},Cs.prototype.enableZeroWidthBar=function(e,t,n){function r(){var o=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},Cs.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var ks=function(){};ks.prototype.update=function(){return{bottom:0,right:0}},ks.prototype.setScrollLeft=function(){},ks.prototype.setScrollTop=function(){},ks.prototype.clear=function(){};var _s={native:Cs,null:ks},Es=0,As=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Un(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=It(e),this.force=n,this.dims=xn(e),this.events=[]};As.prototype.signal=function(e,t){P(e,t)&&this.events.push(arguments)},As.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)N.apply(null,e.events[t])};var Ss=0,Os=null;ya?Os=-.53:ma?Os=15:ka?Os=-.7:Ea&&(Os=-1/3);var Ts=function(e,t){this.ranges=e,this.primIndex=t};Ts.prototype.primary=function(){return this.ranges[this.primIndex]},Ts.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],o=e.ranges[n];if(!ue(r.anchor,o.anchor)||!ue(r.head,o.head))return!1}return!0},Ts.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Ds(ce(e.ranges[n].anchor),ce(e.ranges[n].head));return new Ts(t,this.primIndex)},Ts.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Ts.prototype.contains=function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var o=n.ranges[r];if(le(t,o.from())>=0&&le(e,o.to())<=0)return r}return-1};var Ds=function(e,t){this.anchor=e,this.head=t};Ds.prototype.from=function(){return de(this.anchor,this.head)},Ds.prototype.to=function(){return fe(this.anchor,this.head)},Ds.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Vo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,r=e,o=e+t;r<o;++r){var i=n.lines[r];n.height-=i.height,at(i),wt(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var o=0;o<t.length;++o)t[o].parent=r},iterN:function(e,t,n){for(var r=this,o=e+t;e<o;++e)if(n(r.lines[e]))return!0}},Uo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var o=n.children[r],i=o.chunkSize();if(e<i){var a=Math.min(t,i-e),s=o.height;if(o.removeInner(e,a),n.height-=s-o.height,i==a&&(n.children.splice(r--,1),o.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Vo))){var l=[];this.collapse(l),this.children=[new Vo(l)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var o=0;o<this.children.length;++o){var i=r.children[o],a=i.chunkSize();if(e<=a){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,l=s;l<i.lines.length;){var u=new Vo(i.lines.slice(l,l+=25));i.height-=u.height,r.children.splice(++o,0,u),u.parent=r}i.lines=i.lines.slice(0,s),r.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Uo(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=d(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var o=new Uo(e.children);o.parent=e,e.children=[o,n],e=o}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=this,o=0;o<this.children.length;++o){var i=r.children[o],a=i.chunkSize();if(e<a){var s=Math.min(t,a-e);if(i.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var Ns=function(e,t,n){var r=this;if(n)for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);this.doc=e,this.node=t};Ns.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,o=re(r);if(null!=o&&n){for(var i=0;i<n.length;++i)n[i]==e&&n.splice(i--,1);n.length||(r.widgets=null);var a=Pt(this);ne(r,Math.max(0,r.height-a)),t&&(vr(t,function(){Wo(t,r,-a),On(t,o,"widget")}),wt(t,"lineWidgetCleared",t,this,o))}},Ns.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=Pt(this)-t;o&&(et(this.doc,r)||ne(r,r.height+o),n&&vr(n,function(){n.curOp.forceUpdate=!0,Wo(n,r,o),wt(n,"lineWidgetChanged",n,e,re(r))}))},B(Ns);var Fs=0,Ls=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Fs};Ls.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&ur(t),P(this,"clear")){var r=this.find();r&&wt(this,"clear",r.from,r.to)}for(var o=null,i=null,a=0;a<this.lines.length;++a){var s=e.lines[a],l=Ne(s.markedSpans,e);t&&!e.collapsed?On(t,re(s),"text"):t&&(null!=l.to&&(i=re(s)),null!=l.from&&(o=re(s))),s.markedSpans=Fe(s.markedSpans,l),null==l.from&&e.collapsed&&!et(e.doc,s)&&t&&ne(s,yn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=Ye(e.lines[u]),f=rt(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=o&&t&&this.collapsed&&Sn(t,o,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ao(t.doc)),t&&wt(t,"markerCleared",t,this,o,i),n&&cr(t),this.parent&&this.parent.clear()}},Ls.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var r,o,i=0;i<this.lines.length;++i){var a=n.lines[i],s=Ne(a.markedSpans,n);if(null!=s.from&&(r=se(t?a:re(a),s.from),-1==e))return r;if(null!=s.to&&(o=se(t?a:re(a),s.to),1==e))return o}return r&&{from:r,to:o}},Ls.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&vr(r,function(){var o=t.line,i=re(t.line),a=Wt(r,i);if(a&&(Qt(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!et(n.doc,o)&&null!=n.height){var s=n.height;n.height=null;var l=Pt(n)-s;l&&ne(o,o.height+l)}wt(r,"markerChanged",r,e)})},Ls.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=d(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ls.prototype.detachLine=function(e){if(this.lines.splice(d(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},B(Ls);var Ps=function(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n};Ps.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();wt(this,"clear")}},Ps.prototype.find=function(e,t){return this.primary.find(e,t)},B(Ps);var Bs=0,Rs=function(e,t,n,r,o){if(!(this instanceof Rs))return new Rs(e,t,n,r,o);null==n&&(n=0),Uo.call(this,[new Vo([new ms("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=se(n,0);this.sel=zr(i),this.history=new no(null),this.id=++Bs,this.modeOption=t,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Jr(this,{from:i,to:i,text:e}),ko(this,zr(i),Ua)};Rs.prototype=y(Uo.prototype,{constructor:Rs,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=te(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:wr(function(e){var t=se(this.first,0),n=this.first+this.size-1;Lo(this,{from:t,to:se(n,Q(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Zn(this.cm,0,0),ko(this,zr(t),Ua)}),replaceRange:function(e,t,n,r){t=pe(this,t),n=n?pe(this,n):t,jo(this,e,t,n,r)},getRange:function(e,t,n){var r=ee(this,pe(this,e),pe(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(ie(this,e))return Q(this,e)},getLineNumber:function(e){return re(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Q(this,e)),Ye(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return pe(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:wr(function(e,t,n){wo(this,pe(this,"number"==typeof e?se(e,t||0):e),null,n)}),setSelection:wr(function(e,t,n){wo(this,pe(this,e),pe(this,t||e),n)}),extendSelection:wr(function(e,t,n){vo(this,pe(this,e),t&&pe(this,t),n)}),extendSelections:wr(function(e,t){bo(this,ge(this,e),t)}),extendSelectionsBy:wr(function(e,t){bo(this,ge(this,g(this.sel.ranges,e)),t)}),setSelections:wr(function(e,t,n){var r=this;if(e.length){for(var o=[],i=0;i<e.length;i++)o[i]=new Ds(pe(r,e[i].anchor),pe(r,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ko(this,$r(this.cm,o,t),n)}}),addSelection:wr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Ds(pe(this,e),pe(this,t||e))),ko(this,$r(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t,n=this,r=this.sel.ranges,o=0;o<r.length;o++){var i=ee(n,r[o].from(),r[o].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],r=this.sel.ranges,o=0;o<r.length;o++){var i=ee(t,r[o].from(),r[o].to());!1!==e&&(i=i.join(e||t.lineSeparator())),n[o]=i}return n},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:wr(function(e,t,n){for(var r=this,o=[],i=this.sel,a=0;a<i.ranges.length;a++){var s=i.ranges[a];o[a]={from:s.from(),to:s.to(),text:r.splitLines(e[a]),origin:n}}for(var l=t&&"end"!=t&&Kr(this,o,t),u=o.length-1;u>=0;u--)Lo(r,o[u]);l?Co(this,l):this.cm&&Jn(this.cm)}),undo:wr(function(){Bo(this,"undo")}),redo:wr(function(){Bo(this,"redo")}),undoSelection:wr(function(){Bo(this,"undo",!0)}),redoSelection:wr(function(){Bo(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new no(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:mo(this.history.done),undone:mo(this.history.undone)}},setHistory:function(e){var t=this.history=new no(this.history.maxGeneration);t.done=mo(e.done.slice(0),null,!0),t.undone=mo(e.undone.slice(0),null,!0)},setGutterMarker:wr(function(e,t,n){return Ho(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&C(r)&&(e.gutterMarkers=null),!0})}),clearGutter:wr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Ho(t,n,"gutter",function(){return n.gutterMarkers[e]=null,C(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!ie(this,e))return null;if(t=e,!(e=Q(this,e)))return null}else if(null==(t=re(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:wr(function(t,n,r){return Ho(this,t,"gutter"==n?"gutter":"class",function(t){var o="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[o]){if(e(r).test(t[o]))return!1;t[o]+=" "+r}else t[o]=r;return!0})}),removeLineClass:wr(function(t,n,r){return Ho(this,t,"gutter"==n?"gutter":"class",function(t){var o="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",i=t[o];if(!i)return!1;if(null==r)t[o]=null;else{var a=i.match(e(r));if(!a)return!1;var s=a.index+a[0].length;t[o]=i.slice(0,a.index)+(a.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0})}),addLineWidget:wr(function(e,t,n){return Ko(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Go(this,pe(this,e),pe(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=pe(this,e),Go(this,e,e,n,"bookmark")},findMarksAt:function(e){e=pe(this,e);var t=[],n=Q(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=pe(this,e),t=pe(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,function(i){var a=i.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++o}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(o){var i=o.text.length+r;if(i>e)return t=e,!0;e-=i,++n}),pe(this,se(n,t))},indexFromPos:function(e){e=pe(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Rs(te(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Rs(te(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Jo(r,Xo(this)),r},unlinkDoc:function(e){var t=this;if(e instanceof Gi&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=t.linked[n];if(r.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),Zo(Xo(t));break}}if(e.history==this.history){var o=[e.id];Zr(e,function(e){return o.push(e.id)},!0),e.history=new no(null),e.history.done=mo(this.history.done,o),e.history.undone=mo(this.history.undone,o)}},iterLinkedDocs:function(e){Zr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ns(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:wr(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&to(this.cm))})}),Rs.prototype.eachLine=Rs.prototype.iter;for(var qs=0,Ms=!1,js={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Is=0;Is<10;Is++)js[Is+48]=js[Is+96]=String(Is);for(var $s=65;$s<=90;$s++)js[$s]=String.fromCharCode($s);for(var zs=1;zs<=12;zs++)js[zs+111]=js[zs+63235]="F"+zs;var Hs={};Hs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Hs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Hs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Hs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Hs.default=Na?Hs.macDefault:Hs.pcDefault;var Vs={selectAll:No,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ua)},killLine:function(e){return pi(e,function(t){if(t.empty()){var n=Q(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:se(t.head.line+1,0)}:{from:t.head,to:se(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return pi(e,function(t){return{from:se(t.from().line,0),to:pe(e.doc,se(t.to().line+1,0))}})},delLineLeft:function(e){return pi(e,function(e){return{from:se(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return pi(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return pi(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(se(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(se(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return yi(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return xi(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return wi(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ka)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ka)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?xi(e,t.head):r},Ka)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),a=f(e.getLine(i.line),i.ch,r);t.push(p(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return vr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,i=Q(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new se(o.line,o.ch-1)),o.ch>0)o=new se(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),se(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=Q(e.doc,o.line-1).text;a&&(o=new se(o.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),se(o.line-1,a.length-1),o,"+transpose"))}n.push(new Ds(o,o))}e.setSelections(n)})},newlineAndIndent:function(e){return vr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Jn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Us=new Ia,Ws=null,Ks=function(e,t,n){this.time=e,this.pos=t,this.button=n};Ks.prototype.compare=function(e,t,n){return this.time+400>e&&0==le(t,this.pos)&&n==this.button};var Gs,Ys,Xs={toString:function(){return"CodeMirror.Init"}},Js={},Zs={};Gi.defaults=Js,Gi.optionHandlers=Zs;var Qs=[];Gi.defineInitHook=function(e){return Qs.push(e)};var el=null,tl=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ia,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};tl.prototype.init=function(e){function t(e){if(!F(o,e)){if(o.somethingSelected())Ji({lineWise:!1,text:o.getSelections()}),"cut"==e.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var t=ta(o);Ji({lineWise:!0,text:t.text}),"cut"==e.type&&o.operation(function(){o.setSelections(t.ranges,0,Ua),o.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=el.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var a=ra(),s=a.firstChild;o.display.lineSpace.insertBefore(a,o.display.lineSpace.firstChild),s.value=el.text.join("\n");var l=document.activeElement;ja(s),setTimeout(function(){o.display.lineSpace.removeChild(a),l.focus(),l==i&&r.showPrimarySelection()},50)}}var n=this,r=this,o=r.cm,i=r.div=e.lineDiv;na(i,o.options.spellcheck,o.options.autocorrect,o.options.autocapitalize),es(i,"paste",function(e){F(o,e)||Qi(e,o)||wa<=11&&setTimeout(br(o,function(){return n.updateFromDOM()}),20)}),es(i,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),es(i,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),es(i,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),es(i,"touchstart",function(){return r.forceCompositionEnd()}),es(i,"input",function(){n.composing||n.readFromDOMSoon()}),es(i,"copy",t),es(i,"cut",t)},tl.prototype.prepareSelection=function(){var e=Pn(this.cm,!1);return e.focus=this.cm.state.focused,e},tl.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},tl.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},tl.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)return void e.removeAllRanges();var i=ca(t,e.anchorNode,e.anchorOffset),a=ca(t,e.focusNode,e.focusOffset);if(!i||i.bad||!a||a.bad||0!=le(de(i,a),r)||0!=le(fe(i,a),o)){var s=t.display.view,l=r.line>=t.display.viewFrom&&aa(t,r)||{node:s[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&aa(t,o);if(!u){var c=s[s.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(!l||!u)return void e.removeAllRanges();var d,h=e.rangeCount&&e.getRangeAt(0);try{d=Ba(l.node,l.offset,u.offset,u.node)}catch(e){}d&&(!ma&&t.state.focused?(e.collapse(l.node,l.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),h&&null==e.anchorNode?e.addRange(h):ma&&this.startGracePeriod()),this.rememberSelection()}},tl.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},tl.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},tl.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},tl.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return i(this.div,t)},tl.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},tl.prototype.blur=function(){this.div.blur()},tl.prototype.getField=function(){return this.div},tl.prototype.supportsTouch=function(){return!0},tl.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():vr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},tl.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},tl.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Ta&&ka&&this.cm.display.gutterSpecs.length&&sa(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=ca(t,e.anchorNode,e.anchorOffset),r=ca(t,e.focusNode,e.focusOffset);n&&r&&vr(t,function(){ko(t.doc,zr(n,r),Ua),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},tl.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),o=n.to();if(0==r.ch&&r.line>e.firstLine()&&(r=se(r.line-1,Q(e.doc,r.line-1).length)),o.ch==Q(e.doc,o.line).text.length&&o.line<e.lastLine()&&(o=se(o.line+1,0)),r.line<t.viewFrom||o.line>t.viewTo-1)return!1;var i,a,s;r.line==t.viewFrom||0==(i=An(e,r.line))?(a=re(t.view[0].line),s=t.view[0].node):(a=re(t.view[i].line),s=t.view[i-1].node.nextSibling);var l,u,c=An(e,o.line);if(c==t.view.length-1?(l=t.viewTo-1,u=t.lineDiv.lastChild):(l=re(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(ua(e,s,u,a,l)),d=ee(e.doc,se(a,0),se(l,Q(e.doc,l).text.length));f.length>1&&d.length>1;)if(m(f)==m(d))f.pop(),d.pop(),l--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),a++}for(var h=0,p=0,g=f[0],v=d[0],b=Math.min(g.length,v.length);h<b&&g.charCodeAt(h)==v.charCodeAt(h);)++h;for(var y=m(f),w=m(d),x=Math.min(y.length-(1==f.length?h:0),w.length-(1==d.length?h:0));p<x&&y.charCodeAt(y.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==f.length&&1==d.length&&a==r.line)for(;h&&h>r.ch&&y.charCodeAt(y.length-p-1)==w.charCodeAt(w.length-p-1);)h--,p++;f[f.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(h).replace(/\u200b+$/,"");var C=se(a,h),k=se(l,d.length?m(d).length-p:0);return f.length>1||f[0]||le(C,k)?(jo(e.doc,f,C,k,"+input"),!0):void 0},tl.prototype.ensurePolled=function(){this.forceCompositionEnd()},tl.prototype.reset=function(){this.forceCompositionEnd()},tl.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},tl.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},tl.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||vr(this.cm,function(){return Sn(e.cm)})},tl.prototype.setUneditable=function(e){e.contentEditable="false"},tl.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||br(this.cm,Zi)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},tl.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},tl.prototype.onContextMenu=function(){},tl.prototype.resetPosition=function(){},tl.prototype.needsContentAttribute=!0;var nl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ia,this.hasSelection=!1,this.composing=null};nl.prototype.init=function(e){function t(e){if(!F(o,e)){if(o.somethingSelected())Ji({lineWise:!1,text:o.getSelections()});else{if(!o.options.lineWiseCopyCut)return;var t=ta(o);Ji({lineWise:!0,text:t.text}),"cut"==e.type?o.setSelections(t.ranges,null,Ua):(r.prevInput="",i.value=t.text.join("\n"),ja(i))}"cut"==e.type&&(o.state.cutIncoming=+new Date)}}var n=this,r=this,o=this.cm;this.createField(e);var i=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),Oa&&(i.style.width="0px"),es(i,"input",function(){ya&&wa>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),es(i,"paste",function(e){F(o,e)||Qi(e,o)||(o.state.pasteIncoming=+new Date,r.fastPoll())}),es(i,"cut",t),es(i,"copy",t),es(e.scroller,"paste",function(t){if(!Bt(e,t)&&!F(o,t)){if(!i.dispatchEvent)return o.state.pasteIncoming=+new Date,void r.focus();var n=new Event("paste");n.clipboardData=t.clipboardData,i.dispatchEvent(n)}}),es(e.lineSpace,"selectstart",function(t){Bt(e,t)||R(t)}),es(i,"compositionstart",function(){var e=o.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:o.markText(e,o.getCursor("to"),{className:"CodeMirror-composing"})}}),es(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},nl.prototype.createField=function(e){this.wrapper=ra(),this.textarea=this.wrapper.firstChild},nl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Pn(e);if(e.options.moveInputWithCursor){var o=un(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},nl.prototype.showSelection=function(e){var t=this.cm,r=t.display;n(r.cursorDiv,e.cursors),n(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},nl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&ja(this.textarea),ya&&wa>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",ya&&wa>=9&&(this.hasSelection=null))}},nl.prototype.getField=function(){return this.textarea},nl.prototype.supportsTouch=function(){return!1},nl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Da||a()!=this.textarea))try{this.textarea.focus()}catch(e){}},nl.prototype.blur=function(){this.textarea.blur()},nl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},nl.prototype.receivedFocus=function(){this.slowPoll()},nl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},nl.prototype.fastPoll=function(){function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},nl.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||rs(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(ya&&wa>=9&&this.hasSelection===o||Na&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,o.length);a<s&&r.charCodeAt(a)==o.charCodeAt(a);)++a;return vr(t,function(){Zi(t,o.slice(a),r.length-a,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},nl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},nl.prototype.onKeyPress=function(){ya&&wa>=9&&(this.hasSelection=null),this.fastPoll()},nl.prototype.onContextMenu=function(e){function t(){if(null!=a.selectionStart){var e=o.somethingSelected(),t="​"+(e?a.value:"");a.value="⇚",a.value=t,r.prevInput=e?"":"​",a.selectionStart=1,a.selectionEnd=t.length,i.selForContextMenu=o.doc.sel}}function n(){if(r.contextMenuPending==n&&(r.contextMenuPending=!1,r.wrapper.style.cssText=c,a.style.cssText=u,ya&&wa<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=l),null!=a.selectionStart)){(!ya||ya&&wa<9)&&t();var e=0,s=function(){i.selForContextMenu==o.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==r.prevInput?br(o,No)(o):e++<10?i.detectingSelectAll=setTimeout(s,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(s,200)}}var r=this,o=r.cm,i=o.display,a=r.textarea;r.contextMenuPending&&r.contextMenuPending();var s=En(o,e),l=i.scroller.scrollTop;if(s&&!_a){o.options.resetSelectionOnContextMenu&&-1==o.doc.sel.contains(s)&&br(o,ko)(o.doc,zr(s),Ua);var u=a.style.cssText,c=r.wrapper.style.cssText,f=r.wrapper.offsetParent.getBoundingClientRect();r.wrapper.style.cssText="position: static",a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(ya?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var d;if(xa&&(d=window.scrollY),i.input.focus(),xa&&window.scrollTo(null,d),i.input.reset(),o.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=n,i.selForContextMenu=o.doc.sel,clearTimeout(i.detectingSelectAll),ya&&wa>=9&&t(),qa){j(e);var h=function(){D(window,"mouseup",h),setTimeout(n,20)};es(window,"mouseup",h)}else setTimeout(n,50)}},nl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},nl.prototype.setUneditable=function(){},nl.prototype.needsContentAttribute=!1,function(e){function t(t,r,o,i){e.defaults[t]=r,o&&(n[t]=i?function(e,t,n){n!=Xs&&o(e,t,n)}:o)}var n=e.optionHandlers;e.defineOption=t,e.Init=Xs,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Gr(e)},!0),t("indentUnit",2,Gr,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Yr(e),tn(e),Sn(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,n.push(se(r,i))}r++});for(var o=n.length-1;o>=0;o--)jo(e.doc,t,n[o],se(n[o].line,n[o].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Xs&&e.refresh()}),t("specialCharPlaceholder",ut,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Da?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),t("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),t("rtlMoveVisually",!La),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Ui(e),Rr(e)},!0),t("keyMap","default",function(e,t,n){var r=hi(t),o=n!=Xs&&hi(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Ki,!0),t("gutters",[],function(e,t){e.display.gutterSpecs=Pr(t,e.options.lineNumbers),Rr(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Cn(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return ar(e)},!0),t("scrollbarStyle","native",function(e){lr(e),ar(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e,t){e.display.gutterSpecs=Pr(e.options.gutters,t),Rr(e)},!0),t("firstLineNumber",1,Rr,!0),t("lineNumberFormatter",function(e){return e},Rr,!0),t("showCursorWhenSelecting",!1,Ln,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("selectionsMayTouch",!1),t("readOnly",!1,function(e,t){"nocursor"==t&&(zn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Wi),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Ln,!0),t("singleCursorHeightPerLine",!0,Ln,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Yr,!0),t("addModeClass",!1,Yr,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Yr,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),t("phrases",null)}(Gi),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,o=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&br(this,t[e])(this,n,o),N(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](hi(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:yr(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Sn(this)}),removeOverlay:yr(function(e){for(var t=this,n=this.state.overlays,r=0;r<n.length;++r){var o=n[r].modeSpec;if(o==e||"string"==typeof e&&o.name==e)return n.splice(r,1),t.state.modeGen++,void Sn(t)}}),indentLine:yr(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ie(this.doc,e)&&Xi(this,e,t,n)}),indentSelection:yr(function(e){for(var t=this,n=this.doc.sel.ranges,r=-1,o=0;o<n.length;o++){var i=n[o];if(i.empty())i.head.line>r&&(Xi(t,i.head.line,e,!0),r=i.head.line,o==t.doc.sel.primIndex&&Jn(t));else{var a=i.from(),s=i.to(),l=Math.max(r,a.line);r=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=l;u<r;++u)Xi(t,u,e);var c=t.doc.sel.ranges;0==a.ch&&n.length==c.length&&c[o].from().ch>0&&yo(t.doc,o,new Ds(a,c[o].to()),Ua)}}}),getTokenAt:function(e,t){return ke(this,e,t)},getLineTokens:function(e,t){return ke(this,se(e),t,!0)},getTokenTypeAt:function(e){e=pe(this.doc,e);var t,n=be(this,Q(this.doc,e.line)),r=0,o=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var a=r+o>>1;if((a?n[2*a-1]:0)>=i)o=a;else{if(!(n[2*a+1]<i)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,o=[];if(!n.hasOwnProperty(t))return o;var i=n[t],a=this.getModeAt(e);if("string"==typeof a[t])i[a[t]]&&o.push(i[a[t]]);else if(a[t])for(var s=0;s<a[t].length;s++){var l=i[a[t][s]];l&&o.push(l)}else a.helperType&&i[a.helperType]?o.push(i[a.helperType]):i[a.name]&&o.push(i[a.name]);for(var u=0;u<i._global.length;u++){var c=i._global[u];c.pred(a,r)&&-1==d(o,c.val)&&o.push(c.val)}return o},getStateAfter:function(e,t){var n=this.doc;return e=he(n,null==e?n.first+n.size-1:e),ye(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?pe(this.doc,e):e?r.from():r.to(),un(this,n,t||"page")},charCoords:function(e,t){return ln(this,pe(this.doc,e),t||"page")},coordsChar:function(e,t){return e=sn(this,e,t||"page"),dn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=sn(this,{top:e,left:0},t||"page").top,oe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,o=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),r=Q(this.doc,e)}else r=e;return an(this,r,{top:0,left:0},t||"page",n||o).top+(o?this.doc.height-nt(r):0)},defaultTextHeight:function(){return yn(this.display)},defaultCharWidth:function(){return wn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var i=this.display;e=un(this,pe(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),i.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(i.wrapper.clientHeight,this.doc.height),u=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==o?(s=i.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?s=0:"middle"==o&&(s=(i.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Gn(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:yr(Oi),triggerOnKeyPress:yr(Ni),triggerOnKeyUp:Di,triggerOnMouseDown:yr(Li),execCommand:function(e){if(Vs.hasOwnProperty(e))return Vs[e].call(null,this)},triggerElectric:yr(function(e){ea(this,e)}),findPosH:function(e,t,n,r){var o=this,i=1;t<0&&(i=-1,t=-t);for(var a=pe(this.doc,e),s=0;s<t&&(a=oa(o.doc,a,i,n,r),!a.hitSide);++s);return a},moveH:yr(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?oa(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},Ka)}),deleteH:yr(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):pi(this,function(n){var o=oa(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}})}),findPosV:function(e,t,n,r){var o=this,i=1,a=r;t<0&&(i=-1,t=-t);for(var s=pe(this.doc,e),l=0;l<t;++l){var u=un(o,s,"div");if(null==a?a=u.left:u.left=a,s=ia(o,u,i,n),s.hitSide)break}return s},moveV:yr(function(e,t){var n=this,r=this.doc,o=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(i)return e<0?a.from():a.to();var s=un(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),o.push(s.left);var l=ia(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Xn(n,ln(n,l,"div").top-s.top),l},Ka),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]}),findWordAt:function(e){var t=this.doc,n=Q(t,e.line).text,r=e.ch,o=e.ch;if(n){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&o!=n.length||!r?++o:--r;for(var a=n.charAt(r),s=x(a,i)?function(e){return x(e,i)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};r>0&&s(n.charAt(r-1));)--r;for(;o<n.length&&s(n.charAt(o));)++o}return new Ds(se(e.line,r),se(e.line,o))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Ma(this.display.cursorDiv,"CodeMirror-overwrite"),N(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==a()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:yr(function(e,t){Zn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-jt(this)-this.display.barHeight,width:e.scrollWidth-jt(this)-this.display.barWidth,clientHeight:$t(this),clientWidth:It(this)}},scrollIntoView:yr(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:se(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Qn(this,e):tr(this,e.from,e.to,e.margin)}),setSize:yr(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&en(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){On(n,o,"widget");break}++o}),this.curOp.forceUpdate=!0,N(this,"refresh",this)}),operation:function(e){return vr(this,e)},startOperation:function(){return ur(this)},endOperation:function(){return cr(this)},refresh:yr(function(){var e=this.display.cachedTextHeight;Sn(this),this.curOp.forceUpdate=!0,tn(this),Zn(this,this.doc.scrollLeft,this.doc.scrollTop),Dr(this.display),(null==e||Math.abs(e-yn(this.display))>.5)&&_n(this),N(this,"refresh",this)}),swapDoc:yr(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Qr(this,e),tn(this),this.display.input.reset(),Zn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,wt(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},B(e),e.registerHelper=function(t,r,o){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=o},e.registerGlobalHelper=function(t,r,o,i){e.registerHelper(t,r,i),n[t]._global.push({pred:o,val:i})}}(Gi);var rl="iter insert remove copy getEditor constructor".split(" ");for(var ol in Rs.prototype)Rs.prototype.hasOwnProperty(ol)&&d(rl,ol)<0&&(Gi.prototype[ol]=function(e){return function(){return e.apply(this.doc,arguments)}}(Rs.prototype[ol]));return B(Rs),Gi.inputStyles={textarea:nl,contenteditable:tl},Gi.defineMode=function(e){Gi.defaults.mode||"null"==e||(Gi.defaults.mode=e),U.apply(this,arguments)},Gi.defineMIME=W,Gi.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Gi.defineMIME("text/plain","null"),Gi.defineExtension=function(e,t){Gi.prototype[e]=t},Gi.defineDocExtension=function(e,t){Rs.prototype[e]=t},Gi.fromTextArea=da,function(e){e.off=D,e.on=es,e.wheelEventPixels=jr,e.Doc=Rs,e.splitLines=ns,e.countColumn=f,e.findColumn=h,e.isWordChar=w,e.Pass=Va,e.signal=N,e.Line=ms,e.changeEnd=Hr,e.scrollbarModel=_s,e.Pos=se,e.cmpPos=le,e.modes=as,e.mimeModes=ss,e.resolveMode=K,e.getMode=G,e.modeExtensions=ls,e.extendMode=Y,e.copyState=X,e.startState=Z,e.innerMode=J,e.commands=Vs,e.keyMap=Hs,e.keyName=di,e.isModifierKey=ci,e.lookupKey=ui,e.normalizeKeyMap=li,e.StringStream=us,e.SharedTextMarker=Ps,e.TextMarker=Ls,e.LineWidget=Ns,e.e_preventDefault=R,e.e_stopPropagation=q,e.e_stop=j,e.addClass=s,e.contains=i,e.rmClass=Ma,e.keyNames=js}(Gi),Gi.version="5.49.2",Gi})},function(e,t,n){"use strict";function r(e){n(50)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(52),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-14e2bbc4",null);t.default=c.exports},function(e,t,n){"use strict";function r(e){n(60)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(132),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-7358c06e",null);t.default=c.exports},function(e,t,n){"use strict";function r(e){n(95)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(97),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-30d94b74",null);t.default=c.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{isReady:!1}},computed:{debug:function(){return this.$store.state.debug}},methods:{},created:function(){var e=this;this.isReady=!0,document.onkeydown=function(t){var n=t.keyCode||t.which||t.charCode,r=t.ctrlKey||t.metaKey;if(t.altKey&&r&&68==n){var o=e.$store.state.debug;return e.$store.commit("setDebug",!o),t.preventDefault(),!1}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=r(i),s=n(53),l=r(s);t.default={components:{json_editor:a.default,JsonViewer:l.default},mixins:[MIX.form_item],props:["path","text","value"],data:function(){return{isEdit:!1,pathNeed:this.path,isChanging:!1,editComType:"text"}},watch:{value:{handler:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.addClassChange(),r=util.type(this.value),o=["object","array"],o.includes(r)?this.editComType="json":this.editComType="number"==r?"number":"text";case 4:case"end":return e.stop()}},e,this)}));return e}(),immediate:!0,deep:!0}},methods:{addClassChange:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isChanging=!0,e.next=3,util.timeout(300);case 3:this.isChanging=!1;case 4:case"end":return e.stop()}},e,this)}));return e}(),getDataType:function(e){var t=this.valueNeed;return util.type(t)},getValueStr:function(e){var t=this.valueNeed,n=util.type(t);return["object","array"].includes(n)||("null"==n?t="null":t+=""),t}},created:function(){this.pathNeed=this.pathNeed||lodash.get(this,"$vnode.data.model.expression")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mixins:[MIX.form_item],props:{value:[Object,Array]},data:function(){return{valueNeedStr:""}},watch:{value:{handler:function(e,t){this.valueNeedStr=JSON.stringify(this.value)},immediate:!0,deep:!0}},methods:{change:function(){var e=null;if(this.valueNeedStr)try{e=JSON.parse(this.valueNeedStr)}catch(e){alert("json格式错误")}this.valueNeed=e,this.$emit("change",e)}},created:function(){}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(62),s=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={name:"dm_dynamic_form",components:{form_item:s.default},props:{cf:{type:Object,default:function(){return{btns:[{text:"提交",event:"submit",type:"primary",validate:!0},{text:"取消",event:"cancel"}]}}},value:Object,needDeleteId:{default:!1}},data:function(){return{visibleFrequency:{},clearall:!1,spanIndex:null,isReadyFormData:!1,formDataNeed:null}},watch:{formDataNeed:{handler:function(e,t){this.$emit("input",this.formDataNeed)},deep:!0},value:{handler:function(e,t){this.formDataNeed=this.value||{}},deep:!0}},methods:{enterClick:function(){var e=void 0;this.cf.btns.forEach(function(t){"submit"==t.event?e="submit":"submit1"==t.event&&(e="submit1")}),this.btnClick(e,!0)},getItemStyle:function(e){var t={};t["min-height"]=this.cf.itemMinHeight||"51px";var n=e.style,r=void 0===n?{}:n;return Object.assign(t,r),t},initRecursionProp:function(){var e=this;this.cf.formItems.forEach(function(t){t.cfForm&&t.prop&&(e.formDataNeed[t.prop]=e.formDataNeed[t.prop]||{})})},satisfyTerm:function(e){var t=this,n=!0;return e.term&&(n=function e(n){for(var r in n)if("$or"==r){var o=function(){var t=n[r],o=[];if(t.forEach(function(t){var n=e(t);o.push(n)}),!o.includes(!0))return{v:!1}}();if("object"===(void 0===o?"undefined":i(o)))return o.v}else{var a=n[r];if(a!=t.formDataNeed[r])return!1}return!0}(e.term)),n},validate:function(){var e=this;return new Promise(function(t,n){e.$refs.form.validate(function(e){t(e?!0:!1)})})},btnClick:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}return e.next=3,this.validate();case 3:if(!(r=e.sent)){e.next=8;break}this.$emit(t),e.next=9;break;case 8:return e.abrupt("return",!1);case 9:e.next=12;break;case 11:this.$emit(t);case 12:case"end":return e.stop()}},e,this)}));return e}(),initForm:function(){this.initRecursionProp(),this.isReadyFormData=!0}},created:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.formDataNeed=this.value,this.cf.formItems.forEach(function(e){void 0===i.value[e.prop]&&i.$set(i.formDataNeed,e.prop,e.default)}),t=r({},"_id"==this.cf.idKey?"_id":"id",this.value[this.cf.idKey]),Object.assign(t,this.cf.paramAddonInit),!this.cf.urlInit){e.next=10;break}return e.next=7,axios({method:"post",url:(PUB.domain||"")+this.cf.urlInit,data:t});case 7:n=e.sent,o=n.data,o?(this.formDataNeed=o.Doc||o.doc,this.needDeleteId&&(delete this.formDataNeed[this.cf.idKey],delete this.formDataNeed._id),delete this.formDataNeed._data):this.$message.error("ajax读取初始化数据失败！");case 10:this.initForm();case 11:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){if(this.cf.watch){var e=this.cf.watch,t=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.$watch("value."+a,this.cf.watch[a],{immediate:!0})}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}this.spanIndex=Math.floor(24/this.cf.col_span),!this.cf.col_span&&this.cf.inline&&(this.clearall=!0,this.cf.col_span=null)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(65),i=r(o),a=n(73),s=r(a),l=n(77),u=r(l),c=n(6),f=r(c),d=n(81),h=r(d),p=n(87),m=r(p),g=n(91),v=r(g),b=n(8),y=r(b),w=n(98),x=r(w),C=n(116),k=r(C),_=n(25),E=r(_),A=n(123),S=r(A),O=n(127),T=r(O);t.default={name:"form_item",components:{select_list_data:E.default,vueJsonEditor:i.default,select_ajax:s.default,input_find_vague:u.default,json_editor:f.default,upload_img:h.default,time_period:m.default,json_prop:v.default,collection:y.default,quill_editor:x.default,tiny_mce:k.default,tiny_mce_new:k.default,number_range:S.default,tag_list:T.default},props:{cf:[Object],value:[Object]},data:function(){return{item:this.cf,formDataNeed:this.value,visibleFrequency:{},marks:{0:"0",.1:"10",.2:"20",.3:"30",.4:"40",.5:"50",.6:"60",.7:"70",.8:"80",.9:"90",1:"100"}}},methods:{print:function(){}},created:function(){}}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),n(68);var o=n(71),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={props:{value:[String,Number,Object,Array],showBtns:[Boolean],expandedOnStart:{type:Boolean,default:!1},mode:{type:String,default:"tree"},modes:{type:Array,default:function(){return["tree","code","form","text","view"]}},lang:{type:String,default:"en"}},watch:{value:{immediate:!0,handler:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.internalChange){e.next=4;break}return e.next=3,this.setEditor(t);case 3:this.expandAll();case 4:case"end":return e.stop()}},e,this)}));return e}(),deep:!0}},data:function(){return{editor:null,error:!1,json:this.value,internalChange:!1,expandedModes:["tree","view","form"],locale:{it:{save:"SALVA"},en:{save:"SAVE"},zh:{save:"保存"}}}},mounted:function(){var e=this,t={mode:this.mode,modes:this.modes,onChange:function(){console.log("Json editor change");try{var t=e.editor.get();e.json=t,e.$emit("json-change",t),e.internalChange=!0,e.$emit("input",t),e.$nextTick(function(){e.internalChange=!1})}catch(t){e.$emit("has-error",t)}},onModeChange:function(){e.expandAll()}};this.editor=new i.default(this.$el.querySelector(".jsoneditor-vue"),t,this.json)},methods:{expandAll:function(){this.expandedOnStart&&this.expandedModes.includes(this.editor.getMode())&&this.editor.expandAll()},onSave:function(){this.$emit("json-save",this.json)},setEditor:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.editor&&this.editor.set(t);case 1:case"end":return e.stop()}},e,this)}));return e}()}}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{multiple:{default:!1,type:Boolean},value:[String,Number,Array],ajaxUrl:{default:"/crossList?page=mabang-category"},keyValue:{default:"P1"},keyLabel:{default:"name"},param:[Object]},watch:{param:{handler:function(e,t){this.ajaxGetOptions()},deep:!0}},data:function(){return{valueNeed:this.value,options:[{value:"选项1",label:"黄金糕"}]}},methods:{change:function(){this.$emit("input",this.valueNeed)},ajaxGetOptions:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios({method:"post",url:PUB.domain+this.ajaxUrl,data:this.param}).catch(function(e){alert("异常:"+e)});case 2:t=e.sent,n=t.data,r=n.list,this.options=r.map(function(e){return{value:e[o.keyValue],label:e[o.keyLabel]}});case 6:case"end":return e.stop()}},e,this)}));return e}()},created:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.ajaxGetOptions();case 1:case"end":return e.stop()}},e,this)}));return e}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:[Object]},data:function(){return{valueNeed:this.value}},methods:{change:function(){var e=null;this.valueNeed&&(e={$regex:this.valueNeed,$options:"i"}),this.$emit("input",e)}},created:function(){this.value&&(this.valueNeed=this.value.$regex)}}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(84),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={props:{uploadConfig:{type:Object}},mixins:[MIX.form_item],components:{draggable:i.default},data:function(){return{downloadDomain:"",postData:{},uploadConfigNeed:null,dialogImageUrl:"",dialogVisible:!1,changeOrder:!1}},computed:{isExceed:function(){var e=!1;return this.uploadConfigNeed&&(e=this.valueNeed.length>=this.uploadConfigNeed.limit),e},showtool:function(){var e=[];return e.length=this.valueNeed.length,e}},watch:{uploadConfig:{handler:function(e,t){this.initConfig()},immediate:!0,deep:!0},value:{handler:function(e,t){this.value||(this.valueNeed=[])},immediate:!0,deep:!0}},methods:{exceed:function(e,t){this.$message.error("最多只能上传"+this.uploadConfigNeed.limit+"个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},beforeUpload:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=moment().format("YYYYMMDDHHmmSSsss"),e.next=3,axios({method:"post",url:PUB.urlGetQiniuToken,data:{options:{forceSaveKey:!0,saveKey:n+"_"+t.name,returnBody:'{"key":   $(key), "hash": $(etag), "w": $(imageInfo.width), "h": $(imageInfo.height), \n            "size": $(fsize),\n            "bucket": $(bucket),\n            "fname": $(fname),\n            "ext": $(ext),\n            "time": "$(year)-$(mon)-$(day) $(hour):$(min):$(sec) "\n            }'}}});case 3:return r=e.sent,o=r.data,i=o.token,a=o.downloadDomain,this.downloadDomain=a,this.postData.token=i,s=t.size/1024/1024<200,s||this.$message.error("上传文件大小不能超过 200MB!"),e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return e}(),uploaded:function(e){var t=e.key,n=e.fname,r=this.downloadDomain+"/"+t;this.valueNeed.push({url:r,name:n})},handleRemove:function(e,t){this.valueNeed=t},handlePictureCardPreview:function(e){this.uploadConfigNeed.preview&&(this.dialogImageUrl=e.url,this.dialogVisible=!0)},initConfig:function(){this.uploadConfigNeed=this.uploadConfig||{};var e={limit:3,listType:"picture-card",action:window.PUB.urlUpload};this.uploadConfig?this.uploadConfigNeed=Object.assign(e,this.uploadConfigNeed):this.uploadConfigNeed=e}},mounted:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:[Object,Array]},watch:{valueNeed:{handler:function(e,t){if(this.valueNeed){var n={$gte:this.valueNeed[0],$lte:this.valueNeed[1]};this.$emit("input",n)}else this.$emit("input",null)},deep:!0}},data:function(){return{valueNeed:this.value,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]}}},methods:{},created:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mixins:[MIX.form_item],props:["prop"],data:function(){return{dataIn:null}},watch:{valueNeed:{handler:function(e,t){this.dataIn=lodash.get(this.valueNeed,this.prop)},deep:!0}},methods:{change:function(){lodash.set(this.valueNeed,this.prop,this.dataIn),this.valueNeed=util.deepCopy(this.valueNeed)}},created:function(){this.value||(this.valueNeed={}),this.dataIn=lodash.get(this.valueNeed,this.prop)}}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={name:"collection",components:{json_editor:i.default},mixins:[MIX.form_item],props:{dataSlot:String,cfElBtnAdd:{type:Object,default:function(){return{}}},listType:{default:"bar"},showToolbar:{default:!0},cfForm:{type:Object},hidePart:{type:Object,default:function(){return{}}}},watch:{value:{handler:function(e,t){this.value||(this.valueNeed=[])},immediate:!0,deep:!0}},data:function(){return{editIndex:0,showDialog:!1,editItem:"999",focusItem:"999",dataIn:null}},methods:{ifShow:function(e){var t=!1;return t=!this.hidePart[e],t&&("btn-add"==e||("btn-edit"==e?t=t&&"bar"==this.listType:"btn-copy"==e&&(t=t&&"bar"==this.listType))),t&&(t=this.showToolbar),t},handelShowDoc:function(e){var t=lodash.cloneDeep(e);return delete t.__id,t},addGroup:function(){var e={__id:util.getTimeRandom()};this.cfForm.formItems.forEach(function(t){null!==t.default&&void 0!==t.default&&(e[t.prop]=t.default)}),this.valueNeed.unshift(e),this.valueNeed=util.deepCopy(this.valueNeed),"form"!=this.listType&&this.showEditDataDialog(0)},showEditDataDialog:function(e){this.showDialog=!0,this.editIndex=e},afterBlur:function(){this.editItem="999"},move:function(e,t){this.focusItem="999",util.moveData(e,t,this.valueNeed)},copyData:function(e){var t=util.deepCopy(this.valueNeed[e]);t.__id=util.getTimeRandom(),this.valueNeed.splice(e,0,t),this.$message.success("复制成功")},deleteData:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.valueNeed.splice(t,1);case 1:case"end":return e.stop()}},e,this)}));return e}()},created:function(){var e={plain:!0,size:"mini",text:"添加一组",style:"margin-bottom:8px"};util.setObjDefault(this.cfElBtnAdd,e)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),n(101),n(103),n(105);var i=n(107),a=n(111),s=(r(a),n(112)),l=n(113),u=r(l);i.Quill.register("modules/imageDrop",s.ImageDrop),i.Quill.register("modules/imageResize",u.default);var c=[["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{font:["宋体","黑体"]}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],["clean"],[],[{align:[]}],["link","image","video"],[{"table-body":"TBODY"},{"table-insert-rows":"ITR"},{"table-insert-columns":"TIC"},{"table-delete-rows":"IDR"},{"table-delete-columns":"TDC"},{"table-delete-body":"TDB"}]];t.default={components:{quillEditor:i.quillEditor},mixins:[MIX.form_item],props:{},data:function(){return{postData:{},serverUrl:window.PUB.urlUpload,detailContent:"",editorOption:{placeholder:"",theme:"snow",modules:{imageDrop:!0,imageResize:!0,toolbar:{container:c,handlers:{image:function(e){e?document.querySelector("#quill-upload input").click():this.quill.format("image",!1)},"table-body":function(e){this.quill.getModule("table").insertTable(2,2)},"table-insert-rows":function(){this.quill.getModule("table").insertRowBelow()},"table-insert-columns":function(){this.quill.getModule("table").insertColumnRight()},"table-delete-rows":function(){this.quill.getModule("table").deleteRow()},"table-delete-columns":function(){this.quill.getModule("table").deleteColumn()},"table-delete-body":function(){this.quill.getModule("table").deleteTable()}}}}}}},methods:{beforeUpload:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.quillUpdateImg=!0,n=moment().format("YYYYMMDDHHmmSSsss"),e.next=4,axios({method:"post",url:PUB.urlGetQiniuToken,data:{options:{forceSaveKey:!0,saveKey:n+"_"+t.name,returnBody:'{"key":   $(key), "hash": $(etag), "w": $(imageInfo.width), "h": $(imageInfo.height), \n            "size": $(fsize),\n            "bucket": $(bucket),\n            "fname": $(fname),\n            "ext": $(ext),\n            "time": "$(year)-$(mon)-$(day) $(hour):$(min):$(sec) "\n            }'}}});case 4:r=e.sent,o=r.data,i=o.token,a=o.downloadDomain,this.downloadDomain=a,this.postData.token=i;case 9:case"end":return e.stop()}},e,this)}));return e}(),uploadSuccess:function(e,t){var n=this.$refs.myQuillEditor.quill;if(e.key){var r=e.key,o=(e.fname,this.downloadDomain+"/"+r),i=n.getSelection().index;n.insertEmbed(i,"image",o),n.setSelection(i+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError:function(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}},mounted:function(){}}},function(e,t,n){(function(t){/*!
 * Quill Editor v1.3.6
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(18),i=n(19),a=n(45),s=n(46),l=n(47),u=n(48),c=n(49),f=n(12),d=n(32),h=n(33),p=n(31),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:f.default,Class:d.default,Style:h.default,Store:p.default}};t.default=g},function(e,t,n){"use strict";function r(e,t){var n=i(e);if(null==n)throw new l("Unable to create "+e+" blot");var r=n;return new r(e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t),t)}function o(e,n){return void 0===n&&(n=!1),null==e?null:null!=e[t.DATA_KEY]?e[t.DATA_KEY].blot:n?o(e.parentNode,n):null}function i(e,t){void 0===t&&(t=h.ANY);var n;if("string"==typeof e)n=d[e]||u[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=d.text;else if("number"==typeof e)e&h.LEVEL&h.BLOCK?n=d.block:e&h.LEVEL&h.INLINE&&(n=d.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var o in r)if(n=c[r[o]])break;n=n||f[e.tagName]}return null==n?null:t&h.LEVEL&n.scope&&t&h.TYPE&n.scope?n:null}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>1)return e.map(function(e){return a(e)});var n=e[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new l("Invalid definition");if("abstract"===n.blotName)throw new l("Cannot register abstract class");if(d[n.blotName||n.attrName]=n,"string"==typeof n.keyName)u[n.keyName]=n;else if(null!=n.className&&(c[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map(function(e){return e.toUpperCase()}):n.tagName=n.tagName.toUpperCase();var r=Array.isArray(n.tagName)?n.tagName:[n.tagName];r.forEach(function(e){null!=f[e]&&null!=n.className||(f[e]=n)})}return n}var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var n=this;return t="[Parchment] "+t,n=e.call(this,t)||this,n.message=t,n.name=n.constructor.name,n}return s(t,e),t}(Error);t.ParchmentError=l;var u={},c={},f={},d={};t.DATA_KEY="__blot";var h;!function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(h=t.Scope||(t.Scope={})),t.create=r,t.find=o,t.query=i,t.register=a},function(e,t,n){var r=n(51),o=n(11),i=n(3),a=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach(function(r){(e(r)?t:n).push(r)}),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+a.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],r=a.iterator(this.ops),o=0;o<t&&r.hasNext();){var i;o<e?i=r.next(e-o):(i=r.next(t-o),n.push(i)),o+=a.length(i)}return new l(n)},l.prototype.compose=function(e){for(var t=a.iterator(this.ops),n=a.iterator(e.ops),r=new l;t.hasNext()||n.hasNext();)if("insert"===n.peekType())r.push(n.next());else if("delete"===t.peekType())r.push(t.next());else{var o=Math.min(t.peekLength(),n.peekLength()),i=t.next(o),s=n.next(o);if("number"==typeof s.retain){var u={};"number"==typeof i.retain?u.retain=o:u.insert=i.insert;var c=a.attributes.compose(i.attributes,s.attributes,"number"==typeof i.retain);c&&(u.attributes=c),r.push(u)}else"number"==typeof s.delete&&"number"==typeof i.retain&&r.push(s)}return r.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;var r=t===e?"on":"with";throw new Error("diff() called "+r+" non-document")}).join("")}),i=new l,u=r(n[0],n[1],t),c=a.iterator(this.ops),f=a.iterator(e.ops);return u.forEach(function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(f.peekLength(),t),i.push(f.next(n));break;case r.DELETE:n=Math.min(t,c.peekLength()),c.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(c.peekLength(),f.peekLength(),t);var s=c.next(n),l=f.next(n);o(s.insert,l.insert)?i.retain(n,a.attributes.diff(s.attributes,l.attributes)):i.push(l).delete(n)}t-=n}}),i.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),r=new l,o=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),s=a.length(i)-n.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(t,s)-s:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{if(!1===e(r,n.next(1).attributes||{},o))return;o+=1,r=new l}}r.length()>0&&e(r,{},o)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),r=a.iterator(e.ops),o=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),s=n.next(i),u=r.next(i);if(s.delete)continue;u.delete?o.push(u):o.retain(i,a.attributes.transform(s.attributes,u.attributes,t))}else o.retain(a.length(n.next()));return o.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=o),r+=o):e-=Math.min(o,e-r)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},i=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!o)return!1;var i;for(i in e);return void 0===i||n.call(e,i)};e.exports=function e(){var t,n,r,a,s,l,u=arguments[0],c=1,f=arguments.length,d=!1;for("boolean"==typeof u&&(d=u,u=arguments[1]||{},c=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});c<f;++c)if(null!=(t=arguments[c]))for(n in t)r=u[n],a=t[n],u!==a&&(d&&a&&(i(a)||(s=o(a)))?(s?(s=!1,l=r&&o(r)?r:[]):l=r&&i(r)?r:{},u[n]=e(d,l,a)):void 0!==a&&(u[n]=a));return u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,f.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:s(e.parent,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(3),f=r(c),d=n(2),h=r(d),p=n(0),m=r(p),g=n(16),v=r(g),b=n(6),y=r(b),w=n(7),x=r(w),C=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"attach",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new h.default).insert(this.value(),(0,f.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=m.default.query(e,m.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"==typeof n&&n.endsWith("\n")){var o=m.default.create(k.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,n.slice(0,-1))}else u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(m.default.Embed);C.scope=m.default.Scope.BLOCK_BLOT;var k=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return a(t,e),l(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),s(t))},new h.default).insert("\n",s(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,o){n<=0||(m.default.query(r,m.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,o):u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,o),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var o=n.split("\n"),i=o.shift();i.length>0&&(e<this.length()-1||null==this.children.tail?u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var a=this;o.reduce(function(e,t){return a=a.split(e,!0),a.insertAt(0,t),t.length},e+i.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof v.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},o}}]),t}(m.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[y.default,m.default.Embed,x.default],t.bubbleFormats=s,t.BlockEmbed=C,t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(t=(0,A.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t),t.theme&&t.theme!==F.DEFAULTS.theme){if(t.theme=F.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=D.default;var n=(0,A.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var r=Object.keys(n.modules).concat(Object.keys(t.modules)),o=r.reduce(function(e,t){var n=F.import("modules/"+t);return null==n?N.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,A.default)(!0,{},F.DEFAULTS,{modules:o},n,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e},{}),t}function s(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===b.default.sources.USER)return new p.default;var o=null==n?null:this.getSelection(),i=this.editor.delta,a=e();if(null!=o&&(!0===n&&(n=o.index),null==r?o=u(o,a,t):0!==r&&(o=u(o,n,r,t)),this.setSelection(o,b.default.sources.SILENT)),a.length()>0){var s,l=[b.default.events.TEXT_CHANGE,a,i,t];if((s=this.emitter).emit.apply(s,[b.default.events.EDITOR_CHANGE].concat(l)),t!==b.default.sources.SILENT){var c;(c=this.emitter).emit.apply(c,l)}}return a}function l(e,t,n,r,o){var i={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=r,r=n,n=t,t=0),"object"===(void 0===n?"undefined":c(n))?(i=n,o=r):"string"==typeof n&&(null!=r?i[n]=r:o=n),o=o||b.default.sources.API,[e,t,i,o]}function u(e,t,n,r){if(null==e)return null;var o=void 0,i=void 0;if(t instanceof p.default){var a=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,r!==b.default.sources.USER)}),s=f(a,2);o=s[0],i=s[1]}else{var l=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&r===b.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)}),u=f(l,2);o=u[0],i=u[1]}return new k.Range(o,i-o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var h=n(2),p=r(h),m=n(14),g=r(m),v=n(8),b=r(v),y=n(9),w=r(y),x=n(0),C=r(x),k=n(15),_=r(k),E=n(3),A=r(E),S=n(10),O=r(S),T=n(34),D=r(T),N=(0,O.default)("quill"),F=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,e),this.options=a(t,r),this.container=this.options.container,null==this.container)return N.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new b.default,this.scroll=C.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(b.default.events.EDITOR_CHANGE,function(e){e===b.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(b.default.events.SCROLL_UPDATE,function(e,t){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;s.call(n,function(){return n.editor.update(null,t,o)},e)});var l=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(l),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return d(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),O.default.level(e)}},{key:"find",value:function(e){return e.__quill||C.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&N.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach(function(r){n.register(r,e[r],t)})}else null==this.imports[e]||r||N.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?C.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),d(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;e=document.createElement("div"),e.classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,o=l(e,t,n),i=f(o,4);return e=i[0],t=i[1],n=i[3],s.call(this,function(){return r.editor.deleteText(e,t)},n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.default.sources.API;return s.call(this,function(){var r=n.getSelection(!0),i=new p.default;if(null==r)return i;if(C.default.query(e,C.default.Scope.BLOCK))i=n.editor.formatLine(r.index,r.length,o({},e,t));else{if(0===r.length)return n.selection.format(e,t),i;i=n.editor.formatText(r.index,r.length,o({},e,t))}return n.setSelection(r,b.default.sources.SILENT),i},r)}},{key:"formatLine",value:function(e,t,n,r,o){var i=this,a=void 0,u=l(e,t,n,r,o),c=f(u,4);return e=c[0],t=c[1],a=c[2],o=c[3],s.call(this,function(){return i.editor.formatLine(e,t,a)},o,e,0)}},{key:"formatText",value:function(e,t,n,r,o){var i=this,a=void 0,u=l(e,t,n,r,o),c=f(u,4);return e=c[0],t=c[1],a=c[2],o=c[3],s.call(this,function(){return i.editor.formatText(e,t,a)},o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=l(e,t),r=f(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=l(e,t),r=f(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return s.call(this,function(){return o.editor.insertEmbed(t,n,r)},i,t)}},{key:"insertText",value:function(e,t,n,r,o){var i=this,a=void 0,u=l(e,0,n,r,o),c=f(u,4);return e=c[0],a=c[2],o=c[3],s.call(this,function(){return i.editor.insertText(e,t,a)},o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,o=l(e,t,n),i=f(o,4);return e=i[0],t=i[1],n=i[3],s.call(this,function(){return r.editor.removeFormat(e,t)},n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.default.sources.API;return s.call(this,function(){e=new p.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),r.compose(o)},n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=l(t,n,r),i=f(o,4);t=i[0],n=i[1],r=i[3],this.selection.setRange(new k.Range(t,n),r),r!==b.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.default.sources.API,n=(new p.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.default.sources.API;return s.call(this,function(){return e=new p.default(e),t.editor.applyDelta(e,n)},n,!0)}}]),e}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=b.default.events,F.sources=b.default.sources,F.version="1.3.6",F.imports={delta:p.default,parchment:C.default,"core/module":w.default,"core/theme":D.default},t.expandConfig=a,t.overload=l,t.default=F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(7),c=r(u),f=n(0),d=r(f),h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"formatAt",value:function(e,n,r,o){if(t.compare(this.statics.blotName,r)<0&&d.default.query(r,d.default.Scope.BLOT)){var i=this.isolate(e,n);o&&i.wrap(r,o)}else l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,o)}},{key:"optimize",value:function(e){if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),o=t.order.indexOf(n);return r>=0||o>=0?r-o:e===n?0:e<n?-1:1}}]),t}(d.default.Inline);h.allowedChildren=[h,d.default.Embed,c.default],h.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default.Text);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(54),c=r(u),f=n(10),d=r(f),h=(0,d.default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){if(e.__quill&&e.__quill.emitter){var n;(n=e.__quill.emitter).handleDOM.apply(n,t)}})})});var p=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",h.error),e}return a(t,e),s(t,[{key:"emit",value:function(){h.log.apply(h,arguments),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach(function(t){var r=t.node,o=t.handler;(e.target===r||r.contains(e.target))&&o.apply(void 0,[e].concat(n))})}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(c.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.quill=t,this.options=n};o.DEFAULTS={},t.default=o},function(e,t,n){"use strict";function r(e){if(i.indexOf(e)<=i.indexOf(a)){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console)[e].apply(t,r)}}function o(e){return i.reduce(function(t,n){return t[n]=r.bind(console,n,e),t},{})}Object.defineProperty(t,"__esModule",{value:!0});var i=["error","warn","log","info"],a="warn";r.level=o.level=function(e){a=e},t.default=o},function(e,t,n){function r(e){return null===e||void 0===e}function o(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function i(e,t,n){var i,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=a.call(e),t=a.call(t),u(e,t,n));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}try{var f=s(e),d=s(t)}catch(e){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),i=f.length-1;i>=0;i--)if(f[i]!=d[i])return!1;for(i=f.length-1;i>=0;i--)if(c=f[i],!u(e[c],t[c],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(52),l=n(53),u=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:i(e,t,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(2),f=r(c),d=n(0),h=r(d),p=n(4),m=r(p),g=n(6),v=r(g),b=n(7),y=r(b),w=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(v.default);w.blotName="code",w.tagName="CODE";var x=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,n){return t.insert(n).insert("\n",e.formats())},new f.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var r=this.descendant(y.default,this.length()-1),o=s(r,1),i=o[0];null!=i&&i.deleteAt(i.length()-1,1),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,o){if(0!==n&&null!=h.default.query(r,h.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+n)){var a=this.newlineIndex(e,!0)+1,s=i-a+1,l=this.isolate(a,s),u=l.next;l.format(r,o),u instanceof t&&u.formatAt(0,e-a+n-s,r,o)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var r=this.descendant(y.default,e),o=s(r,2),i=o[0],a=o[1];i.insertAt(a,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(h.default.create("text","\n")),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=h.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof h.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var n=u(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(m.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",t.Code=w,t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return Object.keys(t).reduce(function(n,r){return null==e[r]?n:(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]],n)},{})}function s(e){return e.reduce(function(e,t){if(1===t.insert){var n=(0,A.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||(t=(0,A.default)(t),t.attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)},new d.default)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),d=r(f),h=n(20),p=r(h),m=n(0),g=r(m),v=n(13),b=r(v),y=n(24),w=r(y),x=n(4),C=r(x),k=n(16),_=r(k),E=n(21),A=r(E),S=n(11),O=r(S),T=n(3),D=r(T),N=/^[ -~]*$/,F=function(){function e(t){i(this,e),this.scroll=t,this.delta=this.getDelta()}return c(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var r=this.scroll.length();return this.scroll.batchStart(),e=s(e),e.reduce(function(e,o){var i=o.retain||o.delete||o.insert.length||1,a=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var s=o.insert;s.endsWith("\n")&&n&&(n=!1,s=s.slice(0,-1)),e>=r&&!s.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,s);var c=t.scroll.line(e),f=u(c,2),d=f[0],h=f[1],m=(0,D.default)({},(0,x.bubbleFormats)(d));if(d instanceof C.default){var v=d.descendant(g.default.Leaf,h),b=u(v,1),y=b[0];m=(0,D.default)(m,(0,x.bubbleFormats)(y))}a=p.default.attributes.diff(m,a)||{}}else if("object"===l(o.insert)){var w=Object.keys(o.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,o.insert[w])}r+=i}return Object.keys(a).forEach(function(n){t.scroll.formatAt(e,i,n,a[n])}),e+i},0),e.reduce(function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new d.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(e,Math.max(t,1)),a=t;i.forEach(function(t){var i=t.length();if(t instanceof b.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,o,r[o])}else t.format(o,r[o]);a-=i})}}),this.scroll.optimize(),this.update((new d.default).retain(e).retain(t,(0,A.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(o){n.scroll.formatAt(e,t,o,r[o])}),this.update((new d.default).retain(e).retain(t,(0,A.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new d.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach(function(e){var t=u(e,1),o=t[0];o instanceof C.default?n.push(o):o instanceof g.default.Leaf&&r.push(o)}):(n=this.scroll.lines(e,t),r=this.scroll.descendants(g.default.Leaf,e,t));var o=[n,r].map(function(e){if(0===e.length)return{};for(var t=(0,x.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=a((0,x.bubbleFormats)(n),t)}return t});return D.default.apply(D.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"==typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new d.default).retain(e).insert(o({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach(function(o){n.scroll.formatAt(e,t.length,o,r[o])}),this.update((new d.default).retain(e).insert(t,(0,A.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===C.default.blotName&&(!(e.children.length>1)&&e.children.head instanceof _.default)}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),o=u(r,2),i=o[0],a=o[1],s=0,l=new d.default;null!=i&&(s=i instanceof b.default?i.newlineIndex(a)-a+1:i.length()-a,l=i.delta().slice(a,a+s-1).insert("\n"));var c=this.getContents(e,t+s),f=c.diff((new d.default).insert(n).concat(l)),h=(new d.default).retain(e).concat(f);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(N)&&g.default.find(t[0].target)){var o=g.default.find(t[0].target),i=(0,x.bubbleFormats)(o),a=o.offset(this.scroll),s=t[0].oldValue.replace(w.default.CONTENTS,""),l=(new d.default).insert(s),u=(new d.default).insert(o.value());e=(new d.default).retain(a).concat(l.diff(u,n)).reduce(function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)},new d.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,O.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();t.default=F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),f=n(21),d=r(f),h=n(11),p=r(h),m=n(8),g=r(m),v=n(10),b=r(v),y=(0,b.default)("quill:selection"),w=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,e),this.index=t,this.length=n},x=function(){function e(t,n){var r=this;i(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(e,t){e===g.default.events.TEXT_CHANGE&&t.length()>0&&r.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var n=t.range,o=n.startNode,i=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(o,i,a,s)}}),this.update(g.default.sources.SILENT)}return l(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!c.default.query(e,c.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=c.default.find(n.start.node,!1);if(null==r)return;if(r instanceof c.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var r=void 0,o=this.scroll.leaf(e),i=s(o,2),a=i[0],l=i[1];if(null==a)return null;var u=a.position(l,!0),c=s(u,2);r=c[0],l=c[1];var f=document.createRange();if(t>0){f.setStart(r,l);var d=this.scroll.leaf(e+t),h=s(d,2);if(a=h[0],l=h[1],null==a)return null;var p=a.position(l,!0),m=s(p,2);return r=m[0],l=m[1],f.setEnd(r,l),f.getBoundingClientRect()}var g="left",v=void 0;return r instanceof Text?(l<r.data.length?(f.setStart(r,l),f.setEnd(r,l+1)):(f.setStart(r,l-1),f.setEnd(r,l),g="right"),v=f.getBoundingClientRect()):(v=a.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return y.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map(function(e){var n=s(e,2),r=n[0],o=n[1],i=c.default.find(r,!0),a=i.offset(t.scroll);return 0===o?a:i instanceof c.default.Container?a+i.length():a+i.index(r,o)}),i=Math.min(Math.max.apply(Math,o(r)),this.scroll.length()-1),a=Math.min.apply(Math,[i].concat(o(r)));return new w(a,i-a)}},{key:"normalizeNative",value:function(e){if(!a(this.root,e.startContainer)||!e.collapsed&&!a(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;t=t.lastChild,n=t instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n}),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],o=this.scroll.length();return n.forEach(function(e,n){e=Math.min(o-1,e);var i=void 0,a=t.scroll.leaf(e),l=s(a,2),u=l[0],c=l[1],f=u.position(c,0!==n),d=s(f,2);i=d[0],c=d[1],r.push(i,c)}),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var r=this.scroll.length()-1,o=this.scroll.line(Math.min(t.index,r)),i=s(o,1),a=i[0],l=a;if(t.length>0){var u=this.scroll.line(Math.min(t.index+t.length,r));l=s(u,1)[0]}if(null!=a&&null!=l){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(y.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.default.sources.API;if("string"==typeof t&&(n=t,t=!1),y.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,o(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.sources.USER,t=this.lastRange,n=this.getRange(),r=s(n,2),o=r[0],i=r[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,p.default)(t,this.lastRange)){var a;!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode&&this.cursor.restore();var l=[g.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(t),e];if((a=this.emitter).emit.apply(a,[g.default.events.EDITOR_CHANGE].concat(l)),e!==g.default.sources.SILENT){var u;(u=this.emitter).emit.apply(u,l)}}}}]),e}();t.Range=w,t.default=x},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"insertInto",value:function(e,n){0===e.children.length?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(u.default.Embed);c.blotName="break",c.tagName="BR",t.default=c},function(e,t,n){"use strict";function r(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),a=n(30),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var n=r(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,n){e.deleteAt(t,n)})},t.prototype.descendant=function(e,n){var r=this.children.find(n),o=r[0],i=r[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,function(n,r,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&o.push(n),n instanceof t&&(o=o.concat(n.descendants(e,r,i))),i-=a}),o},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,function(e,t,o){e.formatAt(t,o,n,r)})},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),o=r[0],i=r[1];if(o)o.insertAt(i,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(n){e.insertBefore(n,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),o=r[0],i=r[1],a=[[this,e]];return o instanceof t?a.concat(o.path(i,n)):(null!=o&&a.push([o,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),function(e,r,o){e=e.split(r,t),n.appendChild(e)}),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,o=[],i=[];e.forEach(function(e){e.target===n.domNode&&"childList"===e.type&&(o.push.apply(o,e.addedNodes),i.push.apply(i,e.removedNodes))}),i.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}}),o.filter(function(e){return e.parentNode==n.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var o=r(e);o.next==t&&null!=o.next||(null!=o.parent&&o.parent.removeChild(n),n.insertBefore(o,t||void 0))})},t}(a.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=n(31),a=n(17),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new i.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=s.query(e);n instanceof o.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some(function(e){return e.target===r.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(n,r){var o=e.prototype.wrap.call(this,n,r);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(a.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),i=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){return e={},e[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t.scope=i.Scope.INLINE_BLOT,t}(o.default);t.default=a},function(e,t,n){function r(e){this.ops=e,this.index=0,this.offset=0}var o=n(11),i=n(3),a={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=i(!0,{},t);n||(r=Object.keys(r).reduce(function(e,t){return null!=r[t]&&(e[t]=r[t]),e},{}));for(var o in e)void 0!==e[o]&&void 0===t[o]&&(r[o]=e[o]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce(function(n,r){return o(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce(function(n,r){return void 0===e[r]&&(n[r]=t[r]),n},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new r(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=a.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=a},function(e,n){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}function n(r,o,i,a,f){function d(r,i){if(null===r)return null;if(0===i)return r;var g,v;if("object"!=typeof r)return r;if(e(r,l))g=new l;else if(e(r,u))g=new u;else if(e(r,c))g=new c(function(e,t){r.then(function(t){e(d(t,i-1))},function(e){t(d(e,i-1))})});else if(n.__isArray(r))g=[];else if(n.__isRegExp(r))g=new RegExp(r.source,s(r)),r.lastIndex&&(g.lastIndex=r.lastIndex);else if(n.__isDate(r))g=new Date(r.getTime());else{if(m&&t.isBuffer(r))return g=new t(r.length),r.copy(g),g;e(r,Error)?g=Object.create(r):void 0===a?(v=Object.getPrototypeOf(r),g=Object.create(v)):(g=Object.create(a),v=a)}if(o){var b=h.indexOf(r);if(-1!=b)return p[b];h.push(r),p.push(g)}e(r,l)&&r.forEach(function(e,t){var n=d(t,i-1),r=d(e,i-1);g.set(n,r)}),e(r,u)&&r.forEach(function(e){var t=d(e,i-1);g.add(t)});for(var y in r){var w;v&&(w=Object.getOwnPropertyDescriptor(v,y)),w&&null==w.set||(g[y]=d(r[y],i-1))}if(Object.getOwnPropertySymbols)for(var x=Object.getOwnPropertySymbols(r),y=0;y<x.length;y++){var C=x[y],k=Object.getOwnPropertyDescriptor(r,C);(!k||k.enumerable||f)&&(g[C]=d(r[C],i-1),k.enumerable||Object.defineProperty(g,C,{enumerable:!1}))}if(f)for(var _=Object.getOwnPropertyNames(r),y=0;y<_.length;y++){var E=_[y],k=Object.getOwnPropertyDescriptor(r,E);k&&k.enumerable||(g[E]=d(r[E],i-1),Object.defineProperty(g,E,{enumerable:!1}))}return g}"object"==typeof o&&(i=o.depth,a=o.prototype,f=o.includeNonEnumerable,o=o.circular);var h=[],p=[],m=void 0!==t;return void 0===o&&(o=!0),void 0===i&&(i=1/0),d(r,i)}function r(e){return Object.prototype.toString.call(e)}function o(e){return"object"==typeof e&&"[object Date]"===r(e)}function i(e){return"object"==typeof e&&"[object Array]"===r(e)}function a(e){return"object"==typeof e&&"[object RegExp]"===r(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}var l;try{l=Map}catch(e){l=function(){}}var u;try{u=Set}catch(e){u=function(){}}var c;try{c=Promise}catch(e){c=function(){}}return n.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},n.__objToStr=r,n.__isDate=o,n.__isArray=i,n.__isRegExp=a,n.__getRegExpFlags=s,n}();"object"==typeof e&&e.exports&&(e.exports=r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e instanceof g.default||e instanceof m.BlockEmbed}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(0),d=r(f),h=n(8),p=r(h),m=n(4),g=r(m),v=n(16),b=r(v),y=n(13),w=r(y),x=n(25),C=r(x),k=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return a(t,e),u(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var r=this.line(e),o=l(r,2),i=o[0],a=o[1],s=this.line(e+n),u=l(s,1),f=u[0];if(c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=f&&i!==f&&a>0){if(i instanceof m.BlockEmbed||f instanceof m.BlockEmbed)return void this.optimize();if(i instanceof w.default){var d=i.newlineIndex(i.length(),!0);if(d>-1&&(i=i.split(d+1))===f)return void this.optimize()}else if(f instanceof w.default){var h=f.newlineIndex(0);h>-1&&f.split(h+1)}var p=f.children.head instanceof b.default?null:f.children.head;i.moveChildren(f,p),i.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,o){(null==this.whitelist||this.whitelist[r])&&(c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,o),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==d.default.query(n,d.default.Scope.BLOCK)){var o=d.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,r)}else{var i=d.default.create(n,r);this.appendChild(i)}else c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===d.default.Scope.INLINE_BLOT){var r=d.default.create(this.statics.defaultChild);r.appendChild(e),e=r}c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(s,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function e(t,n,r){var o=[],i=r;return t.children.forEachAt(n,r,function(t,n,r){s(t)?o.push(t):t instanceof d.default.Container&&(o=o.concat(e(t,n,i))),i-=r}),o}(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(p.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=p.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(p.default.events.SCROLL_BEFORE_UPDATE,n,e),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(p.default.events.SCROLL_UPDATE,n,e)}}}]),t}(d.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[g.default,m.BlockEmbed,C.default],t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n,r=e===j.keys.LEFT?"prefix":"suffix";return n={key:e,shiftKey:t,altKey:null},o(n,r,/^$/),o(n,"handler",function(n){var r=n.index;e===j.keys.RIGHT&&(r+=n.length+1);var o=this.quill.getLeaf(r);return!(v(o,1)[0]instanceof D.default.Embed)||(e===j.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,F.default.sources.USER):this.quill.setSelection(n.index-1,F.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,F.default.sources.USER):this.quill.setSelection(n.index+n.length+1,F.default.sources.USER),!1)}),n}function u(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=v(n,1),o=r[0],i={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=v(a,1),l=s[0];if(null!=l&&l.length()>1){var u=o.formats(),c=this.quill.getFormat(e.index-1,1);i=O.default.attributes.diff(u,c)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-f,f,F.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-f,f,i,F.default.sources.USER),this.quill.focus()}}function c(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},o=0,i=this.quill.getLine(e.index),a=v(i,1),s=a[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),u=v(l,1),c=u[0];if(c){var f=s.formats(),d=this.quill.getFormat(e.index,1);r=O.default.attributes.diff(f,d)||{},o=c.length()}}this.quill.deleteText(e.index,n,F.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+o-1,n,r,F.default.sources.USER)}}function f(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),o=t[t.length-1].formats();n=O.default.attributes.diff(o,r)||{}}this.quill.deleteText(e,F.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,F.default.sources.USER),this.quill.setSelection(e.index,F.default.sources.SILENT),this.quill.focus()}function d(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce(function(e,n){return D.default.query(n,D.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e},{});this.quill.insertText(e.index,"\n",r,F.default.sources.USER),this.quill.setSelection(e.index+1,F.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],F.default.sources.USER))})}function h(e){return{key:j.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=D.default.query("code-block"),r=t.index,o=t.length,i=this.quill.scroll.descendant(n,r),a=v(i,2),s=a[0],l=a[1];if(null!=s){var u=this.quill.getIndex(s),c=s.newlineIndex(l,!0)+1,f=s.newlineIndex(u+l+o),d=s.domNode.textContent.slice(c,f).split("\n");l=0,d.forEach(function(t,i){e?(s.insertAt(c+l,n.TAB),l+=n.TAB.length,0===i?r+=n.TAB.length:o+=n.TAB.length):t.startsWith(n.TAB)&&(s.deleteAt(c+l,n.TAB.length),l-=n.TAB.length,0===i?r-=n.TAB.length:o-=n.TAB.length),l+=t.length+1}),this.quill.update(F.default.sources.USER),this.quill.setSelection(r,o,F.default.sources.SILENT)}}}}function p(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],F.default.sources.USER)}}}function m(e){if("string"==typeof e||"number"==typeof e)return m({key:e});if("object"===(void 0===e?"undefined":g(e))&&(e=(0,w.default)(e,!1)),"string"==typeof e.key)if(null!=j.keys[e.key.toUpperCase()])e.key=j.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[M]=e.shortKey,delete e.shortKey),e}Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n(21),w=r(y),x=n(11),C=r(x),k=n(3),_=r(k),E=n(2),A=r(E),S=n(20),O=r(S),T=n(0),D=r(T),N=n(5),F=r(N),L=n(10),P=r(L),B=n(9),R=r(B),q=(0,P.default)("quill:keyboard"),M=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",j=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])}),r.addBinding({key:t.keys.ENTER,shiftKey:null},d),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},u),r.addBinding({key:t.keys.DELETE},{collapsed:!0},c)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},u),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},c)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},f),r.addBinding({key:t.keys.DELETE},{collapsed:!1},f),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},u),r.listen(),r}return s(t,e),b(t,null,[{key:"match",value:function(e,t){return t=m(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!t[n]!==e[n]&&null!==t[n]})&&t.key===(e.which||e.keyCode)}}]),b(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=m(e);if(null==r||null==r.key)return q.warn("Attempted to add invalid keyboard binding",r);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),r=(0,_.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var r=n.which||n.keyCode,o=(e.bindings[r]||[]).filter(function(e){return t.match(n,e)});if(0!==o.length){var i=e.quill.getSelection();if(null!=i&&e.quill.hasFocus()){var a=e.quill.getLine(i.index),s=v(a,2),l=s[0],u=s[1],c=e.quill.getLeaf(i.index),f=v(c,2),d=f[0],h=f[1],p=0===i.length?[d,h]:e.quill.getLeaf(i.index+i.length),m=v(p,2),b=m[0],y=m[1],w=d instanceof D.default.Text?d.value().slice(0,h):"",x=b instanceof D.default.Text?b.value().slice(y):"",k={collapsed:0===i.length,empty:0===i.length&&l.length()<=1,format:e.quill.getFormat(i),offset:u,prefix:w,suffix:x};o.some(function(t){if(null!=t.collapsed&&t.collapsed!==k.collapsed)return!1;if(null!=t.empty&&t.empty!==k.empty)return!1;if(null!=t.offset&&t.offset!==k.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==k.format[e]}))return!1}else if("object"===g(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=k.format[e]:!1===t.format[e]?null==k.format[e]:(0,C.default)(t.format[e],k.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(k.prefix))&&(!(null!=t.suffix&&!t.suffix.test(k.suffix))&&!0!==t.handler.call(e,i,k))})&&n.preventDefault()}}}})}}]),t}(R.default);j.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},j.DEFAULTS={bindings:{bold:p("bold"),italic:p("italic"),underline:p("underline"),indent:{key:j.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",F.default.sources.USER)}},outdent:{key:j.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",F.default.sources.USER)}},"outdent backspace":{key:j.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",F.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,F.default.sources.USER)}},"indent code-block":h(!0),"outdent code-block":h(!1),"remove tab":{key:j.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,F.default.sources.USER)}},tab:{key:j.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new A.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,F.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,F.default.sources.SILENT)}},"list empty enter":{key:j.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,F.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,F.default.sources.USER)}},"checklist enter":{key:j.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=v(t,2),r=n[0],o=n[1],i=(0,_.default)({},r.formats(),{list:"checked"}),a=(new A.default).retain(e.index).insert("\n",i).retain(r.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,F.default.sources.USER),this.quill.setSelection(e.index+1,F.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:j.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=v(n,2),o=r[0],i=r[1],a=(new A.default).retain(e.index).insert("\n",t.format).retain(o.length()-i-1).retain(1,{header:null});this.quill.updateContents(a,F.default.sources.USER),this.quill.setSelection(e.index+1,F.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),o=v(r,2),i=o[0],a=o[1];if(a>n)return!0;var s=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",F.default.sources.USER),this.quill.history.cutoff();var l=(new A.default).retain(e.index-a).delete(n+1).retain(i.length()-2-a).retain(1,{list:s});this.quill.updateContents(l,F.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,F.default.sources.SILENT)}},"code exit":{key:j.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=v(t,2),r=n[0],o=n[1],i=(new A.default).retain(e.index+r.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(i,F.default.sources.USER)}},"embed left":l(j.keys.LEFT,!1),"embed left shift":l(j.keys.LEFT,!0),"embed right":l(j.keys.RIGHT,!1),"embed right shift":l(j.keys.RIGHT,!0)}},t.default=j,t.SHORTKEY=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),d=n(7),h=r(d),p=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return a(t,e),u(t,null,[{key:"value",value:function(){}}]),u(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,o=0;null!=r&&r.statics.scope!==f.default.Scope.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(o,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),r=void 0,o=void 0,i=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var a=[e,n.start.offset,n.end.offset];r=a[0],o=a[1],i=a[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var l=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof h.default?(r=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=t.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var u=[o,i].map(function(e){return Math.max(0,Math.min(r.data.length,e-1))}),c=s(u,2);return o=c[0],i=c[1],{startNode:r,startOffset:o,endNode:r,endOffset:i}}}}},{key:"update",value:function(e,t){var n=this;if(e.some(function(e){return"characterData"===e.type&&e.target===n.textNode})){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}(f.default.Embed);p.blotName="cursor",p.className="ql-cursor",p.tagName="span",p.CONTENTS="\ufeff",t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(4),c=r(u),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(l.default.Container);f.allowedChildren=[c.default,u.BlockEmbed,f],t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"value",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):n}}]),t}(u.default.Attributor.Style),f=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),d=new c("color","color",{scope:u.default.Scope.INLINE});t.ColorAttributor=c,t.ColorClass=f,t.ColorStyle=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(6),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return a(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(c.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=f,t.sanitize=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(23),u=r(l),c=n(107),f=r(c),d=0,h=function(){function e(t){var n=this;o(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case u.default.keys.ENTER:n.togglePicker();break;case u.default.keys.ESCAPE:n.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return s(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),i(this.label,"aria-expanded"),i(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",function(){t.selectItem(n,!0)}),n.addEventListener("keydown",function(e){switch(e.keyCode){case u.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case u.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=f.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":a(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(o),a=n(5),s=r(a),l=n(4),u=r(l),c=n(16),f=r(c),d=n(25),h=r(d),p=n(24),m=r(p),g=n(35),v=r(g),b=n(6),y=r(b),w=n(22),x=r(w),C=n(7),k=r(C),_=n(55),E=r(_),A=n(42),S=r(A),O=n(23),T=r(O);s.default.register({"blots/block":u.default,"blots/block/embed":l.BlockEmbed,"blots/break":f.default,"blots/container":h.default,"blots/cursor":m.default,"blots/embed":v.default,"blots/inline":y.default,"blots/scroll":x.default,"blots/text":k.default,"modules/clipboard":E.default,"modules/history":S.default,"modules/keyboard":T.default}),i.default.register(u.default,f.default,m.default,y.default,x.default,k.default),t.default=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,o){var i=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&o)i.wrap(n,o);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);i.wrap(a),a.format(n,o)}},e.prototype.insertAt=function(e,t,n){var o=null==n?r.create("text",t):r.create(t,n),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(32),i=n(33),a=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=o.default.keys(this.domNode),s=i.default.keys(this.domNode);t.concat(n).concat(s).forEach(function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,n){return t[n]=e.attributes[n].value(e.domNode),t},{})},e}();t.default=s},function(e,t,n){"use strict";function r(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){r(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=r(e,this.keyName)[0]||"",n=t.slice(this.keyName.length+1);return this.canAdd(e,n)?n:""},t}(i.default);t.default=a},function(e,t,n){"use strict";function r(e){var t=e.split("-"),n=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+n}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[r(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[r(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[r(this.keyName)];return this.canAdd(e,t)?t:""},t}(i.default);t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){r(this,e),this.quill=t,this.options=n,this.modules={}}return o(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(0),c=r(u),f=n(7),d=r(f),h="\ufeff",p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(e){n.contentNode.appendChild(e)}),n.leftGuard=document.createTextNode(h),n.rightGuard=document.createTextNode(h),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return a(t,e),s(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split(h).join("");if(e===this.leftGuard)if(this.prev instanceof d.default){var o=this.prev.length();this.prev.insertAt(o,r),t={startNode:this.prev.domNode,startOffset:o+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(c.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(c.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=h,t}},{key:"update",value:function(e,t){var n=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}})}}]),t}(c.default.Embed);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new o.default.Attributor.Attribute("align","align",i),s=new o.default.Attributor.Class("align","ql-align",i),l=new o.default.Attributor.Style("align","text-align",i);t.AlignAttribute=a,t.AlignClass=s,t.AlignStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(26),a=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),s=new i.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},a=new o.default.Attributor.Attribute("direction","dir",i),s=new o.default.Attributor.Class("direction","ql-direction",i),l=new o.default.Attributor.Style("direction","direction",i);t.DirectionAttribute=a,t.DirectionClass=s,t.DirectionStyle=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new u.default.Attributor.Class("font","ql-font",c),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"value",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(u.default.Attributor.Style),h=new d("font","font-family",c);t.FontStyle=h,t.FontClass=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=i,t.SizeStyle=a},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=f.default.query(e,f.default.Scope.BLOCK)}))}function l(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),n=e.length()-t;return s(e)&&(n-=1),n}Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),d=n(5),h=r(d),p=n(9),m=r(p),g=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(h.default.events.EDITOR_CHANGE,function(e,t,n,o){e!==h.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==h.default.sources.USER?r.transform(t):r.record(t,n))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return a(t,e),u(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],h.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(m.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=g,t.getLastChangeIndex=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(3),d=r(f),h=n(2),p=r(h),m=n(8),g=r(m),v=n(23),b=r(v),y=n(34),w=r(y),x=n(59),C=r(x),k=n(60),_=r(k),E=n(28),A=r(E),S=n(61),O=r(S),T=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],N=[!1,"serif","monospace"],F=["1","2","3",!1],L=["small",!1,"large","huge"],P=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(e){e.container.contains(n.target)||e.close()})};return e.emitter.listenDOM("click",document.body,a),r}return a(t,e),u(t,[{key:"addModule",value:function(e){var n=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}})})}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&l(e,T),new _.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&l(e,D,"background"===n?"#ffffff":"#000000"),new C.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?l(e,N):e.classList.contains("ql-header")?l(e,F):e.classList.contains("ql-size")&&l(e,L)),new A.default(e)});var r=function(){n.pickers.forEach(function(e){e.update()})};this.quill.on(g.default.events.EDITOR_CHANGE,r)}}]),t}(w.default);P.DEFAULTS=(0,d.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new p.default).retain(r.index).delete(r.length).insert({image:n.target.result}),g.default.sources.USER),e.quill.setSelection(r.index+1,g.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return a(t,e),u(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){b.default.match(t,"enter")?(e.save(),t.preventDefault()):b.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,g.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,g.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=s(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,g.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",g.default.sources.USER),this.quill.setSelection(r+2,g.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(O.default);t.BaseTooltip=B,t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var o=n.length();if(e<o||t&&e===o&&(null==n.next||0!==n.next.length()))return[n,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,o=this.find(e),i=o[0],a=o[1],s=e-a,l=this.iterator(i);(r=l())&&s<e+t;){var u=r.length();e>s?n(r,e-s,Math.min(t,s+u-e)):n(r,0,Math.min(u,e+t-s)),s+=u}},e.prototype.map=function(e){return this.reduce(function(t,n){return t.push(e(n)),t},[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver(function(e){n.update(e)}),n.observer.observe(n.domNode,a),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,o){this.update(),e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var a=[].slice.call(this.observer.takeRecords());a.length>0;)t.push(a.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[i.DATA_KEY].mutations&&(e.domNode[i.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[i.DATA_KEY]&&null!=e.domNode[i.DATA_KEY].mutations&&(e instanceof o.default&&e.children.forEach(l),e.optimize(n))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(e){var t=i.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(i.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=i.find(e,!1);s(t,!1),t instanceof o.default&&t.children.forEach(function(e){s(e,!1)})})):"attributes"===e.type&&s(t.prev)),s(t))}),this.children.forEach(l),u=[].slice.call(this.observer.takeRecords()),a=u.slice();a.length>0;)t.push(a.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),t=t||this.observer.takeRecords(),t.map(function(e){var t=i.find(e.target,!0);return null==t?null:null==t.domNode[i.DATA_KEY].mutations?(t.domNode[i.DATA_KEY].mutations=[e],t):(t.domNode[i.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==r&&null!=e.domNode[i.DATA_KEY]&&e.update(e.domNode[i.DATA_KEY].mutations||[],n)}),null!=this.domNode[i.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[i.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=i.Scope.BLOCK_BLOT,t.tagName="DIV",t}(o.default);t.default=s},function(e,t,n){"use strict";function r(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach(function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,n,r,o){if(null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)){this.isolate(t,n).format(r,o)}else e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var o=this.formats();if(0===Object.keys(o).length)return this.unwrap();var i=this.next;i instanceof t&&i.prev===this&&r(o,i.formats())&&(i.moveChildren(this),i.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),i=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var r=i.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=i.query(n,i.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,o){null!=i.query(r,i.Scope.BLOCK)?this.format(r,o):e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=i.query(n,i.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var o=this.split(t),a=i.create(n,r);o.parent.insertBefore(a,o)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=i.Scope.BLOCK_BLOT,t.tagName="P",t}(o.default);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,o){0===t&&n===this.length()?this.format(r,o):e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(o.default);t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=n(1),a=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=i.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some(function(e){return"characterData"===e.type&&e.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=i.Scope.INLINE_BLOT,t}(o.default);t.default=a},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:o.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(t=n[i],e.call(o,t,i,n))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){function n(e,t,n){if(e==t)return e?[[g,e]]:[];(n<0||e.length<n)&&(n=null);var o=a(e,t),i=e.substring(0,o);e=e.substring(o),t=t.substring(o),o=s(e,t);var l=e.substring(e.length-o);e=e.substring(0,e.length-o),t=t.substring(0,t.length-o);var c=r(e,t);return i&&c.unshift([g,i]),l&&c.push([g,l]),u(c),null!=n&&(c=f(c,n)),c=d(c)}function r(e,t){var r;if(!e)return[[m,t]];if(!t)return[[p,e]];var i=e.length>t.length?e:t,a=e.length>t.length?t:e,s=i.indexOf(a);if(-1!=s)return r=[[m,i.substring(0,s)],[g,a],[m,i.substring(s+a.length)]],e.length>t.length&&(r[0][0]=r[2][0]=p),r;if(1==a.length)return[[p,e],[m,t]];var u=l(e,t);if(u){var c=u[0],f=u[1],d=u[2],h=u[3],v=u[4],b=n(c,d),y=n(f,h);return b.concat([[g,v]],y)}return o(e,t)}function o(e,t){for(var n=e.length,r=t.length,o=Math.ceil((n+r)/2),a=o,s=2*o,l=new Array(s),u=new Array(s),c=0;c<s;c++)l[c]=-1,u[c]=-1;l[a+1]=0,u[a+1]=0;for(var f=n-r,d=f%2!=0,h=0,g=0,v=0,b=0,y=0;y<o;y++){for(var w=-y+h;w<=y-g;w+=2){var x,C=a+w;x=w==-y||w!=y&&l[C-1]<l[C+1]?l[C+1]:l[C-1]+1;for(var k=x-w;x<n&&k<r&&e.charAt(x)==t.charAt(k);)x++,k++;if(l[C]=x,x>n)g+=2;else if(k>r)h+=2;else if(d){var _=a+f-w;if(_>=0&&_<s&&-1!=u[_]){var E=n-u[_];if(x>=E)return i(e,t,x,k)}}}for(var A=-y+v;A<=y-b;A+=2){var E,_=a+A;E=A==-y||A!=y&&u[_-1]<u[_+1]?u[_+1]:u[_-1]+1;for(var S=E-A;E<n&&S<r&&e.charAt(n-E-1)==t.charAt(r-S-1);)E++,S++;if(u[_]=E,E>n)b+=2;else if(S>r)v+=2;else if(!d){var C=a+f-A;if(C>=0&&C<s&&-1!=l[C]){var x=l[C],k=a+x-C;if(E=n-E,x>=E)return i(e,t,x,k)}}}}return[[p,e],[m,t]]}function i(e,t,r,o){var i=e.substring(0,r),a=t.substring(0,o),s=e.substring(r),l=t.substring(o),u=n(i,a),c=n(s,l);return u.concat(c)}function a(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function l(e,t){function n(e,t,n){for(var r,o,i,l,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,f="";-1!=(c=t.indexOf(u,c+1));){var d=a(e.substring(n),t.substring(c)),h=s(e.substring(0,n),t.substring(0,c));f.length<h+d&&(f=t.substring(c-h,c)+t.substring(c,c+d),r=e.substring(0,n-h),o=e.substring(n+d),i=t.substring(0,c-h),l=t.substring(c+d))}return 2*f.length>=e.length?[r,o,i,l,f]:null}var r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||2*o.length<r.length)return null;var i,l=n(r,o,Math.ceil(r.length/4)),u=n(r,o,Math.ceil(r.length/2));if(!l&&!u)return null;i=u?l&&l[4].length>u[4].length?l:u:l;var c,f,d,h;return e.length>t.length?(c=i[0],f=i[1],d=i[2],h=i[3]):(d=i[0],h=i[1],c=i[2],f=i[3]),[c,f,d,h,i[4]]}function u(e){e.push([g,""]);for(var t,n=0,r=0,o=0,i="",l="";n<e.length;)switch(e[n][0]){case m:o++,l+=e[n][1],n++;break;case p:r++,i+=e[n][1],n++;break;case g:r+o>1?(0!==r&&0!==o&&(t=a(l,i),0!==t&&(n-r-o>0&&e[n-r-o-1][0]==g?e[n-r-o-1][1]+=l.substring(0,t):(e.splice(0,0,[g,l.substring(0,t)]),n++),l=l.substring(t),i=i.substring(t)),0!==(t=s(l,i))&&(e[n][1]=l.substring(l.length-t)+e[n][1],l=l.substring(0,l.length-t),i=i.substring(0,i.length-t))),0===r?e.splice(n-o,r+o,[m,l]):0===o?e.splice(n-r,r+o,[p,i]):e.splice(n-r-o,r+o,[p,i],[m,l]),n=n-r-o+(r?1:0)+(o?1:0)+1):0!==n&&e[n-1][0]==g?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,o=0,r=0,i="",l=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(n=1;n<e.length-1;)e[n-1][0]==g&&e[n+1][0]==g&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),c=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),c=!0)),n++;c&&u(e)}function c(e,t){if(0===t)return[g,e];for(var n=0,r=0;r<e.length;r++){var o=e[r];if(o[0]===p||o[0]===g){var i=n+o[1].length;if(t===i)return[r+1,e];if(t<i){e=e.slice();var a=t-n,s=[o[0],o[1].slice(0,a)],l=[o[0],o[1].slice(a)];return e.splice(r,1,s,l),[r+1,e]}n=i}}throw new Error("cursor_pos is out of bounds!")}function f(e,t){var n=c(e,t),r=n[1],o=n[0],i=r[o],a=r[o+1];if(null==i)return e;if(i[0]!==g)return e;if(null!=a&&i[1]+a[1]===a[1]+i[1])return r.splice(o,2,a,i),h(r,o,2);if(null!=a&&0===a[1].indexOf(i[1])){r.splice(o,2,[a[0],i[1]],[0,i[1]]);var s=a[1].slice(i[1].length);return s.length>0&&r.splice(o+2,0,[a[0],s]),h(r,o,3)}return e}function d(e){for(var t=!1,n=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},r=2;r<e.length;r+=1)e[r-2][0]===g&&function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319}(e[r-2][1])&&e[r-1][0]===p&&n(e[r-1][1])&&e[r][0]===m&&n(e[r][1])&&(t=!0,e[r-1][1]=e[r-2][1].slice(-1)+e[r-1][1],e[r][1]=e[r-2][1].slice(-1)+e[r][1],e[r-2][1]=e[r-2][1].slice(0,-1));if(!t)return e;for(var o=[],r=0;r<e.length;r+=1)e[r][1].length>0&&o.push(e[r]);return o}function h(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var o=e[r],i=e[r+1];o[0]===i[1]&&e.splice(r,2,[o[0],o[1]+i[1]])}return e}var p=-1,m=1,g=0,v=n;v.INSERT=m,v.DELETE=p,v.EQUAL=g,e.exports=v},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=o?n:r,t.supported=n,t.unsupported=r},function(e,t){"use strict";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new n,this._eventsCount=0}var i=Object.prototype.hasOwnProperty,a="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e,t){var n=a?a+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},o.prototype.emit=function(e,t,n,r,o,i){var s=a?a+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,i),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},o.prototype.on=function(e,t,n){var o=new r(t,n||this),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},o.prototype.once=function(e,t,n){var o=new r(t,n||this,!0),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},o.prototype.removeListener=function(e,t,r,o){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return 0==--this._eventsCount?this._events=new n:delete this._events[i],this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||(0==--this._eventsCount?this._events=new n:delete this._events[i]);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||o&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[i]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new n:delete this._events[i]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new n:delete this._events[t])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,void 0!==e&&(e.exports=o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return"object"===(void 0===t?"undefined":k(t))?Object.keys(t).reduce(function(e,n){return l(e,n,t[n])},e):e.reduce(function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,S.default)({},o({},t,n),r.attributes))},new T.default)}function u(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function c(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var o=e.ops[r];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*t.length)===t}function f(e){return 0!==e.childNodes.length&&["block","list-item"].indexOf(u(e).display)>-1}function d(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce(function(t,n){return n(e,t)},new T.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(r,o){var i=d(o,t,n);return o.nodeType===e.ELEMENT_NODE&&(i=t.reduce(function(e,t){return t(o,e)},i),i=(o[K]||[]).reduce(function(e,t){return t(o,e)},i)),r.concat(i)},new T.default):new T.default}function h(e,t,n){return l(n,e,!0)}function p(e,t){var n=N.default.Attributor.Attribute.keys(e),r=N.default.Attributor.Class.keys(e),o=N.default.Attributor.Style.keys(e),i={};return n.concat(r).concat(o).forEach(function(t){var n=N.default.query(t,N.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(e),i[n.attrName])||(n=Y[t],null==n||n.attrName!==t&&n.keyName!==t||(i[n.attrName]=n.value(e)||void 0),null==(n=X[t])||n.attrName!==t&&n.keyName!==t||(n=X[t],i[n.attrName]=n.value(e)||void 0))}),Object.keys(i).length>0&&(t=l(t,i)),t}function m(e,t){var n=N.default.query(e);if(null==n)return t;if(n.prototype instanceof N.default.Embed){var r={},o=n.value(e);null!=o&&(r[n.blotName]=o,t=(new T.default).insert(r,n.formats(e)))}else"function"==typeof n.formats&&(t=l(t,n.blotName,n.formats(e)));return t}function g(e,t){return c(t,"\n")||t.insert("\n"),t}function v(){return new T.default}function b(e,t){var n=N.default.query(e);if(null==n||"list-item"!==n.blotName||!c(t,"\n"))return t;for(var r=-1,o=e.parentNode;!o.classList.contains("ql-clipboard");)"list"===(N.default.query(o)||{}).blotName&&(r+=1),o=o.parentNode;return r<=0?t:t.compose((new T.default).retain(t.length()-1).retain(1,{indent:r}))}function y(e,t){return c(t,"\n")||(f(e)||t.length()>0&&e.nextSibling&&f(e.nextSibling))&&t.insert("\n"),t}function w(e,t){if(f(e)&&null!=e.nextElementSibling&&!c(t,"\n\n")){var n=e.offsetHeight+parseFloat(u(e).marginTop)+parseFloat(u(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function x(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===u(e).fontStyle&&(n.italic=!0),r.fontWeight&&(u(e).fontWeight.startsWith("bold")||parseInt(u(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=l(t,n)),parseFloat(r.textIndent||0)>0&&(t=(new T.default).insert("\t").concat(t)),t}function C(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!u(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return t=t.replace(/[^\u00a0]/g,""),t.length<1&&e?" ":t};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&f(e.parentNode)||null!=e.previousSibling&&f(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&f(e.parentNode)||null!=e.nextSibling&&f(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(3),S=r(A),O=n(2),T=r(O),D=n(0),N=r(D),F=n(5),L=r(F),P=n(10),B=r(P),R=n(9),q=r(R),M=n(36),j=n(37),I=n(13),$=r(I),z=n(26),H=n(38),V=n(39),U=n(40),W=(0,B.default)("quill:clipboard"),K="__ql-matcher",G=[[Node.TEXT_NODE,C],[Node.TEXT_NODE,y],["br",g],[Node.ELEMENT_NODE,y],[Node.ELEMENT_NODE,m],[Node.ELEMENT_NODE,w],[Node.ELEMENT_NODE,p],[Node.ELEMENT_NODE,x],["li",b],["b",h.bind(h,"bold")],["i",h.bind(h,"italic")],["style",v]],Y=[M.AlignAttribute,H.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),X=[M.AlignStyle,j.BackgroundStyle,z.ColorStyle,H.DirectionStyle,V.FontStyle,U.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),J=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],G.concat(r.options.matchers).forEach(function(e){var t=_(e,2),o=t[0],i=t[1];(n.matchVisual||i!==w)&&r.addMatcher(o,i)}),r}return s(t,e),E(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[$.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new T.default).insert(n,o({},$.default.blotName,t[$.default.blotName]))}var r=this.prepareMatching(),i=_(r,2),a=i[0],s=i[1],l=d(this.container,a,s);return c(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new T.default).retain(l.length()-1).delete(1))),W.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,L.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new T.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),L.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new T.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(L.default.sources.SILENT),setTimeout(function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,L.default.sources.USER),t.quill.setSelection(r.length()-n.length,L.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach(function(r){var o=_(r,2),i=o[0],a=o[1];switch(i){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:t.push(a);break;default:[].forEach.call(e.container.querySelectorAll(i),function(e){e[K]=e[K]||[],e[K].push(a)})}}),[t,n]}}]),t}(q.default);J.DEFAULTS={matchers:[],matchVisual:!0},t.default=J,t.matchAttributor=p,t.matchBlot=m,t.matchNewline=y,t.matchSpacing=w,t.matchText=C},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(6),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"optimize",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(u.default);c.blotName="bold",c.tagName=["STRONG","B"],t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function u(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach(function(e){if("string"==typeof e)l(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?c(n,t,r):l(n,t,r)}}),e.appendChild(n)})}function c(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)}),e.appendChild(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),p=r(h),m=n(0),g=r(m),v=n(5),b=r(v),y=n(10),w=r(y),x=n(9),C=r(x),k=(0,w.default)("quill:toolbar"),_=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(r.options.container)){var o=document.createElement("div");u(o,r.options.container),e.container.parentNode.insertBefore(o,e.container),r.container=o}else"string"==typeof r.options.container?r.container=document.querySelector(r.options.container):r.container=r.options.container;if(!(r.container instanceof HTMLElement)){var s;return s=k.error("Container required for toolbar",r.options),a(r,s)}return r.container.classList.add("ql-toolbar"),r.controls=[],r.handlers={},Object.keys(r.options.handlers).forEach(function(e){r.addHandler(e,r.options.handlers[e])}),[].forEach.call(r.container.querySelectorAll("button, select"),function(e){r.attach(e)}),r.quill.on(b.default.events.EDITOR_CHANGE,function(e,t){e===b.default.events.SELECTION_CHANGE&&r.update(t)}),r.quill.on(b.default.events.SCROLL_OPTIMIZE,function(){var e=r.quill.selection.getRange(),t=f(e,1),n=t[0];r.update(n)}),r}return s(t,e),d(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void k.warn("ignoring attaching to disabled format",n,e);if(null==g.default.query(n))return void k.warn("ignoring attaching to nonexistent format",n,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,function(r){var i=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var a=e.options[e.selectedIndex];i=!a.hasAttribute("selected")&&(a.value||!1)}else i=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var s=t.quill.selection.getRange(),l=f(s,1),u=l[0];if(null!=t.handlers[n])t.handlers[n].call(t,i);else if(g.default.query(n).prototype instanceof g.default.Embed){if(!(i=prompt("Enter "+n)))return;t.quill.updateContents((new p.default).retain(u.index).delete(u.length).insert(o({},n,i)),b.default.sources.USER)}else t.quill.format(n,i,b.default.sources.USER);t.update(u)}),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(n){var r=f(n,2),o=r[0],i=r[1];if("SELECT"===i.tagName){var a=void 0;if(null==e)a=null;else if(null==t[o])a=i.querySelector("option[selected]");else if(!Array.isArray(t[o])){var s=t[o];"string"==typeof s&&(s=s.replace(/\"/g,'\\"')),a=i.querySelector('option[value="'+s+'"]')}null==a?(i.value="",i.selectedIndex=-1):a.selected=!0}else if(null==e)i.classList.remove("ql-active");else if(i.hasAttribute("value")){var l=t[o]===i.getAttribute("value")||null!=t[o]&&t[o].toString()===i.getAttribute("value")||null==t[o]&&!i.getAttribute("value");i.classList.toggle("ql-active",l)}else i.classList.toggle("ql-active",null!=t[o])})}}]),t}(C.default);_.DEFAULTS={},_.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(t){null!=g.default.query(t,g.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,b.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",b.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,b.default.sources.USER),this.quill.format("direction",e,b.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,b.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,b.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,b.default.sources.USER):this.quill.format("list","unchecked",b.default.sources.USER):this.quill.format("list",e,b.default.sources.USER)}}},t.default=_,t.addControls=u},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(28),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),i}return i(t,e),a(t,[{key:"buildItem",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),o=e?e.getAttribute("data-value")||"":"";r&&("line"===r.tagName?r.style.stroke=o:r.style.fill=o)}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(28),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=n[e.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return i(t,e),a(t,[{key:"selectItem",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var o=this;r(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px"}),this.hide()}return o(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=t+i+"px"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=t+i+"px"),o.bottom>r.bottom){var a=o.bottom-o.top,s=e.bottom-e.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),f=r(c),d=n(8),h=r(d),p=n(43),m=r(p),g=n(27),v=r(g),b=n(15),y=n(41),w=r(y),x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(e){function t(e,n){o(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=x);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return a(t,e),u(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),w.default),this.tooltip=new k(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,n){e.handlers.link.call(e,!n.format.link)})}}]),t}(m.default);C.DEFAULTS=(0,f.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n);this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var k=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return a(t,e),u(t,[{key:"listen",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,h.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(t,n,r){if(null!=t){if(0===t.length&&r===h.default.sources.USER){var o=e.quill.scroll.descendant(v.default,t.index),i=s(o,2),a=i[0],l=i[1];if(null!=a){e.linkRange=new b.Range(t.index-l,a.length());var u=v.default.formats(a.domNode);return e.preview.textContent=u,e.preview.setAttribute("href",u),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(p.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(29),i=r(o),a=n(36),s=n(38),l=n(64),u=n(65),c=r(u),f=n(66),d=r(f),h=n(67),p=r(h),m=n(37),g=n(26),v=n(39),b=n(40),y=n(56),w=r(y),x=n(68),C=r(x),k=n(27),_=r(k),E=n(69),A=r(E),S=n(70),O=r(S),T=n(71),D=r(T),N=n(72),F=r(N),L=n(73),P=r(L),B=n(13),R=r(B),q=n(74),M=r(q),j=n(75),I=r(j),$=n(57),z=r($),H=n(41),V=r(H),U=n(28),W=r(U),K=n(59),G=r(K),Y=n(60),X=r(Y),J=n(61),Z=r(J),Q=n(108),ee=r(Q),te=n(62),ne=r(te);i.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":b.SizeStyle},!0),i.default.register({"formats/align":a.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":l.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":v.FontClass,"formats/size":b.SizeClass,"formats/blockquote":c.default,"formats/code-block":R.default,"formats/header":d.default,"formats/list":p.default,"formats/bold":w.default,"formats/code":B.Code,"formats/italic":C.default,"formats/link":_.default,"formats/script":A.default,"formats/strike":O.default,"formats/underline":D.default,"formats/image":F.default,"formats/video":P.default,"formats/list/item":h.ListItem,"modules/formula":M.default,"modules/syntax":I.default,"modules/toolbar":z.default,"themes/bubble":ee.default,"themes/snow":ne.default,"ui/icons":V.default,"ui/picker":W.default,"ui/icon-picker":X.default,"ui/color-picker":G.default,"ui/tooltip":Z.default},!0),t.default=i.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(u.default.Attributor.Class),f=new c("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default);l.blotName="blockquote",l.tagName="blockquote",t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(l.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(0),f=r(c),d=n(4),h=r(d),p=n(25),m=r(p),g=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"format",value:function(e,n){e!==v.blotName||n?u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(f.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:u(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(h.default);g.blotName="list-item",g.tagName="LI";var v=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),o=f.default.find(t.target);"checked"===r?o.format("list","unchecked"):"unchecked"===r&&o.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return s(t,e),l(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=u(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),l(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return o({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(e,n){if(e instanceof g)u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),o=this.split(r);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=f.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(m.default);v.blotName="list",v.scope=f.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[g],t.ListItem=g,t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(56),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default);l.blotName="italic",l.tagName=["EM","I"],t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(6),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(u.default);c.blotName="script",c.tagName=["SUB","SUP"],t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default);l.blotName="strike",l.tagName="S",t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default);l.blotName="underline",l.tagName="U",t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(27),f=["alt","height","width"],d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"format",value:function(e,n){f.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return f.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,c.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(u.default.Embed);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(4),u=n(27),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=["height","width"],d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"format",value:function(e,n){f.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return f.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"sanitize",value:function(e){return c.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(l.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(35),c=r(u),f=n(5),d=r(f),h=n(9),p=r(h),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,null,[{key:"create",value:function(e){var n=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(c.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var g=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return a(t,e),s(t,null,[{key:"register",value:function(){d.default.register(m,!0)}}]),t}(p.default);t.FormulaBlot=m,t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(0),c=r(u),f=n(5),d=r(f),h=n(9),p=r(h),m=n(13),g=r(m),v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(g.default);v.className="ql-syntax";var b=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),y=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var a=null;return r.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(a),a=setTimeout(function(){r.highlight(),a=null},r.options.interval)}),r.highlight(),r}return a(t,e),s(t,null,[{key:"register",value:function(){d.default.register(b,!0),d.default.register(v,!0)}}]),s(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(d.default.sources.SILENT),null!=t&&this.quill.setSelection(t,d.default.sources.SILENT)}}}]),t}(p.default);y.DEFAULTS={highlight:function(){return null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value}}(),interval:1e3},t.CodeBlock=v,t.CodeToken=b,t.default=y},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),f=n(8),d=r(f),h=n(43),p=r(h),m=n(15),g=n(41),v=r(g),b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],y=function(e){function t(e,n){o(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=b);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return a(t,e),l(t,[{key:"extendToolbar",value:function(e){this.tooltip=new w(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),v.default)}}]),t}(p.default);y.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var w=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(d.default.events.EDITOR_CHANGE,function(e,t,n,o){if(e===d.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===d.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var i=r.quill.getLines(t.index,t.length);if(1===i.length)r.position(r.quill.getBounds(t));else{var a=i[i.length-1],s=r.quill.getIndex(a),l=Math.min(a.length()-1,t.index+t.length-s),u=r.quill.getBounds(new m.Range(s,l));r.position(u)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()}),r}return a(t,e),l(t,[{key:"listen",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),t}(h.BaseTooltip);w.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=w,t.default=y},function(e,t,n){e.exports=n(63)}]).default})}).call(t,n(23).Buffer)},function(e,t,n){"use strict";(function(e){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?c(e,t,n):h(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return s(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function u(e,t){if(s(t),e=o(e,t<0?0:0|p(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n);e=o(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=f(e,t),e}function h(e,t){if(i.isBuffer(t)){var n=0|p(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Y(t.length)?o(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),i.alloc(+e)}function g(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}var u;if(o){var c=-1;for(u=n;u<s;u++)if(i(e,u)===i(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var f=!0,d=0;d<l;d++)if(i(e,u+d)!==i(t,d)){f=!1;break}if(f)return u}return-1}function x(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function C(e,t,n,r){return G(V(t,e.length-n),e,n,r)}function k(e,t,n,r){return G(U(t),e,n,r)}function _(e,t,n,r){return k(e,t,n,r)}function E(e,t,n,r){return G(K(t),e,n,r)}function A(e,t,n,r){return G(W(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=n){var l,u,c,f;switch(s){case 1:i<128&&(a=i);break;case 2:l=e[o+1],128==(192&l)&&(f=(31&i)<<6|63&l)>127&&(a=f);break;case 3:l=e[o+1],u=e[o+2],128==(192&l)&&128==(192&u)&&(f=(15&i)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:l=e[o+1],u=e[o+2],c=e[o+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(f=(15&i)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return T(r)}function T(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function F(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=H(e[i]);return o}function L(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function q(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return o||M(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,o){return o||M(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function $(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function K(e){return X.toByteArray($(e))}function G(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Y(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var X=n(108),J=n(109),Z=n(110);t.Buffer=i,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return a(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return l(null,e,t,n)},i.allocUnsafe=function(e){return u(null,e)},i.allocUnsafeSlow=function(e){return u(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=g,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):v.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var a=o-r,s=n-t,l=Math.min(a,s),u=this.slice(r,o),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){a=u[f],s=c[f];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=i.prototype;else{var o=t-e;r=new i(o,void 0);for(var a=0;a<o;++a)r[a]=this[a+e]}return r},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),J.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),J.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),J.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),J.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){B(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){B(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):q(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):q(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);B(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);B(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):q(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):q(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=i.isBuffer(e)?e:V(new i(e,r).toString()),l=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(3))},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=void 0;t.default={components:{},name:"tinymce_new",props:["value","showToolbar","pasteImage"],watch:{value:function(e){}},data:function(){return{id:"id_tinymce_"+util.getTimeRandom(),myValue:this.value}},methods:{uploadingImg:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){var o,i,a,s,l,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.blob(),i=moment().format("YYYYMMDDHHmmSSsss"),e.next=4,axios({method:"post",url:PUB.urlGetQiniuToken,data:{options:{forceSaveKey:!0,saveKey:i+"_"+o.name,returnBody:'{      "key": $(key), "hash": $(etag), "w": $(imageInfo.width), "h": $(imageInfo.height),\n        "size": $(fsize),\n          "bucket": $(bucket),\n            "fname": $(fname),\n              "ext": $(ext),\n                "time": "$(year)-$(mon)-$(day) $(hour):$(min):$(sec) "\n    }'}}});case 4:return a=e.sent,s=new FormData,s.append("file",o),s.append("token",a.data.token),e.next=10,axios({method:"post",url:window.PUB.urlUpload,data:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 10:l=e.sent,u=l.data,u.key?(c=a.data.downloadDomain+"/"+u.key,n(c)):r(alert("图片上传失败"));case 13:case"end":return e.stop()}},e,this)}));return e}()},mounted:function(){if(console.log("初始化:"+this.id),!this.showToolbar)var e=!1,t=setInterval(function(){null!=tinymce.activeEditor.getBody()&&(e=!0,tinymce.activeEditor.getBody().setAttribute("contenteditable",!1)),e&&clearInterval(t)},100);tinymce.init({convert_urls:!1,selector:"#"+this.id,language:"zh_CN",plugins:["powerpaste","lists","image","autoresize","code","link","autolink","codesample","table"],menubar:!1,statusbar:!1,toolbar:"undo redo |  formatselect | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image  table code link codesample| removeformat",max_height:400,min_height:200,autoresize_on_init:!0,autoresize_overflow_padding:10,default_link_target:"_blank",autoresize_bottom_margin:10,powerpaste_word_import:"propmt",powerpaste_html_import:"propmt",paste_data_images:this.pasteImage,images_upload_handler:this.uploadingImg,setup:function(e){o=e,e.on("input change undo redo execCommand KeyUp",function(t){this.$emit("input",e.getContent())})}})},beforeCreate:function(){},created:function(){this.showToolbar||(this.init.toolbar=!1),this.pasteImage||console.warn("无法粘贴上传图片，请设置pasteImage为true")}}},function(e,t,n){"use strict";function r(e){n(120)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(122),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-6e2d7a21",null);t.default=c.exports},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(8),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={mixins:[MIX.form_item],components:{collection:l.default},props:{cf:{type:Object,default:function(){return{}}}},name:"select_list_data",data:function(){return{label:null,selectData:[],isShowDialog:!1,cfList:this.cf.cfList}},methods:{showDialog:function(){this.isShowDialog=!0,console.log("this.valueNeed:",this.valueNeed);var e=void 0,t=this.cf.valueKey;if(this.valueNeed.length&&(e=this.valueNeed.map(function(e){return e[t]})),e){this.cfList.objParamAddon=this.cfList.objParamAddon||{},this.cfList.objParamAddon.findJson=this.cfList.objParamAddon.findJson||{};var n=i({},t,{$nin:e});this.cfList.objParamAddon.findJson=a({},this.cfList.objParamAddon.findJson,n)}},confirmSelect:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.$refs.listSelectData.$refs.table.selection,t.length){e.next=3;break}return e.abrupt("return",this.$message.error("未选择任何数据"));case 3:return this.selectData=util.deepCopy(t),this.cf.multiple?(this.valueNeed=this.valueNeed||[],o=this.cf.selectJson,this.cf.selectJson&&(this.selectData=this.selectData.map(function(e){var t={};for(var n in o)o[n]&&(t[n]=e[n]);return t})),(n=this.valueNeed).push.apply(n,r(this.selectData))):(this.valueNeed=lodash.get(this.selectData,"[0]."+(this.cf.valueKey||"P1")),this.label=lodash.get(this.selectData,"[0]."+(this.cf.labelKey||"name"))),this.isShowDialog=!1,this.$emit("select",this.valueNeed),this.$refs.input_help.focus(),e.next=10,this.$nextTick();case 10:this.$refs.input_help.blur();case 11:case"end":return e.stop()}},e,this)}));return e}(),ajaxGetLabel:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,axios({method:"post",url:PUB.domain+"/crossDetail?page="+this.cf.pageName,data:{id:this.value}});case 4:if(t=e.sent,n=t.data.Doc){e.next=8;break}return e.abrupt("return");case 8:this.label=n[this.cf.labelKey];case 9:case"end":return e.stop()}},e,this)}));return e}()},created:function(){this.value||(this.valueNeed=""),this.cfList.isShowBreadcrumb=!1,this.cfList.pageSize=10,this.cfList.focusMenu=!1},mounted:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.ajaxGetLabel();case 1:case"end":return e.stop()}},e,this)}));return e}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"number_range",components:{},mixins:[MIX.form_item],props:{listType:{default:"bar"},keyMax:{default:"max"},keyMin:{default:"min"}},watch:{value:{handler:function(e,t){this.value||(this.valueNeed={})},immediate:!0,deep:!0}},data:function(){return{}},methods:{},created:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"tag_list",props:{value:[Array]},watch:{value:{handler:function(e,t){this.value?this.valueNeed=this.value:this.valueNeed=[]},immediate:!0,deep:!0},valueNeed:{handler:function(e,t){this.valueNeed&&this.$emit("input",this.valueNeed)},deep:!0}},data:function(){return{valueNeed:null,inputVisible:!1,inputValue:""}},methods:{handleClose:function(e){var t=this.valueNeed.indexOf(e);this.valueNeed.splice(t,1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick(function(t){e.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var e=this.inputValue;e&&this.valueNeed.push(e),this.inputVisible=!1,this.inputValue=""}},created:function(){}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var t=e[Symbol.asyncIterator];if(null!=t)return t.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(136),l=r(s),u=n(7),c=r(u);t.default={name:"dm_list_data",components:{listDialogs:l.default,dynamicForm:c.default},props:{value:Array,cf:{type:Object,default:function(){return{}}}},data:function(){return{id:"id_"+util.getTimeRandom(),rowEdit:null,columnEdit:null,formDataEditRow:{},cfFormEditRow:{labelWidth:"150px",formItems:[F_ITEMS.name],btns:[{text:"提交",event:"submit",type:"primary",validate:!0},{text:"取消",event:"cancel"}]},isShowDialogEditRow:!1,cfSearchForm:{labelWidth:"auto",size:"mini",inline:!0,formItems:this.cf.searchFormItems,watch:lodash.get(this.cf,"cfSearchForm.watch"),btns:[{text:"查询",event:"submit1",type:"primary"}]},allCount:20,objParam:{findJson:{},pageIndex:1,pageSize:this.cf.pageSize||10},tableData:[]}},watch:{"cf.objParamAddon":{immediate:!0,deep:!0,handler:function(e,t){Object.assign(this.objParam,this.cf.objParamAddon),this.objParam=util.deepCopy(this.objParam)}},tableData:{handler:function(e,t){this.$emit("input",this.tableData)},deep:!0},value:{handler:function(e,t){this.value&&(this.tableData=this.value)},deep:!0}},methods:{tableExportExcel:util.tableExportExcel,tdEdit:function(){function e(e,n){return t.apply(this,arguments)}var t=a(regeneratorRuntime.mark(function e(t,n){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.edit,o=n.prop,this.columnEdit=n,this.rowEdit=t,!r){e.next=10;break}return i=this.cf.formItems.find(function(e){return e.prop==o}),this.cfFormEditRow.formItems=[i],this.isShowDialogEditRow=!0,e.next=9,util.timeout(500);case 9:this.formDataEditRow[o]=t[o];case 10:case"end":return e.stop()}},e,this)}));return e}(),submitFormEditRow:function(){var e=this.columnEdit.prop,t=this.formDataEditRow[e];this.rowEdit[e]=t,this.$refs.listDialogs.cfEditDialog.dataIdModify=this.rowEdit[this.cf.idKey],this.$refs.listDialogs.$refs.dialog_edit.modifyData(i({},e,t)),this.isShowDialogEditRow=!1},test:function(){},getSigleLinkUrl:function(e,t){var n=e.url?e.url+t[this.cf.idKey]:"javascript:;";return e.urlFormatter&&(n=e.urlFormatter(t)),n},filterHandler:function(e){for(var t in e)this.objParam.findJson[t]=e[t],this.getDataList()},handleSizeChange:function(e){this.objParam.pageSize=e,this.getDataList()},sortChange:function(e){var t={descending:-1,ascending:1},n={},r=t[e.order];r&&(n[e.prop]=r),this.objParam.sortJson=Object.assign({},this.cf.sortJsonDefault,n),this.getDataList()},selectionChange:function(e){this.cf.isMultipleSelect||e.length>1&&(this.$refs.table.clearSelection(),this.$refs.table.toggleRowSelection(e.pop()))},getTipsStyle:function(e){var t=lodash.get(this.cf,"batchBtns.tips.style"),n={color:"#f90"};return Object.assign(n,t)},singleBtnClick:function(e,t){this.$emit("single-btn-click",e,t)},batchBtnClick:function(){function e(e,n){return t.apply(this,arguments)}var t=a(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}if(r=this.$refs.table.selection,!(r.length>0)){e.next=6;break}this.$emit("bacth-btn-click",t,r),e.next=7;break;case 6:return e.abrupt("return",this.$message({message:"未选中数据",type:"error"}));case 7:"delete"==t&&this.deleteSelection(),e.next=32;break;case 10:if("add"!=t){e.next=14;break}this.showAdd(),e.next=32;break;case 14:if("refresh"!=t){e.next=20;break}return e.next=17,this.getDataList();case 17:this.$message.success("刷新成功"),e.next=32;break;case 20:if("export_excel"!=t){e.next=32;break}if(o=window,i=o.jQuery){e.next=24;break}return e.abrupt("return",console.error("jQuery不存在，请先引用对应的js"));case 24:return a="#"+this.id+" .el-table__header-wrapper table",s="#"+this.id+" .el-table__body-wrapper table",$(s).find("tbody").prepend($(a).find("tr:first").clone()),e.next=29,this.tableExportExcel({el:s,fileName:"数据表"});case 29:return e.next=31,util.timeout(500);case 31:$(s).find("tr:first").remove();case 32:return e.abrupt("return",this.$emit("bacth-btn-click",t));case 33:case"end":return e.stop()}},e,this)}));return e}(),showAdd:function(){this.$refs.listDialogs.cfFormAdd.urlInit=null,this.$emit("after-show-Dialog-Add"),this.$store.commit("openDialogAdd",this.cf.listIndex)},showCopy:function(e){this.$emit("after-show-dialog-copy"),this.$store.commit("openDialogAdd",this.cf.listIndex)},deleteSelection:function(){var e=this.$refs.table.selection;if(e.length>0){for(var t=[],n=0;n<e.length;n++)t.push(e[n][this.cf.idKey]);this.confirmDelete(t)}},filterData:function(e){var t=e.pid,n=e.listIndex,r=e.targetIdKey;this.$store.commit("setListFindJson",{listIndex:n,findJson:i({},r,t)}),this.$router.push({path:"/"+n})},showDetail:function(){function e(e){return t.apply(this,arguments)}var t=a(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$emit("after-show-Dialog-Detail",t),n=i({},"_id"==this.cf.idKey?"_id":"id",t[this.cf.idKey]),Object.assign(n,this.cf.paramAddonPublic),!this.cf.url.detail){e.next=9;break}return e.next=6,axios({method:"post",url:PUB.domain+this.cf.url.detail,data:n});case 6:r=e.sent,o=r.data,t=o.Doc||o.doc;case 9:this.$store.commit("openDialogDetail",{listIndex:this.cf.listIndex,row:t});case 10:case"end":return e.stop()}},e,this)}));return e}(),confirmDelete:function(){function e(e){return t.apply(this,arguments)}var t=a(regeneratorRuntime.mark(function e(t){var n,r,o,a,s,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("确认删除该数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(){});case 2:if(n=e.sent,r=[],"confirm"!=n){e.next=21;break}if(o=util.type(t),r="array"==o?this.tableData.filter(function(e){return t.includes(e[l.cf.idKey])}):[this.tableData.find(function(e){return e[l.cf.idKey]==t})],r=util.deepCopy(r),!this.cf.url.delete){e.next=17;break}return a=void 0,a="_id"==this.cf.idKey?{_id:t}:{findJson:i({},this.cf.idKey,t)},Object.assign(a,this.cf.paramAddonPublic),e.next=14,axios({method:"post",url:PUB.domain+this.cf.url.delete,data:a}).catch(function(e){alert("异常:"+e)});case 14:this.cf.isRefreshAfterCUD&&this.getDataList(),e.next=19;break;case 17:s=r.map(function(e){return e[l.cf.idKey]}),this.tableData=this.tableData.filter(function(e){return!s.includes(e[l.cf.idKey])});case 19:this.$message({message:"删除成功",duration:1500,type:"success"}),this.$emit("after-delete",r);case 21:case"end":return e.stop()}},e,this)}));return e}(),searchList:function(){this.objParam.pageIndex=1,this.getDataList()},handleCurrentChange:function(e){this.objParam.pageIndex=e,this.getDataList()},getDataList:function(){function e(){return t.apply(this,arguments)}var t=a(regeneratorRuntime.mark(function e(){var t,n,r,i,a,s,l,u,c,f,d,h,p,m,g,v,b,y,w,x,C,k,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=util.deepCopy(this.objParam),n=t.findJson,r=!0,i=!1,a=void 0,e.prev=5,s=Object.keys(n)[Symbol.iterator]();!(r=(l=s.next()).done);r=!0)u=l.value,c=util.type(n[u]),"array"==c&&0===n[u].length&&(n[u]=null),(f=lodash.get(this.cf,"deleteFindJson."+u))&&delete n[u];e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),i=!0,a=e.t0;case 13:e.prev=13,e.prev=14,!r&&s.return&&s.return();case 16:if(e.prev=16,!i){e.next=19;break}throw a;case 19:return e.finish(16);case 20:return e.finish(13);case 21:if(!(d=lodash.get(this.cf,"url.list"))){e.next=33;break}return e.next=25,axios({method:"post",url:PUB.domain+d,data:t});case 25:h=e.sent,p=h.data,m=p.list,g=p.page,this.tableData=m,this.page=g,this.allCount=g.allCount,e.next=34;break;case 33:this.tableData=util.searchCollection({dataBase:this.value,findJson:n});case 34:if(!this.cf.dynamicDict){e.next=73;break}v=!0,b=!1,y=void 0,e.prev=38,w=o(this.cf.dynamicDict);case 40:return e.next=42,w.next();case 42:return x=e.sent,v=x.done,e.next=46,x.value;case 46:if(C=e.sent,v){e.next=57;break}return k=C,_=lodash.cloneDeep(k),_.listData=this.tableData,e.next=53,util.ajaxPopulate(_);case 53:this.tableData=e.sent;case 54:v=!0,e.next=40;break;case 57:e.next=63;break;case 59:e.prev=59,e.t1=e.catch(38),b=!0,y=e.t1;case 63:if(e.prev=63,e.prev=64,v||!w.return){e.next=68;break}return e.next=68,w.return();case 68:if(e.prev=68,!b){e.next=71;break}throw y;case 71:return e.finish(68);case 72:return e.finish(63);case 73:this.$emit("after-search",this.tableData);case 74:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20],[38,59,63,73],[64,,68,72]])}));return e}()},created:function(){util.setObjDefault(this.cf,{idKey:"P1",isMultipleSelect:!0,isShowCheckedBox:!0,isShowSearchForm:!0,isShowBreadcrumb:!0,isShowPageLink:!0,isShowOperateColumn:!0,isRefreshAfterCUD:!0,isShowToolBar:!0,cfElTable:{},paramAddonPublic:{}}),util.setObjDefault(this.cf.cfElTable,{"header-row-class-name":"n-table-head","row-class-name":"n-table-row"});var e=lodash.get(this.cf,"objParamAddon.findJson"),t=e||this.cf.findJsonDefault||{},n=this.$store.state.defultFindJson[this.cf.listIndex];n&&(Object.assign(t,n),this.$store.commit("setListFindJson",{listIndex:this.cf.listIndex,findJson:{}})),this.objParam.findJson=t,this.objParam.sortJson=lodash.cloneDeep(this.cf.sortJsonDefault);var r=i({},this.cf.idKey,1);this.cf.columns.forEach(function(e){e.__id=util.getTimeRandom(),r[e.prop]=1,util.setObjDefault(e,{showOverflowTooltip:!0}),e.requireProp&&e.requireProp.length&&e.requireProp.forEach(function(e){r[e]=1})}),this.objParam.selectJson=r,this.cf.findJson&&(this.objParam.findJson[this.cf.findJson.type]=this.cf.findJson.value);var o={isShowDialogAdd:!1,isShowDialogDetail:!1,row:{}};this.$store.commit("initListState",{listIndex:this.cf.listIndex,objState:o}),this.cf.focusMenu&&this.$store.commit("changeActiveMenu",this.cf.listIndex),lodash.get(this.cf,"batchBtns.addon")||lodash.set(this.cf,"batchBtns.addon",[util.cfList.bBtns.add,util.cfList.bBtns.delete]),lodash.get(this.cf,"singleBtns.addon")||lodash.set(this.cf,"singleBtns.addon",[util.cfList.sBtns.detail,util.cfList.sBtns.modify,util.cfList.sBtns.delete]),util.setListPower(this.cf),this.$on("single-btn-click",function(e,t){"delete"==e?this.confirmDelete(t[this.cf.idKey]):"modify"==e?this.$refs.listDialogs.showModify(t):"detail"==e?this.showDetail(t):"copy"==e&&(this.$refs.listDialogs.cfFormAdd.paramAddonInit=this.cf.paramAddonPublic,this.$refs.listDialogs.cfFormAdd.urlInit=this.cf.url.detail,this.$refs.listDialogs.cfFormAdd.idKey=this.cf.idKey,this.$refs.listDialogs.formAdd=lodash.cloneDeep(t),this.showCopy(t))})},mounted:function(){function e(){return t.apply(this,arguments)}var t=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,util.timeout(30);case 2:console.warn("神奇！！"),this.getDataList();case 4:case"end":return e.stop()}},e,this)}));return e}()}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(137),a=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={name:"list_dialogs",components:{dynamicForm:function(e){new Promise(function(e){e()}).then(function(){var t=[n(7)];e.apply(null,t)}.bind(this)).catch(n.oe)},tiny_mce:a.default},props:["cf","tableData"],data:function(){return{cfEditDialog:{cfTips:lodash.get(this.cf,"cfDialogForm.tips"),urlModify:this.cf.url.modify,tableData:null,isRefreshAfterModify:this.cf.isRefreshAfterCUD,dataIdModify:null,cfFormModify:{idKey:this.cf.idKey,paramAddonInit:this.cf.paramAddonPublic,watch:lodash.get(this.cf,"cfForm.watch"),col_span:lodash.get(this.cf,"cfForm.col_span",24),urlInit:lodash.get(this.cf,"url.detail"),formItems:this.cf.formItems,btns:[{text:"修改",event:"submit",type:"primary",validate:!0},{text:"取消",event:"cancel"}]}},cfFormAdd:{watch:lodash.get(this.cf,"cfForm.watch"),col_span:lodash.get(this.cf,"cfForm.col_span",24),formItems:this.cf.formItems,btns:[{text:"新增",event:"submit",type:"primary",validate:!0},{text:"取消",event:"cancel"}]},formAdd:{},formModify:{},beforeModify:{},editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["link","image","video"]]}}}},watch:{"cf.formDataAddInit":{handler:function(e,t){this.initFormDataAdd()},immediate:!0,deep:!0},"cf.formItems":{handler:function(e,t){this.cfFormAdd.formItems=e,this.cfEditDialog.cfFormModify.formItems=e},immediate:!0,deep:!0}},computed:{row:function(){return this.$store.state.listState[this.cf.listIndex].row},isShowDialogAdd:function(){return this.$store.state.listState[this.cf.listIndex].isShowDialogAdd},isShowDialogDetail:function(){return this.$store.state.listState[this.cf.listIndex].isShowDialogDetail}},methods:{handelItem:util.handelItem,getTipsStyle:function(){var e=lodash.get(this.cf,"cfDialogForm.tips.style"),t={padding:"10px 10px 10px 100px",color:"#f60"};return Object.assign(t,e)},initFormDataAdd:function(){this.cf.formDataAddInit&&(this.formAdd=util.deepCopy(this.cf.formDataAddInit))},closeDialogDetailFun:function(e){this.$store.commit("closeDialogDetail",this.cf.listIndex)},closeDialogAddFun:function(e){this.$store.commit("closeDialogAdd",this.cf.listIndex),this.formAdd=this.cf.formDataAddInit||{}},addData:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cf.url.add){e.next=10;break}return t=void 0,t="_id"==this.cf.idKey?{_data:this.formAdd}:{data:this.formAdd},Object.assign(t,this.cf.paramAddonPublic),e.next=6,axios({method:"post",url:PUB.domain+this.cf.url.add,data:t});case 6:n=e.sent,this.$emit("after-add",n.data.addData,this.formAdd),e.next=15;break;case 10:o=1,this.tableData.length&&(i=this.tableData.map(function(e){return e.P1}),o=Math.max.apply(Math,r(i))+1),this.formAdd.P1=o,this.tableData.unshift(this.formAdd),this.$emit("after-add",this.formAdd);case 15:this.$message({message:"新增成功",duration:1500,type:"success"}),this.closeDialogAddFun(),this.cf.isRefreshAfterCUD&&this.$parent.getDataList(),this.initFormDataAdd();case 19:case"end":return e.stop()}},e,this)}));return e}(),showModify:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$emit("after-show-Dialog-Modify",t),this.beforeModify=t,n=lodash.cloneDeep(t),this.formModify=n,this.dataIdModify=n[this.cf.idKey],this.cfEditDialog.dataIdModify=this.dataIdModify,this.cfEditDialog.visible=!0,this.$set(this.cfEditDialog,"tableData",this.tableData);case 8:case"end":return e.stop()}},e,this)}));return e}(),afterModify:function(e){this.$emit("after-modify",e,this.beforeModify)}},created:function(){this.cf.formDataAddInit||this.$set(this.cf,"formDataAddInit",{})},mounted:function(){}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(140),a=r(i),s=n(141),l=r(s);n(146),n(148),n(150),n(152),n(154),n(156),n(158),n(160),n(162),n(164),n(166),t.default={components:{Editor:l.default},name:"tinymce",props:["value","showToolbar","pasteImage"],watch:{myValue:{handler:function(){this.$emit("input",this.myValue)},immediate:!0}},data:function(){return{init:{language_url:"/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"/tinymce/skins/ui/oxide",plugins:"lists image     autoresize code link autolink codesample  paste table",paste_data_images:this.pasteImage,menubar:!1,statusbar:!1,toolbar:"undo redo |  formatselect | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image  table code link codesample| removeformat",max_height:400,min_height:200,autoresize_on_init:!0,autoresize_overflow_padding:10,default_link_target:"_blank",readonly:1,autoresize_bottom_margin:10,images_upload_handler:this.uploadingImg},myValue:this.value}},methods:{uploadingImg:function(){function e(e,n,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n,r){var o,i,a,s,l,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.blob(),i=moment().format("YYYYMMDDHHmmSSsss"),e.next=4,axios({method:"post",url:PUB.urlGetQiniuToken,data:{options:{forceSaveKey:!0,saveKey:i+"_"+o.name,returnBody:'{"key":   $(key), "hash": $(etag), "w": $(imageInfo.width), "h": $(imageInfo.height), \n            "size": $(fsize),\n            "bucket": $(bucket),\n            "fname": $(fname),\n            "ext": $(ext),\n            "time": "$(year)-$(mon)-$(day) $(hour):$(min):$(sec) "\n            }'}}});case 4:return a=e.sent,s=new FormData,s.append("file",o),s.append("token",a.data.token),e.next=10,axios({method:"post",url:window.PUB.urlUpload,data:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 10:l=e.sent,u=l.data,u.key?(c=a.data.downloadDomain+"/"+u.key,n(c)):r(alert("图片上传失败"));case 13:case"end":return e.stop()}},e,this)}));return e}()},mounted:function(){if(a.default.init({}),!this.showToolbar)var e=!1,t=setInterval(function(){null!=a.default.activeEditor.getBody()&&(e=!0,a.default.activeEditor.getBody().setAttribute("contenteditable",!1)),e&&clearInterval(t)},100)},created:function(){this.showToolbar||(this.init.toolbar=!1),this.pasteImage||console.warn("无法粘贴上传图片，请设置pasteImage为true")}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return d});var r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(e){return-1!==r.indexOf(e)},i=function(e,t,n){Object.keys(t).filter(o).forEach(function(r){var o=t[r];"function"==typeof o&&("onInit"===r?o(e,n):n.on(r.substring(2),function(e){return o(e,n)}))})},a=function(e,t){var n,r=e.$props.modelEvents?e.$props.modelEvents:null,o=Array.isArray(r)?r.join(" "):r;e.$watch("value",function(e,r){t&&"string"==typeof e&&e!==n&&e!==r&&(t.setContent(e),n=e)}),t.on(o||"change keyup undo redo",function(){n=t.getContent(),e.$emit("input",n)})},s=function(e,t,n){var r=t.$props.value?t.$props.value:"",o=t.$props.initialValue?t.$props.initialValue:"";n.setContent(r||o),t.$listeners.input&&a(t,n),i(e,t.$listeners,n)},l=0,u=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return l++,e+"_"+n+l+String(t)},c=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},f=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},d=function(e,t){return f(e).concat(f(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{},props:{text:{type:[String],default:"加载中"},height:{type:[String,Number],default:"100"},color:{type:[String,Number],default:"#999"}},data:function(){return{dataValue:11}},methods:{},created:function(){}}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{id:[String,Number],ajax:{default:function(){return{url:"",param:{}}}},idKey:{default:"id"},page:{default:"tangball_franchisee"},populateKey:{default:"name"}},data:function(){return{text:"",doc:{}}},watch:{id:{handler:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.ajaxGetData();case 1:case"end":return e.stop()}},e,this)}));return e}()}},methods:{ajaxGetData:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n,r,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ajax.url){e.next=2;break}return e.abrupt("return");case 2:if(this.id){e.next=4;break}return e.abrupt("return");case 4:if(this.id||this.ajax.param){e.next=6;break}return e.abrupt("return");case 6:if(this.keyExit=this.page+"__"+this.idKey+"__"+this.id,this.ajax.param&&(t=JSON.stringify(this.ajax.param),this.keyExit+="__"+t),n=function e(){var t=PUB_ajax_populate[i.keyExit];"pending..."==t?setTimeout(function(){e()},100):(i.doc=t,i.text=t[i.populateKey])},!PUB_ajax_populate[this.keyExit]){e.next=11;break}return e.abrupt("return",n());case 11:return PUB_ajax_populate[this.keyExit]="pending...",this.ajax.param=this.ajax.param,this.id&&(this.ajax.param[this.idKey]=this.id),e.next=16,axios({method:"post",url:PUB.domain+this.ajax.url,data:this.ajax.param}).catch(function(e){alert("异常:"+e)});case 16:r=e.sent,o=r.data,this.doc=o.Doc||{},this.doc?(this.text=this.doc[this.populateKey],PUB_ajax_populate[this.keyExit]=this.doc):(this.text="[error]",PUB_ajax_populate[this.keyExit]={});case 20:case"end":return e.stop()}},e,this)}));return e}()},created:function(){window.PUB_ajax_populate=window.PUB_ajax_populate||{},this.page&&(this.ajax.url="/crossDetail?page="+this.page,this.ajaxGetData())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["height","color"]}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{cf:{type:Object},value:[String,Number,Array]},data:function(){return{param:{findJson:{}},valueNeed:this.value,options:[],loading:!1}},methods:{change:function(){this.$emit("input",this.valueNeed)},ajaxGetOptions:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,axios({method:"post",url:""+PUB.domain+this.cf.url+" ",data:this.param});case 3:t=e.sent,n=t.data,r=n.list,this.options=r.map(function(e){return{value:e[o.cf.keyValue],label:e[o.cf.keyLabel]}}),this.loading=!1;case 8:case"end":return e.stop()}},e,this)}));return e}(),remoteMethod:function(e){""!==e?(this.param.findJson={projectName:{$regex:e,$options:"i"}},this.ajaxGetOptions()):this.options=[]}},created:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{title:{},type:{default:"border_card"},caseList:{},link_more:{},style_title_bar:{default:function(){return{}}}},components:{},data:function(){return{}},methods:{},created:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{col:{default:4},style_g:{default:function(){return{}}},list:{}},components:{},data:function(){return{arrClass:[]}},methods:{},created:function(){var e="n-col-"+this.col;this.arrClass.push(e)}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{},props:["cf","formModify"],data:function(){return{IN_formModify:this.formModify||{}}},watch:{formModify:{handler:function(e,t){console.log("formModify changed"),this.IN_formModify=this.formModify||{}},deep:!0},"cf.visible":{handler:function(e,t){console.log("cf.visible changed"),e&&this.cf.dataIdModify&&this.$set(this.IN_formModify,this.cf.cfFormModify.idKey,this.cf.dataIdModify)}}},methods:{handelItem:util.handelItem,modifyData:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t||this.IN_formModify,!this.cf.urlModify){e.next=10;break}return n=void 0,n="_id"==this.cf.cfFormModify.idKey?{_id:this.cf.dataIdModify,_data:t}:{findJson:r({},this.cf.cfFormModify.idKey,this.cf.dataIdModify),modifyJson:t},Object.assign(n,this.cf.cfFormModify.paramAddonInit),e.next=7,axios({method:"post",url:PUB.domain+this.cf.urlModify,data:n});case 7:o=e.sent,e.next=10;break;case 10:this.cf.tableData&&this.handelItem({action:"merge",items:this.cf.tableData,itemNew:t,key:this.cf.cfFormModify.idKey,prop:this.cf.dataIdModify}),this.$message({message:"修改数据成功",duration:1500,type:"success"}),this.cf.visible=!1,this.cf.isRefreshAfterModify&&this.$parent.$parent.getDataList(),this.$emit("after-modify",t);case 15:case"end":return e.stop()}},e,this)}));return e}(),getTipsStyle:function(){var e=lodash.get(this.cf.cfTips,"style"),t={padding:"10px 10px 10px 100px",color:"#f60"};return Object.assign(t,e)}},created:function(){if(this.$set(this.cf,"visible",!!this.cf.visible),this.cf.cfFormModify=this.cf.cfFormModify||{},"common"==this.cf.listType){var e={idKey:"_id",watch:{},urlInit:"/info/commonDetail",btns:[{text:"修改",event:"submit",type:"primary",validate:!0},{text:"取消",event:"cancel"}]},t=this.cf.cfFormModify.paramAddonInit._dataType,n=lodash.get(PUB.listCF,"list_"+t),r=n.formItems,o=n.cfForm;e.formItems=r,o&&Object.assign(e,o),util.setObjDefault(this.cf.cfFormModify,e),this.cf.urlModify="/info/commonModify"}},mounted:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{},props:["cf","formAdd"],data:function(){return{IN_formAdd:this.formAdd||{}}},watch:{"cf.formDataAddInit":{immediate:!0,deep:!0,handler:function(e,t){this.initFormDataAdd()}},formAdd:{deep:!0,handler:function(e,t){console.log("formAdd changed"),this.IN_formAdd=this.formAdd||{}}},"cf.visible":{handler:function(e,t){console.log("cf.visible changed")}},"cf.copyId":{handler:function(e,t){console.log("cf.visible changed"),this.init()}}},methods:{handelItem:util.handelItem,addData:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cf.urlAdd){e.next=11;break}return n=void 0,n="_id"==this.cf.cfFormAdd.idKey?{_data:this.IN_formAdd}:{data:this.IN_formAdd},console.log("ajaxParam:",n),Object.assign(n,this.cf.cfFormAdd.paramAddonInit),e.next=7,axios({method:"post",url:""+PUB.domain+this.cf.urlAdd,data:n});case 7:o=e.sent,this.$emit("after-add",o.data.addData,this.IN_formAdd),e.next=16;break;case 11:i=1,this.tableData.length&&(a=this.tableData.map(function(e){return e.P1}),i=Math.max.apply(Math,r(a))+1),this.IN_formAdd.P1=i,this.tableData.unshift(this.IN_formAdd),this.$emit("after-add",this.IN_formAdd);case 16:this.cf.tipsAfterAdd&&this.$message({message:"新增成功",duration:1500,type:"success"}),this.closeDialogAddFun(),this.cf.isRefreshAfterAdd&&this.$parent.$parent.getDataList(),this.initFormDataAdd();case 20:case"end":return e.stop()}},e,this)}));return e}(),initFormDataAdd:function(){this.cf.formDataAddInit&&(this.IN_formAdd=util.deepCopy(this.cf.formDataAddInit))},closeDialogAddFun:function(){this.cf.visible=!1,this.IN_formAdd=this.cf.formDataAddInit||{}},getTipsStyle:function(){var e=lodash.get(this.cf.cfTips,"style"),t={padding:"10px 10px 10px 100px",color:"#f60"};return Object.assign(t,e)},init:function(){if(util.setObjDefault(this.cf,{tipsAfterAdd:!0}),this.$set(this.cf,"visible",!!this.cf.visible),this.cf.cfFormAdd=this.cf.cfFormAdd||{},"common"==this.cf.listType){var e={idKey:"_id",watch:{},btns:[{text:"新增",event:"submit",type:"primary",validate:!0},{text:"取消",event:"cancel"}]},t=this.cf.copyId;t&&(this.cf.cfFormAdd.paramAddonInit=this.cf.cfFormAdd.paramAddonInit||{},this.cf.cfFormAdd.paramAddonInit._id=t,e.urlInit="/info/commonDetail");var n=this.cf.cfFormAdd.paramAddonInit._dataType;console.log("_dataType:",n);var r=lodash.get(PUB.listCF,"list_"+n),o=r.formItems,i=r.cfForm;e.formItems=o,i&&Object.assign(e,i),util.setObjDefault(this.cf.cfFormAdd,e),this.cf.urlAdd="/info/commonAdd"}}},created:function(){this.init()},mounted:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),i=r(o),a=n(47),s=r(a),l=n(7),u=r(l),c=n(133),f=r(c),d=n(171),h=r(d),p=n(173),m=r(p),g=n(177),v=r(g),b=n(25),y=r(b),w=n(179),x=r(w),C=n(183),k=r(C),_=n(187),E=r(_),A=n(8),S=r(A),O=n(191),T=r(O),D=n(195),N=r(D),F=n(199);n(200),n(202),n(204),n(205),n(206),n(208),n(210);var L={dm_pannel:k.default,dm_list_flex_res:E.default,dm_debug_list:i.default,dm_debug_item:s.default,dm_loading:h.default,dm_ajax_populate:m.default,dm_space:v.default,dm_dynamic_form:u.default,dm_list_data:f.default,dm_select_ajax_lazy:x.default,dm_codemirror:F.codemirror,dm_select_list_data:y.default,dm_collection:S.default,dm_dialog_edit:T.default,dm_dialog_add:N.default},P={install:function(e){Object.keys(L).forEach(function(t){console.log("install:"+t),e.component(t,L[t])})}};console.log("window.Vue:####",window.Vue),"undefined"!=typeof window&&window.Vue&&window.Vue.use(P),t.default=P},function(e,t,n){"use strict";function r(e){n(43)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(46),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-5bec3bb3",null);t.default=c.exports},function(e,t,n){var r=n(44);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("2120c069",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".valueShow[data-v-5bec3bb3]{overflow-y:auto;max-height:50px}table.n-table.n-table-debug td[data-v-5bec3bb3],table.n-table.n-table-debug th[data-v-5bec3bb3]{padding:5px}",""])},function(e,t){e.exports=function(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],s=i[1],l=i[2],u=i[3],c={id:e+":"+o,css:s,media:l,sourceMap:u};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.debug?n("table",{staticClass:"n-table n-table-debug MT5 MB5"},[n("tr",[n("td",{staticClass:"WP15 FWB"},[e._v(e._s(e.$parent.$options.name||"数据"))]),e._v(" "),n("td",{staticClass:"WP15 FWB"},[e._v("说明")]),e._v(" "),n("td",{staticClass:"FWB"},[e._v("字段值")])]),e._v(" "),e.isReady?e._t("default"):e._e()],2):e._e()},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(48)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(59),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-59083f56",null);t.default=c.exports},function(e,t,n){var r=n(49);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("083f42da",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".valueShow[data-v-59083f56]{width:100%;overflow-y:auto;max-height:20px;padding:0 0 0 18px;word-break:break-all}.valueShowInTip[data-v-59083f56]{overflow-y:auto;max-height:350px;font-size:16px}.jv-container.jv-light .jv-item.jv-object[data-v-59083f56]{width:100%}table.n-table.n-table-debug td[data-v-59083f56],table.n-table.n-table-debug th[data-v-59083f56]{padding:3px;line-height:18px}.changing[data-v-59083f56]{background:#f60;color:#fff}.debug-text[data-v-59083f56]{max-width:130px;white-space:nowrap;overflow:hidden;max-height:20px;display:inline-block;text-overflow:ellipsis}",""])},function(e,t,n){var r=n(51);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("196abf51",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.valueNeedStr,expression:"valueNeedStr"}],staticClass:"WP100 H100 PL10 PR10 PT5 PB5",domProps:{value:e.valueNeedStr},on:{change:e.change,blur:function(t){return e.$emit("blur")},input:function(t){t.target.composing||(e.valueNeedStr=t.target.value)}}})])},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){!function(t,r){e.exports=r(n(54),n(58))}(0,function(e,t){function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return o={},n.m=r=[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:u}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),r(n(27));var o=r(n(21)),i=r(n(38)),a=n(39);t.default={name:"JsonViewer",components:{JsonBox:o.default},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"jv-light"}},provide:function(){return{expandDepth:this.expandDepth}},data:function(){return{copied:!1,expandableCode:!1,expandCode:!1}},watch:{value:function(){this.onResized()}},computed:{jvClass:function(){return"jv-container "+this.theme+(this.boxed?" boxed":"")},copyText:function(){var e=this.copyable;return{copyText:e.copyText||"copy",copiedText:e.copiedText||"copied!"}}},mounted:function(){var e=this;this.debounceResized=(0,a.debounce)(this.debResized.bind(this),200),this.boxed&&this.$refs.jsonBox&&(this.onResized(),this.$refs.jsonBox.$el.addEventListener("resized",this.onResized,!0)),this.copyable&&new i.default(this.$refs.clip,{text:function(){return JSON.stringify(e.value,null,2)}}).on("success",function(){e.onCopied()})},methods:{onResized:function(){this.debounceResized()},debResized:function(){var e=this;this.$nextTick(function(){250<=e.$refs.jsonBox.$el.clientHeight?e.expandableCode=!0:e.expandableCode=!1})},onCopied:function(){var e=this;this.copied||(this.copied=!0,setTimeout(function(){e.copied=!1},2e3),this.$emit("copied"))},toggleExpandCode:function(){this.expandCode=!this.expandCode}}}},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(n(28)),a=r(n(29)),s=r(n(30)),l=r(n(31)),u=r(n(32)),c=r(n(33)),f=r(n(34));t.default={name:"JsonBox",inject:["expandDepth"],props:{value:{type:[Object,Array,String,Number,Boolean,Function],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0}},data:function(){return{expand:!0}},mounted:function(){this.expand=!(this.depth>=this.expandDepth)},methods:{toggle:function(){this.expand=!this.expand;try{this.$el.dispatchEvent(new Event("resized"))}catch(t){var e=document.createEvent("Event");e.initEvent("resized",!0,!1),this.$el.dispatchEvent(e)}}},render:function(e){var t=this,n=[],r=void 0;null===this.value||void 0===this.value?r=a.default:Array.isArray(this.value)?r=c.default:"object"===o(this.value)?r=u.default:"number"==typeof this.value?r=s.default:"string"==typeof this.value?r=i.default:"boolean"==typeof this.value?r=l.default:"function"==typeof this.value&&(r=f.default);var d=this.keyName&&this.value&&(Array.isArray(this.value)||"object"===o(this.value));return d&&n.push(e("span",{class:{"jv-toggle":!0,open:!!this.expand},on:{click:this.toggle}})),this.keyName&&n.push(e("span",{class:{"jv-key":!0},domProps:{innerText:this.keyName+":"}})),n.push(e(r,{class:{"jv-push":!0},props:{jsonValue:this.value,keyName:this.keyName,sort:this.sort,depth:this.depth,expand:this.expand},on:{"update:expand":function(e){t.expand=e}}})),e("div",{class:{"jv-node":!0,toggle:d}},n)}}},function(e,t,n){"use strict";n.r(t);var r=n(6),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=/^\w+:\/\//;t.default={name:"JsonString",functional:!0,props:{jsonValue:{type:String,required:!0}},render:function(e,t){var n=t.props.jsonValue,i=void 0;return i=o.test(n)?{innerHTML:'"'+(n='<a href="'+n+'" target="_blank" style="color: #0366d6;">'+n+"</a>").toString()+'"'}:{innerText:'"'+n.toString()+'"'},e("span",{class:{"jv-item":!0,"jv-string":!0},domProps:r({},i)})}}},function(e,t,n){"use strict";n.r(t);var r=n(8),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"JsonUndefined",functional:!0,props:{jsonValue:{type:Object,default:null}},render:function(e,t){return e("span",{class:{"jv-item":!0,"jv-undefined":!0},domProps:{innerText:null===t.props.jsonValue?"null":"undefined"}})}}},function(e,t,n){"use strict";n.r(t);var r=n(10),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"JsonNumber",functional:!0,props:{jsonValue:{type:Number,required:!0}},render:function(e,t){return e("span",{class:{"jv-item":!0,"jv-number":!0},domProps:{innerText:t.props.jsonValue.toString()}})}}},function(e,t,n){"use strict";n.r(t);var r=n(12),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"JsonBoolean",functional:!0,props:{jsonValue:Boolean},render:function(e,t){return e("span",{class:{"jv-item":!0,"jv-boolean":!0},domProps:{innerText:t.props.jsonValue.toString()}})}}},function(e,t,n){"use strict";n.r(t);var r=n(14),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(21),i=(r=o)&&r.__esModule?r:{default:r};t.default={name:"JsonObject",data:function(){return{value:{}}},props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,sort:Boolean},computed:{ordered:function(){var e=this;if(!this.sort)return this.value;var t={};return Object.keys(this.value).sort().forEach(function(n){t[n]=e.value[n]}),t}},watch:{jsonValue:function(e){this.setValue(e)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(e){var t=this;setTimeout(function(){t.value=e},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch(t){var e=document.createEvent("Event");e.initEvent("resized",!0,!1),this.$el.dispatchEvent(e)}}},render:function(e){var t=[];if(this.keyName||t.push(e("span",{class:{"jv-toggle":!0,open:!!this.expand},on:{click:this.toggle}})),t.push(e("span",{class:{"jv-item":!0,"jv-object":!0},domProps:{innerText:"{"}})),this.expand)for(var n in this.ordered)if(this.ordered.hasOwnProperty(n)){var r=this.ordered[n];t.push(e(i.default,{key:n,style:{display:this.expand?void 0:"none"},props:{sort:this.sort,keyName:n,depth:this.depth+1,value:r}}))}return!this.expand&&Object.keys(this.value).length&&t.push(e("span",{style:{display:this.expand?"none":void 0},class:{"jv-ellipsis":!0},on:{click:this.toggle},attrs:{title:"click to reveal object content (keys: "+Object.keys(this.ordered).join(", ")+")"},domProps:{innerText:"..."}})),t.push(e("span",{class:{"jv-item":!0,"jv-object":!0},domProps:{innerText:"}"}})),e("span",t)}}},function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(21),i=(r=o)&&r.__esModule?r:{default:r};t.default={name:"JsonArray",data:function(){return{value:[]}},props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean},computed:{ordered:function(){var e=this.value;return this.sort?e.sort():e}},watch:{jsonValue:function(e){this.setValue(e)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(e,t){var n=this,r=1<arguments.length&&void 0!==t?t:0;0===r&&(this.value=[]),setTimeout(function(){e.length>r&&(n.value.push(e[r]),n.setValue(e,r+1))},0)},toggle:function(){this.$emit("update:expand",!this.expand);try{this.$el.dispatchEvent(new Event("resized"))}catch(t){var e=document.createEvent("Event");e.initEvent("resized",!0,!1),this.$el.dispatchEvent(e)}}},render:function(e){var t=this,n=[];return this.keyName||n.push(e("span",{class:{"jv-toggle":!0,open:!!this.expand},on:{click:this.toggle}})),n.push(e("span",{class:{"jv-item":!0,"jv-array":!0},domProps:{innerText:"["}})),this.expand&&this.ordered.forEach(function(r,o){n.push(e(i.default,{key:o,style:{display:t.expand?void 0:"none"},props:{sort:t.sort,depth:t.depth+1,value:r}}))}),!this.expand&&this.value.length&&n.push(e("span",{style:{display:void 0},class:{"jv-ellipsis":!0},on:{click:this.toggle},attrs:{title:"click to reveal "+this.value.length+" hidden items"},domProps:{innerText:"..."}})),n.push(e("span",{class:{"jv-item":!0,"jv-array":!0},domProps:{innerText:"]"}})),e("span",n)}}},function(e,t,n){"use strict";n.r(t);var r=n(18),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"JsonFunction",functional:!0,props:{jsonValue:{type:Function,required:!0}},render:function(e,t){return e("span",{class:{"jv-item":!0,"jv-function":!0},attrs:{title:t.props.jsonValue.toString()},domProps:{innerHTML:"&lt;function&gt;"}})}}},function(e,t,n){var r=n(36);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0};n(24)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(41);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0};n(24)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";n.r(t);var r=n(3);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n(35);var i=n(0),a=Object(i.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="lib/json-box.vue",t.default=a.exports},function(e,t,n){"use strict";function r(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.jvClass},[e.copyable?n("div",{staticClass:"jv-tooltip"},[n("span",{ref:"clip",staticClass:"jv-button",class:{copied:e.copied}},[e._v(e._s(e.copied?e.copyText.copiedText:e.copyText.copyText))])]):e._e(),e._v(" "),n("div",{staticClass:"jv-code",class:{open:e.expandCode,boxed:e.boxed}},[n("json-box",{ref:"jsonBox",attrs:{value:e.value,sort:e.sort}})],1),e._v(" "),e.expandableCode&&e.boxed?n("div",{staticClass:"jv-more",on:{click:e.toggleExpandCode}},[n("span",{staticClass:"jv-toggle",class:{open:!!e.expandCode}})]):e._e()])}var o=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(e)))))," */")}(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")})).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var a=0;a<e.length;a++){var s=e[a];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),t.push(s))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=p[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],t))}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(u(r.parts[i],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function o(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function i(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=g(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=y.indexOf(e);0<=t&&y.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),i(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,r,o,u;if(t.transform&&e.css){if(!(u=t.transform(e.css)))return function(){};e.css=u}if(t.singleton){var f=b++;n=v=v||s(t),r=c.bind(null,n,f,!1),o=c.bind(null,n,f,!0)}else o=e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),i(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=w(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function c(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=C(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}var f,d,h,p={},m=(f=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===d&&(d=f.apply(this,arguments)),d}),g=(h={},function(e){if(void 0===h[e]){var t=function(e){return document.querySelector(e)}.call(this,e);if(t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}h[e]=t}return h[e]}),v=null,b=0,y=[],w=n(37);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=o(e,t);return r(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var s=n[a];(l=p[s.id]).refs--,i.push(l)}for(e&&r(o(e,t),t),a=0;a<i.length;a++){var l;if(0===(l=i[a]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete p[l.id]}}}};var x,C=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(26),i=(r=o)&&r.__esModule?r:{default:r};t.default=Object.assign(i.default,{install:function(e){e.component("JsonViewer",i.default)}})},function(e,t,n){"use strict";n.r(t);var r=n(22),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n(40);var a=n(0),s=Object(a.a)(o.default,r.a,r.b,!1,null,null,null);s.options.__file="lib/json-viewer.vue",t.default=s.exports},function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t);var r=n(5);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var i=n(0),a=Object(i.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="lib/types/json-string.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var r=n(7);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var i=n(0),a=Object(i.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="lib/types/json-undefined.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var r=n(9);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var i=n(0),a=Object(i.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="lib/types/json-number.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var i=n(0),a=Object(i.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="lib/types/json-boolean.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var r=n(13);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var i=n(0),a=Object(i.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="lib/types/json-object.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var r=n(15);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var i=n(0),a=Object(i.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="lib/types/json-array.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var r=n(17);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var i=n(0),a=Object(i.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="lib/types/json-function.vue",t.default=a.exports},function(e,t,n){"use strict";var r=n(19);n.n(r).a},function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".jv-node{position:relative}.jv-node:after{content:','}.jv-node:last-of-type:after{content:''}.jv-node.toggle{margin-left:13px !important}.jv-node .jv-node{margin-left:25px}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t){var n=Date.now(),r=void 0;return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];Date.now()-n<t&&r&&clearTimeout(r),r=setTimeout(function(){e.apply(void 0,i)},t),n=Date.now()}}},function(e,t,n){"use strict";var r=n(20);n.n(r).a},function(e,t,n){t=e.exports=n(23)(!1);var r=n(42)(n(43));t.push([e.i,".jv-container{box-sizing:border-box;position:relative}.jv-container.boxed{border:1px solid #eee;border-radius:6px}.jv-container.boxed:hover{box-shadow:0 2px 7px rgba(0,0,0,0.15);border-color:transparent;position:relative}.jv-container.jv-light{background:#fff;white-space:nowrap;color:#525252;font-size:14px;font-family:Consolas, Menlo, Courier, monospace}.jv-container.jv-light .jv-ellipsis{color:#999;background-color:#eee;display:inline-block;line-height:0.9;font-size:0.9em;padding:0px 4px 2px 4px;margin:0 4px;border-radius:3px;vertical-align:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jv-container.jv-light .jv-button{color:#49b3ff}.jv-container.jv-light .jv-key{color:#111111;margin-right:4px}.jv-container.jv-light .jv-item.jv-array{color:#111111}.jv-container.jv-light .jv-item.jv-boolean{color:#fc1e70}.jv-container.jv-light .jv-item.jv-function{color:#067bca}.jv-container.jv-light .jv-item.jv-number{color:#fc1e70}.jv-container.jv-light .jv-item.jv-object{color:#111111}.jv-container.jv-light .jv-item.jv-undefined{color:#e08331}.jv-container.jv-light .jv-item.jv-string{color:#42b983;word-break:break-word;white-space:normal}.jv-container.jv-light .jv-code .jv-toggle:before{padding:0px 2px;border-radius:2px}.jv-container.jv-light .jv-code .jv-toggle:hover:before{background:#eee}.jv-container .jv-code{overflow:hidden;padding:20px}.jv-container .jv-code.boxed{max-height:300px}.jv-container .jv-code.open{max-height:initial !important;overflow:visible;overflow-x:auto;padding-bottom:45px}.jv-container .jv-toggle{background-image:url("+r+');background-repeat:no-repeat;background-size:contain;background-position:center center;cursor:pointer;width:10px;height:10px;margin-right:2px;display:inline-block;-webkit-transition:-webkit-transform 0.1s;transition:-webkit-transform 0.1s;transition:transform 0.1s;transition:transform 0.1s, -webkit-transform 0.1s}.jv-container .jv-more{position:absolute;z-index:1;bottom:0;left:0;right:0;height:40px;width:100%;text-align:center;cursor:pointer}.jv-container .jv-more .jv-toggle{position:relative;top:40%;z-index:2;color:#888;-webkit-transition:all 0.1s;transition:all 0.1s;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.jv-container .jv-more .jv-toggle.open{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.jv-container .jv-more:after{content:"";width:100%;height:100%;position:absolute;bottom:0;left:0;z-index:1;background:-webkit-linear-gradient(top, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);background:linear-gradient(to bottom, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);-webkit-transition:all 0.1s;transition:all 0.1s}.jv-container .jv-more:hover .jv-toggle{top:50%;color:#111}.jv-container .jv-more:hover:after{background:-webkit-linear-gradient(top, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);background:linear-gradient(to bottom, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%)}.jv-container .jv-button{position:relative;cursor:pointer;display:inline-block;padding:5px;z-index:5}.jv-container .jv-button.copied{opacity:0.4;cursor:default}.jv-container .jv-tooltip{position:absolute;right:15px;top:10px}.jv-container .j-icon{font-size:12px}\n',""])},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof(e=e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE2IiB3aWR0aD0iOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIAo8cG9seWdvbiBwb2ludHM9IjAsMCA4LDggMCwxNiIKc3R5bGU9ImZpbGw6IzY2NjtzdHJva2U6cHVycGxlO3N0cm9rZS13aWR0aDowIiAvPgo8L3N2Zz4="}],n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25);var r,o})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,n){function r(e){return void 0===e||null===e}function o(e){return void 0!==e&&null!==e}function i(e){return!0===e}function a(e){return!1===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function l(e){return null!==e&&"object"==typeof e}function u(e){return"[object Object]"===Ei.call(e)}function c(e){return"[object RegExp]"===Ei.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function h(e){return null==e?"":Array.isArray(e)||u(e)&&e.toString===Ei?JSON.stringify(e,null,2):String(e)}function p(e){var t=parseFloat(e);return isNaN(t)?e:t}function m(e,t){for(var n=Object.create(null),r=e.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function g(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function v(e,t){return Oi.call(e,t)}function b(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function y(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function w(e,t){return e.bind(t)}function x(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function C(e,t){for(var n in t)e[n]=t[n];return e}function k(e){for(var t={},n=0;n<e.length;n++)e[n]&&C(t,e[n]);return t}function _(e,t,n){}function E(e,t){if(e===t)return!0;var n=l(e),r=l(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var o=Array.isArray(e),i=Array.isArray(t);if(o&&i)return e.length===t.length&&e.every(function(e,n){return E(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(o||i)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every(function(n){return E(e[n],t[n])})}catch(e){return!1}}function A(e,t){for(var n=0;n<e.length;n++)if(E(e[n],t))return n;return-1}function S(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function O(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function T(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function D(e){if(!zi.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function N(e){return"function"==typeof e&&/native code/.test(e.toString())}function F(e){ca.push(e),ua.target=e}function L(){ca.pop(),ua.target=ca[ca.length-1]}function P(e){return new fa(void 0,void 0,void 0,String(e))}function B(e){var t=new fa(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}function R(e){va=e}function q(e,t){e.__proto__=t}function M(e,t,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];T(e,i,t[i])}}function j(e,t){if(l(e)&&!(e instanceof fa)){var n;return v(e,"__ob__")&&e.__ob__ instanceof ba?n=e.__ob__:va&&!oa()&&(Array.isArray(e)||u(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new ba(e)),t&&n&&n.vmCount++,n}}function I(e,t,n,r,o){var i=new ua,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(n=e[t]);var u=!o&&j(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return ua.target&&(i.depend(),u&&(u.dep.depend(),Array.isArray(t)&&H(t))),t},set:function(t){var r=s?s.call(e):n;t===r||t!==t&&r!==r||s&&!l||(l?l.call(e,t):n=t,u=!o&&j(t),i.notify())}})}}function $(e,t,n){if(Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(I(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function z(e,t){if(Array.isArray(e)&&f(t))return void e.splice(t,1);var n=e.__ob__;e._isVue||n&&n.vmCount||v(e,t)&&(delete e[t],n&&n.dep.notify())}function H(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&H(t)}function V(e,t){if(!t)return e;for(var n,r,o,i=aa?Reflect.ownKeys(t):Object.keys(t),a=0;a<i.length;a++)"__ob__"!==(n=i[a])&&(r=e[n],o=t[n],v(e,n)?r!==o&&u(r)&&u(o)&&V(r,o):$(e,n,o));return e}function U(e,t,n){return n?function(){var r="function"==typeof t?t.call(n,n):t,o="function"==typeof e?e.call(n,n):e;return r?V(r,o):o}:t?e?function(){return V("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function W(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?K(n):n}function K(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function G(e,t,n,r){var o=Object.create(e||null);return t?C(o,t):o}function Y(e,t){var n=e.props;if(n){var r,o,i,a={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(o=n[r])&&(i=Di(o),a[i]={type:null});else if(u(n))for(var s in n)o=n[s],i=Di(s),a[i]=u(o)?o:{type:o};e.props=a}}function X(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(u(n))for(var i in n){var a=n[i];r[i]=u(a)?C({from:i},a):{from:a}}}}function J(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}function Z(e,t,n){function r(r){var o=ya[r]||xa;s[r]=o(e[r],t[r],n,r)}if("function"==typeof t&&(t=t.options),Y(t,n),X(t,n),J(t),!t._base&&(t.extends&&(e=Z(e,t.extends,n)),t.mixins))for(var o=0,i=t.mixins.length;o<i;o++)e=Z(e,t.mixins[o],n);var a,s={};for(a in e)r(a);for(a in t)v(e,a)||r(a);return s}function Q(e,t,n,r){if("string"==typeof n){var o=e[t];if(v(o,n))return o[n];var i=Di(n);if(v(o,i))return o[i];var a=Ni(i);if(v(o,a))return o[a];return o[n]||o[i]||o[a]}}function ee(e,t,n,r){var o=t[e],i=!v(n,e),a=n[e],s=oe(Boolean,o.type);if(s>-1)if(i&&!v(o,"default"))a=!1;else if(""===a||a===Li(e)){var l=oe(String,o.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=te(r,o,e);var u=va;R(!0),j(a),R(u)}return a}function te(e,t,n){if(v(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof r&&"Function"!==ne(t.type)?r.call(e):r}}function ne(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function re(e,t){return ne(e)===ne(t)}function oe(e,t){if(!Array.isArray(t))return re(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(re(t[n],e))return n;return-1}function ie(e,t,n){F();try{if(t)for(var r=t;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{var a=!1===o[i].call(r,e,t,n);if(a)return}catch(e){se(e,r,"errorCaptured hook")}}se(e,t,n)}finally{L()}}function ae(e,t,n,r,o){var i;try{i=n?e.apply(t,n):e.call(t),i&&!i._isVue&&d(i)&&!i._handled&&(i.catch(function(e){return ie(e,r,o+" (Promise/async)")}),i._handled=!0)}catch(e){ie(e,r,o)}return i}function se(e,t,n){if(Ii.errorHandler)try{return Ii.errorHandler.call(null,e,t,n)}catch(t){t!==e&&le(t,null,"config.errorHandler")}le(e,t,n)}function le(e,t,n){if(!Vi&&!Ui||"undefined"==typeof console)throw e;console.error(e)}function ue(){_a=!1;var e=ka.slice(0);ka.length=0;for(var t=0;t<e.length;t++)e[t]()}function ce(e,t){var n;if(ka.push(function(){if(e)try{e.call(t)}catch(e){ie(e,t,"nextTick")}else n&&n(t)}),_a||(_a=!0,wa()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}function fe(e){de(e,Ta),Ta.clear()}function de(e,t){var n,r,o=Array.isArray(e);if(!(!o&&!l(e)||Object.isFrozen(e)||e instanceof fa)){if(e.__ob__){var i=e.__ob__.dep.id;if(t.has(i))return;t.add(i)}if(o)for(n=e.length;n--;)de(e[n],t);else for(r=Object.keys(e),n=r.length;n--;)de(e[r[n]],t)}}function he(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return ae(r,null,arguments,t,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)ae(o[i],null,e,t,"v-on handler")}return n.fns=e,n}function pe(e,t,n,o,a,s){var l,u,c,f;for(l in e)u=e[l],c=t[l],f=Da(l),r(u)||(r(c)?(r(u.fns)&&(u=e[l]=he(u,s)),i(f.once)&&(u=e[l]=a(f.name,u,f.capture)),n(f.name,u,f.capture,f.passive,f.params)):u!==c&&(c.fns=u,e[l]=c));for(l in t)r(e[l])&&(f=Da(l),o(f.name,t[l],f.capture))}function me(e,t,n){function a(){n.apply(this,arguments),g(s.fns,a)}e instanceof fa&&(e=e.data.hook||(e.data.hook={}));var s,l=e[t];r(l)?s=he([a]):o(l.fns)&&i(l.merged)?(s=l,s.fns.push(a)):s=he([l,a]),s.merged=!0,e[t]=s}function ge(e,t,n){var i=t.options.props;if(!r(i)){var a={},s=e.attrs,l=e.props;if(o(s)||o(l))for(var u in i){var c=Li(u);ve(a,l,u,c,!0)||ve(a,s,u,c,!1)}return a}}function ve(e,t,n,r,i){if(o(t)){if(v(t,n))return e[n]=t[n],i||delete t[n],!0;if(v(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function be(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function ye(e){return s(e)?[P(e)]:Array.isArray(e)?xe(e):void 0}function we(e){return o(e)&&o(e.text)&&a(e.isComment)}function xe(e,t){var n,a,l,u,c=[];for(n=0;n<e.length;n++)a=e[n],r(a)||"boolean"==typeof a||(l=c.length-1,u=c[l],Array.isArray(a)?a.length>0&&(a=xe(a,(t||"")+"_"+n),we(a[0])&&we(u)&&(c[l]=P(u.text+a[0].text),a.shift()),c.push.apply(c,a)):s(a)?we(u)?c[l]=P(u.text+a):""!==a&&c.push(P(a)):we(a)&&we(u)?c[l]=P(u.text+a.text):(i(e._isVList)&&o(a.tag)&&r(a.key)&&o(t)&&(a.key="__vlist"+t+"_"+n+"__"),c.push(a)));return c}function Ce(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function ke(e){var t=_e(e.$options.inject,e);t&&(R(!1),Object.keys(t).forEach(function(n){I(e,n,t[n])}),R(!0))}function _e(e,t){if(e){for(var n=Object.create(null),r=aa?Reflect.ownKeys(e):Object.keys(e),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){for(var a=e[i].from,s=t;s;){if(s._provided&&v(s._provided,a)){n[i]=s._provided[a];break}s=s.$parent}if(!s&&"default"in e[i]){var l=e[i].default;n[i]="function"==typeof l?l.call(t):l}}}return n}}function Ee(e,t){if(!e||!e.length)return{};for(var n={},r=0,o=e.length;r<o;r++){var i=e[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==t&&i.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(i);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===i.tag?l.push.apply(l,i.children||[]):l.push(i)}}for(var u in n)n[u].every(Ae)&&delete n[u];return n}function Ae(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Se(e,t,n){var r,o=Object.keys(t).length>0,i=e?!!e.$stable:!o,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(i&&n&&n!==_i&&a===n.$key&&!o&&!n.$hasNormal)return n;r={};for(var s in e)e[s]&&"$"!==s[0]&&(r[s]=Oe(t,s,e[s]))}else r={};for(var l in t)l in r||(r[l]=Te(t,l));return e&&Object.isExtensible(e)&&(e._normalized=r),T(r,"$stable",i),T(r,"$key",a),T(r,"$hasNormal",o),r}function Oe(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:ye(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Te(e,t){return function(){return e[t]}}function De(e,t){var n,r,i,a,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(l(e))if(aa&&e[Symbol.iterator]){n=[];for(var u=e[Symbol.iterator](),c=u.next();!c.done;)n.push(t(c.value,n.length)),c=u.next()}else for(a=Object.keys(e),n=new Array(a.length),r=0,i=a.length;r<i;r++)s=a[r],n[r]=t(e[s],s,r);return o(n)||(n=[]),n._isVList=!0,n}function Ne(e,t,n,r){var o,i=this.$scopedSlots[e];i?(n=n||{},r&&(n=C(C({},r),n)),o=i(n)||t):o=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},o):o}function Fe(e){return Q(this.$options,"filters",e,!0)||Ri}function Le(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Pe(e,t,n,r,o){var i=Ii.keyCodes[t]||n;return o&&r&&!Ii.keyCodes[t]?Le(o,r):i?Le(i,e):r?Li(r)!==t:void 0}function Be(e,t,n,r,o){if(n)if(l(n)){Array.isArray(n)&&(n=k(n));var i;for(var a in n)!function(a){if("class"===a||"style"===a||Si(a))i=e;else{var s=e.attrs&&e.attrs.type;i=r||Ii.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=Di(a),u=Li(a);if(!(l in i||u in i)&&(i[a]=n[a],o)){(e.on||(e.on={}))["update:"+a]=function(e){n[a]=e}}}(a)}else;return e}function Re(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t?r:(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Me(r,"__static__"+e,!1),r)}function qe(e,t,n){return Me(e,"__once__"+t+(n?"_"+n:""),!0),e}function Me(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&je(e[r],t+"_"+r,n);else je(e,t,n)}function je(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Ie(e,t){if(t)if(u(t)){var n=e.on=e.on?C({},e.on):{};for(var r in t){var o=n[r],i=t[r];n[r]=o?[].concat(o,i):i}}else;return e}function $e(e,t,n,r){t=t||{$stable:!n};for(var o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?$e(i,t,n):i&&(i.proxy&&(i.fn.proxy=!0),t[i.key]=i.fn)}return r&&(t.$key=r),t}function ze(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function He(e,t){return"string"==typeof e?t+e:e}function Ve(e){e._o=qe,e._n=p,e._s=h,e._l=De,e._t=Ne,e._q=E,e._i=A,e._m=Re,e._f=Fe,e._k=Pe,e._b=Be,e._v=P,e._e=ha,e._u=$e,e._g=Ie,e._d=ze,e._p=He}function Ue(e,t,n,r,o){var a,s=this,l=o.options;v(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var u=i(l._compiled),c=!u;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||_i,this.injections=_e(l.inject,r),this.slots=function(){return s.$slots||Se(e.scopedSlots,s.$slots=Ee(n,r)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Se(e.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Se(e.scopedSlots,this.$slots)),l._scopeId?this._c=function(e,t,n,o){var i=et(a,e,t,n,o,c);return i&&!Array.isArray(i)&&(i.fnScopeId=l._scopeId,i.fnContext=r),i}:this._c=function(e,t,n,r){return et(a,e,t,n,r,c)}}function We(e,t,n,r,i){var a=e.options,s={},l=a.props;if(o(l))for(var u in l)s[u]=ee(u,l,t||_i);else o(n.attrs)&&Ge(s,n.attrs),o(n.props)&&Ge(s,n.props);var c=new Ue(n,s,i,r,e),f=a.render.call(null,c._c,c);if(f instanceof fa)return Ke(f,n,c.parent,a,c);if(Array.isArray(f)){for(var d=ye(f)||[],h=new Array(d.length),p=0;p<d.length;p++)h[p]=Ke(d[p],n,c.parent,a,c);return h}}function Ke(e,t,n,r,o){var i=B(e);return i.fnContext=n,i.fnOptions=r,t.slot&&((i.data||(i.data={})).slot=t.slot),i}function Ge(e,t){for(var n in t)e[Di(n)]=t[n]}function Ye(e,t,n,a,s){if(!r(e)){var u=n.$options._base;if(l(e)&&(e=u.extend(e)),"function"==typeof e){var c;if(r(e.cid)&&(c=e,void 0===(e=st(c,u))))return at(c,t,n,a,s);t=t||{},zt(e),o(t.model)&&Qe(e.options,t);var f=ge(t,e,s);if(i(e.options.functional))return We(e,f,t,n,a);var d=t.on;if(t.on=t.nativeOn,i(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}Je(t);var p=e.options.name||s;return new fa("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:f,listeners:d,tag:s,children:a},c)}}}function Xe(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function Je(e){for(var t=e.hook||(e.hook={}),n=0;n<La.length;n++){var r=La[n],o=t[r],i=Fa[r];o===i||o&&o._merged||(t[r]=o?Ze(i,o):i)}}function Ze(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function Qe(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var i=t.on||(t.on={}),a=i[r],s=t.model.callback;o(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(i[r]=[s].concat(a)):i[r]=s}function et(e,t,n,r,o,a){return(Array.isArray(n)||s(n))&&(o=r,r=n,n=void 0),i(a)&&(o=Ba),tt(e,t,n,r,o)}function tt(e,t,n,r,i){if(o(n)&&o(n.__ob__))return ha();if(o(n)&&o(n.is)&&(t=n.is),!t)return ha();Array.isArray(r)&&"function"==typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===Ba?r=ye(r):i===Pa&&(r=be(r));var a,s;if("string"==typeof t){var l;s=e.$vnode&&e.$vnode.ns||Ii.getTagNamespace(t),a=Ii.isReservedTag(t)?new fa(Ii.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!o(l=Q(e.$options,"components",t))?new fa(t,n,r,void 0,void 0,e):Ye(l,n,e,r,t)}else a=Ye(t,n,e,r);return Array.isArray(a)?a:o(a)?(o(s)&&nt(a,s),o(n)&&rt(n),a):ha()}function nt(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),o(e.children))for(var a=0,s=e.children.length;a<s;a++){var l=e.children[a];o(l.tag)&&(r(l.ns)||i(n)&&"svg"!==l.tag)&&nt(l,t,n)}}function rt(e){l(e.style)&&fe(e.style),l(e.class)&&fe(e.class)}function ot(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=Ee(t._renderChildren,r),e.$scopedSlots=_i,e._c=function(t,n,r,o){return et(e,t,n,r,o,!1)},e.$createElement=function(t,n,r,o){return et(e,t,n,r,o,!0)};var o=n&&n.data;I(e,"$attrs",o&&o.attrs||_i,null,!0),I(e,"$listeners",t._parentListeners||_i,null,!0)}function it(e,t){return(e.__esModule||aa&&"Module"===e[Symbol.toStringTag])&&(e=e.default),l(e)?t.extend(e):e}function at(e,t,n,r,o){var i=ha();return i.asyncFactory=e,i.asyncMeta={data:t,context:n,children:r,tag:o},i}function st(e,t){if(i(e.error)&&o(e.errorComp))return e.errorComp;if(o(e.resolved))return e.resolved;var n=Ra;if(n&&o(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),i(e.loading)&&o(e.loadingComp))return e.loadingComp;if(n&&!o(e.owners)){var a=e.owners=[n],s=!0,u=null,c=null;n.$on("hook:destroyed",function(){return g(a,n)});var f=function(e){for(var t=0,n=a.length;t<n;t++)a[t].$forceUpdate();e&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==c&&(clearTimeout(c),c=null))},h=S(function(n){e.resolved=it(n,t),s?a.length=0:f(!0)}),p=S(function(t){o(e.errorComp)&&(e.error=!0,f(!0))}),m=e(h,p);return l(m)&&(d(m)?r(e.resolved)&&m.then(h,p):d(m.component)&&(m.component.then(h,p),o(m.error)&&(e.errorComp=it(m.error,t)),o(m.loading)&&(e.loadingComp=it(m.loading,t),0===m.delay?e.loading=!0:u=setTimeout(function(){u=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,f(!1))},m.delay||200)),o(m.timeout)&&(c=setTimeout(function(){c=null,r(e.resolved)&&p(null)},m.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function lt(e){return e.isComment&&e.asyncFactory}function ut(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(o(n)&&(o(n.componentOptions)||lt(n)))return n}}function ct(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&pt(e,t)}function ft(e,t){Na.$on(e,t)}function dt(e,t){Na.$off(e,t)}function ht(e,t){var n=Na;return function r(){null!==t.apply(null,arguments)&&n.$off(e,r)}}function pt(e,t,n){Na=e,pe(t,n||{},ft,dt,ht,e),Na=void 0}function mt(e){var t=qa;return qa=e,function(){qa=t}}function gt(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function vt(e,t,n){e.$el=t,e.$options.render||(e.$options.render=ha),Ct(e,"beforeMount");var r;return r=function(){e._update(e._render(),n)},new Ga(e,r,_,{before:function(){e._isMounted&&!e._isDestroyed&&Ct(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,Ct(e,"mounted")),e}function bt(e,t,n,r,o){var i=r.data.scopedSlots,a=e.$scopedSlots,s=!!(i&&!i.$stable||a!==_i&&!a.$stable||i&&e.$scopedSlots.$key!==i.$key),l=!!(o||e.$options._renderChildren||s);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=o,e.$attrs=r.data.attrs||_i,e.$listeners=n||_i,t&&e.$options.props){R(!1);for(var u=e._props,c=e.$options._propKeys||[],f=0;f<c.length;f++){var d=c[f],h=e.$options.props;u[d]=ee(d,h,t,e)}R(!0),e.$options.propsData=t}n=n||_i;var p=e.$options._parentListeners;e.$options._parentListeners=n,pt(e,n,p),l&&(e.$slots=Ee(o,r.context),e.$forceUpdate())}function yt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function wt(e,t){if(t){if(e._directInactive=!1,yt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)wt(e.$children[n]);Ct(e,"activated")}}function xt(e,t){if(!(t&&(e._directInactive=!0,yt(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)xt(e.$children[n]);Ct(e,"deactivated")}}function Ct(e,t){F();var n=e.$options[t],r=t+" hook";if(n)for(var o=0,i=n.length;o<i;o++)ae(n[o],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),L()}function kt(){Ha=Ma.length=ja.length=0,Ia={},$a=za=!1}function _t(){Va=Ua(),za=!0;var e,t;for(Ma.sort(function(e,t){return e.id-t.id}),Ha=0;Ha<Ma.length;Ha++)e=Ma[Ha],e.before&&e.before(),t=e.id,Ia[t]=null,e.run();var n=ja.slice(),r=Ma.slice();kt(),St(n),Et(r),ia&&Ii.devtools&&ia.emit("flush")}function Et(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Ct(r,"updated")}}function At(e){e._inactive=!1,ja.push(e)}function St(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,wt(e[t],!0)}function Ot(e){var t=e.id;if(null==Ia[t]){if(Ia[t]=!0,za){for(var n=Ma.length-1;n>Ha&&Ma[n].id>e.id;)n--;Ma.splice(n+1,0,e)}else Ma.push(e);$a||($a=!0,ce(_t))}}function Tt(e,t,n){Ya.get=function(){return this[t][n]},Ya.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Ya)}function Dt(e){e._watchers=[];var t=e.$options;t.props&&Nt(e,t.props),t.methods&&Mt(e,t.methods),t.data?Ft(e):j(e._data={},!0),t.computed&&Pt(e,t.computed),t.watch&&t.watch!==Qi&&jt(e,t.watch)}function Nt(e,t){var n=e.$options.propsData||{},r=e._props={},o=e.$options._propKeys=[],i=!e.$parent;i||R(!1);for(var a in t)!function(i){o.push(i);var a=ee(i,t,n,e);I(r,i,a),i in e||Tt(e,"_props",i)}(a);R(!0)}function Ft(e){var t=e.$options.data;t=e._data="function"==typeof t?Lt(t,e):t||{},u(t)||(t={});for(var n=Object.keys(t),r=e.$options.props,o=(e.$options.methods,n.length);o--;){var i=n[o];r&&v(r,i)||O(i)||Tt(e,"_data",i)}j(t,!0)}function Lt(e,t){F();try{return e.call(t,t)}catch(e){return ie(e,t,"data()"),{}}finally{L()}}function Pt(e,t){var n=e._computedWatchers=Object.create(null),r=oa();for(var o in t){var i=t[o],a="function"==typeof i?i:i.get;r||(n[o]=new Ga(e,a||_,_,Xa)),o in e||Bt(e,o,i)}}function Bt(e,t,n){var r=!oa();"function"==typeof n?(Ya.get=r?Rt(t):qt(n),Ya.set=_):(Ya.get=n.get?r&&!1!==n.cache?Rt(t):qt(n.get):_,Ya.set=n.set||_),Object.defineProperty(e,t,Ya)}function Rt(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ua.target&&t.depend(),t.value}}function qt(e){return function(){return e.call(this,this)}}function Mt(e,t){e.$options.props;for(var n in t)e[n]="function"!=typeof t[n]?_:Pi(t[n],e)}function jt(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)It(e,n,r[o]);else It(e,n,r)}}function It(e,t,n,r){return u(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function $t(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function zt(e){var t=e.options;if(e.super){var n=zt(e.super);if(n!==e.superOptions){e.superOptions=n;var r=Ht(e);r&&C(e.extendOptions,r),t=e.options=Z(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Ht(e){var t,n=e.options,r=e.sealedOptions;for(var o in n)n[o]!==r[o]&&(t||(t={}),t[o]=n[o]);return t}function Vt(e){this._init(e)}function Ut(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=x(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}function Wt(e){e.mixin=function(e){return this.options=Z(this.options,e),this}}function Kt(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,o=e._Ctor||(e._Ctor={});if(o[r])return o[r];var i=e.name||n.options.name,a=function(e){this._init(e)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=t++,a.options=Z(n.options,e),a.super=n,a.options.props&&Gt(a),a.options.computed&&Yt(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,Mi.forEach(function(e){a[e]=n[e]}),i&&(a.options.components[i]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=C({},a.options),o[r]=a,a}}function Gt(e){var t=e.options.props;for(var n in t)Tt(e.prototype,"_props",n)}function Yt(e){var t=e.options.computed;for(var n in t)Bt(e.prototype,n,t[n])}function Xt(e){Mi.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&u(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function Jt(e){return e&&(e.Ctor.options.name||e.tag)}function Zt(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!c(e)&&e.test(t)}function Qt(e,t){var n=e.cache,r=e.keys,o=e._vnode;for(var i in n){var a=n[i];if(a){var s=Jt(a.componentOptions);s&&!t(s)&&en(n,i,r,o)}}}function en(e,t,n,r){var o=e[t];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),e[t]=null,g(n,t)}function tn(e){for(var t=e.data,n=e,r=e;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=nn(r.data,t));for(;o(n=n.parent);)n&&n.data&&(t=nn(t,n.data));return rn(t.staticClass,t.class)}function nn(e,t){return{staticClass:on(e.staticClass,t.staticClass),class:o(e.class)?[e.class,t.class]:t.class}}function rn(e,t){return o(e)||o(t)?on(e,an(t)):""}function on(e,t){return e?t?e+" "+t:e:t||""}function an(e){return Array.isArray(e)?sn(e):l(e)?ln(e):"string"==typeof e?e:""}function sn(e){for(var t,n="",r=0,i=e.length;r<i;r++)o(t=an(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function ln(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function un(e){return _s(e)?"svg":"math"===e?"math":void 0}function cn(e){if(!Vi)return!0;if(As(e))return!1;if(e=e.toLowerCase(),null!=Ss[e])return Ss[e];var t=document.createElement(e);return e.indexOf("-")>-1?Ss[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Ss[e]=/HTMLUnknownElement/.test(t.toString())}function fn(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function dn(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function hn(e,t){return document.createElementNS(Cs[e],t)}function pn(e){return document.createTextNode(e)}function mn(e){return document.createComment(e)}function gn(e,t,n){e.insertBefore(t,n)}function vn(e,t){e.removeChild(t)}function bn(e,t){e.appendChild(t)}function yn(e){return e.parentNode}function wn(e){return e.nextSibling}function xn(e){return e.tagName}function Cn(e,t){e.textContent=t}function kn(e,t){e.setAttribute(t,"")}function _n(e,t){var n=e.data.ref;if(o(n)){var r=e.context,i=e.componentInstance||e.elm,a=r.$refs;t?Array.isArray(a[n])?g(a[n],i):a[n]===i&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(i)<0&&a[n].push(i):a[n]=[i]:a[n]=i}}function En(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&o(e.data)===o(t.data)&&An(e,t)||i(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function An(e,t){if("input"!==e.tag)return!0;var n,r=o(n=e.data)&&o(n=n.attrs)&&n.type,i=o(n=t.data)&&o(n=n.attrs)&&n.type;return r===i||Os(r)&&Os(i)}function Sn(e,t,n){var r,i,a={};for(r=t;r<=n;++r)i=e[r].key,o(i)&&(a[i]=r);return a}function On(e,t){(e.data.directives||t.data.directives)&&Tn(e,t)}function Tn(e,t){var n,r,o,i=e===Ns,a=t===Ns,s=Dn(e.data.directives,e.context),l=Dn(t.data.directives,t.context),u=[],c=[];for(n in l)r=s[n],o=l[n],r?(o.oldValue=r.value,o.oldArg=r.arg,Fn(o,"update",t,e),o.def&&o.def.componentUpdated&&c.push(o)):(Fn(o,"bind",t,e),o.def&&o.def.inserted&&u.push(o));if(u.length){var f=function(){for(var n=0;n<u.length;n++)Fn(u[n],"inserted",t,e)};i?me(t,"insert",f):f()}if(c.length&&me(t,"postpatch",function(){for(var n=0;n<c.length;n++)Fn(c[n],"componentUpdated",t,e)}),!i)for(n in s)l[n]||Fn(s[n],"unbind",e,e,a)}function Dn(e,t){var n=Object.create(null);if(!e)return n;var r,o;for(r=0;r<e.length;r++)o=e[r],o.modifiers||(o.modifiers=Ps),n[Nn(o)]=o,o.def=Q(t.$options,"directives",o.name,!0);return n}function Nn(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Fn(e,t,n,r,o){var i=e.def&&e.def[t];if(i)try{i(n.elm,e,n,r,o)}catch(r){ie(r,n.context,"directive "+e.name+" "+t+" hook")}}function Ln(e,t){var n=t.componentOptions;if(!(o(n)&&!1===n.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var i,a,s=t.elm,l=e.data.attrs||{},u=t.data.attrs||{};o(u.__ob__)&&(u=t.data.attrs=C({},u));for(i in u)a=u[i],l[i]!==a&&Pn(s,i,a);(Gi||Xi)&&u.value!==l.value&&Pn(s,"value",u.value);for(i in l)r(u[i])&&(ys(i)?s.removeAttributeNS(bs,ws(i)):ps(i)||s.removeAttribute(i))}}function Pn(e,t,n){e.tagName.indexOf("-")>-1?Bn(e,t,n):vs(t)?xs(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):ps(t)?e.setAttribute(t,gs(t,n)):ys(t)?xs(n)?e.removeAttributeNS(bs,ws(t)):e.setAttributeNS(bs,t,n):Bn(e,t,n)}function Bn(e,t,n){if(xs(n))e.removeAttribute(t);else{if(Gi&&!Yi&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}function Rn(e,t){var n=t.elm,i=t.data,a=e.data;if(!(r(i.staticClass)&&r(i.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=tn(t),l=n._transitionClasses;o(l)&&(s=on(s,an(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}function qn(e){function t(){(a||(a=[])).push(e.slice(p,o).trim()),p=o+1}var n,r,o,i,a,s=!1,l=!1,u=!1,c=!1,f=0,d=0,h=0,p=0;for(o=0;o<e.length;o++)if(r=n,n=e.charCodeAt(o),s)39===n&&92!==r&&(s=!1);else if(l)34===n&&92!==r&&(l=!1);else if(u)96===n&&92!==r&&(u=!1);else if(c)47===n&&92!==r&&(c=!1);else if(124!==n||124===e.charCodeAt(o+1)||124===e.charCodeAt(o-1)||f||d||h){switch(n){case 34:l=!0;break;case 39:s=!0;break;case 96:u=!0;break;case 40:h++;break;case 41:h--;break;case 91:d++;break;case 93:d--;break;case 123:f++;break;case 125:f--}if(47===n){for(var m=o-1,g=void 0;m>=0&&" "===(g=e.charAt(m));m--);g&&Ms.test(g)||(c=!0)}}else void 0===i?(p=o+1,i=e.slice(0,o).trim()):t();if(void 0===i?i=e.slice(0,o).trim():0!==p&&t(),a)for(o=0;o<a.length;o++)i=Mn(i,a[o]);return i}function Mn(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,n),o=t.slice(n+1);return'_f("'+r+'")('+e+(")"!==o?","+o:o)}function jn(e,t){console.error("[Vue compiler]: "+e)}function In(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function $n(e,t,n,r,o){(e.props||(e.props=[])).push(Jn({name:t,value:n,dynamic:o},r)),e.plain=!1}function zn(e,t,n,r,o){(o?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(Jn({name:t,value:n,dynamic:o},r)),e.plain=!1}function Hn(e,t,n,r){e.attrsMap[t]=n,e.attrsList.push(Jn({name:t,value:n},r))}function Vn(e,t,n,r,o,i,a,s){(e.directives||(e.directives=[])).push(Jn({name:t,rawName:n,value:r,arg:o,isDynamicArg:i,modifiers:a},s)),e.plain=!1}function Un(e,t,n){return n?"_p("+t+',"'+e+'")':e+t}function Wn(e,t,n,r,o,i,a,s){r=r||_i,r.right?s?t="("+t+")==='click'?'contextmenu':("+t+")":"click"===t&&(t="contextmenu",delete r.right):r.middle&&(s?t="("+t+")==='click'?'mouseup':("+t+")":"click"===t&&(t="mouseup")),r.capture&&(delete r.capture,t=Un("!",t,s)),r.once&&(delete r.once,t=Un("~",t,s)),r.passive&&(delete r.passive,t=Un("&",t,s));var l;r.native?(delete r.native,l=e.nativeEvents||(e.nativeEvents={})):l=e.events||(e.events={});var u=Jn({value:n.trim(),dynamic:s},a);r!==_i&&(u.modifiers=r);var c=l[t];Array.isArray(c)?o?c.unshift(u):c.push(u):l[t]=c?o?[u,c]:[c,u]:u,e.plain=!1}function Kn(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}function Gn(e,t,n){var r=Yn(e,":"+t)||Yn(e,"v-bind:"+t);if(null!=r)return qn(r);if(!1!==n){var o=Yn(e,t);if(null!=o)return JSON.stringify(o)}}function Yn(e,t,n){var r;if(null!=(r=e.attrsMap[t]))for(var o=e.attrsList,i=0,a=o.length;i<a;i++)if(o[i].name===t){o.splice(i,1);break}return n&&delete e.attrsMap[t],r}function Xn(e,t){for(var n=e.attrsList,r=0,o=n.length;r<o;r++){var i=n[r];if(t.test(i.name))return n.splice(r,1),i}}function Jn(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function Zn(e,t,n){var r=n||{},o=r.number,i=r.trim,a="$$v";i&&(a="(typeof $$v === 'string'? $$v.trim(): $$v)"),o&&(a="_n("+a+")");var s=Qn(t,a);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+s+"}"}}function Qn(e,t){var n=er(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function er(e){if(e=e.trim(),ts=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<ts-1)return os=e.lastIndexOf("."),os>-1?{exp:e.slice(0,os),key:'"'+e.slice(os+1)+'"'}:{exp:e,key:null};for(ns=e,os=is=as=0;!nr();)rs=tr(),rr(rs)?ir(rs):91===rs&&or(rs);return{exp:e.slice(0,is),key:e.slice(is+1,as)}}function tr(){return ns.charCodeAt(++os)}function nr(){return os>=ts}function rr(e){return 34===e||39===e}function or(e){var t=1;for(is=os;!nr();)if(e=tr(),rr(e))ir(e);else if(91===e&&t++,93===e&&t--,0===t){as=os;break}}function ir(e){for(var t=e;!nr()&&(e=tr())!==t;);}function ar(e,t,n){ss=n;var r=t.value,o=t.modifiers,i=e.tag,a=e.attrsMap.type;if(e.component)return Zn(e,r,o),!1;if("select"===i)ur(e,r,o);else if("input"===i&&"checkbox"===a)sr(e,r,o);else if("input"===i&&"radio"===a)lr(e,r,o);else if("input"===i||"textarea"===i)cr(e,r,o);else if(!Ii.isReservedTag(i))return Zn(e,r,o),!1;return!0}function sr(e,t,n){var r=n&&n.number,o=Gn(e,"value")||"null",i=Gn(e,"true-value")||"true",a=Gn(e,"false-value")||"false";$n(e,"checked","Array.isArray("+t+")?_i("+t+","+o+")>-1"+("true"===i?":("+t+")":":_q("+t+","+i+")")),Wn(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+i+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+o+")":o)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Qn(t,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Qn(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Qn(t,"$$c")+"}",null,!0)}function lr(e,t,n){var r=n&&n.number,o=Gn(e,"value")||"null";o=r?"_n("+o+")":o,$n(e,"checked","_q("+t+","+o+")"),Wn(e,"change",Qn(t,o),null,!0)}function ur(e,t,n){var r=n&&n.number,o='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r?"_n(val)":"val")+"})",i="var $$selectedVal = "+o+";";i=i+" "+Qn(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Wn(e,"change",i,null,!0)}function cr(e,t,n){var r=e.attrsMap.type,o=n||{},i=o.lazy,a=o.number,s=o.trim,l=!i&&"range"!==r,u=i?"change":"range"===r?js:"input",c="$event.target.value";s&&(c="$event.target.value.trim()"),a&&(c="_n("+c+")");var f=Qn(t,c);l&&(f="if($event.target.composing)return;"+f),$n(e,"value","("+t+")"),Wn(e,u,f,null,!0),(s||a)&&Wn(e,"blur","$forceUpdate()")}function fr(e){if(o(e[js])){var t=Gi?"change":"input";e[t]=[].concat(e[js],e[t]||[]),delete e[js]}o(e[Is])&&(e.change=[].concat(e[Is],e.change||[]),delete e[Is])}function dr(e,t,n){var r=ls;return function o(){null!==t.apply(null,arguments)&&pr(e,o,n,r)}}function hr(e,t,n,r){if($s){var o=Va,i=t;t=i._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=o||e.timeStamp<=0||e.target.ownerDocument!==document)return i.apply(this,arguments)}}ls.addEventListener(e,t,ea?{capture:n,passive:r}:n)}function pr(e,t,n,r){(r||ls).removeEventListener(e,t._wrapper||t,n)}function mr(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},o=e.data.on||{};ls=t.elm,fr(n),pe(n,o,hr,pr,dr,t.context),ls=void 0}}function gr(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,i,a=t.elm,s=e.data.domProps||{},l=t.data.domProps||{};o(l.__ob__)&&(l=t.data.domProps=C({},l));for(n in s)n in l||(a[n]="");for(n in l){if(i=l[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=i;var u=r(i)?"":String(i);vr(a,u)&&(a.value=u)}else if("innerHTML"===n&&_s(a.tagName)&&r(a.innerHTML)){us=us||document.createElement("div"),us.innerHTML="<svg>"+i+"</svg>";for(var c=us.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}else if(i!==s[n])try{a[n]=i}catch(e){}}}}function vr(e,t){return!e.composing&&("OPTION"===e.tagName||br(e,t)||yr(e,t))}function br(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}function yr(e,t){var n=e.value,r=e._vModifiers;if(o(r)){if(r.number)return p(n)!==p(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}function wr(e){var t=xr(e.style);return e.staticStyle?C(e.staticStyle,t):t}function xr(e){return Array.isArray(e)?k(e):"string"==typeof e?Vs(e):e}function Cr(e,t){var n,r={};if(t)for(var o=e;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=wr(o.data))&&C(r,n);(n=wr(e.data))&&C(r,n);for(var i=e;i=i.parent;)i.data&&(n=wr(i.data))&&C(r,n);return r}function kr(e,t){var n=t.data,i=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var a,s,l=t.elm,u=i.staticStyle,c=i.normalizedStyle||i.style||{},f=u||c,d=xr(t.data.style)||{};t.data.normalizedStyle=o(d.__ob__)?C({},d):d;var h=Cr(t,!0);for(s in f)r(h[s])&&Ks(l,s,"");for(s in h)(a=h[s])!==f[s]&&Ks(l,s,null==a?"":a)}}function _r(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Js).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Er(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Js).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Ar(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&C(t,Zs(e.name||"v")),C(t,e),t}return"string"==typeof e?Zs(e):void 0}}function Sr(e){al(function(){al(e)})}function Or(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),_r(e,t))}function Tr(e,t){e._transitionClasses&&g(e._transitionClasses,t),Er(e,t)}function Dr(e,t,n){var r=Nr(e,t),o=r.type,i=r.timeout,a=r.propCount;if(!o)return n();var s=o===el?rl:il,l=0,u=function(){e.removeEventListener(s,c),n()},c=function(t){t.target===e&&++l>=a&&u()};setTimeout(function(){l<a&&u()},i+1),e.addEventListener(s,c)}function Nr(e,t){var n,r=window.getComputedStyle(e),o=(r[nl+"Delay"]||"").split(", "),i=(r[nl+"Duration"]||"").split(", "),a=Fr(o,i),s=(r[ol+"Delay"]||"").split(", "),l=(r[ol+"Duration"]||"").split(", "),u=Fr(s,l),c=0,f=0;return t===el?a>0&&(n=el,c=a,f=i.length):t===tl?u>0&&(n=tl,c=u,f=l.length):(c=Math.max(a,u),n=c>0?a>u?el:tl:null,f=n?n===el?i.length:l.length:0),{type:n,timeout:c,propCount:f,hasTransform:n===el&&sl.test(r[nl+"Property"])}}function Fr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Lr(t)+Lr(e[n])}))}function Lr(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Pr(e,t){var n=e.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Ar(e.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){for(var a=i.css,s=i.type,u=i.enterClass,c=i.enterToClass,f=i.enterActiveClass,d=i.appearClass,h=i.appearToClass,m=i.appearActiveClass,g=i.beforeEnter,v=i.enter,b=i.afterEnter,y=i.enterCancelled,w=i.beforeAppear,x=i.appear,C=i.afterAppear,k=i.appearCancelled,_=i.duration,E=qa,A=qa.$vnode;A&&A.parent;)E=A.context,A=A.parent;var O=!E._isMounted||!e.isRootInsert;if(!O||x||""===x){var T=O&&d?d:u,D=O&&m?m:f,N=O&&h?h:c,F=O?w||g:g,L=O&&"function"==typeof x?x:v,P=O?C||b:b,B=O?k||y:y,R=p(l(_)?_.enter:_),q=!1!==a&&!Yi,M=qr(L),j=n._enterCb=S(function(){q&&(Tr(n,N),Tr(n,D)),j.cancelled?(q&&Tr(n,T),B&&B(n)):P&&P(n),n._enterCb=null});e.data.show||me(e,"insert",function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),L&&L(n,j)}),F&&F(n),q&&(Or(n,T),Or(n,D),Sr(function(){Tr(n,T),j.cancelled||(Or(n,N),M||(Rr(R)?setTimeout(j,R):Dr(n,s,j)))})),e.data.show&&(t&&t(),L&&L(n,j)),q||M||j()}}}function Br(e,t){function n(){k.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),h&&h(i),w&&(Or(i,c),Or(i,d),Sr(function(){Tr(i,c),k.cancelled||(Or(i,f),x||(Rr(C)?setTimeout(k,C):Dr(i,u,k)))})),m&&m(i,k),w||x||k())}var i=e.elm;o(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var a=Ar(e.data.transition);if(r(a)||1!==i.nodeType)return t();if(!o(i._leaveCb)){var s=a.css,u=a.type,c=a.leaveClass,f=a.leaveToClass,d=a.leaveActiveClass,h=a.beforeLeave,m=a.leave,g=a.afterLeave,v=a.leaveCancelled,b=a.delayLeave,y=a.duration,w=!1!==s&&!Yi,x=qr(m),C=p(l(y)?y.leave:y),k=i._leaveCb=S(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),w&&(Tr(i,f),Tr(i,d)),k.cancelled?(w&&Tr(i,c),v&&v(i)):(t(),g&&g(i)),i._leaveCb=null});b?b(n):n()}}function Rr(e){return"number"==typeof e&&!isNaN(e)}function qr(e){if(r(e))return!1;var t=e.fns;return o(t)?qr(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Mr(e,t){!0!==t.data.show&&Pr(t)}function jr(e,t,n){Ir(e,t,n),(Gi||Xi)&&setTimeout(function(){Ir(e,t,n)},0)}function Ir(e,t,n){var r=t.value,o=e.multiple;if(!o||Array.isArray(r)){for(var i,a,s=0,l=e.options.length;s<l;s++)if(a=e.options[s],o)i=A(r,zr(a))>-1,a.selected!==i&&(a.selected=i);else if(E(zr(a),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));o||(e.selectedIndex=-1)}}function $r(e,t){return t.every(function(t){return!E(t,e)})}function zr(e){return"_value"in e?e._value:e.value}function Hr(e){e.target.composing=!0}function Vr(e){e.target.composing&&(e.target.composing=!1,Ur(e.target,"input"))}function Ur(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Wr(e){return!e.componentInstance||e.data&&e.data.transition?e:Wr(e.componentInstance._vnode)}function Kr(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Kr(ut(t.children)):e}function Gr(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var o=n._parentListeners;for(var i in o)t[Di(i)]=o[i];return t}function Yr(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Xr(e){for(;e=e.parent;)if(e.data.transition)return!0}function Jr(e,t){return t.key===e.key&&t.tag===e.tag}function Zr(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Qr(e){e.data.newPos=e.elm.getBoundingClientRect()}function eo(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,o=t.top-n.top;if(r||o){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}function to(e,t){var n=t?ql(t):Bl;if(n.test(e)){for(var r,o,i,a=[],s=[],l=n.lastIndex=0;r=n.exec(e);){o=r.index,o>l&&(s.push(i=e.slice(l,o)),a.push(JSON.stringify(i)));var u=qn(r[1].trim());a.push("_s("+u+")"),s.push({"@binding":u}),l=o+r[0].length}return l<e.length&&(s.push(i=e.slice(l)),a.push(JSON.stringify(i))),{expression:a.join("+"),tokens:s}}}function no(e,t){var n=(t.warn,Yn(e,"class"));n&&(e.staticClass=JSON.stringify(n));var r=Gn(e,"class",!1);r&&(e.classBinding=r)}function ro(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}function oo(e,t){var n=(t.warn,Yn(e,"style"));if(n){e.staticStyle=JSON.stringify(Vs(n))}var r=Gn(e,"style",!1);r&&(e.styleBinding=r)}function io(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}function ao(e,t){var n=t?ou:ru;return e.replace(n,function(e){return nu[e]})}function so(e,t){function n(t){c+=t,e=e.substring(t)}function r(e,n,r){var o,s;if(null==n&&(n=c),null==r&&(r=c),e)for(s=e.toLowerCase(),o=a.length-1;o>=0&&a[o].lowerCasedTag!==s;o--);else o=0;if(o>=0){for(var l=a.length-1;l>=o;l--)t.end&&t.end(a[l].tag,n,r);a.length=o,i=o&&a[o-1].tag}else"br"===s?t.start&&t.start(e,[],!0,n,r):"p"===s&&(t.start&&t.start(e,[],!1,n,r),t.end&&t.end(e,n,r))}for(var o,i,a=[],s=t.expectHTML,l=t.isUnaryTag||Bi,u=t.canBeLeftOpenTag||Bi,c=0;e;){if(o=e,i&&eu(i)){var f=0,d=i.toLowerCase(),h=tu[d]||(tu[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),p=e.replace(h,function(e,n,r){return f=r.length,eu(d)||"noscript"===d||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),au(d,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""});c+=e.length-p.length,e=p,r(d,c-f,c)}else{var m=e.indexOf("<");if(0===m){if(Zl.test(e)){var g=e.indexOf("--\x3e");if(g>=0){t.shouldKeepComment&&t.comment(e.substring(4,g),c,c+g+3),n(g+3);continue}}if(Ql.test(e)){var v=e.indexOf("]>");if(v>=0){n(v+2);continue}}var b=e.match(Jl);if(b){n(b[0].length);continue}var y=e.match(Xl);if(y){var w=c;n(y[0].length),r(y[1],w,c);continue}var x=function(){var t=e.match(Gl);if(t){var r={tagName:t[1],attrs:[],start:c};n(t[0].length);for(var o,i;!(o=e.match(Yl))&&(i=e.match(Ul)||e.match(Vl));)i.start=c,n(i[0].length),i.end=c,r.attrs.push(i);if(o)return r.unarySlash=o[1],n(o[0].length),r.end=c,r}}();if(x){!function(e){var n=e.tagName,o=e.unarySlash;s&&("p"===i&&Hl(n)&&r(i),u(n)&&i===n&&r(n));for(var c=l(n)||!!o,f=e.attrs.length,d=new Array(f),h=0;h<f;h++){var p=e.attrs[h],m=p[3]||p[4]||p[5]||"",g="a"===n&&"href"===p[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;d[h]={name:p[1],value:ao(m,g)}}c||(a.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d,start:e.start,end:e.end}),i=n),t.start&&t.start(n,d,c,e.start,e.end)}(x),au(x.tagName,e)&&n(1);continue}}var C=void 0,k=void 0,_=void 0;if(m>=0){for(k=e.slice(m);!(Xl.test(k)||Gl.test(k)||Zl.test(k)||Ql.test(k)||(_=k.indexOf("<",1))<0);)m+=_,k=e.slice(m);C=e.substring(0,m)}m<0&&(C=e),C&&n(C.length),t.chars&&C&&t.chars(C,c-C.length,c)}if(e===o){t.chars&&t.chars(e);break}}r()}function lo(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:Do(t),rawAttrsMap:{},parent:n,children:[]}}function uo(e,t){function n(e){if(r(e),c||e.processed||(e=ho(e,t)),s.length||e===i||i.if&&(e.elseif||e.else)&&xo(i,{exp:e.elseif,block:e}),a&&!e.forbidden)if(e.elseif||e.else)yo(e,a);else{if(e.slotScope){var n=e.slotTarget||'"default"';(a.scopedSlots||(a.scopedSlots={}))[n]=e}a.children.push(e),e.parent=a}e.children=e.children.filter(function(e){return!e.slotScope}),r(e),e.pre&&(c=!1),Ol(e.tag)&&(f=!1);for(var o=0;o<Sl.length;o++)Sl[o](e,t)}function r(e){if(!f)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}kl=t.warn||jn,Ol=t.isPreTag||Bi,Tl=t.mustUseProp||Bi,Dl=t.getTagNamespace||Bi;var o=t.isReservedTag||Bi;Nl=function(e){return!!e.component||!o(e.tag)},El=In(t.modules,"transformNode"),Al=In(t.modules,"preTransformNode"),Sl=In(t.modules,"postTransformNode"),_l=t.delimiters;var i,a,s=[],l=!1!==t.preserveWhitespace,u=t.whitespace,c=!1,f=!1;return so(e,{warn:kl,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,r,o,l,u){var d=a&&a.ns||Dl(e);Gi&&"svg"===d&&(r=Lo(r));var h=lo(e,r,a);d&&(h.ns=d),Fo(h)&&!oa()&&(h.forbidden=!0);for(var p=0;p<Al.length;p++)h=Al[p](h,t)||h;c||(co(h),h.pre&&(c=!0)),Ol(h.tag)&&(f=!0),c?fo(h):h.processed||(go(h),bo(h),Co(h)),i||(i=h),o?n(h):(a=h,s.push(h))},end:function(e,t,r){var o=s[s.length-1];s.length-=1,a=s[s.length-1],n(o)},chars:function(e,t,n){if(a&&(!Gi||"textarea"!==a.tag||a.attrsMap.placeholder!==e)){var r=a.children;if(e=f||e.trim()?No(a)?e:yu(e):r.length?u?"condense"===u&&vu.test(e)?"":" ":l?" ":"":""){f||"condense"!==u||(e=e.replace(bu," "));var o,i;!c&&" "!==e&&(o=to(e,_l))?i={type:2,expression:o.expression,tokens:o.tokens,text:e}:" "===e&&r.length&&" "===r[r.length-1].text||(i={type:3,text:e}),i&&r.push(i)}}},comment:function(e,t,n){if(a){var r={type:3,text:e,isComment:!0};a.children.push(r)}}}),i}function co(e){null!=Yn(e,"v-pre")&&(e.pre=!0)}function fo(e){var t=e.attrsList,n=t.length;if(n)for(var r=e.attrs=new Array(n),o=0;o<n;o++)r[o]={name:t[o].name,value:JSON.stringify(t[o].value)},null!=t[o].start&&(r[o].start=t[o].start,r[o].end=t[o].end);else e.pre||(e.plain=!0)}function ho(e,t){po(e),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,mo(e),ko(e),Eo(e),Ao(e);for(var n=0;n<El.length;n++)e=El[n](e,t)||e;return So(e),e}function po(e){var t=Gn(e,"key");if(t){e.key=t}}function mo(e){var t=Gn(e,"ref");t&&(e.ref=t,e.refInFor=Oo(e))}function go(e){var t;if(t=Yn(e,"v-for")){var n=vo(t);n&&C(e,n)}}function vo(e){var t=e.match(uu);if(t){var n={};n.for=t[2].trim();var r=t[1].trim().replace(fu,""),o=r.match(cu);return o?(n.alias=r.replace(cu,"").trim(),n.iterator1=o[1].trim(),o[2]&&(n.iterator2=o[2].trim())):n.alias=r,n}}function bo(e){var t=Yn(e,"v-if");if(t)e.if=t,xo(e,{exp:t,block:e});else{null!=Yn(e,"v-else")&&(e.else=!0);var n=Yn(e,"v-else-if");n&&(e.elseif=n)}}function yo(e,t){var n=wo(t.children);n&&n.if&&xo(n,{exp:e.elseif,block:e})}function wo(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}function xo(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function Co(e){null!=Yn(e,"v-once")&&(e.once=!0)}function ko(e){var t;"template"===e.tag?(t=Yn(e,"scope"),e.slotScope=t||Yn(e,"slot-scope")):(t=Yn(e,"slot-scope"))&&(e.slotScope=t);var n=Gn(e,"slot");if(n&&(e.slotTarget='""'===n?'"default"':n,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||zn(e,"slot",n,Kn(e,"slot"))),"template"===e.tag){var r=Xn(e,gu);if(r){var o=_o(r),i=o.name,a=o.dynamic;e.slotTarget=i,e.slotTargetDynamic=a,e.slotScope=r.value||wu}}else{var s=Xn(e,gu);if(s){var l=e.scopedSlots||(e.scopedSlots={}),u=_o(s),c=u.name,f=u.dynamic,d=l[c]=lo("template",[],e);d.slotTarget=c,d.slotTargetDynamic=f,d.children=e.children.filter(function(e){if(!e.slotScope)return e.parent=d,!0}),d.slotScope=s.value||wu,e.children=[],e.plain=!1}}}function _o(e){var t=e.name.replace(gu,"");return t||"#"!==e.name[0]&&(t="default"),du.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function Eo(e){"slot"===e.tag&&(e.slotName=Gn(e,"name"))}function Ao(e){var t;(t=Gn(e,"is"))&&(e.component=t),null!=Yn(e,"inline-template")&&(e.inlineTemplate=!0)}function So(e){var t,n,r,o,i,a,s,l,u=e.attrsList;for(t=0,n=u.length;t<n;t++)if(r=o=u[t].name,i=u[t].value,lu.test(r))if(e.hasBindings=!0,a=To(r.replace(lu,"")),a&&(r=r.replace(mu,"")),pu.test(r))r=r.replace(pu,""),i=qn(i),l=du.test(r),l&&(r=r.slice(1,-1)),a&&(a.prop&&!l&&"innerHtml"===(r=Di(r))&&(r="innerHTML"),a.camel&&!l&&(r=Di(r)),a.sync&&(s=Qn(i,"$event"),l?Wn(e,'"update:"+('+r+")",s,null,!1,kl,u[t],!0):(Wn(e,"update:"+Di(r),s,null,!1,kl,u[t]),Li(r)!==Di(r)&&Wn(e,"update:"+Li(r),s,null,!1,kl,u[t])))),a&&a.prop||!e.component&&Tl(e.tag,e.attrsMap.type,r)?$n(e,r,i,u[t],l):zn(e,r,i,u[t],l);else if(su.test(r))r=r.replace(su,""),l=du.test(r),l&&(r=r.slice(1,-1)),Wn(e,r,i,a,!1,kl,u[t],l);else{r=r.replace(lu,"");var c=r.match(hu),f=c&&c[1];l=!1,f&&(r=r.slice(0,-(f.length+1)),du.test(f)&&(f=f.slice(1,-1),l=!0)),Vn(e,r,o,i,f,l,a,u[t])}else{zn(e,r,JSON.stringify(i),u[t]),!e.component&&"muted"===r&&Tl(e.tag,e.attrsMap.type,r)&&$n(e,r,"true",u[t])}}function Oo(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}function To(e){var t=e.match(mu);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}function Do(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].name]=e[n].value;return t}function No(e){return"script"===e.tag||"style"===e.tag}function Fo(e){return"style"===e.tag||"script"===e.tag&&(!e.attrsMap.type||"text/javascript"===e.attrsMap.type)}function Lo(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];xu.test(r.name)||(r.name=r.name.replace(Cu,""),t.push(r))}return t}function Po(e,t){if("input"===e.tag){var n=e.attrsMap;if(!n["v-model"])return;var r;if((n[":type"]||n["v-bind:type"])&&(r=Gn(e,"type")),n.type||r||!n["v-bind"]||(r="("+n["v-bind"]+").type"),r){var o=Yn(e,"v-if",!0),i=o?"&&("+o+")":"",a=null!=Yn(e,"v-else",!0),s=Yn(e,"v-else-if",!0),l=Bo(e);go(l),Hn(l,"type","checkbox"),ho(l,t),l.processed=!0,l.if="("+r+")==='checkbox'"+i,xo(l,{exp:l.if,block:l});var u=Bo(e);Yn(u,"v-for",!0),Hn(u,"type","radio"),ho(u,t),xo(l,{exp:"("+r+")==='radio'"+i,block:u});var c=Bo(e);return Yn(c,"v-for",!0),Hn(c,":type",r),ho(c,t),xo(l,{exp:o,block:c}),a?l.else=!0:s&&(l.elseif=s),l}}}function Bo(e){return lo(e.tag,e.attrsList.slice(),e.parent)}function Ro(e,t){t.value&&$n(e,"textContent","_s("+t.value+")",t)}function qo(e,t){t.value&&$n(e,"innerHTML","_s("+t.value+")",t)}function Mo(e,t){e&&(Fl=Su(t.staticKeys||""),Ll=t.isReservedTag||Bi,Io(e),$o(e,!1))}function jo(e){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))}function Io(e){if(e.static=zo(e),1===e.type){if(!Ll(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var t=0,n=e.children.length;t<n;t++){var r=e.children[t];Io(r),r.static||(e.static=!1)}if(e.ifConditions)for(var o=1,i=e.ifConditions.length;o<i;o++){var a=e.ifConditions[o].block;Io(a),a.static||(e.static=!1)}}}function $o(e,t){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,r=e.children.length;n<r;n++)$o(e.children[n],t||!!e.for);if(e.ifConditions)for(var o=1,i=e.ifConditions.length;o<i;o++)$o(e.ifConditions[o].block,t)}}function zo(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||Ai(e.tag)||!Ll(e.tag)||Ho(e)||!Object.keys(e).every(Fl))))}function Ho(e){for(;e.parent;){if(e=e.parent,"template"!==e.tag)return!1;if(e.for)return!0}return!1}function Vo(e,t){var n=t?"nativeOn:":"on:",r="",o="";for(var i in e){var a=Uo(e[i]);e[i]&&e[i].dynamic?o+=i+","+a+",":r+='"'+i+'":'+a+","}return r="{"+r.slice(0,-1)+"}",o?n+"_d("+r+",["+o.slice(0,-1)+"])":n+r}function Uo(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return Uo(e)}).join(",")+"]";var t=Du.test(e.value),n=Ou.test(e.value),r=Du.test(e.value.replace(Tu,""));if(e.modifiers){var o="",i="",a=[];for(var s in e.modifiers)if(Pu[s])i+=Pu[s],Nu[s]&&a.push(s);else if("exact"===s){var l=e.modifiers;i+=Lu(["ctrl","shift","alt","meta"].filter(function(e){return!l[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))}else a.push(s);a.length&&(o+=Wo(a)),i&&(o+=i);return"function($event){"+o+(t?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":r?"return "+e.value:e.value)+"}"}return t||n?e.value:"function($event){"+(r?"return "+e.value:e.value)+"}"}function Wo(e){return"if(!$event.type.indexOf('key')&&"+e.map(Ko).join("&&")+")return null;"}function Ko(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Nu[e],r=Fu[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}function Go(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}}function Yo(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}}function Xo(e,t){var n=new Ru(t);return{render:"with(this){return "+(e?Jo(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Jo(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Zo(e,t);if(e.once&&!e.onceProcessed)return Qo(e,t);if(e.for&&!e.forProcessed)return ni(e,t);if(e.if&&!e.ifProcessed)return ei(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return gi(e,t);var n;if(e.component)n=vi(e.component,e,t);else{var r;(!e.plain||e.pre&&t.maybeComponent(e))&&(r=ri(e,t));var o=e.inlineTemplate?null:ci(e,t,!0);n="_c('"+e.tag+"'"+(r?","+r:"")+(o?","+o:"")+")"}for(var i=0;i<t.transforms.length;i++)n=t.transforms[i](e,n);return n}return ci(e,t)||"void 0"}function Zo(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Jo(e,t)+"}"),t.pre=n,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function Qo(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return ei(e,t);if(e.staticInFor){for(var n="",r=e.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Jo(e,t)+","+t.onceId+++","+n+")":Jo(e,t)}return Zo(e,t)}function ei(e,t,n,r){return e.ifProcessed=!0,ti(e.ifConditions.slice(),t,n,r)}function ti(e,t,n,r){function o(e){return n?n(e,t):e.once?Qo(e,t):Jo(e,t)}if(!e.length)return r||"_e()";var i=e.shift();return i.exp?"("+i.exp+")?"+o(i.block)+":"+ti(e,t,n,r):""+o(i.block)}function ni(e,t,n,r){var o=e.for,i=e.alias,a=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(r||"_l")+"(("+o+"),function("+i+a+s+"){return "+(n||Jo)(e,t)+"})"}function ri(e,t){var n="{",r=oi(e,t);r&&(n+=r+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var o=0;o<t.dataGenFns.length;o++)n+=t.dataGenFns[o](e);if(e.attrs&&(n+="attrs:"+bi(e.attrs)+","),e.props&&(n+="domProps:"+bi(e.props)+","),e.events&&(n+=Vo(e.events,!1)+","),e.nativeEvents&&(n+=Vo(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=ai(e,e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var i=ii(e,t);i&&(n+=i+",")}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b("+n+',"'+e.tag+'",'+bi(e.dynamicAttrs)+")"),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function oi(e,t){var n=e.directives;if(n){var r,o,i,a,s="directives:[",l=!1;for(r=0,o=n.length;r<o;r++){i=n[r],a=!0;var u=t.directives[i.name];u&&(a=!!u(e,i,t.warn)),a&&(l=!0,s+='{name:"'+i.name+'",rawName:"'+i.rawName+'"'+(i.value?",value:("+i.value+"),expression:"+JSON.stringify(i.value):"")+(i.arg?",arg:"+(i.isDynamicArg?i.arg:'"'+i.arg+'"'):"")+(i.modifiers?",modifiers:"+JSON.stringify(i.modifiers):"")+"},")}return l?s.slice(0,-1)+"]":void 0}}function ii(e,t){var n=e.children[0];if(n&&1===n.type){var r=Xo(n,t.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}function ai(e,t,n){var r=e.for||Object.keys(t).some(function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for||li(n)}),o=!!e.if;if(!r)for(var i=e.parent;i;){if(i.slotScope&&i.slotScope!==wu||i.for){r=!0;break}i.if&&(o=!0),i=i.parent}var a=Object.keys(t).map(function(e){return ui(t[e],n)}).join(",");return"scopedSlots:_u(["+a+"]"+(r?",null,true":"")+(!r&&o?",null,false,"+si(a):"")+")"}function si(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}function li(e){return 1===e.type&&("slot"===e.tag||e.children.some(li))}function ui(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return ei(e,t,ui,"null");if(e.for&&!e.forProcessed)return ni(e,t,ui);var r=e.slotScope===wu?"":String(e.slotScope),o="function("+r+"){return "+("template"===e.tag?e.if&&n?"("+e.if+")?"+(ci(e,t)||"undefined")+":undefined":ci(e,t)||"undefined":Jo(e,t))+"}",i=r?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+o+i+"}"}function ci(e,t,n,r,o){var i=e.children;if(i.length){var a=i[0];if(1===i.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?t.maybeComponent(a)?",1":",0":"";return""+(r||Jo)(a,t)+s}var l=n?fi(i,t.maybeComponent):0,u=o||hi;return"["+i.map(function(e){return u(e,t)}).join(",")+"]"+(l?","+l:"")}}function fi(e,t){for(var n=0,r=0;r<e.length;r++){var o=e[r];if(1===o.type){if(di(o)||o.ifConditions&&o.ifConditions.some(function(e){return di(e.block)})){n=2;break}(t(o)||o.ifConditions&&o.ifConditions.some(function(e){return t(e.block)}))&&(n=1)}}return n}function di(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function hi(e,t){return 1===e.type?Jo(e,t):3===e.type&&e.isComment?mi(e):pi(e)}function pi(e){return"_v("+(2===e.type?e.expression:yi(JSON.stringify(e.text)))+")"}function mi(e){return"_e("+JSON.stringify(e.text)+")"}function gi(e,t){var n=e.slotName||'"default"',r=ci(e,t),o="_t("+n+(r?","+r:""),i=e.attrs||e.dynamicAttrs?bi((e.attrs||[]).concat(e.dynamicAttrs||[]).map(function(e){return{name:Di(e.name),value:e.value,dynamic:e.dynamic}})):null,a=e.attrsMap["v-bind"];return!i&&!a||r||(o+=",null"),i&&(o+=","+i),a&&(o+=(i?"":",null")+","+a),o+")"}function vi(e,t,n){var r=t.inlineTemplate?null:ci(t,n,!0);return"_c("+e+","+ri(t,n)+(r?","+r:"")+")"}function bi(e){for(var t="",n="",r=0;r<e.length;r++){var o=e[r],i=yi(o.value);o.dynamic?n+=o.name+","+i+",":t+='"'+o.name+'":'+i+","}return t="{"+t.slice(0,-1)+"}",n?"_d("+t+",["+n.slice(0,-1)+"])":t}function yi(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function wi(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),_}}function xi(e){var t=Object.create(null);return function(n,r,o){r=C({},r);r.warn;delete r.warn;var i=r.delimiters?String(r.delimiters)+n:n;if(t[i])return t[i];var a=e(n,r),s={},l=[];return s.render=wi(a.render,l),s.staticRenderFns=a.staticRenderFns.map(function(e){return wi(e,l)}),t[i]=s}}function Ci(e){return Pl=Pl||document.createElement("div"),Pl.innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',Pl.innerHTML.indexOf("&#10;")>0}function ki(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var _i=Object.freeze({}),Ei=Object.prototype.toString,Ai=m("slot,component",!0),Si=m("key,ref,slot,slot-scope,is"),Oi=Object.prototype.hasOwnProperty,Ti=/-(\w)/g,Di=b(function(e){return e.replace(Ti,function(e,t){return t?t.toUpperCase():""})}),Ni=b(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Fi=/\B([A-Z])/g,Li=b(function(e){return e.replace(Fi,"-$1").toLowerCase()}),Pi=Function.prototype.bind?w:y,Bi=function(e,t,n){return!1},Ri=function(e){return e},qi="data-server-rendered",Mi=["component","directive","filter"],ji=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],Ii={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Bi,isReservedAttr:Bi,isUnknownElement:Bi,getTagNamespace:_,parsePlatformTagName:Ri,mustUseProp:Bi,async:!0,_lifecycleHooks:ji},$i=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,zi=new RegExp("[^"+$i.source+".$_\\d]"),Hi="__proto__"in{},Vi="undefined"!=typeof window,Ui="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Wi=Ui&&WXEnvironment.platform.toLowerCase(),Ki=Vi&&window.navigator.userAgent.toLowerCase(),Gi=Ki&&/msie|trident/.test(Ki),Yi=Ki&&Ki.indexOf("msie 9.0")>0,Xi=Ki&&Ki.indexOf("edge/")>0,Ji=(Ki&&Ki.indexOf("android"),Ki&&/iphone|ipad|ipod|ios/.test(Ki)||"ios"===Wi),Zi=(Ki&&/chrome\/\d+/.test(Ki),Ki&&/phantomjs/.test(Ki),Ki&&Ki.match(/firefox\/(\d+)/)),Qi={}.watch,ea=!1;if(Vi)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){ea=!0}}),window.addEventListener("test-passive",null,ta)}catch(e){}var na,ra,oa=function(){return void 0===na&&(na=!Vi&&!Ui&&void 0!==e&&(e.process&&"server"===e.process.env.VUE_ENV)),na},ia=Vi&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,aa="undefined"!=typeof Symbol&&N(Symbol)&&"undefined"!=typeof Reflect&&N(Reflect.ownKeys);ra="undefined"!=typeof Set&&N(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var sa=_,la=0,ua=function(){this.id=la++,this.subs=[]};ua.prototype.addSub=function(e){this.subs.push(e)},ua.prototype.removeSub=function(e){g(this.subs,e)},ua.prototype.depend=function(){ua.target&&ua.target.addDep(this)},ua.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},ua.target=null;var ca=[],fa=function(e,t,n,r,o,i,a,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},da={child:{configurable:!0}};da.child.get=function(){return this.componentInstance},Object.defineProperties(fa.prototype,da);var ha=function(e){void 0===e&&(e="");var t=new fa;return t.text=e,t.isComment=!0,t},pa=Array.prototype,ma=Object.create(pa);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=pa[e];T(ma,e,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var o,i=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i})});var ga=Object.getOwnPropertyNames(ma),va=!0,ba=function(e){this.value=e,this.dep=new ua,this.vmCount=0,T(e,"__ob__",this),Array.isArray(e)?(Hi?q(e,ma):M(e,ma,ga),this.observeArray(e)):this.walk(e)};ba.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)I(e,t[n])},ba.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)j(e[t])};var ya=Ii.optionMergeStrategies;ya.data=function(e,t,n){return n?U(e,t,n):t&&"function"!=typeof t?e:U(e,t)},ji.forEach(function(e){ya[e]=W}),Mi.forEach(function(e){ya[e+"s"]=G}),ya.watch=function(e,t,n,r){if(e===Qi&&(e=void 0),t===Qi&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};C(o,e);for(var i in t){var a=o[i],s=t[i];a&&!Array.isArray(a)&&(a=[a]),o[i]=a?a.concat(s):Array.isArray(s)?s:[s]}return o},ya.props=ya.methods=ya.inject=ya.computed=function(e,t,n,r){if(!e)return t;var o=Object.create(null);return C(o,e),t&&C(o,t),o},ya.provide=U;var wa,xa=function(e,t){return void 0===t?e:t},Ca=!1,ka=[],_a=!1;if("undefined"!=typeof Promise&&N(Promise)){var Ea=Promise.resolve();wa=function(){Ea.then(ue),Ji&&setTimeout(_)},Ca=!0}else if(Gi||"undefined"==typeof MutationObserver||!N(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())wa=void 0!==n&&N(n)?function(){n(ue)}:function(){setTimeout(ue,0)};else{var Aa=1,Sa=new MutationObserver(ue),Oa=document.createTextNode(String(Aa));Sa.observe(Oa,{characterData:!0}),wa=function(){Aa=(Aa+1)%2,Oa.data=String(Aa)},Ca=!0}var Ta=new ra,Da=b(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}});Ve(Ue.prototype);var Na,Fa={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Fa.prepatch(n,n)}else{(e.componentInstance=Xe(e,qa)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions;bt(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Ct(n,"mounted")),e.data.keepAlive&&(t._isMounted?At(n):wt(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?xt(t,!0):t.$destroy())}},La=Object.keys(Fa),Pa=1,Ba=2,Ra=null,qa=null,Ma=[],ja=[],Ia={},$a=!1,za=!1,Ha=0,Va=0,Ua=Date.now;if(Vi&&!Gi){var Wa=window.performance;Wa&&"function"==typeof Wa.now&&Ua()>document.createEvent("Event").timeStamp&&(Ua=function(){return Wa.now()})}var Ka=0,Ga=function(e,t,n,r,o){this.vm=e,o&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Ka,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ra,this.newDepIds=new ra,this.expression="","function"==typeof t?this.getter=t:(this.getter=D(t),this.getter||(this.getter=_)),this.value=this.lazy?void 0:this.get()};Ga.prototype.get=function(){F(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;ie(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&fe(e),L(),this.cleanupDeps()}return e},Ga.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Ga.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Ga.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ot(this)},Ga.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){ie(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Ga.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Ga.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Ga.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Ya={enumerable:!0,configurable:!0,get:_,set:_},Xa={lazy:!0},Ja=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=Ja++,t._isVue=!0,e&&e._isComponent?$t(t,e):t.$options=Z(zt(t.constructor),e||{},t),t._renderProxy=t,t._self=t,gt(t),ct(t),ot(t),Ct(t,"beforeCreate"),ke(t),Dt(t),Ce(t),Ct(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(Vt),function(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=$,e.prototype.$delete=z,e.prototype.$watch=function(e,t,n){var r=this;if(u(t))return It(r,e,t,n);n=n||{},n.user=!0;var o=new Ga(r,e,t,n);if(n.immediate)try{t.call(r,o.value)}catch(e){ie(e,r,'callback for immediate watcher "'+o.expression+'"')}return function(){o.teardown()}}}(Vt),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var o=0,i=e.length;o<i;o++)r.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){function n(){r.$off(e,n),t.apply(r,arguments)}var r=this;return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return n}var i=n._events[e];if(!i)return n;if(!t)return n._events[e]=null,n;for(var a,s=i.length;s--;)if((a=i[s])===t||a.fn===t){i.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?x(n):n;for(var r=x(arguments,1),o='event handler for "'+e+'"',i=0,a=n.length;i<a;i++)ae(n[i],t,r,t,o)}return t}}(Vt),function(e){e.prototype._update=function(e,t){var n=this,r=n.$el,o=n._vnode,i=mt(n);n._vnode=e,n.$el=o?n.__patch__(o,e):n.__patch__(n.$el,e,t,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Ct(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||g(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Ct(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Vt),function(e){Ve(e.prototype),e.prototype.$nextTick=function(e){return ce(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,r=t._parentVnode;r&&(e.$scopedSlots=Se(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;var o;try{Ra=e,o=n.call(e._renderProxy,e.$createElement)}catch(t){ie(t,e,"render"),o=e._vnode}finally{Ra=null}return Array.isArray(o)&&1===o.length&&(o=o[0]),o instanceof fa||(o=ha()),o.parent=r,o}}(Vt);var Za=[String,RegExp,Array],Qa={name:"keep-alive",abstract:!0,props:{include:Za,exclude:Za,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)en(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){Qt(e,function(e){return Zt(t,e)})}),this.$watch("exclude",function(t){Qt(e,function(e){return!Zt(t,e)})})},render:function(){var e=this.$slots.default,t=ut(e),n=t&&t.componentOptions;if(n){var r=Jt(n),o=this,i=o.include,a=o.exclude;if(i&&(!r||!Zt(i,r))||a&&r&&Zt(a,r))return t;var s=this,l=s.cache,u=s.keys,c=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;l[c]?(t.componentInstance=l[c].componentInstance,g(u,c),u.push(c)):(l[c]=t,u.push(c),this.max&&u.length>parseInt(this.max)&&en(l,u[0],u,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},es={KeepAlive:Qa};!function(e){var t={};t.get=function(){return Ii},Object.defineProperty(e,"config",t),e.util={warn:sa,extend:C,mergeOptions:Z,defineReactive:I},e.set=$,e.delete=z,e.nextTick=ce,e.observable=function(e){return j(e),e},e.options=Object.create(null),Mi.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,C(e.options.components,es),Ut(e),Wt(e),Kt(e),Xt(e)}(Vt),Object.defineProperty(Vt.prototype,"$isServer",{get:oa}),Object.defineProperty(Vt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Vt,"FunctionalRenderContext",{value:Ue}),Vt.version="2.6.10";var ts,ns,rs,os,is,as,ss,ls,us,cs,fs=m("style,class"),ds=m("input,textarea,option,select,progress"),hs=function(e,t,n){return"value"===n&&ds(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},ps=m("contenteditable,draggable,spellcheck"),ms=m("events,caret,typing,plaintext-only"),gs=function(e,t){return xs(t)||"false"===t?"false":"contenteditable"===e&&ms(t)?t:"true"},vs=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),bs="http://www.w3.org/1999/xlink",ys=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},ws=function(e){return ys(e)?e.slice(6,e.length):""},xs=function(e){return null==e||!1===e},Cs={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ks=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),_s=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Es=function(e){return"pre"===e},As=function(e){return ks(e)||_s(e)},Ss=Object.create(null),Os=m("text,number,password,search,email,tel,url"),Ts=Object.freeze({createElement:dn,createElementNS:hn,createTextNode:pn,createComment:mn,insertBefore:gn,removeChild:vn,appendChild:bn,parentNode:yn,nextSibling:wn,tagName:xn,setTextContent:Cn,setStyleScope:kn}),Ds={create:function(e,t){_n(t)},update:function(e,t){e.data.ref!==t.data.ref&&(_n(e,!0),_n(t))},destroy:function(e){_n(e,!0)}},Ns=new fa("",{},[]),Fs=["create","activate","update","remove","destroy"],Ls={create:On,update:On,destroy:function(e){On(e,Ns)}},Ps=Object.create(null),Bs=[Ds,Ls],Rs={create:Ln,update:Ln},qs={create:Rn,update:Rn},Ms=/[\w).+\-_$\]]/,js="__r",Is="__c",$s=Ca&&!(Zi&&Number(Zi[1])<=53),zs={create:mr,update:mr},Hs={create:gr,update:gr},Vs=b(function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach(function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),Us=/^--/,Ws=/\s*!important$/,Ks=function(e,t,n){if(Us.test(t))e.style.setProperty(t,n);else if(Ws.test(n))e.style.setProperty(Li(t),n.replace(Ws,""),"important");else{var r=Ys(t);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)e.style[r]=n[o];else e.style[r]=n}},Gs=["Webkit","Moz","ms"],Ys=b(function(e){if(cs=cs||document.createElement("div").style,"filter"!==(e=Di(e))&&e in cs)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Gs.length;n++){var r=Gs[n]+t;if(r in cs)return r}}),Xs={create:kr,update:kr},Js=/\s+/,Zs=b(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),Qs=Vi&&!Yi,el="transition",tl="animation",nl="transition",rl="transitionend",ol="animation",il="animationend";Qs&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(nl="WebkitTransition",rl="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ol="WebkitAnimation",il="webkitAnimationEnd"));var al=Vi?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()},sl=/\b(transform|all)(,|$)/,ll=Vi?{create:Mr,activate:Mr,remove:function(e,t){!0!==e.data.show?Br(e,t):t()}}:{},ul=[Rs,qs,zs,Hs,Xs,ll],cl=ul.concat(Bs),fl=function(e){function t(e){return new fa(N.tagName(e).toLowerCase(),{},[],void 0,e)}function n(e,t){function n(){0==--n.listeners&&a(e)}return n.listeners=t,n}function a(e){var t=N.parentNode(e);o(t)&&N.removeChild(t,e)}function l(e,t,n,r,a,s,l){if(o(e.elm)&&o(s)&&(e=s[l]=B(e)),e.isRootInsert=!a,!u(e,t,n,r)){var c=e.data,f=e.children,p=e.tag;o(p)?(e.elm=e.ns?N.createElementNS(e.ns,p):N.createElement(p,e),v(e),h(e,f,t),o(c)&&g(e,t),d(n,e.elm,r)):i(e.isComment)?(e.elm=N.createComment(e.text),d(n,e.elm,r)):(e.elm=N.createTextNode(e.text),d(n,e.elm,r))}}function u(e,t,n,r){var a=e.data;if(o(a)){var s=o(e.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(e,!1),o(e.componentInstance))return c(e,t),d(n,e.elm,r),i(s)&&f(e,t,n,r),!0}}function c(e,t){o(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,p(e)?(g(e,t),v(e)):(_n(e),t.push(e))}function f(e,t,n,r){for(var i,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,o(i=a.data)&&o(i=i.transition)){for(i=0;i<T.activate.length;++i)T.activate[i](Ns,a);t.push(a);break}d(n,e.elm,r)}function d(e,t,n){o(e)&&(o(n)?N.parentNode(n)===e&&N.insertBefore(e,t,n):N.appendChild(e,t))}function h(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)l(t[r],n,e.elm,null,!0,t,r);else s(e.text)&&N.appendChild(e.elm,N.createTextNode(String(e.text)))}function p(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return o(e.tag)}function g(e,t){for(var n=0;n<T.create.length;++n)T.create[n](Ns,e);S=e.data.hook,o(S)&&(o(S.create)&&S.create(Ns,e),o(S.insert)&&t.push(e))}function v(e){var t;if(o(t=e.fnScopeId))N.setStyleScope(e.elm,t);else for(var n=e;n;)o(t=n.context)&&o(t=t.$options._scopeId)&&N.setStyleScope(e.elm,t),n=n.parent;o(t=qa)&&t!==e.context&&t!==e.fnContext&&o(t=t.$options._scopeId)&&N.setStyleScope(e.elm,t)}function b(e,t,n,r,o,i){for(;r<=o;++r)l(n[r],i,e,t,!1,n,r)}function y(e){var t,n,r=e.data;if(o(r))for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<T.destroy.length;++t)T.destroy[t](e);if(o(t=e.children))for(n=0;n<e.children.length;++n)y(e.children[n])}function w(e,t,n,r){for(;n<=r;++n){var i=t[n];o(i)&&(o(i.tag)?(x(i),y(i)):a(i.elm))}}function x(e,t){if(o(t)||o(e.data)){var r,i=T.remove.length+1;for(o(t)?t.listeners+=i:t=n(e.elm,i),o(r=e.componentInstance)&&o(r=r._vnode)&&o(r.data)&&x(r,t),r=0;r<T.remove.length;++r)T.remove[r](e,t);o(r=e.data.hook)&&o(r=r.remove)?r(e,t):t()}else a(e.elm)}function C(e,t,n,i,a){for(var s,u,c,f,d=0,h=0,p=t.length-1,m=t[0],g=t[p],v=n.length-1,y=n[0],x=n[v],C=!a;d<=p&&h<=v;)r(m)?m=t[++d]:r(g)?g=t[--p]:En(m,y)?(_(m,y,i,n,h),m=t[++d],y=n[++h]):En(g,x)?(_(g,x,i,n,v),g=t[--p],x=n[--v]):En(m,x)?(_(m,x,i,n,v),C&&N.insertBefore(e,m.elm,N.nextSibling(g.elm)),m=t[++d],x=n[--v]):En(g,y)?(_(g,y,i,n,h),C&&N.insertBefore(e,g.elm,m.elm),g=t[--p],y=n[++h]):(r(s)&&(s=Sn(t,d,p)),u=o(y.key)?s[y.key]:k(y,t,d,p),r(u)?l(y,i,e,m.elm,!1,n,h):(c=t[u],En(c,y)?(_(c,y,i,n,h),t[u]=void 0,C&&N.insertBefore(e,c.elm,m.elm)):l(y,i,e,m.elm,!1,n,h)),y=n[++h]);d>p?(f=r(n[v+1])?null:n[v+1].elm,b(e,f,n,h,v,i)):h>v&&w(e,t,d,p)}function k(e,t,n,r){for(var i=n;i<r;i++){var a=t[i];if(o(a)&&En(e,a))return i}}function _(e,t,n,a,s,l){if(e!==t){o(t.elm)&&o(a)&&(t=a[s]=B(t));var u=t.elm=e.elm;if(i(e.isAsyncPlaceholder))return void(o(t.asyncFactory.resolved)?A(e.elm,t,n):t.isAsyncPlaceholder=!0);if(i(t.isStatic)&&i(e.isStatic)&&t.key===e.key&&(i(t.isCloned)||i(t.isOnce)))return void(t.componentInstance=e.componentInstance);var c,f=t.data;o(f)&&o(c=f.hook)&&o(c=c.prepatch)&&c(e,t);var d=e.children,h=t.children;if(o(f)&&p(t)){for(c=0;c<T.update.length;++c)T.update[c](e,t);o(c=f.hook)&&o(c=c.update)&&c(e,t)}r(t.text)?o(d)&&o(h)?d!==h&&C(u,d,h,n,l):o(h)?(o(e.text)&&N.setTextContent(u,""),b(u,null,h,0,h.length-1,n)):o(d)?w(u,d,0,d.length-1):o(e.text)&&N.setTextContent(u,""):e.text!==t.text&&N.setTextContent(u,t.text),o(f)&&o(c=f.hook)&&o(c=c.postpatch)&&c(e,t)}}function E(e,t,n){if(i(n)&&o(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}function A(e,t,n,r){var a,s=t.tag,l=t.data,u=t.children;if(r=r||l&&l.pre,t.elm=e,i(t.isComment)&&o(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(a=l.hook)&&o(a=a.init)&&a(t,!0),o(a=t.componentInstance)))return c(t,n),!0;if(o(s)){if(o(u))if(e.hasChildNodes())if(o(a=l)&&o(a=a.domProps)&&o(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var f=!0,d=e.firstChild,p=0;p<u.length;p++){if(!d||!A(d,u[p],n,r)){f=!1;break}d=d.nextSibling}if(!f||d)return!1}else h(t,u,n);if(o(l)){var m=!1;for(var v in l)if(!F(v)){m=!0,g(t,n);break}!m&&l.class&&fe(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}var S,O,T={},D=e.modules,N=e.nodeOps;for(S=0;S<Fs.length;++S)for(T[Fs[S]]=[],O=0;O<D.length;++O)o(D[O][Fs[S]])&&T[Fs[S]].push(D[O][Fs[S]]);var F=m("attrs,class,staticClass,staticStyle,key");return function(e,n,a,s){if(r(n))return void(o(e)&&y(e));var u=!1,c=[];if(r(e))u=!0,l(n,c);else{var f=o(e.nodeType);if(!f&&En(e,n))_(e,n,c,null,null,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(qi)&&(e.removeAttribute(qi),a=!0),i(a)&&A(e,n,c))return E(n,c,!0),e;e=t(e)}var d=e.elm,h=N.parentNode(d);if(l(n,c,d._leaveCb?null:h,N.nextSibling(d)),o(n.parent))for(var m=n.parent,g=p(n);m;){for(var v=0;v<T.destroy.length;++v)T.destroy[v](m);if(m.elm=n.elm,g){for(var b=0;b<T.create.length;++b)T.create[b](Ns,m);var x=m.data.hook.insert;if(x.merged)for(var C=1;C<x.fns.length;C++)x.fns[C]()}else _n(m);m=m.parent}o(h)?w(h,[e],0,0):o(e.tag)&&y(e)}}return E(n,c,u),n.elm}}({nodeOps:Ts,modules:cl});Yi&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Ur(e,"input")});var dl={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?me(n,"postpatch",function(){dl.componentUpdated(e,t,n)}):jr(e,t,n.context),e._vOptions=[].map.call(e.options,zr)):("textarea"===n.tag||Os(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Hr),e.addEventListener("compositionend",Vr),e.addEventListener("change",Vr),Yi&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){jr(e,t,n.context);var r=e._vOptions,o=e._vOptions=[].map.call(e.options,zr);if(o.some(function(e,t){return!E(e,r[t])})){(e.multiple?t.value.some(function(e){return $r(e,o)}):t.value!==t.oldValue&&$r(t.value,o))&&Ur(e,"change")}}}},hl={bind:function(e,t,n){var r=t.value;n=Wr(n);var o=n.data&&n.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&o?(n.data.show=!0,Pr(n,function(){e.style.display=i})):e.style.display=r?i:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&(n=Wr(n),n.data&&n.data.transition?(n.data.show=!0,r?Pr(n,function(){e.style.display=e.__vOriginalDisplay}):Br(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,o){o||(e.style.display=e.__vOriginalDisplay)}},pl={model:dl,show:hl},ml={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},gl=function(e){return e.tag||lt(e)},vl=function(e){return"show"===e.name},bl={name:"transition",props:ml,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(gl),n.length)){var r=this.mode,o=n[0];if(Xr(this.$vnode))return o;var i=Kr(o);if(!i)return o;if(this._leaving)return Yr(e,o);var a="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?a+"comment":a+i.tag:s(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var l=(i.data||(i.data={})).transition=Gr(this),u=this._vnode,c=Kr(u);if(i.data.directives&&i.data.directives.some(vl)&&(i.data.show=!0),c&&c.data&&!Jr(i,c)&&!lt(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var f=c.data.transition=C({},l);if("out-in"===r)return this._leaving=!0,me(f,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Yr(e,o);if("in-out"===r){if(lt(i))return u;var d,h=function(){d()};me(l,"afterEnter",h),me(l,"enterCancelled",h),me(f,"delayLeave",function(e){d=e})}}return o}}},yl=C({tag:String,moveClass:String},ml);delete yl.mode;var wl={props:yl,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var o=mt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=Gr(this),s=0;s<o.length;s++){var l=o[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))i.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(r){for(var u=[],c=[],f=0;f<r.length;f++){var d=r[f];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?u.push(d):c.push(d)}this.kept=e(t,null,u),this.removed=c}return e(t,null,i)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Zr),e.forEach(Qr),e.forEach(eo),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,r=n.style;Or(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(rl,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(rl,e),n._moveCb=null,Tr(n,t))})}}))},methods:{hasMove:function(e,t){if(!Qs)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){Er(n,e)}),_r(n,t),n.style.display="none",this.$el.appendChild(n);var r=Nr(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}},xl={Transition:bl,TransitionGroup:wl};Vt.config.mustUseProp=hs,Vt.config.isReservedTag=As,Vt.config.isReservedAttr=fs,Vt.config.getTagNamespace=un,Vt.config.isUnknownElement=cn,C(Vt.options.directives,pl),C(Vt.options.components,xl),Vt.prototype.__patch__=Vi?fl:_,Vt.prototype.$mount=function(e,t){return e=e&&Vi?fn(e):void 0,vt(this,e,t)},Vi&&setTimeout(function(){Ii.devtools&&ia&&ia.emit("init",Vt)},0);var Cl,kl,_l,El,Al,Sl,Ol,Tl,Dl,Nl,Fl,Ll,Pl,Bl=/\{\{((?:.|\r?\n)+?)\}\}/g,Rl=/[-.*+?^${}()|[\]\/\\]/g,ql=b(function(e){var t=e[0].replace(Rl,"\\$&"),n=e[1].replace(Rl,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")}),Ml={staticKeys:["staticClass"],transformNode:no,genData:ro},jl={staticKeys:["staticStyle"],transformNode:oo,genData:io},Il={decode:function(e){return Cl=Cl||document.createElement("div"),Cl.innerHTML=e,Cl.textContent}},$l=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),zl=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Hl=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Vl=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ul=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Wl="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+$i.source+"]*",Kl="((?:"+Wl+"\\:)?"+Wl+")",Gl=new RegExp("^<"+Kl),Yl=/^\s*(\/?)>/,Xl=new RegExp("^<\\/"+Kl+"[^>]*>"),Jl=/^<!DOCTYPE [^>]+>/i,Zl=/^<!\--/,Ql=/^<!\[/,eu=m("script,style,textarea",!0),tu={},nu={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},ru=/&(?:lt|gt|quot|amp|#39);/g,ou=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,iu=m("pre,textarea",!0),au=function(e,t){return e&&iu(e)&&"\n"===t[0]},su=/^@|^v-on:/,lu=/^v-|^@|^:/,uu=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,cu=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,fu=/^\(|\)$/g,du=/^\[.*\]$/,hu=/:(.*)$/,pu=/^:|^\.|^v-bind:/,mu=/\.[^.\]]+(?=[^\]]*$)/g,gu=/^v-slot(:|$)|^#/,vu=/[\r\n]/,bu=/\s+/g,yu=b(Il.decode),wu="_empty_",xu=/^xmlns:NS\d+/,Cu=/^NS\d+:/,ku={preTransformNode:Po},_u=[Ml,jl,ku],Eu={model:ar,text:Ro,html:qo},Au={expectHTML:!0,modules:_u,directives:Eu,isPreTag:Es,isUnaryTag:$l,mustUseProp:hs,canBeLeftOpenTag:zl,isReservedTag:As,getTagNamespace:un,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(_u)},Su=b(jo),Ou=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*(?:[\w$]+)?\s*\(/,Tu=/\([^)]*?\);*$/,Du=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Nu={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Fu={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Lu=function(e){return"if("+e+")return null;"},Pu={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Lu("$event.target !== $event.currentTarget"),ctrl:Lu("!$event.ctrlKey"),shift:Lu("!$event.shiftKey"),alt:Lu("!$event.altKey"),meta:Lu("!$event.metaKey"),left:Lu("'button' in $event && $event.button !== 0"),middle:Lu("'button' in $event && $event.button !== 1"),right:Lu("'button' in $event && $event.button !== 2")},Bu={on:Go,bind:Yo,cloak:_},Ru=function(e){this.options=e,this.warn=e.warn||jn,this.transforms=In(e.modules,"transformCode"),this.dataGenFns=In(e.modules,"genData"),this.directives=C(C({},Bu),e.directives);var t=e.isReservedTag||Bi;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1},qu=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),function(e){return function(t){function n(n,r){var o=Object.create(t),i=[],a=[],s=function(e,t,n){(n?a:i).push(e)};if(r){r.modules&&(o.modules=(t.modules||[]).concat(r.modules)),r.directives&&(o.directives=C(Object.create(t.directives||null),r.directives));for(var l in r)"modules"!==l&&"directives"!==l&&(o[l]=r[l])}o.warn=s;var u=e(n.trim(),o);return u.errors=i,u.tips=a,u}return{compile:n,compileToFunctions:xi(n)}}}(function(e,t){var n=uo(e.trim(),t);!1!==t.optimize&&Mo(n,t);var r=Xo(n,t);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}})),Mu=qu(Au),ju=(Mu.compile,Mu.compileToFunctions),Iu=!!Vi&&Ci(!1),$u=!!Vi&&Ci(!0),zu=b(function(e){var t=fn(e);return t&&t.innerHTML}),Hu=Vt.prototype.$mount;Vt.prototype.$mount=function(e,t){if((e=e&&fn(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=zu(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=ki(e));if(r){var o=ju(r,{outputSourceRange:!1,shouldDecodeNewlines:Iu,shouldDecodeNewlinesForHref:$u,delimiters:n.delimiters,comments:n.comments},this),i=o.render,a=o.staticRenderFns;n.render=i,n.staticRenderFns=a}}return Hu.call(this,e,t)},Vt.compile=ju,t.default=Vt}.call(t,n(3),n(55).setImmediate)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(56),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(3))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[l]=r,s(l),l++}function o(e){delete u[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=u[e];if(t){c=!0;try{i(t)}finally{o(e),c=!1}}}}if(!e.setImmediate){var s,l=1,u={},c=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(3),n(57))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&h&&(m=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,m=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),d=n(3),h=r(d),p=n(4),m=r(p),g=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return a(t,e),u(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,m.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new f.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return s("action",e)}},{key:"defaultTarget",value:function(e){var t=s("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return s("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(h.default);e.exports=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(){function e(t){r(this,e),this.resolveOptions(t),this.initSelection()}return i(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,s.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,s.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=l},function(e,t){function n(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}e.exports=n},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){o.off(e,r),t.apply(n,arguments)}var o=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=n},function(e,t,n){function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(e))return o(e,t,n);if(s.nodeList(e))return i(e,t,n);if(s.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function i(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return l(document.body,e,t,n)}var s=n(5),l=n(6);e.exports=r},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e,t,n,r,o){var a=i.apply(this,arguments);return e.addEventListener(n,a,o),{destroy:function(){e.removeEventListener(n,a,o)}}}function o(e,t,n,o,i){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return r(e,t,n,o,i)}))}function i(e,t,n,r){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&r.call(e,n)}}var a=n(7);e.exports=o},function(e,t){function n(e,t){for(;e&&e.nodeType!==r;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=n}])})},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("td",{},[n("span",{staticClass:"debug-text",attrs:{title:e.pathNeed}},[e._v(e._s(e.pathNeed))])]),e._v(" "),n("td",{},[n("span",{staticClass:"debug-text",attrs:{title:e.text}},[e._v(e._s(e.text))])]),e._v(" "),n("td",{staticClass:"PSR",class:{changing:e.isChanging},on:{dblclick:function(t){e.isEdit=!0}}},[n("el-tooltip",{staticClass:"item MR6 PSA L3 T2",attrs:{effect:"light",placement:"left"}},[n("i",{staticClass:"el-icon-view"}),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},["null"==e.getDataType(e.pathNeed)?n("pre",{staticClass:"valueShowInTip"},[e._v(e._s(e.getValueStr(e.pathNeed)))]):n("JsonViewer",{staticClass:"valueShowInTip",attrs:{"expand-depth":2,value:e.getValueStr(e.pathNeed)}})],1)]),e._v(" "),e.isEdit?e._e():n("span",{staticClass:"DPIB valueShow"},[e._v(e._s(e.valueNeed))]),e._v(" "),e.isEdit?n("div",{staticClass:"PL18"},["number"==e.editComType?n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.valueNeed,expression:"valueNeed",modifiers:{number:!0}}],staticClass:"WP100",attrs:{type:"number"},domProps:{value:e.valueNeed},on:{blur:[function(t){e.isEdit=!1},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.valueNeed=e._n(t.target.value))}}}):e._e(),e._v(" "),"text"==e.editComType?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.valueNeed,expression:"valueNeed"}],staticClass:"WP100",domProps:{value:e.valueNeed},on:{blur:function(t){e.isEdit=!1},input:function(t){t.target.composing||(e.valueNeed=t.target.value)}}}):e._e(),e._v(" "),"json"==e.editComType?n("json_editor",{staticClass:"WP100",on:{blur:function(t){e.isEdit=!1}},model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}}):e._e()],1):e._e()],1)])},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){var r=n(61);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("21a0c1d8",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".clear[data-v-7358c06e]{clear:both}.clearall.el-col[data-v-7358c06e]{display:inline-block}.clear~.el-form-item[data-v-7358c06e]{float:left}.form-group-box[data-v-7358c06e]{border:1px solid #ddd;border-radius:5px;padding:10px 10px 15px;margin:0 0 20px}.form-group-no-label[data-v-7358c06e]{border:none;padding:0;margin:0 0 20px}.el-col-12:last-child .el-form-item[data-v-7358c06e],.el-col-12:nth-last-child(2) .el-form-item[data-v-7358c06e],.el-col-24:last-child .el-form-item[data-v-7358c06e],.el-col-24:last-child .form-group-box[data-v-7358c06e]{margin-bottom:0}",""])},function(e,t,n){"use strict";function r(e){n(63)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(131),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-54313989",null);t.default=c.exports},function(e,t,n){var r=n(64);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("2c7200ce",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".hide-btn[data-v-54313989] [role=button]{display:none}.hide-btn[data-v-54313989] .el-input__inner{padding-right:15px}.el-col[data-v-54313989] .el-slider__marks-text{margin-top:8px;line-height:32px;word-break:keep-all}.el-col[data-v-54313989] .el-slider__runway{margin:15px 0 0}.frequency-option[data-v-54313989]{display:inline-block;border:1px solid #ddd;border-radius:5px;line-height:1;padding:5px 8px;background-color:#f0f0f0;margin:0 5px 5px;cursor:pointer;color:#999;font-style:normal;text-align:center}.frequency-option[data-v-54313989]:hover{border:1px solid #f60}.frequency-option.focus[data-v-54313989]{border:1px solid #3a0}.slider[data-v-54313989] .el-slider__marks-text{word-break:keep-all}",""])},function(e,t,n){"use strict";function r(e){n(66)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(72),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-ee4766d4",null);t.default=c.exports},function(e,t,n){var r=n(67);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("13ca16d2",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".ace_line_group[data-v-ee4766d4]{text-align:left}.json-editor-container[data-v-ee4766d4]{display:flex;width:100%}.json-editor-container .tree-mode[data-v-ee4766d4]{width:50%}.json-editor-container .code-mode[data-v-ee4766d4]{flex-grow:1}.jsoneditor-btns[data-v-ee4766d4]{text-align:center;margin-top:10px}.jsoneditor-vue .jsoneditor-outer[data-v-ee4766d4]{min-height:150px}.jsoneditor-vue div.jsoneditor-tree[data-v-ee4766d4]{min-height:350px}.json-save-btn[data-v-ee4766d4]{background-color:#20a0ff;border:none;color:#fff;padding:5px 10px;border-radius:5px}.json-save-btn[data-v-ee4766d4]:focus{outline:none}.json-save-btn[disabled][data-v-ee4766d4]{background-color:#1d8ce0}code[data-v-ee4766d4]{background-color:#f5f5f5}",""])},function(e,t,n){var r=n(69);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("396c4397",r,!0,{})},function(e,t,n){var r=n(70);t=e.exports=n(0)(!1),t.push([e.i,'div.jsoneditor .jsoneditor-search input{height:auto;border:inherit}div.jsoneditor .jsoneditor-search input:focus{border:none!important;box-shadow:none!important}div.jsoneditor table{border-collapse:collapse;width:auto}div.jsoneditor td,div.jsoneditor th{padding:0;display:table-cell;text-align:left;vertical-align:inherit;border-radius:inherit}div.jsoneditor-field,div.jsoneditor-readonly,div.jsoneditor-value{border:1px solid transparent;min-height:16px;min-width:32px;padding:2px;margin:1px;word-wrap:break-word;float:left}div.jsoneditor-field p,div.jsoneditor-value p{margin:0}div.jsoneditor-value{word-break:break-word}div.jsoneditor-readonly{min-width:16px;color:gray}div.jsoneditor-empty{border-color:#d3d3d3;border-style:dashed;border-radius:2px}div.jsoneditor-field.jsoneditor-empty:after,div.jsoneditor-value.jsoneditor-empty:after{pointer-events:none;color:#d3d3d3;font-size:8pt}div.jsoneditor-field.jsoneditor-empty:after{content:"field"}div.jsoneditor-value.jsoneditor-empty:after{content:"value"}a.jsoneditor-value.jsoneditor-url,div.jsoneditor-value.jsoneditor-url{color:green;text-decoration:underline}a.jsoneditor-value.jsoneditor-url{display:inline-block;padding:2px;margin:2px}a.jsoneditor-value.jsoneditor-url:focus,a.jsoneditor-value.jsoneditor-url:hover{color:#ee422e}div.jsoneditor td.jsoneditor-separator{padding:3px 0;vertical-align:top;color:gray}div.jsoneditor-field.jsoneditor-highlight,div.jsoneditor-field[contenteditable=true]:focus,div.jsoneditor-field[contenteditable=true]:hover,div.jsoneditor-value.jsoneditor-highlight,div.jsoneditor-value[contenteditable=true]:focus,div.jsoneditor-value[contenteditable=true]:hover{background-color:#ffffab;border:1px solid #ff0;border-radius:2px}div.jsoneditor-field.jsoneditor-highlight-active,div.jsoneditor-field.jsoneditor-highlight-active:focus,div.jsoneditor-field.jsoneditor-highlight-active:hover,div.jsoneditor-value.jsoneditor-highlight-active,div.jsoneditor-value.jsoneditor-highlight-active:focus,div.jsoneditor-value.jsoneditor-highlight-active:hover{background-color:#fe0;border:1px solid #ffc700;border-radius:2px}div.jsoneditor-value.jsoneditor-string{color:green}div.jsoneditor-value.jsoneditor-array,div.jsoneditor-value.jsoneditor-object{min-width:16px;color:gray}div.jsoneditor-value.jsoneditor-number{color:#ee422e}div.jsoneditor-value.jsoneditor-boolean{color:#ff8c00}div.jsoneditor-value.jsoneditor-null{color:#004ed0}div.jsoneditor-value.jsoneditor-invalid{color:#000}div.jsoneditor-tree button{width:24px;height:24px;padding:0;margin:0;border:none;cursor:pointer;background:transparent url('+r(n(4))+")}div.jsoneditor-mode-form tr.jsoneditor-expandable td.jsoneditor-tree,div.jsoneditor-mode-view tr.jsoneditor-expandable td.jsoneditor-tree{cursor:pointer}div.jsoneditor-tree button.jsoneditor-collapsed{background-position:0 -48px}div.jsoneditor-tree button.jsoneditor-expanded{background-position:0 -72px}div.jsoneditor-tree button.jsoneditor-contextmenu{background-position:-48px -72px}div.jsoneditor-tree button.jsoneditor-contextmenu.jsoneditor-selected,div.jsoneditor-tree button.jsoneditor-contextmenu:focus,div.jsoneditor-tree button.jsoneditor-contextmenu:hover,tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-contextmenu{background-position:-48px -48px}div.jsoneditor-tree :focus{outline:none}div.jsoneditor-tree button:focus{background-color:#f5f5f5;outline:1px solid #e5e5e5}div.jsoneditor-tree button.jsoneditor-invisible{visibility:hidden;background:none}div.jsoneditor{color:#1a1a1a;border:1px solid #3883fa;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:100%;overflow:hidden;position:relative;padding:0;line-height:100%}div.jsoneditor-tree table.jsoneditor-tree{border-collapse:collapse;border-spacing:0;width:100%;margin:0}div.jsoneditor-outer{position:static;width:100%;height:100%;margin:-35px 0 0;padding:35px 0 0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.ace-jsoneditor,textarea.jsoneditor-text{min-height:150px}div.jsoneditor-tree{width:100%;height:100%;position:relative;overflow:auto}textarea.jsoneditor-text{width:100%;height:100%;margin:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;outline-width:0;border:none;background-color:#fff;resize:none}tr.jsoneditor-highlight,tr.jsoneditor-selected{background-color:#e6e6e6}tr.jsoneditor-selected button.jsoneditor-contextmenu,tr.jsoneditor-selected button.jsoneditor-dragarea{visibility:hidden}tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-contextmenu,tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-dragarea{visibility:visible}div.jsoneditor-tree button.jsoneditor-dragarea{background:url("+r(n(4))+") -72px -72px;cursor:move}div.jsoneditor-tree button.jsoneditor-dragarea:focus,div.jsoneditor-tree button.jsoneditor-dragarea:hover,tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-dragarea{background-position:-72px -48px}div.jsoneditor td,div.jsoneditor th,div.jsoneditor tr{padding:0;margin:0}div.jsoneditor td,div.jsoneditor td.jsoneditor-tree{vertical-align:top}.jsoneditor-schema-error,div.jsoneditor-field,div.jsoneditor-value,div.jsoneditor td,div.jsoneditor textarea,div.jsoneditor th{font-family:droid sans mono,consolas,monospace,courier new,courier,sans-serif;font-size:10pt;color:#1a1a1a}.jsoneditor-schema-error{cursor:default;display:inline-block;height:24px;line-height:24px;position:relative;text-align:center;width:24px}div.jsoneditor-tree .jsoneditor-schema-error{width:24px;height:24px;padding:0;margin:0 4px 0 0;background:url("+r(n(4))+') -168px -48px}.jsoneditor-schema-error .jsoneditor-popover{background-color:#4c4c4c;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.4);color:#fff;display:none;padding:7px 10px;position:absolute;width:200px;z-index:4}.jsoneditor-schema-error .jsoneditor-popover.jsoneditor-above{bottom:32px;left:-98px}.jsoneditor-schema-error .jsoneditor-popover.jsoneditor-below{top:32px;left:-98px}.jsoneditor-schema-error .jsoneditor-popover.jsoneditor-left{top:-7px;right:32px}.jsoneditor-schema-error .jsoneditor-popover.jsoneditor-right{top:-7px;left:32px}.jsoneditor-schema-error .jsoneditor-popover:before{border-right:7px solid transparent;border-left:7px solid transparent;content:"";display:block;left:50%;margin-left:-7px;position:absolute}.jsoneditor-schema-error .jsoneditor-popover.jsoneditor-above:before{border-top:7px solid #4c4c4c;bottom:-7px}.jsoneditor-schema-error .jsoneditor-popover.jsoneditor-below:before{border-bottom:7px solid #4c4c4c;top:-7px}.jsoneditor-schema-error .jsoneditor-popover.jsoneditor-left:before{border-left:7px solid #4c4c4c;right:-14px;left:inherit}.jsoneditor-schema-error .jsoneditor-popover.jsoneditor-left:before,.jsoneditor-schema-error .jsoneditor-popover.jsoneditor-right:before{border-top:7px solid transparent;border-bottom:7px solid transparent;content:"";top:19px;margin-left:inherit;margin-top:-7px;position:absolute}.jsoneditor-schema-error .jsoneditor-popover.jsoneditor-right:before{border-right:7px solid #4c4c4c;left:-14px}.jsoneditor-schema-error:focus .jsoneditor-popover,.jsoneditor-schema-error:hover .jsoneditor-popover{display:block;-webkit-animation:fade-in .3s linear 1,move-up .3s linear 1;-moz-animation:fade-in .3s linear 1,move-up .3s linear 1;-ms-animation:fade-in .3s linear 1,move-up .3s linear 1}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@-moz-keyframes fade-in{0%{opacity:0}to{opacity:1}}@-ms-keyframes fade-in{0%{opacity:0}to{opacity:1}}.jsoneditor .jsoneditor-text-errors{width:100%;border-collapse:collapse;background-color:#ffef8b;border-top:1px solid gold}.jsoneditor .jsoneditor-text-errors td{padding:3px 6px;vertical-align:middle}.jsoneditor-text-errors .jsoneditor-schema-error{border:none;width:24px;height:24px;padding:0;margin:0 4px 0 0;background:url('+r(n(4))+") -168px -48px}div.jsoneditor-contextmenu-root{position:relative;width:0;height:0}div.jsoneditor-contextmenu{position:absolute;box-sizing:content-box;z-index:99999}div.jsoneditor-contextmenu li,div.jsoneditor-contextmenu ul{box-sizing:content-box}div.jsoneditor-contextmenu ul{position:relative;left:0;top:0;width:124px;background:#fff;border:1px solid #d3d3d3;box-shadow:2px 2px 12px hsla(0,0%,50%,.3);list-style:none;margin:0;padding:0}div.jsoneditor-contextmenu ul li button{padding:0;margin:0;width:124px;height:24px;border:none;cursor:pointer;color:#4d4d4d;background:transparent;font-size:10pt;font-family:arial,sans-serif;box-sizing:border-box;line-height:26px;text-align:left}div.jsoneditor-contextmenu ul li button::-moz-focus-inner{padding:0;border:0}div.jsoneditor-contextmenu ul li button:focus,div.jsoneditor-contextmenu ul li button:hover{color:#1a1a1a;background-color:#f5f5f5;outline:none}div.jsoneditor-contextmenu ul li button.jsoneditor-default{width:92px}div.jsoneditor-contextmenu ul li button.jsoneditor-expand{float:right;width:32px;height:24px;border-left:1px solid #e5e5e5}div.jsoneditor-contextmenu div.jsoneditor-icon{float:left;width:24px;height:24px;border:none;padding:0;margin:0;background-image:url("+r(n(4))+")}div.jsoneditor-contextmenu ul li button div.jsoneditor-expand{float:right;width:24px;height:24px;padding:0;margin:0 4px 0 0;background:url("+r(n(4))+") 0 -72px;opacity:.4}div.jsoneditor-contextmenu ul li.jsoneditor-selected div.jsoneditor-expand,div.jsoneditor-contextmenu ul li button.jsoneditor-expand:focus div.jsoneditor-expand,div.jsoneditor-contextmenu ul li button.jsoneditor-expand:hover div.jsoneditor-expand,div.jsoneditor-contextmenu ul li button:focus div.jsoneditor-expand,div.jsoneditor-contextmenu ul li button:hover div.jsoneditor-expand{opacity:1}div.jsoneditor-contextmenu div.jsoneditor-separator{height:0;border-top:1px solid #e5e5e5;padding-top:5px;margin-top:5px}div.jsoneditor-contextmenu button.jsoneditor-remove>div.jsoneditor-icon{background-position:-24px -24px}div.jsoneditor-contextmenu button.jsoneditor-remove:focus>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-remove:hover>div.jsoneditor-icon{background-position:-24px 0}div.jsoneditor-contextmenu button.jsoneditor-append>div.jsoneditor-icon{background-position:0 -24px}div.jsoneditor-contextmenu button.jsoneditor-append:focus>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-append:hover>div.jsoneditor-icon{background-position:0 0}div.jsoneditor-contextmenu button.jsoneditor-insert>div.jsoneditor-icon{background-position:0 -24px}div.jsoneditor-contextmenu button.jsoneditor-insert:focus>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-insert:hover>div.jsoneditor-icon{background-position:0 0}div.jsoneditor-contextmenu button.jsoneditor-duplicate>div.jsoneditor-icon{background-position:-48px -24px}div.jsoneditor-contextmenu button.jsoneditor-duplicate:focus>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-duplicate:hover>div.jsoneditor-icon{background-position:-48px 0}div.jsoneditor-contextmenu button.jsoneditor-sort-asc>div.jsoneditor-icon{background-position:-168px -24px}div.jsoneditor-contextmenu button.jsoneditor-sort-asc:focus>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-sort-asc:hover>div.jsoneditor-icon{background-position:-168px 0}div.jsoneditor-contextmenu button.jsoneditor-sort-desc>div.jsoneditor-icon{background-position:-192px -24px}div.jsoneditor-contextmenu button.jsoneditor-sort-desc:focus>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-sort-desc:hover>div.jsoneditor-icon{background-position:-192px 0}div.jsoneditor-contextmenu ul li button.jsoneditor-selected,div.jsoneditor-contextmenu ul li button.jsoneditor-selected:focus,div.jsoneditor-contextmenu ul li button.jsoneditor-selected:hover{color:#fff;background-color:#ee422e}div.jsoneditor-contextmenu ul li{overflow:hidden}div.jsoneditor-contextmenu ul li ul{display:none;position:relative;left:-10px;top:0;border:none;box-shadow:inset 0 0 10px hsla(0,0%,50%,.5);padding:0 10px;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}div.jsoneditor-contextmenu ul li ul li button{padding-left:24px;animation:all ease-in-out 1s}div.jsoneditor-contextmenu ul li ul li button:focus,div.jsoneditor-contextmenu ul li ul li button:hover{background-color:#f5f5f5}div.jsoneditor-contextmenu button.jsoneditor-type-string>div.jsoneditor-icon{background-position:-144px -24px}div.jsoneditor-contextmenu button.jsoneditor-type-string.jsoneditor-selected>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-type-string:focus>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-type-string:hover>div.jsoneditor-icon{background-position:-144px 0}div.jsoneditor-contextmenu button.jsoneditor-type-auto>div.jsoneditor-icon{background-position:-120px -24px}div.jsoneditor-contextmenu button.jsoneditor-type-auto.jsoneditor-selected>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-type-auto:focus>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-type-auto:hover>div.jsoneditor-icon{background-position:-120px 0}div.jsoneditor-contextmenu button.jsoneditor-type-object>div.jsoneditor-icon{background-position:-72px -24px}div.jsoneditor-contextmenu button.jsoneditor-type-object.jsoneditor-selected>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-type-object:focus>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-type-object:hover>div.jsoneditor-icon{background-position:-72px 0}div.jsoneditor-contextmenu button.jsoneditor-type-array>div.jsoneditor-icon{background-position:-96px -24px}div.jsoneditor-contextmenu button.jsoneditor-type-array.jsoneditor-selected>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-type-array:focus>div.jsoneditor-icon,div.jsoneditor-contextmenu button.jsoneditor-type-array:hover>div.jsoneditor-icon{background-position:-96px 0}div.jsoneditor-contextmenu button.jsoneditor-type-modes>div.jsoneditor-icon{background-image:none;width:6px}div.jsoneditor-menu{width:100%;height:35px;padding:2px;margin:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;background-color:#3883fa;border-bottom:1px solid #3883fa}div.jsoneditor-menu>button,div.jsoneditor-menu>div.jsoneditor-modes>button{width:26px;height:26px;margin:2px;padding:0;border-radius:2px;border:1px solid transparent;background:transparent url("+r(n(4))+");color:#fff;opacity:.8;font-family:arial,sans-serif;font-size:10pt;float:left}div.jsoneditor-menu>button:hover,div.jsoneditor-menu>div.jsoneditor-modes>button:hover{background-color:hsla(0,0%,100%,.2);border:1px solid hsla(0,0%,100%,.4)}div.jsoneditor-menu>button:active,div.jsoneditor-menu>button:focus,div.jsoneditor-menu>div.jsoneditor-modes>button:active,div.jsoneditor-menu>div.jsoneditor-modes>button:focus{background-color:hsla(0,0%,100%,.3)}div.jsoneditor-menu>button:disabled,div.jsoneditor-menu>div.jsoneditor-modes>button:disabled{opacity:.5}div.jsoneditor-menu>button.jsoneditor-collapse-all{background-position:0 -96px}div.jsoneditor-menu>button.jsoneditor-expand-all{background-position:0 -120px}div.jsoneditor-menu>button.jsoneditor-undo{background-position:-24px -96px}div.jsoneditor-menu>button.jsoneditor-undo:disabled{background-position:-24px -120px}div.jsoneditor-menu>button.jsoneditor-redo{background-position:-48px -96px}div.jsoneditor-menu>button.jsoneditor-redo:disabled{background-position:-48px -120px}div.jsoneditor-menu>button.jsoneditor-compact{background-position:-72px -96px}div.jsoneditor-menu>button.jsoneditor-format{background-position:-72px -120px}div.jsoneditor-menu>div.jsoneditor-modes{display:inline-block;float:left}div.jsoneditor-menu>div.jsoneditor-modes>button{background-image:none;width:auto;padding-left:6px;padding-right:6px}div.jsoneditor-menu>button.jsoneditor-separator,div.jsoneditor-menu>div.jsoneditor-modes>button.jsoneditor-separator{margin-left:10px}div.jsoneditor-menu a{font-family:arial,sans-serif;font-size:10pt;color:#fff;opacity:.8;vertical-align:middle}div.jsoneditor-menu a:hover{opacity:1}div.jsoneditor-menu a.jsoneditor-poweredBy{font-size:8pt;position:absolute;right:0;top:0;padding:10px}table.jsoneditor-search div.jsoneditor-results,table.jsoneditor-search input{font-family:arial,sans-serif;font-size:10pt;color:#1a1a1a;background:transparent}table.jsoneditor-search div.jsoneditor-results{color:#fff;padding-right:5px;line-height:24px}table.jsoneditor-search{position:absolute;right:4px;top:4px;border-collapse:collapse;border-spacing:0}table.jsoneditor-search div.jsoneditor-frame{border:1px solid transparent;background-color:#fff;padding:0 2px;margin:0}table.jsoneditor-search div.jsoneditor-frame table{border-collapse:collapse}table.jsoneditor-search input{width:120px;border:none;outline:none;margin:1px;line-height:20px}table.jsoneditor-search button{width:16px;height:24px;padding:0;margin:0;border:none;background:url("+r(n(4))+");vertical-align:top}table.jsoneditor-search button:hover{background-color:transparent}table.jsoneditor-search button.jsoneditor-refresh{width:18px;background-position:-99px -73px}table.jsoneditor-search button.jsoneditor-next{cursor:pointer;background-position:-124px -73px}table.jsoneditor-search button.jsoneditor-next:hover{background-position:-124px -49px}table.jsoneditor-search button.jsoneditor-previous{cursor:pointer;background-position:-148px -73px;margin-right:2px}table.jsoneditor-search button.jsoneditor-previous:hover{background-position:-148px -49px}",""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(module,exports,__webpack_require__){/*!
 * jsoneditor.js
 *
 * @brief
 * JSONEditor is a web-based tool to view, edit, format, and validate JSON.
 * It has various modes such as a tree editor, a code editor, and a plain text
 * editor.
 *
 * Supported browsers: Chrome, Firefox, Safari, Opera, Internet Explorer 8+
 *
 * @license
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *
 * Copyright (c) 2011-2017 Jos de Jong, http://jsoneditoronline.org
 *
 * @author  Jos de Jong, <wjosdejong@gmail.com>
 * @version 5.5.11
 * @date    2017-01-06
 */
!function(e,t){module.exports=t()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))throw new Error('JSONEditor constructor called without "new".');var o=s.getInternetExplorerVersion();if(-1!=o&&o<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");if(t&&(t.error&&(console.warn('Option "error" has been renamed to "onError"'),t.onError=t.error,delete t.error),t.change&&(console.warn('Option "change" has been renamed to "onChange"'),t.onChange=t.change,delete t.change),t.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),t.onEditable=t.editable,delete t.editable),t)){var i=["ace","theme","ajv","schema","onChange","onEditable","onError","onModeChange","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys"];Object.keys(t).forEach(function(e){-1===i.indexOf(e)&&console.warn('Unknown option "'+e+'". This option will be ignored')})}arguments.length&&this._create(e,t,n)}var o;try{o=n(1)}catch(e){}var i=n(51),a=n(62),s=n(54);r.modes={},r.prototype.DEBOUNCE_INTERVAL=150,r.prototype._create=function(e,t,n){this.container=e,this.options=t||{},this.json=n||{};var r=this.options.mode||"tree";this.setMode(r)},r.prototype.destroy=function(){},r.prototype.set=function(e){this.json=e},r.prototype.get=function(){return this.json},r.prototype.setText=function(e){this.json=s.parse(e)},r.prototype.getText=function(){return JSON.stringify(this.json)},r.prototype.setName=function(e){this.options||(this.options={}),this.options.name=e},r.prototype.getName=function(){return this.options&&this.options.name},r.prototype.setMode=function(e){var t,n,o=this.container,i=s.extend({},this.options),a=i.mode;i.mode=e;var l=r.modes[e];if(!l)throw new Error('Unknown mode "'+i.mode+'"');try{var u="text"==l.data;if(n=this.getName(),t=this[u?"getText":"get"](),this.destroy(),s.clear(this),s.extend(this,l.mixin),this.create(o,i),this.setName(n),this[u?"setText":"set"](t),"function"==typeof l.load)try{l.load.call(this)}catch(e){console.error(e)}if("function"==typeof i.onModeChange&&e!==a)try{i.onModeChange(e,a)}catch(e){console.error(e)}}catch(e){this._onError(e)}},r.prototype.getMode=function(){return this.options.mode},r.prototype._onError=function(e){if(!this.options||"function"!=typeof this.options.onError)throw e;this.options.onError(e)},r.prototype.setSchema=function(e){if(e){var t;try{t=this.options.ajv||o({allErrors:!0,verbose:!0})}catch(e){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}t&&(this.validateSchema=t.compile(e),this.options.schema=e,this.validate()),this.refresh()}else this.validateSchema=null,this.options.schema=null,this.validate(),this.refresh()},r.prototype.validate=function(){},r.prototype.refresh=function(){},r.registerMode=function(e){var t,n;if(s.isArray(e))for(t=0;t<e.length;t++)r.registerMode(e[t]);else{if(!("mode"in e))throw new Error('Property "mode" missing');if(!("mixin"in e))throw new Error('Property "mixin" missing');if(!("data"in e))throw new Error('Property "data" missing');var o=e.mode;if(o in r.modes)throw new Error('Mode "'+o+'" already registered');if("function"!=typeof e.mixin.create)throw new Error('Required function "create" missing on mixin');var i=["setMode","registerMode","modes"];for(t=0;t<i.length;t++)if((n=i[t])in e.mixin)throw new Error('Reserved property "'+n+'" not allowed in mixin');r.modes[o]=e}},r.registerMode(i),r.registerMode(a),e.exports=r},function(e,t,n){"use strict";function r(e){return v.test(e)}function o(e){function t(e,t){var n;if("string"==typeof e){if(!(n=_(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=O(e);n=r.validate||T(r)}var o=n(t);return n.async?"*"==L._opts.async?m(o):o:(L.errors=n.errors,o)}function y(e){var t=O(e);return t.validate||T(t)}function w(e,t,n,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)w(e[o],void 0,n,r);else{t=a.normalizeId(t||e.id),F(t);(L._schemas[t]=O(e,n,!0)).meta=r}}function x(e,t,n){w(e,t,n,!0)}function C(e,n){var o=e.$schema||L._opts.defaultMeta||k(),i=L._formats.uri;L._formats.uri="function"==typeof i?r:v;var a=t(o,e);if(L._formats.uri=i,!a&&n){var s="schema is invalid:"+D();if("log"!=L._opts.validateSchema)throw new Error(s);console.error(s)}return a}function k(){var e=L._opts.meta;return L._opts.defaultMeta="object"==typeof e?e.id||e:L._opts.v5?d.META_SCHEMA_ID:g,L._opts.defaultMeta}function _(e){var t=E(e);switch(typeof t){case"object":return t.validate||T(t);case"string":return _(t)}}function E(e){return e=a.normalizeId(e),L._schemas[e]||L._refs[e]}function A(e){switch(typeof e){case"undefined":return S(L._schemas),S(L._refs),void L._cache.clear();case"string":var t=E(e);return t&&L._cache.del(t.jsonStr),delete L._schemas[e],void delete L._refs[e];case"object":if(e instanceof RegExp)return S(L._schemas,e),void S(L._refs,e);var n=u(e);L._cache.del(n);var r=e.id;r&&(r=a.normalizeId(r),delete L._schemas[r],delete L._refs[r])}}function S(e,t){for(var n in e){var r=e[n];r.meta||t&&!t.test(n)||(L._cache.del(r.jsonStr),delete e[n])}}function O(e,t,n){if("object"!=typeof e)throw new Error("schema should be object");var r=u(e),o=L._cache.get(r);if(o)return o;n=n||!1!==L._opts.addUsedSchema;var i=a.normalizeId(e.id);i&&n&&F(i),!1===L._opts.validateSchema||t||C(e,!0);var s=a.ids.call(L,e),c=new l({id:i,schema:e,localRefs:s,jsonStr:r});return"#"!=i[0]&&n&&(L._refs[i]=c),L._cache.put(r,c),c}function T(e,t){function n(){var t=e.validate,r=t.apply(null,arguments);return n.errors=t.errors,r}if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t||n,!0===e.schema.$async&&(n.async=!0),n;e.compiling=!0;var r;e.meta&&(r=L._opts,L._opts=L._metaOpts);var o;try{o=i.call(L,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(L._opts=r)}return e.validate=o,e.refs=o.refs,e.refVal=o.refVal,e.root=o.root,o}function D(e,t){if(!(e=e||L.errors))return"No errors";t=t||{};for(var n=void 0===t.separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,o="",i=0;i<e.length;i++){var a=e[i];a&&(o+=r+a.dataPath+" "+a.message+n)}return o.slice(0,-n.length)}function N(e,t){"string"==typeof t&&(t=new RegExp(t)),L._formats[e]=t}function F(e){if(L._schemas[e]||L._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}if(!(this instanceof o))return new o(e);var L=this;e=this._opts=h.copy(e)||{},this._schemas={},this._refs={},this._formats=c(e.format),this._cache=e.cache||new s,this._loadingSchemas={},this.RULES=f(),this.validate=t,this.compile=y,this.addSchema=w,this.addMetaSchema=x,this.validateSchema=C,this.getSchema=_,this.removeSchema=A,this.addFormat=N,this.errorsText=D,this._addSchema=O,this._compile=T,e.loopRequired=e.loopRequired||1/0,(e.async||e.transpile)&&p.setup(e),!0===e.beautify&&(e.beautify={indent_size:2}),"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),this._metaOpts=function(){for(var e=h.copy(L._opts),t=0;t<b.length;t++)delete e[b[t]];return e}(),function(){!1!==L._opts.meta&&(x(n(50),g,!0),L._refs["http://json-schema.org/schema"]=g);var e=L._opts.schemas;if(e)if(Array.isArray(e))w(e);else for(var t in e)w(e[t],t)}(),e.formats&&function(){for(var e in L._opts.formats)N(e,L._opts.formats[e])}(),e.v5&&d.enable(this),"object"==typeof e.meta&&x(e.meta)}var i=n(2),a=n(3),s=n(21),l=n(16),u=n(12),c=n(22),f=n(23),d=n(43),h=n(11),p=n(17),m=n(19);e.exports=o,o.prototype.compileAsync=p.compile,o.prototype.addKeyword=n(49),o.ValidationError=n(20);var g="http://json-schema.org/draft-04/schema",v=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,b=["removeAdditional","useDefaults","coerceTypes"]},function(module,exports,__webpack_require__){"use strict";function compile(schema,root,localRefs,baseId){function localCompile(_schema,_root,localRefs,baseId){var isRoot=!_root||_root&&_root.schema==_schema;if(_root.schema!=root.schema)return compile.call(self,_schema,_root,localRefs,baseId);var $async=!0===_schema.$async;$async&&!opts.transpile&&async.setup(opts);var sourceCode=validateGenerator({isTop:!0,schema:_schema,isRoot:isRoot,baseId:baseId,root:_root,schemaPath:"",errSchemaPath:"#",errorPath:'""',RULES:RULES,validate:validateGenerator,util:util,resolve:resolve,resolveRef:resolveRef,usePattern:usePattern,useDefault:useDefault,useCustomRule:useCustomRule,opts:opts,formats:formats,self:self});sourceCode=vars(refVal,refValCode)+vars(patterns,patternCode)+vars(defaults,defaultCode)+vars(customRules,customRuleCode)+sourceCode,opts.beautify&&(beautify?sourceCode=beautify(sourceCode,opts.beautify):console.error('"npm install js-beautify" to use beautify option'));var validate,validateCode,transpile=opts._transpileFunc;try{validateCode=$async&&transpile?transpile(sourceCode):sourceCode,eval(validateCode),refVal[0]=validate}catch(e){throw console.error("Error compiling schema, function code:",validateCode),e}return validate.schema=_schema,validate.errors=null,validate.refs=refs,validate.refVal=refVal,validate.root=isRoot?validate:_root,$async&&(validate.async=!0),validate.sourceCode=sourceCode,validate}function resolveRef(e,t,n){t=resolve.url(e,t);var r,o,i=refs[t];if(void 0!==i)return r=refVal[i],o="refVal["+i+"]",resolvedRef(r,o);if(!n){var a=root.refs[t];if(void 0!==a)return r=root.refVal[a],o=addLocalRef(t,r),resolvedRef(r,o)}o=addLocalRef(t);var s=resolve.call(self,localCompile,root,t);if(!s){var l=localRefs&&localRefs[t];l&&(s=resolve.inlineRef(l,opts.inlineRefs)?l:compile.call(self,l,root,localRefs,e))}return s?(replaceLocalRef(t,s),resolvedRef(s,o)):void 0}function addLocalRef(e,t){var n=refVal.length;return refVal[n]=t,refs[e]=n,"refVal"+n}function replaceLocalRef(e,t){var n=refs[e];refVal[n]=t}function resolvedRef(e,t){return"object"==typeof e?{code:t,schema:e,inline:!0}:{code:t,async:e&&e.async}}function usePattern(e){var t=patternsHash[e];return void 0===t&&(t=patternsHash[e]=patterns.length,patterns[t]=e),"pattern"+t}function useDefault(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return util.toQuotedString(e);case"object":if(null===e)return"null";var t=stableStringify(e),n=defaultsHash[t];return void 0===n&&(n=defaultsHash[t]=defaults.length,defaults[n]=e),"default"+n}}function useCustomRule(e,t,n,r){var o,i=e.definition.compile,a=e.definition.inline,s=e.definition.macro;i?o=i.call(self,t,n):s?(o=s.call(self,t,n),!1!==opts.validateSchema&&self.validateSchema(o,!0)):o=a?a.call(self,r,e.keyword,t,n):e.definition.validate;var l=customRules.length;return customRules[l]=o,{code:"customRule"+l,validate:o}}var self=this,opts=this._opts,refVal=[void 0],refs={},patterns=[],patternsHash={},defaults=[],defaultsHash={},customRules=[];root=root||{schema:schema,refVal:refVal,refs:refs};var formats=this._formats,RULES=this.RULES;return localCompile(schema,root,localRefs,baseId)}function patternCode(e,t){return"var pattern"+e+" = new RegExp("+util.toQuotedString(t[e])+");"}function defaultCode(e){return"var default"+e+" = defaults["+e+"];"}function refValCode(e,t){return t[e]?"var refVal"+e+" = refVal["+e+"];":""}function customRuleCode(e){return"var customRule"+e+" = customRules["+e+"];"}function vars(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}var resolve=__webpack_require__(3),util=__webpack_require__(11),stableStringify=__webpack_require__(12),async=__webpack_require__(17),beautify=function(){try{return __webpack_require__(!function(){var e=new Error('Cannot find module "js-beautify"');throw e.code="MODULE_NOT_FOUND",e}()).js_beautify}catch(e){}}(),validateGenerator=__webpack_require__(18);module.exports=compile;var co=__webpack_require__(19),ucs2length=util.ucs2length,equal=__webpack_require__(10),ValidationError=__webpack_require__(20)},function(e,t,n){"use strict";function r(e,t,n){var i=this._refs[n];if("string"==typeof i){if(!this._refs[i])return r.call(this,e,t,i);i=this._refs[i]}if((i=i||this._schemas[n])instanceof b)return s(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var a,l,u,c=o.call(this,t,n);return c&&(a=c.schema,t=c.root,u=c.baseId),a instanceof b?l=a.validate||e.call(this,a.schema,t,void 0,u):a&&(l=s(a,this._opts.inlineRefs)?a:e.call(this,a,t,void 0,u)),l}function o(e,t){var n=m.parse(t,!1,!0),r=f(n),o=c(e.schema.id);if(r!==o){var s=d(r),l=this._refs[s];if("string"==typeof l)return i.call(this,e,l,n);if(l instanceof b)l.validate||this._compile(l),e=l;else if((l=this._schemas[s])instanceof b){if(l.validate||this._compile(l),s==d(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=c(e.schema.id)}return a.call(this,n,o,e.schema,e)}function i(e,t,n){var r=o.call(this,e,t);if(r){var i=r.schema,s=r.baseId;return e=r.root,i.id&&(s=h(s,i.id)),a.call(this,n,s,i,e)}}function a(e,t,n,r){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var i=e.hash.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(s=v.unescapeFragment(s),!(n=n[s]))break;if(n.id&&!y[s]&&(t=h(t,n.id)),n.$ref){var l=h(t,n.$ref),u=o.call(this,r,l);u&&(n=u.schema,r=u.root,t=u.baseId)}}}return n&&n!=r.schema?{schema:n,root:r,baseId:t}:void 0}}function s(e,t){return!1!==t&&(void 0===t||!0===t?l(e):t?u(e)<=t:void 0)}function l(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&!l(t))return!1}else for(var r in e){if("$ref"==r)return!1;if("object"==typeof(t=e[r])&&!l(t))return!1}return!0}function u(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],"object"==typeof t&&(n+=u(t)),n==1/0)return 1/0}else for(var o in e){if("$ref"==o)return 1/0;if(w[o])n++;else if(t=e[o],"object"==typeof t&&(n+=u(t)+1),n==1/0)return 1/0}return n}function c(e,t){return!1!==t&&(e=d(e)),f(m.parse(e,!1,!0))}function f(e){return(e.protocol||"")+(e.protocol?"//":"")+(e.host||"")+(e.path||"")+"#"}function d(e){return e?e.replace(x,""):""}function h(e,t){return t=d(t),m.resolve(e,t)}function p(e){function t(e,n,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)t.call(this,e[i],n+"/"+i,o);else if(e&&"object"==typeof e){if("string"==typeof e.id){var a=o=o?m.resolve(o,e.id):e.id;a=d(a);var s=this._refs[a];if("string"==typeof s&&(s=this._refs[s]),s&&s.schema){if(!g(e,s.schema))throw new Error('id "'+a+'" resolves to more than one schema')}else if(a!=d(n))if("#"==a[0]){if(r[a]&&!g(e,r[a]))throw new Error('id "'+a+'" resolves to more than one schema');r[a]=e}else this._refs[a]=n}for(var l in e)t.call(this,e[l],n+"/"+v.escapeFragment(l),o)}}var n=d(e.id),r={};return t.call(this,e,c(n,!1),n),r}var m=n(4),g=n(10),v=n(11),b=n(16);e.exports=r,r.normalizeId=d,r.fullPath=c,r.url=h,r.ids=p,r.inlineRef=s;var y=v.toHash(["properties","patternProperties","enum","dependencies","definitions"]),w=v.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),x=/#\/?$/},function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,n){if(e&&u(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function i(e){return l(e)&&(e=o(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return o(e,!1,!0).resolve(t)}function s(e,t){return e?o(e,!1,!0).resolveObject(t):t}function l(e){return"string"==typeof e}function u(e){return"object"==typeof e&&null!==e}function c(e){return null===e}function f(e){return null==e}var d=n(5);t.parse=o,t.resolve=a,t.resolveObject=s,t.format=i,t.Url=r;var h=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","\t"],g=["{","}","|","\\","^","`"].concat(m),v=["'"].concat(g),b=["%","/","?",";","#"].concat(v),y=["/","?","#"],w=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},k={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(7);r.prototype.parse=function(e,t,n){if(!l(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var o=h.exec(r);if(o){o=o[0];var i=o.toLowerCase();this.protocol=i,r=r.substr(o.length)}if(n||o||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===r.substr(0,2);!a||o&&k[o]||(r=r.substr(2),this.slashes=!0)}if(!k[o]&&(a||o&&!_[o])){for(var s=-1,u=0;u<y.length;u++){var c=r.indexOf(y[u]);-1!==c&&(-1===s||c<s)&&(s=c)}var f,p;p=-1===s?r.lastIndexOf("@"):r.lastIndexOf("@",s),-1!==p&&(f=r.slice(0,p),r=r.slice(p+1),this.auth=decodeURIComponent(f)),s=-1;for(var u=0;u<b.length;u++){var c=r.indexOf(b[u]);-1!==c&&(-1===s||c<s)&&(s=c)}-1===s&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),u=0,A=g.length;u<A;u++){var S=g[u];if(S&&!S.match(w)){for(var O="",T=0,D=S.length;T<D;T++)S.charCodeAt(T)>127?O+="x":O+=S[T];if(!O.match(w)){var N=g.slice(0,u),F=g.slice(u+1),L=S.match(x);L&&(N.push(L[1]),F.unshift(L[2])),F.length&&(r="/"+F.join(".")+r),this.hostname=N.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var P=this.hostname.split("."),B=[],u=0;u<P.length;++u){var R=P[u];B.push(R.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(R):R)}this.hostname=B.join(".")}var q=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+q,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!C[i])for(var u=0,A=v.length;u<A;u++){var j=v[u],I=encodeURIComponent(j);I===j&&(I=escape(j)),r=r.split(j).join(I)}var $=r.indexOf("#");-1!==$&&(this.hash=r.substr($),r=r.slice(0,$));var z=r.indexOf("?");if(-1!==z?(this.search=r.substr(z),this.query=r.substr(z+1),t&&(this.query=E.parse(this.query)),r=r.slice(0,z)):t&&(this.search="",this.query={}),r&&(this.pathname=r),_[i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",R=this.search||"";this.path=q+R}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(i=E.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+o+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(l(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),_[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||k[e.protocol])n.pathname=e.pathname;else{for(var o=(e.pathname||"").split("/");o.length&&!(e.host=o.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),n.pathname=o.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var i=n.pathname||"",a=n.search||"";n.path=i+a}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),u=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=u||s||n.host&&e.pathname,h=d,p=n.pathname&&n.pathname.split("/")||[],o=e.pathname&&e.pathname.split("/")||[],m=n.protocol&&!_[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===o[0]?o[0]=e.host:o.unshift(e.host)),e.host=null),d=d&&(""===o[0]||""===p[0])),u)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,p=o;else if(o.length)p||(p=[]),p.pop(),p=p.concat(o),n.search=e.search,n.query=e.query;else if(!f(e.search)){if(m){n.hostname=n.host=p.shift();var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=e.search,n.query=e.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!p.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var v=p.slice(-1)[0],b=(n.host||e.host)&&("."===v||".."===v)||""===v,y=0,w=p.length;w>=0;w--)v=p[w],"."==v?p.splice(w,1):".."===v?(p.splice(w,1),y++):y&&(p.splice(w,1),y--);if(!d&&!h)for(;y--;y)p.unshift("..");!d||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),b&&"/"!==p.join("/").substr(-1)&&p.push("");var x=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(m){n.hostname=n.host=x?"":p.length?p.shift():"";var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return d=d||n.host&&p.length,d&&!x&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){var r;(function(e,o){!function(i){function a(e){throw RangeError(F[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function l(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(N,"."),r+s(e.split("."),t).join(".")}function u(e){for(var t,n,r=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=B(e>>>10&1023|55296),e=56320|1023&e),t+=B(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:x}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function h(e,t,n){var r=0;for(e=n?P(e/E):e>>1,e+=P(e/t);e>L*k>>1;r+=x)e=P(e/L);return P(r+(L+1)*e/(e+_))}function p(e){var t,n,r,o,i,s,l,u,d,p,m=[],g=e.length,v=0,b=S,y=A;for(n=e.lastIndexOf(O),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(i=v,s=1,l=x;o>=g&&a("invalid-input"),u=f(e.charCodeAt(o++)),(u>=x||u>P((w-v)/s))&&a("overflow"),v+=u*s,d=l<=y?C:l>=y+k?k:l-y,!(u<d);l+=x)p=x-d,s>P(w/p)&&a("overflow"),s*=p;t=m.length+1,y=h(v-i,t,0==i),P(v/t)>w-b&&a("overflow"),b+=P(v/t),v%=t,m.splice(v++,0,b)}return c(m)}function m(e){var t,n,r,o,i,s,l,c,f,p,m,g,v,b,y,_=[];for(e=u(e),g=e.length,t=S,n=0,i=A,s=0;s<g;++s)(m=e[s])<128&&_.push(B(m));for(r=o=_.length,o&&_.push(O);r<g;){for(l=w,s=0;s<g;++s)(m=e[s])>=t&&m<l&&(l=m);for(v=r+1,l-t>P((w-n)/v)&&a("overflow"),n+=(l-t)*v,t=l,s=0;s<g;++s)if(m=e[s],m<t&&++n>w&&a("overflow"),m==t){for(c=n,f=x;p=f<=i?C:f>=i+k?k:f-i,!(c<p);f+=x)y=c-p,b=x-p,_.push(B(d(p+y%b,0))),c=P(y/b);_.push(B(d(c,0))),i=h(n,v,r==o),n=0,++r}++n,++t}return _.join("")}function g(e){return l(e,function(e){return T.test(e)?p(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return D.test(e)?"xn--"+m(e):e})}var b=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof o&&o);var y,w=2147483647,x=36,C=1,k=26,_=38,E=700,A=72,S=128,O="-",T=/^xn--/,D=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=x-C,P=Math.floor,B=String.fromCharCode;y={version:"1.3.2",ucs2:{decode:u,encode:c},decode:p,encode:m,toASCII:v,toUnicode:g},void 0!==(r=function(){return y}.call(t,n,t,e))&&(e.exports=r)}()}).call(t,n(6)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";t.decode=t.parse=n(8),t.encode=t.stringify=n(9)},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var c,f,d,h,p=e[u].replace(a,"%20"),m=p.indexOf(r);m>=0?(c=p.substr(0,m),f=p.substr(m+1)):(c=p,f=""),d=decodeURIComponent(c),h=decodeURIComponent(f),n(i,d)?Array.isArray(i[d])?i[d].push(h):i[d]=[i[d],h]:i[d]=h}return i}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,o){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(o){var i=encodeURIComponent(n(o))+r;return Array.isArray(e[o])?e[o].map(function(e){return i+encodeURIComponent(n(e))}).join(t):i+encodeURIComponent(n(e[o]))}).join(t):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(e)):""}},function(e,t){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,o=Array.isArray(t),i=Array.isArray(n);if(o&&i){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(o!=i)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;for(r=0;r<a.length;r++)if(void 0===n[a[r]])return!1;for(r=0;r<a.length;r++)if(!e(t[a[r]],n[a[r]]))return!1;return!0}return!1}},function(e,t,n){"use strict";function r(e,t){t=t||{};for(var n in e)t[n]=e[n];return t}function o(e,t,n){var r=n?" !== ":" === ",o=n?" || ":" && ",i=n?"!":"",a=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return i+"Array.isArray("+t+")";case"object":return"("+i+t+o+"typeof "+t+r+'"object"'+o+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+o+a+"("+t+" % 1))";default:return"typeof "+t+r+'"'+e+'"'}}function i(e,t){switch(e.length){case 1:return o(e[0],t,!0);default:var n="",r=s(e);r.array&&r.object&&(n=r.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var i in r)n+=(n?" && ":"")+o(i,t,!0);return n}}function a(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=e[n];E[r]&&(t[t.length]=r)}if(t.length)return t}else if(E[e])return[e]}function s(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}function l(e){return"number"==typeof e?"["+e+"]":A.test(e)?"."+e:"['"+e.replace(S,"\\$&")+"']"}function u(e){return e.replace(S,"\\$&")}function c(e){for(var t,n=0,r=e.length,o=0;o<r;)n++,(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<r&&56320==(64512&(t=e.charCodeAt(o)))&&o++;return n}function f(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function d(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}function h(e){return e.replace(O,"").replace(T,"").replace(D,"if (!($1))")}function p(e,t){var n=e.match(N);return n&&2===n.length?t?e.replace(L,"").replace(R,q):e.replace(F,"").replace(P,B):e}function m(e,t){for(var n in e)if(t[n])return!0}function g(e){return"'"+u(e)+"'"}function v(e,t,n,r){return w(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")}function b(e,t,n){return w(e,g(n?"/"+k(t):l(t)))}function y(e,t,n){var r=e.match(M);if(!r)throw new Error("Invalid relative JSON-pointer: "+e);var o=+r[1],i=r[2];if("#"==i){if(o>=t)throw new Error("Cannot access property/index "+o+" levels up, current level is "+t);return n[t-o]}if(o>t)throw new Error("Cannot access data "+o+" levels up, current level is "+t);var a="data"+(t-o||"");if(!i)return a;for(var s=a,u=i.split("/"),c=0;c<u.length;c++){var f=u[c];f&&(a+=l(_(f)),s+=" && "+a)}return s}function w(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function x(e){return _(decodeURIComponent(e))}function C(e){return encodeURIComponent(k(e))}function k(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function _(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}e.exports={copy:r,checkDataType:o,checkDataTypes:i,coerceToTypes:a,toHash:s,getProperty:l,escapeQuotes:u,ucs2length:c,varOccurences:f,varReplace:d,cleanUpCode:h,cleanUpVarErrors:p,schemaHasRules:m,stableStringify:n(12),toQuotedString:g,getPathExpr:v,getPath:b,getData:y,unescapeFragment:x,escapeFragment:C,escapeJsonPointer:k};var E=s(["string","number","integer","boolean","null"]),A=/^[a-z$_][a-z$_0-9]*$/i,S=/'|\\/g,O=/else\s*{\s*}/g,T=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,D=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,N=/[^v\.]errors/g,F=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,L=/var errors = 0;|var vErrors = null;/g,P="return errors === 0;",B="validate.errors = null; return true;",R=/if \(errors === 0\) return true;\s*else throw new ValidationError\(vErrors\);/,q="return true;",M=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},function(e,t,n){var r="undefined"!=typeof JSON?JSON:n(13);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var a="boolean"==typeof t.cycles&&t.cycles,s=t.replacer||function(e,t){return t},l=t.cmp&&function(e){return function(t){return function(n,r){var o={key:n,value:t[n]},i={key:r,value:t[r]};return e(o,i)}}}(t.cmp),u=[];return function e(t,c,f,d){var h=n?"\n"+new Array(d+1).join(n):"",p=n?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),void 0!==(f=s.call(t,c,f))){if("object"!=typeof f||null===f)return r.stringify(f);if(o(f)){for(var m=[],g=0;g<f.length;g++){var v=e(f,g,f[g],d+1)||r.stringify(null);m.push(h+n+v)}return"["+m.join(",")+h+"]"}if(-1!==u.indexOf(f)){if(a)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}u.push(f);for(var b=i(f).sort(l&&l(f)),m=[],g=0;g<b.length;g++){var c=b[g],y=e(f,c,f[c],d+1);if(y){var w=r.stringify(c)+p+y;m.push(h+n+w)}}return u.splice(u.indexOf(f),1),"{"+m.join(",")+h+"}"}}({"":e},"",e,0)};var o=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},i=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},function(e,t,n){t.parse=n(14),t.stringify=n(15)},function(e,t){var n,r,o,i,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(e){throw{name:"SyntaxError",message:e,at:n,text:o}},l=function(e){return e&&e!==r&&s("Expected '"+e+"' instead of '"+r+"'"),r=o.charAt(n),n+=1,r},u=function(){var e,t="";for("-"===r&&(t="-",l("-"));r>="0"&&r<="9";)t+=r,l();if("."===r)for(t+=".";l()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,l(),"-"!==r&&"+"!==r||(t+=r,l());r>="0"&&r<="9";)t+=r,l();if(e=+t,isFinite(e))return e;s("Bad number")},c=function(){var e,t,n,o="";if('"'===r)for(;l();){if('"'===r)return l(),o;if("\\"===r)if(l(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(l(),16),isFinite(e));t+=1)n=16*n+e;o+=String.fromCharCode(n)}else{if("string"!=typeof a[r])break;o+=a[r]}else o+=r}s("Bad string")},f=function(){for(;r&&r<=" ";)l()},d=function(){switch(r){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}s("Unexpected '"+r+"'")},h=function(){var e=[];if("["===r){if(l("["),f(),"]"===r)return l("]"),e;for(;r;){if(e.push(i()),f(),"]"===r)return l("]"),e;l(","),f()}}s("Bad array")},p=function(){var e,t={};if("{"===r){if(l("{"),f(),"}"===r)return l("}"),t;for(;r;){if(e=c(),f(),l(":"),Object.hasOwnProperty.call(t,e)&&s('Duplicate key "'+e+'"'),t[e]=i(),f(),"}"===r)return l("}"),t;l(","),f()}}s("Bad object")};i=function(){switch(f(),r){case"{":return p();case"[":return h();case'"':return c();case"-":return u();default:return r>="0"&&r<="9"?u():d()}},e.exports=function(e,t){var a;return o=e,n=0,r=" ",a=i(),f(),r&&s("Syntax error"),"function"==typeof t?function e(n,r){var o,i,a=n[r];if(a&&"object"==typeof a)for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i=e(a,o),void 0!==i?a[o]=i:delete a[o]);return t.call(n,r,a)}({"":a},""):a}},function(e,t){function n(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=l[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function r(e,t){var s,l,u,c,f,d=o,h=t[e];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(e)),"function"==typeof a&&(h=a.call(t,e,h)),typeof h){case"string":return n(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(o+=i,f=[],"[object Array]"===Object.prototype.toString.apply(h)){for(c=h.length,s=0;s<c;s+=1)f[s]=r(s,h)||"null";return u=0===f.length?"[]":o?"[\n"+o+f.join(",\n"+o)+"\n"+d+"]":"["+f.join(",")+"]",o=d,u}if(a&&"object"==typeof a)for(c=a.length,s=0;s<c;s+=1)"string"==typeof(l=a[s])&&(u=r(l,h))&&f.push(n(l)+(o?": ":":")+u);else for(l in h)Object.prototype.hasOwnProperty.call(h,l)&&(u=r(l,h))&&f.push(n(l)+(o?": ":":")+u);return u=0===f.length?"{}":o?"{\n"+o+f.join(",\n"+o)+"\n"+d+"}":"{"+f.join(",")+"}",o=d,u}}var o,i,a,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.exports=function(e,t,n){var s;if(o="",i="","number"==typeof n)for(s=0;s<n;s+=1)i+=" ";else"string"==typeof n&&(i=n);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return r("",{"":e})}},function(e,t,n){"use strict";function r(e){o.copy(e,this)}var o=n(11);e.exports=r},function(module,exports,__webpack_require__){"use strict";function setupAsync(e,t){!1!==t&&(t=!0);var n,r=e.async,o=e.transpile;switch(typeof o){case"string":var i=TRANSPILE[o];if(!i)throw new Error("bad transpiler: "+o);return e._transpileFunc=i(e,t);case"undefined":case"boolean":if("string"==typeof r){if(!(n=ASYNC[r]))throw new Error("bad async mode: "+r);return e.transpile=n(e,t)}for(var a=0;a<MODES.length;a++){var s=MODES[a];if(setupAsync(s,!1))return util.copy(s,e),e.transpile}throw new Error("generators, nodent and regenerator are not available");case"function":return e._transpileFunc=e.transpile;default:throw new Error("bad transpiler: "+o)}}function checkGenerators(opts,required){try{return eval("(function*(){})()"),!0}catch(e){if(required)throw new Error("generators not supported")}}function checkAsyncFunction(opts,required){try{return eval("(async function(){})()"),!0}catch(e){if(required)throw new Error("es7 async functions not supported")}}function getRegenerator(e,t){try{return regenerator||(regenerator=__webpack_require__(!function(){var e=new Error('Cannot find module "regenerator"');throw e.code="MODULE_NOT_FOUND",e}()),regenerator.runtime()),e.async&&!0!==e.async||(e.async="es7"),regeneratorTranspile}catch(e){if(t)throw new Error("regenerator not available")}}function regeneratorTranspile(e){return regenerator.compile(e).code}function getNodent(e,t){try{return nodent||(nodent=__webpack_require__(!function(){var e=new Error('Cannot find module "nodent"');throw e.code="MODULE_NOT_FOUND",e}())({log:!1,dontInstallRequireHook:!0})),"es7"!=e.async&&(e.async&&!0!==e.async&&console.warn("nodent transpiles only es7 async functions"),e.async="es7"),nodentTranspile}catch(e){if(t)throw new Error("nodent not available")}}function nodentTranspile(e){return nodent.compile(e,"",{promises:!0,sourcemap:!1}).code}function compileAsync(e,t){function n(e,t,r){function i(e,n){if(!r)return t(e,n);setTimeout(function(){t(e,n)})}var a;try{a=o.compile(e)}catch(r){return void(r.missingSchema?function(r){function i(r,i){if(r)return t(r);if(!o._refs[a]&&!o._schemas[a])try{o.addSchema(i,a)}catch(e){return void t(e)}n(e,t)}var a=r.missingSchema;if(o._refs[a]||o._schemas[a])return t(new Error("Schema "+a+" is loaded but"+r.missingRef+"cannot be resolved"));var s=o._loadingSchemas[a];s?"function"==typeof s?o._loadingSchemas[a]=[s,i]:s[s.length]=i:(o._loadingSchemas[a]=i,o._opts.loadSchema(a,function(e,t){var n=o._loadingSchemas[a];if(delete o._loadingSchemas[a],"function"==typeof n)n(e,t);else for(var r=0;r<n.length;r++)n[r](e,t)}))}(r):i(r))}i(null,a)}var r,o=this;try{r=this._addSchema(e)}catch(e){return void setTimeout(function(){t(e)})}if(r.validate)setTimeout(function(){t(null,r.validate)});else{if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");n(e,t,!0)}}module.exports={setup:setupAsync,compile:compileAsync};var util=__webpack_require__(11),ASYNC={"*":checkGenerators,"co*":checkGenerators,es7:checkAsyncFunction},TRANSPILE={nodent:getNodent,regenerator:getRegenerator},MODES=[{async:"co*"},{async:"es7",transpile:"nodent"},{async:"co*",transpile:"regenerator"}],regenerator,nodent},function(e,t){"use strict";e.exports=function(e,t){function n(t){return void 0!==e.schema[t.keyword]||"properties"==t.keyword&&(!1===e.schema.additionalProperties||"object"==typeof e.schema.additionalProperties||e.schema.patternProperties&&Object.keys(e.schema.patternProperties).length||e.opts.v5&&e.schema.patternGroups&&Object.keys(e.schema.patternGroups).length)}var r="",o=!0===e.schema.$async;if(e.isTop){var i=e.isTop,a=e.level=0,s=e.dataLevel=0,l="data";if(e.rootId=e.resolve.fullPath(e.root.schema.id),e.baseId=e.baseId||e.rootId,o){e.async=!0;var u="es7"==e.opts.async;e.yieldAwait=u?"await":"yield"}delete e.isTop,e.dataPathArr=[void 0],r+=" validate = ",o?u?r+=" (async function ":("co*"==e.opts.async&&(r+="co.wrap"),r+="(function* "):r+=" (function ",r+=" (data, dataPath, parentData, parentDataProperty) { 'use strict'; var vErrors = null; ",r+=" var errors = 0;     "}else{var a=e.level,s=e.dataLevel,l="data"+(s||"");if(e.schema.id&&(e.baseId=e.resolve.url(e.baseId,e.schema.id)),o&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+a+" = errors;"}var c,f="valid"+a,d=!e.opts.allErrors,h="",p="",m=e.schema.type,g=Array.isArray(m);if(m&&e.opts.coerceTypes){var v=e.util.coerceToTypes(m);if(v){var b=e.schemaPath+".type",y=e.errSchemaPath+"/type",w=g?"checkDataTypes":"checkDataType";r+=" if ("+e.util[w](m,l,!0)+") {  ";var x="dataType"+a,C="coerced"+a;r+=" var "+x+" = typeof "+l+"; var "+C+" = undefined; ";var k="",_=v;if(_)for(var E,A=-1,S=_.length-1;A<S;)E=_[A+=1],A&&(r+=" if ("+C+" === undefined) { ",k+="}"),"string"==E?r+=" if ("+x+" == 'number' || "+x+" == 'boolean') "+C+" = '' + "+l+"; else if ("+l+" === null) "+C+" = ''; ":"number"==E||"integer"==E?(r+=" if ("+x+" == 'boolean' || "+l+" === null || ("+x+" == 'string' && "+l+" && "+l+" == +"+l+" ","integer"==E&&(r+=" && !("+l+" % 1)"),r+=")) "+C+" = +"+l+"; "):"boolean"==E?r+=" if ("+l+" === 'false' || "+l+" === 0 || "+l+" === null) "+C+" = false; else if ("+l+" === 'true' || "+l+" === 1) "+C+" = true; ":"null"==E&&(r+=" if ("+l+" === '' || "+l+" === 0 || "+l+" === false) "+C+" = null; ");r+=" "+k+" if ("+C+" === undefined) {   ";var O=O||[];O.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(c||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+y+"\" , params: { type: '",r+=g?""+m.join(","):""+m,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=g?""+m.join(","):""+m,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var T=r;if(r=O.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",s){r+=" "+l+" = "+("data"+(s-1||""))+"["+e.dataPathArr[s]+"] = "+C+"; "}else r+=" data = "+C+"; if (parentData !== undefined) parentData[parentDataProperty] = "+C+"; ";r+=" } } "}}var D=e.RULES;if(D)for(var N,F=-1,L=D.length-1;F<L;)if(N=D[F+=1],function(e){for(var t=0;t<e.rules.length;t++)if(n(e.rules[t]))return!0}(N)){if(N.type&&(r+=" if ("+e.util.checkDataType(N.type,l)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==N.type&&e.schema.properties){var P=e.schema.properties,B=Object.keys(P),R=B;if(R)for(var q,M=-1,j=R.length-1;M<j;){q=R[M+=1];var I=P[q];if(void 0!==I.default){var $=l+e.util.getProperty(q);r+="  if ("+$+" === undefined) "+$+" = ","clone"==e.opts.useDefaults?r+=" "+JSON.stringify(I.default)+" ":r+=" "+e.useDefault(I.default)+" ",r+="; "}}}else if("array"==N.type&&Array.isArray(e.schema.items)){var z=e.schema.items;if(z)for(var I,A=-1,H=z.length-1;A<H;)if(I=z[A+=1],void 0!==I.default){var $=l+"["+A+"]";r+="  if ("+$+" === undefined) "+$+" = ","clone"==e.opts.useDefaults?r+=" "+JSON.stringify(I.default)+" ":r+=" "+e.useDefault(I.default)+" ",r+="; "}}var V=N.rules;if(V)for(var U,W=-1,K=V.length-1;W<K;)if(U=V[W+=1],n(U)){if(U.custom){var P=e.schema[U.keyword],G=e.useCustomRule(U,P,e.schema,e),Y=G.code+".errors",b=e.schemaPath+"."+U.keyword,y=e.errSchemaPath+"/"+U.keyword,X="errs"+a,A="i"+a,J="ruleErr"+a,Z=U.definition,Q=Z.async,ee=Z.inline,te=Z.macro;if(Q&&!e.async)throw new Error("async keyword in sync schema");if(ee||te||(r+=Y+" = null;"),r+="var "+X+" = errors;var valid"+a+";",ee&&Z.statements)r+=" "+G.validate;else if(te){var ne=e.util.copy(e);ne.level++,ne.schema=G.validate,ne.schemaPath="";var re=e.compositeRule;e.compositeRule=ne.compositeRule=!0;var oe=e.validate(ne).replace(/validate\.schema/g,G.code);e.compositeRule=ne.compositeRule=re,r+=" "+oe}else if(Z.compile||Z.validate){var O=O||[];O.push(r),r="",r+="  "+G.code+".call( ",e.opts.passContext?r+="this":r+="self";G.validate.length;Z.compile||!1===Z.schema?r+=" , "+l+" ":r+=" , validate.schema"+b+" , "+l+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",'""'!=e.errorPath&&(r+=" + "+e.errorPath),r+=s?" , data"+(s-1||"")+" , "+e.dataPathArr[s]+" ":" , parentData , parentDataProperty ",r+=" )  ";var ie=r;r=O.pop(),!1!==Z.errors&&(Q?(Y="customErrors"+a,r+=" var "+Y+" = null; try { valid"+a+" = "+e.yieldAwait+ie+"; } catch (e) { valid"+a+" = false; if (e instanceof ValidationError) "+Y+" = e.errors; else throw e; } "):r+=" "+G.code+".errors = null; ")}r+="if (! ",ee?Z.statements?r+=" valid"+a+" ":r+=" ("+G.validate+") ":te?r+=" valid"+ne.level+" ":Q?!1===Z.errors?r+=" ("+e.yieldAwait+ie+") ":r+=" valid"+a+" ":r+=" "+ie+" ",r+=") { ",c=U.keyword;var O=O||[];O.push(r),r="";var O=O||[];O.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(c||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+y+"\" , params: { keyword: '"+U.keyword+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should pass \""+U.keyword+"\" keyword validation' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var T=r;r=O.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var ae=r;r=O.pop(),ee?Z.errors?"full"!=Z.errors&&(r+="  for (var "+A+"="+X+"; "+A+"<errors; "+A+"++) { var "+J+" = vErrors["+A+"]; if ("+J+".dataPath === undefined) { "+J+".dataPath = (dataPath || '') + "+e.errorPath+"; } if ("+J+".schemaPath === undefined) { "+J+'.schemaPath = "'+y+'"; } ',e.opts.verbose&&(r+=" "+J+".schema = validate.schema"+b+"; "+J+".data = "+l+"; "),r+=" } "):!1===Z.errors?r+=" "+ae+" ":(r+=" if ("+X+" == errors) { "+ae+" } else {  for (var "+A+"="+X+"; "+A+"<errors; "+A+"++) { var "+J+" = vErrors["+A+"]; if ("+J+".dataPath === undefined) { "+J+".dataPath = (dataPath || '') + "+e.errorPath+"; } if ("+J+".schemaPath === undefined) { "+J+'.schemaPath = "'+y+'"; } ',e.opts.verbose&&(r+=" "+J+".schema = validate.schema"+b+"; "+J+".data = "+l+"; "),r+=" } } "):te?(r+="   var err =   ",!1!==e.createErrors?(r+=" { keyword: '"+(c||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+y+"\" , params: { keyword: '"+U.keyword+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should pass \""+U.keyword+"\" keyword validation' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false ")):!1===Z.errors?r+=" "+ae+" ":(r+=" if (Array.isArray("+Y+")) { if (vErrors === null) vErrors = "+Y+"; else vErrors.concat("+Y+"); errors = vErrors.length;  for (var "+A+"="+X+"; "+A+"<errors; "+A+"++) { var "+J+" = vErrors["+A+"];  "+J+".dataPath = (dataPath || '') + "+e.errorPath+";   "+J+'.schemaPath = "'+y+'";  ',e.opts.verbose&&(r+=" "+J+".schema = validate.schema"+b+"; "+J+".data = "+l+"; "),r+=" } } else { "+ae+" } "),c=void 0,r+=" } ",d&&(r+=" else { ")}else r+=" "+U.code(e,U.keyword)+" ";d&&(h+="}")}if(d&&(r+=" "+h+" ",h=""),N.type&&(r+=" } ",m&&m===N.type)){var se=!0;r+=" else { ";var b=e.schemaPath+".type",y=e.errSchemaPath+"/type",O=O||[];O.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(c||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+y+"\" , params: { type: '",r+=g?""+m.join(","):""+m,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=g?""+m.join(","):""+m,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var T=r;r=O.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}d&&(r+=" if (errors === ",r+=i?"0":"errs_"+a,r+=") { ",p+="}")}if(m&&!se&&(!e.opts.coerceTypes||!v)){var b=e.schemaPath+".type",y=e.errSchemaPath+"/type",w=g?"checkDataTypes":"checkDataType";r+=" if ("+e.util[w](m,l,!0)+") {   ";var O=O||[];O.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(c||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+y+"\" , params: { type: '",r+=g?""+m.join(","):""+m,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=g?""+m.join(","):""+m,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+b+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var T=r;r=O.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }"}return d&&(r+=" "+p+" "),i?(o?(r+=" if (errors === 0) return true;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" });"):r+=" var "+f+" = errors === errs_"+a+";",r=e.util.cleanUpCode(r),i&&d&&(r=e.util.cleanUpVarErrors(r,o)),r}},function(e,t){function n(e){var t=this,n=f.call(arguments,1);return new Promise(function(o,i){function a(t){var n;try{n=e.next(t)}catch(e){return i(e)}u(n)}function l(t){var n;try{n=e.throw(t)}catch(e){return i(e)}u(n)}function u(e){if(e.done)return o(e.value);var n=r.call(t,e.value);return n&&s(n)?n.then(a,l):l(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}if("function"==typeof e&&(e=e.apply(t,n)),!e||"function"!=typeof e.next)return o(e);a()})}function r(e){return e?s(e)?e:u(e)||l(e)?n.call(this,e):"function"==typeof e?o.call(this,e):Array.isArray(e)?i.call(this,e):c(e)?a.call(this,e):e:e}function o(e){var t=this;return new Promise(function(n,r){e.call(t,function(e,t){if(e)return r(e);arguments.length>2&&(t=f.call(arguments,1)),n(t)})})}function i(e){return Promise.all(e.map(r,this))}function a(e){for(var t=new e.constructor,n=Object.keys(e),o=[],i=0;i<n.length;i++){var a=n[i],l=r.call(this,e[a]);l&&s(l)?function(e,n){t[n]=void 0,o.push(e.then(function(e){t[n]=e}))}(l,a):t[a]=e[a]}return Promise.all(o).then(function(){return t})}function s(e){return"function"==typeof e.then}function l(e){return"function"==typeof e.next&&"function"==typeof e.throw}function u(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||l(t.prototype))}function c(e){return Object==e.constructor}var f=Array.prototype.slice;e.exports=n.default=n.co=n,n.wrap=function(e){function t(){return n.call(this,e.apply(this,arguments))}return t.__generatorFunction__=e,t}},function(e,t){"use strict";function n(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}e.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n},function(e,t){"use strict";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";function r(e){e="full"==e?"full":"fast";var t=h.copy(r[e]);for(var n in r.compare)t[n]={validate:t[n],compare:r.compare[n]};return t}function o(e){var t=e.match(p);if(!t)return!1;var n=+t[1],r=+t[2];return n>=1&&n<=12&&r>=1&&r<=m[n]}function i(e,t){var n=e.match(g);if(!n)return!1;var r=n[1],o=n[2],i=n[3],a=n[5];return r<=23&&o<=59&&i<=59&&(!t||a)}function a(e){var t=e.split(C);return o(t[0])&&i(t[1],!0)}function s(e){return e.length<=255&&v.test(e)}function l(e){return k.test(e)&&b.test(e)}function u(e){try{return new RegExp(e),!0}catch(e){return!1}}function c(e,t){if(e&&t)return e>t?1:e<t?-1:e===t?0:void 0}function f(e,t){if(e&&t&&(e=e.match(g),t=t.match(g),e&&t))return e=e[1]+e[2]+e[3]+(e[4]||""),t=t[1]+t[2]+t[3]+(t[4]||""),e>t?1:e<t?-1:e===t?0:void 0}function d(e,t){if(e&&t){e=e.split(C),t=t.split(C);var n=c(e[0],t[0]);if(void 0!==n)return n||f(e[1],t[1])}}var h=n(11),p=/^\d\d\d\d-(\d\d)-(\d\d)$/,m=[0,31,29,31,30,31,30,31,31,30,31,30,31],g=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,v=/^[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?(\.[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?)*$/i,b=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,y=/^(?:urn\:uuid\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,w=/^(?:\/(?:[^~\/]|~0|~1)+)*(?:\/)?$|^\#(?:\/(?:[a-z0-9_\-\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)+)*(?:\/)?$/i,x=/^(?:0|[1-9][0-9]*)(?:\#|(?:\/(?:[^~\/]|~0|~1)+)*(?:\/)?)$/;e.exports=r,r.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)?(?:\:|\/)\/?[^\s]*$/i,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:v,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:u,uuid:y,"json-pointer":w,"relative-json-pointer":x},r.full={date:o,time:i,"date-time":a,uri:l,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:u,uuid:y,"json-pointer":w,"relative-json-pointer":x},r.compare={date:c,time:f,"date-time":d};var C=/t|\s/i,k=/\/|\:/},function(e,t,n){"use strict";var r=n(24),o=n(11);e.exports=function(){var e=[{type:"number",rules:["maximum","minimum","multipleOf"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","properties"]},{rules:["$ref","enum","not","anyOf","oneOf","allOf"]}];return e.all=["type","additionalProperties","patternProperties"],e.keywords=["additionalItems","$schema","id","title","description","default"],e.types=["number","integer","string","array","object","boolean","null"],e.forEach(function(t){t.rules=t.rules.map(function(t){return e.all.push(t),{keyword:t,code:r[t]}})}),e.keywords=o.toHash(e.all.concat(e.keywords)),e.all=o.toHash(e.all),e.types=o.toHash(e.types),e}},function(e,t,n){"use strict";e.exports={$ref:n(25),allOf:n(26),anyOf:n(27),dependencies:n(28),enum:n(29),format:n(30),items:n(31),maximum:n(32),minimum:n(32),maxItems:n(33),minItems:n(33),maxLength:n(34),minLength:n(34),maxProperties:n(35),minProperties:n(35),multipleOf:n(36),not:n(37),oneOf:n(38),pattern:n(39),properties:n(40),required:n(41),uniqueItems:n(42),validate:n(18)}},function(e,t){"use strict";e.exports=function(e,t){var n,r,o=" ",i=e.level,a=e.dataLevel,s=e.schema[t],l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i;if("#"==s||"#/"==s)e.isRoot?(n=e.async,r="validate"):(n=!0===e.root.schema.$async,r="root.refVal[0]");else{var d=e.resolveRef(e.baseId,s,e.isRoot);if(void 0===d){var h="can't resolve reference "+s+" from id "+e.baseId;if("fail"==e.opts.missingRefs){console.log(h);var p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+l+"\" , params: { ref: '"+e.util.escapeQuotes(s)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(s)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(s)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),o+=" } "):o+=" {} ";var m=o;o=p.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs){var g=new Error(h);throw g.missingRef=e.resolve.url(e.baseId,s),g.missingSchema=e.resolve.normalizeId(e.resolve.fullPath(g.missingRef)),g}console.log(h),u&&(o+=" if (true) { ")}}else if(d.inline){var v=e.util.copy(e);v.level++,v.schema=d.schema,v.schemaPath="",v.errSchemaPath=s;var b=e.validate(v).replace(/validate\.schema/g,d.code);o+=" "+b+" ",u&&(o+=" if (valid"+v.level+") { ")}else n=d.async,r=d.code}if(r){var p=p||[];p.push(o),o="",e.opts.passContext?o+=" "+r+".call(this, ":o+=" "+r+"( ",o+=" "+c+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath),o+=a?" , data"+(a-1||"")+" , "+e.dataPathArr[a]+" ":" , parentData , parentDataProperty ",o+=")  ";var y=o;if(o=p.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");o+=" try { ",u&&(o+="var "+f+" ="),o+=" "+e.yieldAwait+" "+y+"; } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; } ",u&&(o+=" if ("+f+") { ")}else o+=" if (!"+y+") { if (vErrors === null) vErrors = "+r+".errors; else vErrors = vErrors.concat("+r+".errors); errors = vErrors.length; } ",u&&(o+=" else { ")}return o}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.schema[t],o=e.schemaPath+"."+t,i=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,s=e.util.copy(e),l="";s.level++;var u=r;if(u)for(var c,f=-1,d=u.length-1;f<d;)c=u[f+=1],e.util.schemaHasRules(c,e.RULES.all)&&(s.schema=c,s.schemaPath=o+"["+f+"]",s.errSchemaPath=i+"/"+f,n+=" "+e.validate(s)+"  ",a&&(n+=" if (valid"+s.level+") { ",l+="}"));return a&&(n+=" "+l.slice(0,-1)),n=e.util.cleanUpCode(n)}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="valid"+r,f="errs__"+r,d=e.util.copy(e),h="";if(d.level++,i.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)})){n+=" var "+f+" = errors; var "+c+" = false;  ";var p=e.compositeRule;e.compositeRule=d.compositeRule=!0;var m=i;if(m)for(var g,v=-1,b=m.length-1;v<b;)g=m[v+=1],d.schema=g,d.schemaPath=a+"["+v+"]",d.errSchemaPath=s+"/"+v,n+=" "+e.validate(d)+" "+c+" = "+c+" || valid"+d.level+"; if (!"+c+") { ",h+="}";e.compositeRule=d.compositeRule=p,n+=" "+h+" if (!"+c+") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: {} ',!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } "),n=e.util.cleanUpCode(n)}else l&&(n+=" if (true) { ");return n}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="errs__"+r,f=e.util.copy(e),d="";f.level++;var h={},p={};for(b in i){var m=i[b],g=Array.isArray(m)?p:h;g[b]=m}n+="var "+c+" = errors;";var v=e.errorPath;n+="var missing"+r+";";for(var b in p){g=p[b],n+=" if ("+u+e.util.getProperty(b)+" !== undefined && ( ";var y=g;if(y)for(var w,x=-1,C=y.length-1;x<C;){w=y[x+=1],x&&(n+=" || ");var k=e.util.getProperty(w);n+=" ( "+u+k+" === undefined && (missing"+r+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:k)+") ) "}n+=")) {  ";var _="missing"+r,E="' + "+_+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(v,_,!0):v+" + "+_);var A=A||[];A.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { property: '"+e.util.escapeQuotes(b)+"', missingProperty: '"+E+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==g.length?n+="property "+e.util.escapeQuotes(g[0]):n+="properties "+e.util.escapeQuotes(g.join(", ")),n+=" when property "+e.util.escapeQuotes(b)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var S=n;n=A.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }   ",l&&(d+="}",n+=" else { ")}e.errorPath=v;for(var b in h){var m=h[b];e.util.schemaHasRules(m,e.RULES.all)&&(n+=" valid"+f.level+" = true; if ("+u+"['"+b+"'] !== undefined) { ",f.schema=m,f.schemaPath=a+e.util.getProperty(b),f.errSchemaPath=s+"/"+e.util.escapeFragment(b),n+=" "+e.validate(f)+" }  ",l&&(n+=" if (valid"+f.level+") { ",d+="}"))}return l&&(n+="   "+d+" if ("+c+" == errors) {"),n=e.util.cleanUpCode(n)}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="valid"+r,f=e.opts.v5&&i.$data,d=f?e.util.getData(i.$data,o,e.dataPathArr):i;f&&(n+=" var schema"+r+" = "+d+"; ",d="schema"+r);var h="i"+r;f||(n+=" var schema"+r+" = validate.schema"+a+";"),n+="var "+c+";",f&&(n+=" if (schema"+r+" === undefined) "+c+" = true; else if (!Array.isArray(schema"+r+")) "+c+" = false; else {"),n+=c+" = false;for (var "+h+"=0; "+h+"<schema"+r+".length; "+h+"++) if (equal("+u+", schema"+r+"["+h+"])) { "+c+" = true; break; }",f&&(n+="  }  "),n+=" if (!"+c+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: {} ',!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var m=n;return n=p.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",l&&(n+=" else { "),n}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||"");if(!1===e.opts.format)return l&&(n+=" if (true) { "),n;var c=e.opts.v5&&i.$data,f=c?e.util.getData(i.$data,o,e.dataPathArr):i;if(c&&(n+=" var schema"+r+" = "+f+"; ",f="schema"+r),c){var d="format"+r;n+=" var "+d+" = formats["+f+"]; var isObject"+r+" = typeof "+d+" == 'object' && !("+d+" instanceof RegExp) && "+d+".validate; if (isObject"+r+") { var async"+r+" = "+d+".async; "+d+" = "+d+".validate; } if (  ",c&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" ("+d+" && !(typeof "+d+" == 'function' ? ",e.async?n+=" (async"+r+" ? "+e.yieldAwait+" "+d+"("+u+") : "+d+"("+u+")) ":n+=" "+d+"("+u+") ",n+=" : "+d+".test("+u+")))) {"}else{var d=e.formats[i];if(!d)return l&&(n+=" if (true) { "),n;var h="object"==typeof d&&!(d instanceof RegExp)&&d.validate;if(h){var p=!0===d.async;d=d.validate}if(p){if(!e.async)throw new Error("async format in sync schema");var m="formats"+e.util.getProperty(i)+".validate";n+=" if (!("+e.yieldAwait+" "+m+"("+u+"))) { "}else{n+=" if (! ";var m="formats"+e.util.getProperty(i);h&&(m+=".validate"),n+="function"==typeof d?" "+m+"("+u+") ":" "+m+".test("+u+") ",n+=") { "}}var g=g||[];g.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: { format:  ',n+=c?""+f:""+e.util.toQuotedString(i),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=c?"' + "+f+" + '":""+e.util.escapeQuotes(i),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=c?"validate.schema"+a:""+e.util.toQuotedString(i),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var v=n;return n=g.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",l&&(n+=" else { "),n}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="valid"+r,f="errs__"+r,d=e.util.copy(e),h="";d.level++;var p=d.dataLevel=e.dataLevel+1,m="data"+p;if(n+="var "+f+" = errors;var "+c+";",Array.isArray(i)){var g=e.schema.additionalItems;if(!1===g){n+=" "+c+" = "+u+".length <= "+i.length+"; ";var v=s;s=e.errSchemaPath+"/additionalItems",n+="  if (!"+c+") {   ";var b=b||[];b.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: { limit: '+i.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+i.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var y=n;n=b.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",s=v,l&&(h+="}",n+=" else { ")}var w=i;if(w)for(var x,C=-1,k=w.length-1;C<k;)if(x=w[C+=1],e.util.schemaHasRules(x,e.RULES.all)){n+=" valid"+d.level+" = true; if ("+u+".length > "+C+") { ";var _=u+"["+C+"]";d.schema=x,d.schemaPath=a+"["+C+"]",d.errSchemaPath=s+"/"+C,d.errorPath=e.util.getPathExpr(e.errorPath,C,e.opts.jsonPointers,!0),d.dataPathArr[p]=C;var E=e.validate(d);e.util.varOccurences(E,m)<2?n+=" "+e.util.varReplace(E,m,_)+" ":n+=" var "+m+" = "+_+"; "+E+" ",n+=" }  ",l&&(n+=" if (valid"+d.level+") { ",h+="}")}if("object"==typeof g&&e.util.schemaHasRules(g,e.RULES.all)){d.schema=g,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" valid"+d.level+" = true; if ("+u+".length > "+i.length+") {  for (var i"+r+" = "+i.length+"; i"+r+" < "+u+".length; i"+r+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,"i"+r,e.opts.jsonPointers,!0);var _=u+"[i"+r+"]";d.dataPathArr[p]="i"+r;var E=e.validate(d);e.util.varOccurences(E,m)<2?n+=" "+e.util.varReplace(E,m,_)+" ":n+=" var "+m+" = "+_+"; "+E+" ",l&&(n+=" if (!valid"+d.level+") break; "),n+=" } }  ",l&&(n+=" if (valid"+d.level+") { ",h+="}")}}else if(e.util.schemaHasRules(i,e.RULES.all)){d.schema=i,d.schemaPath=a,d.errSchemaPath=s,n+="  for (var i"+r+" = 0; i"+r+" < "+u+".length; i"+r+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,"i"+r,e.opts.jsonPointers,!0);var _=u+"[i"+r+"]";d.dataPathArr[p]="i"+r;var E=e.validate(d);e.util.varOccurences(E,m)<2?n+=" "+e.util.varReplace(E,m,_)+" ":n+=" var "+m+" = "+_+"; "+E+" ",l&&(n+=" if (!valid"+d.level+") break; "),n+=" }  ",l&&(n+=" if (valid"+d.level+") { ",h+="}")}return l&&(n+=" "+h+" if ("+f+" == errors) {"),n=e.util.cleanUpCode(n)}},function(e,t){"use strict";e.exports=function(e,t){var n,r=" ",o=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+"."+t,l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(i||""),f=e.opts.v5&&a.$data,d=f?e.util.getData(a.$data,i,e.dataPathArr):a;f&&(r+=" var schema"+o+" = "+d+"; ",d="schema"+o);var h="maximum"==t,p=h?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],g=e.opts.v5&&m&&m.$data,v=h?"<":">",b=h?">":"<";if(g){var y=e.util.getData(m.$data,i,e.dataPathArr),w="exclusive"+o,x="op"+o,C="' + "+x+" + '";r+=" var schemaExcl"+o+" = "+y+"; ",y="schemaExcl"+o,r+=" var exclusive"+o+"; if (typeof "+y+" != 'boolean' && typeof "+y+" != 'undefined') { ";var n=p,k=k||[];k.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(n||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+l+'" , params: {} ',!1!==e.opts.messages&&(r+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var _=r;r=k.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if( ",f&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" ((exclusive"+o+" = "+y+" === true) ? "+c+" "+b+"= "+d+" : "+c+" "+b+" "+d+")) { var op"+o+" = exclusive"+o+" ? '"+v+"' : '"+v+"=';"}else{var w=!0===m,C=v;w||(C+="=");var x="'"+C+"'";r+=" if ( ",f&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+c+" "+b,w&&(r+="="),r+=" "+d+") {"}var n=t,k=k||[];k.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(n||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+l+'" , params: { comparison: '+x+", limit: "+d+", exclusive: "+w+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be "+C+" ",r+=f?"' + "+d:a+"'"),e.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+s:""+a,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var _=r;return r=k.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r}},function(e,t){"use strict";e.exports=function(e,t){var n,r=" ",o=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+"."+t,l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(i||""),f=e.opts.v5&&a.$data,d=f?e.util.getData(a.$data,i,e.dataPathArr):a;f&&(r+=" var schema"+o+" = "+d+"; ",d="schema"+o);var h="maxItems"==t?">":"<";r+="if ( ",f&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+c+".length "+h+" "+d+") { ";var n=t,p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(n||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+l+'" , params: { limit: '+d+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have ",r+="maxItems"==t?"more":"less",r+=" than ",r+=f?"' + "+d+" + '":""+a,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+s:""+a,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var m=r;return r=p.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r}},function(e,t){"use strict";e.exports=function(e,t){var n,r=" ",o=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+"."+t,l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(i||""),f=e.opts.v5&&a.$data,d=f?e.util.getData(a.$data,i,e.dataPathArr):a;f&&(r+=" var schema"+o+" = "+d+"; ",d="schema"+o);var h="maxLength"==t?">":"<";r+="if ( ",f&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),!1===e.opts.unicode?r+=" "+c+".length ":r+=" ucs2length("+c+") ",r+=" "+h+" "+d+") { ";var n=t,p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(n||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+l+'" , params: { limit: '+d+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be ",r+="maxLength"==t?"longer":"shorter",r+=" than ",r+=f?"' + "+d+" + '":""+a,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+s:""+a,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var m=r;return r=p.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r}},function(e,t){"use strict";e.exports=function(e,t){var n,r=" ",o=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+"."+t,l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(i||""),f=e.opts.v5&&a.$data,d=f?e.util.getData(a.$data,i,e.dataPathArr):a;f&&(r+=" var schema"+o+" = "+d+"; ",d="schema"+o);var h="maxProperties"==t?">":"<";r+="if ( ",f&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" Object.keys("+c+").length "+h+" "+d+") { ";var n=t,p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(n||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+l+'" , params: { limit: '+d+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have ",r+="maxProperties"==t?"more":"less",r+=" than ",r+=f?"' + "+d+" + '":""+a,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+s:""+a,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var m=r;return r=p.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c=e.opts.v5&&i.$data,f=c?e.util.getData(i.$data,o,e.dataPathArr):i;c&&(n+=" var schema"+r+" = "+f+"; ",f="schema"+r),n+="var division"+r+";if (",c&&(n+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),n+=" (division"+r+" = "+u+" / "+f+", ",e.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+r+") - division"+r+") > 1e-"+e.opts.multipleOfPrecision+" ":n+=" division"+r+" !== parseInt(division"+r+") ",n+=" ) ",c&&(n+="  )  "),n+=" ) {   ";var d=d||[];d.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: { multipleOf: '+f+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be multiple of ",n+=c?"' + "+f:i+"'"),e.opts.verbose&&(n+=" , schema:  ",n+=c?"validate.schema"+a:""+i,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var h=n;return n=d.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+h+"]); ":n+=" validate.errors = ["+h+"]; return false; ":n+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="errs__"+r,f=e.util.copy(e);if(f.level++,e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=a,f.errSchemaPath=s,n+=" var "+c+" = errors;  ";var d=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1;var h;f.opts.allErrors&&(h=f.opts.allErrors,f.opts.allErrors=!1),n+=" "+e.validate(f)+" ",f.createErrors=!0,h&&(f.opts.allErrors=h),e.compositeRule=f.compositeRule=d,n+=" if (valid"+f.level+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: {} ',!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var m=n;n=p.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+c+"; if (vErrors !== null) { if ("+c+") vErrors.length = "+c+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: {} ',!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(n+=" if (false) { ");return n}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="valid"+r,f="errs__"+r,d=e.util.copy(e),h="";d.level++,n+="var "+f+" = errors;var prevValid"+r+" = false;var "+c+" = false; ";var p=e.compositeRule;e.compositeRule=d.compositeRule=!0;var m=i;if(m)for(var g,v=-1,b=m.length-1;v<b;)g=m[v+=1],e.util.schemaHasRules(g,e.RULES.all)?(d.schema=g,d.schemaPath=a+"["+v+"]",d.errSchemaPath=s+"/"+v,n+=" "+e.validate(d)+" "):n+=" var valid"+d.level+" = true; ",v&&(n+=" if (valid"+d.level+" && prevValid"+r+") "+c+" = false; else { ",h+="}"),n+=" if (valid"+d.level+") "+c+" = prevValid"+r+" = true;";e.compositeRule=d.compositeRule=p,n+=h+"if (!"+c+") {   ";var y=y||[];y.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: {} ',!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var w=n;return n=y.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c=e.opts.v5&&i.$data,f=c?e.util.getData(i.$data,o,e.dataPathArr):i;c&&(n+=" var schema"+r+" = "+f+"; ",f="schema"+r);var d=c?"(new RegExp("+f+"))":e.usePattern(i);n+="if ( ",c&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" !"+d+".test("+u+") ) {   ";var h=h||[];h.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: { pattern:  ',n+=c?""+f:""+e.util.toQuotedString(i),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match pattern \"",n+=c?"' + "+f+" + '":""+e.util.escapeQuotes(i),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=c?"validate.schema"+a:""+e.util.toQuotedString(i),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var p=n;return n=h.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+p+"]); ":n+=" validate.errors = ["+p+"]; return false; ":n+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="valid"+r,f="errs__"+r,d=e.util.copy(e),h="";d.level++;var p=d.dataLevel=e.dataLevel+1,m="data"+p,g=Object.keys(i||{}),v=e.schema.patternProperties||{},b=Object.keys(v),y=e.schema.additionalProperties,w=g.length||b.length,x=!1===y,C="object"==typeof y&&Object.keys(y).length,k=e.opts.removeAdditional,_=x||C||k,E=e.schema.required;if(E&&(!e.opts.v5||!E.$data)&&E.length<e.opts.loopRequired)var A=e.util.toHash(E);if(e.opts.v5)var S=e.schema.patternGroups||{},O=Object.keys(S);if(n+="var "+f+" = errors;var valid"+d.level+" = true;",_){if(n+=" for (var key"+r+" in "+u+") { ",w){if(n+=" var isAdditional"+r+" = !(false ",g.length)if(g.length>5)n+=" || validate.schema"+a+"[key"+r+"] ";else{var T=g;if(T)for(var D,N=-1,F=T.length-1;N<F;)D=T[N+=1],n+=" || key"+r+" == "+e.util.toQuotedString(D)+" "}if(b.length){var L=b;if(L)for(var P,B=-1,R=L.length-1;B<R;)P=L[B+=1],n+=" || "+e.usePattern(P)+".test(key"+r+") "}if(e.opts.v5&&O&&O.length){var q=O;if(q)for(var M,B=-1,j=q.length-1;B<j;)M=q[B+=1],n+=" || "+e.usePattern(M)+".test(key"+r+") "}n+=" ); if (isAdditional"+r+") { "}if("all"==k)n+=" delete "+u+"[key"+r+"]; ";else{var I=e.errorPath,$="' + key"+r+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,"key"+r,e.opts.jsonPointers)),x)if(k)n+=" delete "+u+"[key"+r+"]; ";else{n+=" valid"+d.level+" = false; ";var z=s;s=e.errSchemaPath+"/additionalProperties";var H=H||[];H.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { additionalProperty: '"+$+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var V=n;n=H.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+V+"]); ":n+=" validate.errors = ["+V+"]; return false; ":n+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s=z,l&&(n+=" break; ")}else if(C)if("failing"==k){n+=" var "+f+" = errors;  ";var U=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=y,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,"key"+r,e.opts.jsonPointers);var W=u+"[key"+r+"]";d.dataPathArr[p]="key"+r;var K=e.validate(d);e.util.varOccurences(K,m)<2?n+=" "+e.util.varReplace(K,m,W)+" ":n+=" var "+m+" = "+W+"; "+K+" ",n+=" if (!valid"+d.level+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"[key"+r+"]; }  ",e.compositeRule=d.compositeRule=U}else{d.schema=y,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,"key"+r,e.opts.jsonPointers);var W=u+"[key"+r+"]";d.dataPathArr[p]="key"+r;var K=e.validate(d);e.util.varOccurences(K,m)<2?n+=" "+e.util.varReplace(K,m,W)+" ":n+=" var "+m+" = "+W+"; "+K+" ",l&&(n+=" if (!valid"+d.level+") break; ")}e.errorPath=I}w&&(n+=" } "),n+=" }  ",l&&(n+=" if (valid"+d.level+") { ",h+="}")}var G=e.opts.useDefaults&&!e.compositeRule;if(g.length){var Y=g;if(Y)for(var D,X=-1,J=Y.length-1;X<J;){D=Y[X+=1];var Z=i[D];if(e.util.schemaHasRules(Z,e.RULES.all)){var Q=e.util.getProperty(D),W=u+Q,ee=G&&void 0!==Z.default;d.schema=Z,d.schemaPath=a+Q,d.errSchemaPath=s+"/"+e.util.escapeFragment(D),d.errorPath=e.util.getPath(e.errorPath,D,e.opts.jsonPointers),d.dataPathArr[p]=e.util.toQuotedString(D);var K=e.validate(d);if(e.util.varOccurences(K,m)<2){K=e.util.varReplace(K,m,W);var te=W}else{var te=m;n+=" var "+m+" = "+W+"; "}if(ee)n+=" "+K+" ";else{if(A&&A[D]){n+=" if ("+te+" === undefined) { valid"+d.level+" = false; ";var I=e.errorPath,z=s,ne=e.util.escapeQuotes(D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(I,D,e.opts.jsonPointers)),s=e.errSchemaPath+"/required";var H=H||[];H.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+ne+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var V=n;n=H.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+V+"]); ":n+=" validate.errors = ["+V+"]; return false; ":n+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s=z,e.errorPath=I,n+=" } else { "}else n+=l?" if ("+te+" === undefined) { valid"+d.level+" = true; } else { ":" if ("+te+" !== undefined) { ";n+=" "+K+" } "}}l&&(n+=" if (valid"+d.level+") { ",h+="}")}}var re=b;if(re)for(var P,oe=-1,ie=re.length-1;oe<ie;){P=re[oe+=1];var Z=v[P];if(e.util.schemaHasRules(Z,e.RULES.all)){d.schema=Z,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(P),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(P),n+=" for (var key"+r+" in "+u+") { if ("+e.usePattern(P)+".test(key"+r+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,"key"+r,e.opts.jsonPointers);var W=u+"[key"+r+"]";d.dataPathArr[p]="key"+r;var K=e.validate(d);e.util.varOccurences(K,m)<2?n+=" "+e.util.varReplace(K,m,W)+" ":n+=" var "+m+" = "+W+"; "+K+" ",l&&(n+=" if (!valid"+d.level+") break; "),n+=" } ",l&&(n+=" else valid"+d.level+" = true; "),n+=" }  ",l&&(n+=" if (valid"+d.level+") { ",h+="}")}}if(e.opts.v5){var ae=O;if(ae)for(var M,se=-1,le=ae.length-1;se<le;){M=ae[se+=1];var ue=S[M],Z=ue.schema;if(e.util.schemaHasRules(Z,e.RULES.all)){d.schema=Z,d.schemaPath=e.schemaPath+".patternGroups"+e.util.getProperty(M)+".schema",d.errSchemaPath=e.errSchemaPath+"/patternGroups/"+e.util.escapeFragment(M)+"/schema",n+=" var pgPropCount"+r+" = 0; for (var key"+r+" in "+u+") { if ("+e.usePattern(M)+".test(key"+r+")) { pgPropCount"+r+"++; ",d.errorPath=e.util.getPathExpr(e.errorPath,"key"+r,e.opts.jsonPointers);var W=u+"[key"+r+"]";d.dataPathArr[p]="key"+r;var K=e.validate(d);e.util.varOccurences(K,m)<2?n+=" "+e.util.varReplace(K,m,W)+" ":n+=" var "+m+" = "+W+"; "+K+" ",l&&(n+=" if (!valid"+d.level+") break; "),n+=" } ",l&&(n+=" else valid"+d.level+" = true; "),n+=" }  ",l&&(n+=" if (valid"+d.level+") { ",h+="}");var ce=ue.minimum,fe=ue.maximum;if(void 0!==ce||void 0!==fe){n+=" var "+c+" = true; ";var z=s;if(void 0!==ce){var de=ce,he="minimum",pe="less";n+=" "+c+" = pgPropCount"+r+" >= "+ce+"; ",s=e.errSchemaPath+"/patternGroups/minimum",n+="  if (!"+c+") {   ";var H=H||[];H.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { reason: '"+he+"', limit: "+de+", pattern: '"+e.util.escapeQuotes(M)+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have "+pe+" than "+de+' properties matching pattern "'+e.util.escapeQuotes(M)+"\"' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var V=n;n=H.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+V+"]); ":n+=" validate.errors = ["+V+"]; return false; ":n+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",void 0!==fe&&(n+=" else ")}if(void 0!==fe){var de=fe,he="maximum",pe="more";n+=" "+c+" = pgPropCount"+r+" <= "+fe+"; ",s=e.errSchemaPath+"/patternGroups/maximum",n+="  if (!"+c+") {   ";var H=H||[];H.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { reason: '"+he+"', limit: "+de+", pattern: '"+e.util.escapeQuotes(M)+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have "+pe+" than "+de+' properties matching pattern "'+e.util.escapeQuotes(M)+"\"' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var V=n;n=H.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+V+"]); ":n+=" validate.errors = ["+V+"]; return false; ":n+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}s=z,l&&(n+=" if ("+c+") { ",h+="}")}}}}return l&&(n+=" "+h+" if ("+f+" == errors) {"),n=e.util.cleanUpCode(n)}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="valid"+r,f=e.opts.v5&&i.$data,d=f?e.util.getData(i.$data,o,e.dataPathArr):i;if(f&&(n+=" var schema"+r+" = "+d+"; ",d="schema"+r),!f)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var h=[],p=i;if(p)for(var m,g=-1,v=p.length-1;g<v;){m=p[g+=1];var b=e.schema.properties[m];b&&e.util.schemaHasRules(b,e.RULES.all)||(h[h.length]=m)}}else var h=i;if(f||h.length){var y=e.errorPath,w=f||h.length>=e.opts.loopRequired;if(l)if(n+=" var missing"+r+"; ",w){f||(n+=" var schema"+r+" = validate.schema"+a+"; ");var x="i"+r,C="schema"+r+"["+x+"]",k="' + "+C+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(y,C,e.opts.jsonPointers)),n+=" var "+c+" = true; ",f&&(n+=" if (schema"+r+" === undefined) "+c+" = true; else if (!Array.isArray(schema"+r+")) "+c+" = false; else {"),n+=" for (var "+x+" = 0; "+x+" < schema"+r+".length; "+x+"++) { "+c+" = "+u+"[schema"+r+"["+x+"]] !== undefined; if (!"+c+") break; } ",f&&(n+="  }  "),n+="  if (!"+c+") {   ";var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var E=n;n=_.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var A=h;if(A)for(var S,x=-1,O=A.length-1;x<O;){S=A[x+=1],x&&(n+=" || ");var T=e.util.getProperty(S);n+=" ( "+u+T+" === undefined && (missing"+r+" = "+e.util.toQuotedString(e.opts.jsonPointers?S:T)+") ) "}n+=") {  ";var C="missing"+r,k="' + "+C+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,C,!0):y+" + "+C);var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var E=n;n=_.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(w){f||(n+=" var schema"+r+" = validate.schema"+a+"; ");var x="i"+r,C="schema"+r+"["+x+"]",k="' + "+C+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(y,C,e.opts.jsonPointers)),f&&(n+=" if (schema"+r+" && !Array.isArray(schema"+r+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (schema"+r+" !== undefined) { "),n+=" for (var "+x+" = 0; "+x+" < schema"+r+".length; "+x+"++) { if ("+u+"[schema"+r+"["+x+"]] === undefined) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(n+="  }  ")}else{var D=h;if(D)for(var m,x=-1,N=D.length-1;x<N;){m=D[x+=1];var T=e.util.getProperty(m),k=e.util.escapeQuotes(m);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,m,e.opts.jsonPointers)),n+=" if ("+u+T+" === undefined) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=y}else l&&(n+=" if (true) {");return n}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="valid"+r,f=e.opts.v5&&i.$data,d=f?e.util.getData(i.$data,o,e.dataPathArr):i;if(f&&(n+=" var schema"+r+" = "+d+"; ",d="schema"+r),(i||f)&&!1!==e.opts.uniqueItems){f&&(n+=" var "+c+"; if ("+d+" === false || "+d+" === undefined) "+c+" = true; else if (typeof "+d+" != 'boolean') "+c+" = false; else { "),n+=" var "+c+" = true; if ("+u+".length > 1) { var i = "+u+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+u+"[i], "+u+"[j])) { "+c+" = false; break outer; } } } } ",f&&(n+="  }  "),n+=" if (!"+c+") {   ";var h=h||[];h.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: { i: i, j: j } ',!1!==e.opts.messages&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(n+=" , schema:  ",n+=f?"validate.schema"+a:""+i,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var p=n;n=h.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+p+"]); ":n+=" validate.errors = ["+p+"]; return false; ":n+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",l&&(n+=" else { ")}else l&&(n+=" if (true) { ");return n}},function(e,t,n){"use strict";function r(e){function t(t,n,o){var i={inline:o||r[t],statements:!0,errors:"full"};n&&(i.type=n),e.addKeyword(t,i)}var r={switch:n(44),constant:n(45),_formatLimit:n(46),patternRequired:n(47)};if(!1!==e._opts.meta){var a=n(48);e.addMetaSchema(a,i)}t("constant"),e.addKeyword("contains",{type:"array",macro:o}),t("formatMaximum","string",r._formatLimit),t("formatMinimum","string",r._formatLimit),e.addKeyword("exclusiveFormatMaximum"),e.addKeyword("exclusiveFormatMinimum"),e.addKeyword("patternGroups"),t("patternRequired","object"),t("switch")}function o(e){return{not:{items:{not:e}}}}var i="https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json";e.exports={enable:r,META_SCHEMA_ID:i}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="valid"+r,f="errs__"+r,d=e.util.copy(e),h="";d.level++;var p,m="ifPassed"+e.level;n+="var "+m+";";var g=i;if(g)for(var v,b=-1,y=g.length-1;b<y;){if(v=g[b+=1],b&&!p&&(n+=" if (!"+m+") { ",h+="}"),v.if&&e.util.schemaHasRules(v.if,e.RULES.all)){n+=" var "+f+" = errors;   ";var w=e.compositeRule;if(e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.schema=v.if,d.schemaPath=a+"["+b+"].if",d.errSchemaPath=s+"/"+b+"/if",n+=" "+e.validate(d)+" ",d.createErrors=!0,e.compositeRule=d.compositeRule=w,n+=" "+m+" = valid"+d.level+"; if ("+m+") {  ","boolean"==typeof v.then){if(!1===v.then){var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: { caseIndex: '+b+" } ",!1!==e.opts.messages&&(n+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var C=n;n=x.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" var valid"+d.level+" = "+v.then+"; "}else d.schema=v.then,d.schemaPath=a+"["+b+"].then",d.errSchemaPath=s+"/"+b+"/then",n+=" "+e.validate(d)+" ";n+="  } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } } "}else if(n+=" "+m+" = true;  ","boolean"==typeof v.then){if(!1===v.then){var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: { caseIndex: '+b+" } ",!1!==e.opts.messages&&(n+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var C=n;n=x.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" var valid"+d.level+" = "+v.then+"; "}else d.schema=v.then,d.schemaPath=a+"["+b+"].then",d.errSchemaPath=s+"/"+b+"/then",n+=" "+e.validate(d)+" ";p=v.continue}return n+=h+"var "+c+" = valid"+d.level+"; ",n=e.util.cleanUpCode(n)}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="valid"+r,f=e.opts.v5&&i.$data,d=f?e.util.getData(i.$data,o,e.dataPathArr):i;f&&(n+=" var schema"+r+" = "+d+"; ",d="schema"+r),f||(n+=" var schema"+r+" = validate.schema"+a+";"),n+="var "+c+" = equal("+u+", schema"+r+"); if (!"+c+") {   ";var h=h||[];h.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'constant' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+'" , params: {} ',!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ";var p=n;return n=h.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+p+"]); ":n+=" validate.errors = ["+p+"]; return false; ":n+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }"}},function(e,t){"use strict";e.exports=function(e,t){var n,r=" ",o=e.level,i=e.dataLevel,a=e.schema[t],s=e.schemaPath+"."+t,l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(i||""),f="valid"+o;if(r+="var "+f+" = undefined;",!1===e.opts.format)return r+=" "+f+" = true; ";var d=e.schema.format,h=e.opts.v5&&d.$data,p="";if(h){var m=e.util.getData(d.$data,i,e.dataPathArr),g="format"+o,v="compare"+o;r+=" var "+g+" = formats["+m+"] , "+v+" = "+g+" && "+g+".compare;"}else{var g=e.formats[d];if(!g||!g.compare)return r+="  "+f+" = true; ";var v="formats"+e.util.getProperty(d)+".compare"}var b="formatMaximum"==t,y="exclusiveFormat"+(b?"Maximum":"Minimum"),w=e.schema[y],x=e.opts.v5&&w&&w.$data,C=b?"<":">",k="result"+o,_=e.opts.v5&&a.$data,E=_?e.util.getData(a.$data,i,e.dataPathArr):a;if(_&&(r+=" var schema"+o+" = "+E+"; ",E="schema"+o),x){var A=e.util.getData(w.$data,i,e.dataPathArr),S="exclusive"+o,O="op"+o,T="' + "+O+" + '";r+=" var schemaExcl"+o+" = "+A+"; ",A="schemaExcl"+o,r+=" if (typeof "+A+" != 'boolean' && "+A+" !== undefined) { "+f+" = false; ";var n=y,D=D||[];D.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(n||"_exclusiveFormatLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+l+'" , params: {} ',!1!==e.opts.messages&&(r+=" , message: '"+y+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var N=r;r=D.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+N+"]); ":r+=" validate.errors = ["+N+"]; return false; ":r+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }  ",u&&(p+="}",r+=" else { "),_&&(r+=" if ("+E+" === undefined) "+f+" = true; else if (typeof "+E+" != 'string') "+f+" = false; else { ",p+="}"),h&&(r+=" if (!"+v+") "+f+" = true; else { ",p+="}"),r+=" var "+k+" = "+v+"("+c+",  ",r+=_?""+E:""+e.util.toQuotedString(a),r+=" ); if ("+k+" === undefined) "+f+" = false; var exclusive"+o+" = "+A+" === true; if ("+f+" === undefined) { "+f+" = exclusive"+o+" ? "+k+" "+C+" 0 : "+k+" "+C+"= 0; } if (!"+f+") var op"+o+" = exclusive"+o+" ? '"+C+"' : '"+C+"=';"}else{var S=!0===w,T=C;S||(T+="=");var O="'"+T+"'";_&&(r+=" if ("+E+" === undefined) "+f+" = true; else if (typeof "+E+" != 'string') "+f+" = false; else { ",p+="}"),h&&(r+=" if (!"+v+") "+f+" = true; else { ",p+="}"),r+=" var "+k+" = "+v+"("+c+",  ",r+=_?""+E:""+e.util.toQuotedString(a),r+=" ); if ("+k+" === undefined) "+f+" = false; if ("+f+" === undefined) "+f+" = "+k+" "+C,S||(r+="="),r+=" 0;"}r+=p+"if (!"+f+") { ";var n=t,D=D||[];D.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(n||"_formatLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+l+'" , params: { limit:  ',r+=_?""+E:""+e.util.toQuotedString(a),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should be "+T+' "',r+=_?"' + "+E+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=_?"validate.schema"+s:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var N=r;return r=D.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+N+"]); ":r+=" validate.errors = ["+N+"]; return false; ":r+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="}"}},function(e,t){"use strict";e.exports=function(e,t){var n=" ",r=e.level,o=e.dataLevel,i=e.schema[t],a=e.schemaPath+"."+t,s=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),c="valid"+r,f="key"+r,d="patternMatched"+r,h="";n+="var "+c+" = true;";var p=i;if(p)for(var m,g=-1,v=p.length-1;g<v;){m=p[g+=1],n+=" var "+d+" = false; for (var "+f+" in "+u+") { "+d+" = "+e.usePattern(m)+".test("+f+"); if ("+d+") break; } ";var b=e.util.escapeQuotes(m);n+=" if (!"+d+") { "+c+" = false;  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'patternRequired' , dataPath: (dataPath || '') + "+e.errorPath+' , schemaPath: "'+s+"\" , params: { missingPattern: '"+b+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have property matching pattern \\'"+b+"\\'' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; }   ",l&&(h+="}",n+=" else { ")}return n+=""+h}},function(e,t){e.exports={id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema (v5 proposals)",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0},$data:{type:"object",required:["$data"],properties:{$data:{type:"string",format:"relative-json-pointer"}},additionalProperties:!1}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{anyOf:[{type:"number",minimum:0,exclusiveMinimum:!0},{$ref:"#/definitions/$data"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/$data"}]},exclusiveMaximum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/$data"}]},exclusiveMinimum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},maxLength:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minLength:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},pattern:{anyOf:[{type:"string",format:"regex"},{$ref:"#/definitions/$data"}]},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"},{$ref:"#/definitions/$data"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minItems:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},uniqueItems:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},maxProperties:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minProperties:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},required:{anyOf:[{$ref:"#/definitions/stringArray"},{$ref:"#/definitions/$data"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"},{$ref:"#/definitions/$data"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/$data"}]},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},format:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatMaximum:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},formatMinimum:{anyOf:[{type:"string"},{$ref:"#/definitions/$data"}]},exclusiveFormatMaximum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},exclusiveFormatMinimum:{anyOf:[{type:"boolean",default:!1},{$ref:"#/definitions/$data"}]},constant:{anyOf:[{},{$ref:"#/definitions/$data"}]},contains:{$ref:"#"},patternGroups:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{anyOf:[{$ref:"#/definitions/positiveInteger"},{$ref:"#/definitions/$data"}]},minimum:{anyOf:[{$ref:"#/definitions/positiveIntegerDefault0"},{$ref:"#/definitions/$data"}]},schema:{$ref:"#"}},additionalProperties:!1},default:{}},switch:{type:"array",items:{required:["then"],properties:{if:{$ref:"#"},then:{anyOf:[{type:"boolean"},{$ref:"#"}]},continue:{type:"boolean"}},additionalProperties:!1,dependencies:{continue:["if"]}}}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"],formatMaximum:["format"],formatMinimum:["format"],exclusiveFormatMaximum:["formatMaximum"],exclusiveFormatMinimum:["formatMinimum"]},default:{}}},function(e,t){"use strict";var n=/^[a-z_$][a-z0-9_$]*$/i;e.exports=function(e,t){function r(e,t,n){for(var r,o=0;o<i.RULES.length;o++){var a=i.RULES[o];if(a.type==t){r=a;break}}r||(r={type:t,rules:[]},i.RULES.push(r));var s={keyword:e,definition:n,custom:!0};r.rules.push(s)}function o(e){if(!i.RULES.types[e])throw new Error("Unknown type "+e)}var i=this;if(this.RULES.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!n.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){var a=t.type;if(Array.isArray(a)){var s,l=a.length;for(s=0;s<l;s++)o(a[s]);for(s=0;s<l;s++)r(e,a[s],t)}else a&&o(a),r(e,a,t)}this.RULES.keywords[e]=!0,this.RULES.all[e]=!0}},function(e,t){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},function(e,t,n){"use strict";var r=n(52),o=n(53),i=n(56),a=n(57),s=n(58),l=n(61),u=n(54),c={};c.create=function(e,t){if(!e)throw new Error("No container element provided.");this.container=e,this.dom={},this.highlighter=new r,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.errorNodes=[],this.node=null,this.focusTarget=null,this._setOptions(t),this.options.history&&"view"!==this.options.mode&&(this.history=new o(this)),this._createFrame(),this._createTable()},c.destroy=function(){this.frame&&this.container&&this.frame.parentNode==this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null)},c._setOptions=function(e){if(this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null},e)for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.setSchema(this.options.schema),this._debouncedValidate=u.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL)},c.set=function(e,t){if(t&&(console.warn('Second parameter "name" is deprecated. Use setName(name) instead.'),this.options.name=t),e instanceof Function||void 0===e)this.clear();else{this.content.removeChild(this.table);var n={field:this.options.name,value:e},r=new s(this,n);this._setRoot(r),this.validate();this.node.expand(!1),this.content.appendChild(this.table)}this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},c.get=function(){if(this.focusTarget){var e=s.getNodeFromTarget(this.focusTarget);e&&e.blur()}return this.node?this.node.getValue():void 0},c.getText=function(){return JSON.stringify(this.get())},c.setText=function(e){this.set(u.parse(e))},c.setName=function(e){this.options.name=e,this.node&&this.node.updateField(this.options.name)},c.getName=function(){return this.options.name},c.focus=function(){var e=this.content.querySelector("[contenteditable=true]");e?e.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(e=this.frame.querySelector("button"))&&e.focus()},c.clear=function(){this.node&&(this.node.collapse(),this.tbody.removeChild(this.node.getDom()),delete this.node)},c._setRoot=function(e){this.clear(),this.node=e,this.tbody.appendChild(e.getDom())},c.search=function(e){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(e),this.content.appendChild(this.table)):t=[],t},c.expandAll=function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},c.collapseAll=function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},c._onAction=function(e,t){this.history&&this.history.add(e,t),this._onChange()},c._onChange=function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}},c.validate=function(){this.errorNodes&&this.errorNodes.forEach(function(e){e.setError(null)});var e=this.node;if(e){var t=e.validate(),n=[];if(this.validateSchema){this.validateSchema(e.getValue())||(n=this.validateSchema.errors.map(function(e){return u.improveSchemaError(e)}).map(function(t){return{node:e.findNode(t.dataPath),error:t}}).filter(function(e){return null!=e.node}))}this.errorNodes=t.concat(n).reduce(function(e,t){return t.node.findParents().map(function(e){return{node:e,child:t.node,error:{message:"object"===e.type?"Contains invalid properties":"Contains invalid items"}}}).concat(e,[t])},[]).map(function(e){return e.node.setError(e.error,e.child),e.node})}},c.refresh=function(){this.node&&this.node.updateDom({recurse:!0})},c.startAutoScroll=function(e){var t=this,n=this.content,r=u.getAbsoluteTop(n),o=n.clientHeight,i=r+o;e<r+24&&n.scrollTop>0?this.autoScrollStep=(r+24-e)/3:e>i-24&&o+n.scrollTop<n.scrollHeight?this.autoScrollStep=(i-24-e)/3:this.autoScrollStep=void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){t.autoScrollStep?n.scrollTop-=t.autoScrollStep:t.stopAutoScroll()},50)):this.stopAutoScroll()},c.stopAutoScroll=function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},c.setSelection=function(e){e&&("scrollTop"in e&&this.content&&(this.content.scrollTop=e.scrollTop),e.nodes&&this.select(e.nodes),e.range&&u.setSelectionOffset(e.range),e.dom&&e.dom.focus())},c.getSelection=function(){var e=u.getSelectionOffset();return e&&"DIV"!==e.container.nodeName&&(e=null),{dom:this.focusTarget,range:e,nodes:this.multiselection.nodes.slice(0),scrollTop:this.content?this.content.scrollTop:0}},c.scrollTo=function(e,t){var n=this.content;if(n){var r=this;r.animateTimeout&&(clearTimeout(r.animateTimeout),delete r.animateTimeout),r.animateCallback&&(r.animateCallback(!1),delete r.animateCallback);var o=n.clientHeight,i=n.scrollHeight-o,a=Math.min(Math.max(e-o/4,0),i),s=function(){var e=n.scrollTop,o=a-e;Math.abs(o)>3?(n.scrollTop+=o/3,r.animateCallback=t,r.animateTimeout=setTimeout(s,50)):(t&&t(!0),n.scrollTop=a,delete r.animateTimeout,delete r.animateCallback)};s()}else t&&t(!1)},c._createFrame=function(){function e(e){t._onEvent&&t._onEvent(e)}this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame);var t=this;this.frame.onclick=function(t){var n=t.target;e(t),"BUTTON"==n.nodeName&&t.preventDefault()},this.frame.oninput=e,this.frame.onchange=e,this.frame.onkeydown=e,this.frame.onkeyup=e,this.frame.oncut=e,this.frame.onpaste=e,this.frame.onmousedown=e,this.frame.onmouseup=e,this.frame.onmouseover=e,this.frame.onmouseout=e,u.addEventListener(this.frame,"focus",e,!0),u.addEventListener(this.frame,"blur",e,!0),this.frame.onfocusin=e,this.frame.onfocusout=e,this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var n=document.createElement("button");n.type="button",n.className="jsoneditor-expand-all",n.title="Expand all fields",n.onclick=function(){t.expandAll()},this.menu.appendChild(n);var r=document.createElement("button");if(r.type="button",r.title="Collapse all fields",r.className="jsoneditor-collapse-all",r.onclick=function(){t.collapseAll()},this.menu.appendChild(r),this.history){var o=document.createElement("button");o.type="button",o.className="jsoneditor-undo jsoneditor-separator",o.title="Undo last action (Ctrl+Z)",o.onclick=function(){t._onUndo()},this.menu.appendChild(o),this.dom.undo=o;var a=document.createElement("button");a.type="button",a.className="jsoneditor-redo",a.title="Redo (Ctrl+Shift+Z)",a.onclick=function(){t._onRedo()},this.menu.appendChild(a),this.dom.redo=a,this.history.onChange=function(){o.disabled=!t.history.canUndo(),a.disabled=!t.history.canRedo()},this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var s=this;this.modeSwitcher=new l(this.menu,this.options.modes,this.options.mode,function(e){s.modeSwitcher.destroy(),s.setMode(e),s.modeSwitcher.focus()})}this.options.search&&(this.searchBox=new i(this,this.menu))},c._onUndo=function(){this.history&&(this.history.undo(),this._onChange())},c._onRedo=function(){this.history&&(this.history.redo(),this._onChange())},c._onEvent=function(e){"keydown"==e.type&&this._onKeyDown(e),"focus"==e.type&&(this.focusTarget=e.target),"mousedown"==e.type&&this._startDragDistance(e),"mousemove"!=e.type&&"mouseup"!=e.type&&"click"!=e.type||this._updateDragDistance(e);var t=s.getNodeFromTarget(e.target);if(t&&t.selected){if("click"==e.type){if(e.target==t.dom.menu)return void this.showContextMenu(e.target);e.hasMoved||this.deselect()}"mousedown"==e.type&&s.onDragStart(this.multiselection.nodes,e)}else"mousedown"==e.type&&(this.deselect(),t&&e.target==t.dom.drag?s.onDragStart(t,e):(!t||e.target!=t.dom.field&&e.target!=t.dom.value&&e.target!=t.dom.select)&&this._onMultiSelectStart(e));t&&t.onEvent(e)},c._startDragDistance=function(e){this.dragDistanceEvent={initialTarget:e.target,initialPageX:e.pageX,initialPageY:e.pageY,dragDistance:0,hasMoved:!1}},c._updateDragDistance=function(e){this.dragDistanceEvent||this._startDragDistance(e);var t=e.pageX-this.dragDistanceEvent.initialPageX,n=e.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(t*t+n*n),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||this.dragDistanceEvent.dragDistance>10,e.dragDistance=this.dragDistanceEvent.dragDistance,e.hasMoved=this.dragDistanceEvent.hasMoved,e.dragDistance},c._onMultiSelectStart=function(e){var t=s.getNodeFromTarget(e.target);if("tree"===this.options.mode&&void 0===this.options.onEditable){this.multiselection={start:t||null,end:null,nodes:[]},this._startDragDistance(e);var n=this;this.mousemove||(this.mousemove=u.addEventListener(window,"mousemove",function(e){n._onMultiSelect(e)})),this.mouseup||(this.mouseup=u.addEventListener(window,"mouseup",function(e){n._onMultiSelectEnd(e)}))}},c._onMultiSelect=function(e){if(e.preventDefault(),this._updateDragDistance(e),e.hasMoved){var t=s.getNodeFromTarget(e.target);t&&(null==this.multiselection.start&&(this.multiselection.start=t),this.multiselection.end=t),this.deselect();var n=this.multiselection.start,r=this.multiselection.end||this.multiselection.start;n&&r&&(this.multiselection.nodes=this._findTopLevelNodes(n,r),this.select(this.multiselection.nodes))}},c._onMultiSelectEnd=function(e){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(u.removeEventListener(window,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(u.removeEventListener(window,"mouseup",this.mouseup),delete this.mouseup)},c.deselect=function(e){this.multiselection.nodes.forEach(function(e){e.setSelected(!1)}),this.multiselection.nodes=[],e&&(this.multiselection.start=null,this.multiselection.end=null)},c.select=function(e){if(!Array.isArray(e))return this.select([e]);if(e){this.deselect(),this.multiselection.nodes=e.slice(0);var t=e[0];e.forEach(function(e){e.setSelected(!0,e===t)})}},c._findTopLevelNodes=function(e,t){for(var n=e.getNodePath(),r=t.getNodePath(),o=0;o<n.length&&n[o]===r[o];)o++;var i=n[o-1],a=n[o],s=r[o];if(a&&s||(i.parent?(a=i,s=i,i=i.parent):(a=i.childs[0],s=i.childs[i.childs.length-1])),i&&a&&s){var l=i.childs.indexOf(a),u=i.childs.indexOf(s),c=Math.min(l,u),f=Math.max(l,u);return i.childs.slice(c,f+1)}return[]},c._onKeyDown=function(e){var t=e.which||e.keyCode,n=e.ctrlKey,r=e.shiftKey,o=!1;if(9==t){var i=this;setTimeout(function(){u.selectContentEditable(i.focusTarget)},0)}if(this.searchBox)if(n&&70==t)this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),o=!0;else if(114==t||n&&71==t){r?this.searchBox.previous(!0):this.searchBox.next(!0),o=!0}this.history&&(n&&!r&&90==t?(this._onUndo(),o=!0):n&&r&&90==t&&(this._onRedo(),o=!0)),o&&(e.preventDefault(),e.stopPropagation())},c._createTable=function(){var e=document.createElement("div");e.className="jsoneditor-outer",this.contentOuter=e,this.content=document.createElement("div"),this.content.className="jsoneditor-tree",e.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table);var t;this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&(t=document.createElement("col"),t.width="24px",this.colgroupContent.appendChild(t)),t=document.createElement("col"),t.width="24px",this.colgroupContent.appendChild(t),t=document.createElement("col"),this.colgroupContent.appendChild(t),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(e)},c.showContextMenu=function(e,t){var n=[],r=this;n.push({text:"Duplicate",title:"Duplicate selected fields (Ctrl+D)",className:"jsoneditor-duplicate",click:function(){s.onDuplicate(r.multiselection.nodes)}}),n.push({text:"Remove",title:"Remove selected fields (Ctrl+Del)",className:"jsoneditor-remove",click:function(){s.onRemove(r.multiselection.nodes)}}),new a(n,{close:t}).show(e,this.content)},e.exports=[{mode:"tree",mixin:c,data:"json"},{mode:"view",mixin:c,data:"json"},{mode:"form",mixin:c,data:"json"}]},function(e,t){"use strict";function n(){this.locked=!1}n.prototype.highlight=function(e){this.locked||(this.node!=e&&(this.node&&this.node.setHighlight(!1),this.node=e,this.node.setHighlight(!0)),this._cancelUnhighlight())},n.prototype.unhighlight=function(){if(!this.locked){var e=this;this.node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){e.node.setHighlight(!1),e.node=void 0,e.unhighlightTimer=void 0},0))}},n.prototype._cancelUnhighlight=function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)},n.prototype.lock=function(){this.locked=!0},n.prototype.unlock=function(){this.locked=!1},e.exports=n},function(e,t,n){"use strict";function r(e){this.editor=e,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(e){e.node.updateField(e.oldValue)},redo:function(e){e.node.updateField(e.newValue)}},editValue:{undo:function(e){e.node.updateValue(e.oldValue)},redo:function(e){e.node.updateValue(e.newValue)}},changeType:{undo:function(e){e.node.changeType(e.oldType)},redo:function(e){e.node.changeType(e.newType)}},appendNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){e.nodes.forEach(function(t){e.parent.appendChild(t)})}},insertBeforeNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){e.nodes.forEach(function(t){e.parent.insertBefore(t,e.beforeNode)})}},insertAfterNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){var t=e.afterNode;e.nodes.forEach(function(n){e.parent.insertAfter(e.node,t),t=n})}},removeNodes:{undo:function(e){var t=e.parent,n=t.childs[e.index]||t.append;e.nodes.forEach(function(e){t.insertBefore(e,n)})},redo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})}},duplicateNodes:{undo:function(e){e.nodes.forEach(function(t){e.parent.removeChild(t)})},redo:function(e){var t=e.afterNode;e.nodes.forEach(function(n){e.parent.insertAfter(n,t),t=n})}},moveNodes:{undo:function(e){e.nodes.forEach(function(t){e.oldBeforeNode.parent.moveBefore(t,e.oldBeforeNode)})},redo:function(e){e.nodes.forEach(function(t){e.newBeforeNode.parent.moveBefore(t,e.newBeforeNode)})}},sort:{undo:function(e){var t=e.node;t.hideChilds(),t.sort=e.oldSort,t.childs=e.oldChilds,t.showChilds()},redo:function(e){var t=e.node;t.hideChilds(),t.sort=e.newSort,t.childs=e.newChilds,t.showChilds()}}}}n(54);r.prototype.onChange=function(){},r.prototype.add=function(e,t){this.index++,this.history[this.index]={action:e,params:t,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()},r.prototype.clear=function(){this.history=[],this.index=-1,this.onChange()},r.prototype.canUndo=function(){return this.index>=0},r.prototype.canRedo=function(){return this.index<this.history.length-1},r.prototype.undo=function(){if(this.canUndo()){var e=this.history[this.index];if(e){var t=this.actions[e.action];t&&t.undo?(t.undo(e.params),e.params.oldSelection&&this.editor.setSelection(e.params.oldSelection)):console.error(new Error('unknown action "'+e.action+'"'))}this.index--,this.onChange()}},r.prototype.redo=function(){if(this.canRedo()){this.index++;var e=this.history[this.index];if(e){var t=this.actions[e.action];t&&t.redo?(t.redo(e.params),e.params.newSelection&&this.editor.setSelection(e.params.newSelection)):console.error(new Error('unknown action "'+e.action+'"'))}this.onChange()}},r.prototype.destroy=function(){this.editor=null,this.history=[],this.index=-1},e.exports=r},function(e,t,n){"use strict";var r=n(55);t.parse=function(e){try{return JSON.parse(e)}catch(n){throw t.validate(e),n}},t.sanitize=function(e){function t(){return e.charAt(i)}function n(){return e.charAt(i+1)}function r(){return e.charAt(i-1)}var o=[],i=0,a=e.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);for(a&&(e=a[3]);i<e.length;){var s=t();"/"===s&&"*"===n()?function(){for(i+=2;i<e.length&&("*"!==t()||"/"!==n());)i++;i+=2}():"/"===s&&"/"===n()?function(){for(i+=2;i<e.length&&"\n"!==t();)i++}():"'"===s||'"'===s?function(n){o.push('"'),i++;for(var a=t();i<e.length&&a!==n;)'"'===a&&"\\"!==r()&&o.push("\\"),"\\"===a&&(i++,"'"!==(a=t())&&o.push("\\")),o.push(a),i++,a=t();a===n&&(o.push('"'),i++)}(s):/[a-zA-Z_$]/.test(s)&&-1!==["{",","].indexOf(function(){for(var e=o.length-1;e>=0;){var t=o[e];if(" "!==t&&"\n"!==t&&"\r"!==t&&"\t"!==t)return t;e--}return""}())?function(){for(var e=["null","true","false"],n="",r=t(),a=/[a-zA-Z_$\d]/;a.test(r);)n+=r,i++,r=t();-1===e.indexOf(n)?o.push('"'+n+'"'):o.push(n)}():(o.push(s),i++)}return o.join("")},t.escapeUnicodeChars=function(e){return e.replace(/[\u007F-\uFFFF]/g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})},t.validate=function(e){void 0!==r?r.parse(e):JSON.parse(e)},t.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.clear=function(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},t.type=function(e){return null===e?"null":void 0===e?"undefined":e instanceof Number||"number"==typeof e?"number":e instanceof String||"string"==typeof e?"string":e instanceof Boolean||"boolean"==typeof e?"boolean":e instanceof RegExp||"regexp"==typeof e?"regexp":t.isArray(e)?"array":"object"};var o=/^https?:\/\/\S+$/;t.isUrl=function(e){return("string"==typeof e||e instanceof String)&&o.test(e)},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.getAbsoluteLeft=function(e){return e.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0},t.getAbsoluteTop=function(e){return e.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0},t.addClassName=function(e,t){var n=e.className.split(" ");-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" "))},t.removeClassName=function(e,t){var n=e.className.split(" "),r=n.indexOf(t);-1!=r&&(n.splice(r,1),e.className=n.join(" "))},t.stripFormatting=function(e){for(var n=e.childNodes,r=0,o=n.length;r<o;r++){var i=n[r];i.style&&i.removeAttribute("style");var a=i.attributes;if(a)for(var s=a.length-1;s>=0;s--){var l=a[s];!0===l.specified&&i.removeAttribute(l.name)}t.stripFormatting(i)}},t.setEndOfContentEditable=function(e){var t,n;document.createRange&&(t=document.createRange(),t.selectNodeContents(e),t.collapse(!1),n=window.getSelection(),n.removeAllRanges(),n.addRange(t))},t.selectContentEditable=function(e){if(e&&"DIV"==e.nodeName){var t,n;window.getSelection&&document.createRange&&(n=document.createRange(),n.selectNodeContents(e),t=window.getSelection(),t.removeAllRanges(),t.addRange(n))}},t.getSelection=function(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}return null},t.setSelection=function(e){if(e&&window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}},t.getSelectionOffset=function(){var e=t.getSelection();return e&&"startOffset"in e&&"endOffset"in e&&e.startContainer&&e.startContainer==e.endContainer?{startOffset:e.startOffset,endOffset:e.endOffset,container:e.startContainer.parentNode}:null},t.setSelectionOffset=function(e){if(document.createRange&&window.getSelection){if(window.getSelection()){var n=document.createRange();e.container.firstChild||e.container.appendChild(document.createTextNode("")),n.setStart(e.container.firstChild,e.startOffset),n.setEnd(e.container.firstChild,e.endOffset),t.setSelection(n)}}},t.getInnerText=function(e,n){if(void 0==n&&(n={text:"",flush:function(){var e=this.text;return this.text="",e},set:function(e){this.text=e}}),e.nodeValue)return n.flush()+e.nodeValue;if(e.hasChildNodes()){for(var r=e.childNodes,o="",i=0,a=r.length;i<a;i++){var s=r[i];if("DIV"==s.nodeName||"P"==s.nodeName){var l=r[i-1],u=l?l.nodeName:void 0;u&&"DIV"!=u&&"P"!=u&&"BR"!=u&&(o+="\n",n.flush()),o+=t.getInnerText(s,n),n.set("\n")}else"BR"==s.nodeName?(o+=n.flush(),n.set("\n")):o+=t.getInnerText(s,n)}return o}return"P"==e.nodeName&&-1!=t.getInternetExplorerVersion()?n.flush():""},t.getInternetExplorerVersion=function(){if(-1==i){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}i=e}return i},t.isFirefox=function(){return-1!=navigator.userAgent.indexOf("Firefox")};var i=-1;t.addEventListener=function(e,n,r,o){if(e.addEventListener)return void 0===o&&(o=!1),"mousewheel"===n&&t.isFirefox()&&(n="DOMMouseScroll"),e.addEventListener(n,r,o),r;if(e.attachEvent){var i=function(){return r.call(e,window.event)};return e.attachEvent("on"+n,i),i}},t.removeEventListener=function(e,n,r,o){e.removeEventListener?(void 0===o&&(o=!1),"mousewheel"===n&&t.isFirefox()&&(n="DOMMouseScroll"),e.removeEventListener(n,r,o)):e.detachEvent&&e.detachEvent("on"+n,r)},t.parsePath=function e(t){var n,r;if(0===t.length)return[];var o=t.match(/^\.(\w+)/);if(o)n=o[1],r=t.substr(n.length+1);else{if("["!==t[0])throw new SyntaxError("Failed to parse path");var i=t.indexOf("]");if(-1===i)throw new SyntaxError("Character ] expected in path");if(1===i)throw new SyntaxError("Index expected after [");var a=t.substring(1,i);"'"===a[0]&&(a='"'+a.substring(1,a.length-1)+'"'),n="*"===a?a:JSON.parse(a),r=t.substr(i+1)}return[n].concat(e(r))},t.improveSchemaError=function(e){if("enum"===e.keyword&&Array.isArray(e.schema)){var t=e.schema;if(t){if(t=t.map(function(e){return JSON.stringify(e)}),t.length>5){var n=["("+(t.length-5)+" more...)"];t=t.slice(0,5),t.push(n)}e.message="should be equal to one of: "+t.join(", ")}}return"additionalProperties"===e.keyword&&(e.message="should NOT have additional property: "+e.params.additionalProperty),e},t.insideRect=function(e,t,n){var r=void 0!==n?n:0;return t.left-r>=e.left&&t.right+r<=e.right&&t.top-r>=e.top&&t.bottom+r<=e.bottom},t.debounce=function(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}},t.textDiff=function(e,t){for(var n=t.length,r=0,o=e.length,i=t.length;t.charAt(r)===e.charAt(r)&&r<n;)r++;for(;t.charAt(i-1)===e.charAt(o-1)&&i>r&&o>0;)i--,o--;return{start:r,end:i}}},function(e,t,n){var r=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,r,o,i,a){var s=i.length-1;switch(o){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=i[s-1];case 13:this.$={};break;case 14:this.$=i[s-1];break;case 15:this.$=[i[s-2],i[s]];break;case 16:this.$={},this.$[i[s][0]]=i[s][1];break;case 17:this.$=i[s-2],i[s-2][i[s][0]]=i[s][1];break;case 18:this.$=[];break;case 19:this.$=i[s-1];break;case 20:this.$=[i[s]];break;case 21:this.$=i[s-2],i[s-2].push(i[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,r=[0],o=[null],i=[],a=this.table,s="",l=0,u=0,c=0,f=2;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;i.push(d),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,p,m,g,v,b,y,w,x,C={};;){if(m=r[r.length-1],this.defaultActions[m]?g=this.defaultActions[m]:(null==h&&(h=t()),g=a[m]&&a[m][h]),void 0===g||!g.length||!g[0]){if(!c){x=[];for(b in a[m])this.terminals_[b]&&b>2&&x.push("'"+this.terminals_[b]+"'");var k="";k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+this.terminals_[h]+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:d,expected:x})}if(3==c){if(1==h)throw new Error(k||"Parsing halted.");u=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,h=t()}for(;;){if(f.toString()in a[m])break;if(0==m)throw new Error(k||"Parsing halted.");!function(e){r.length=r.length-2*e,o.length=o.length-e,i.length=i.length-e}(1),m=r[r.length-1]}p=h,h=f,m=r[r.length-1],g=a[m]&&a[m][f],c=3}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+h);switch(g[0]){case 1:r.push(h),o.push(this.lexer.yytext),i.push(this.lexer.yylloc),r.push(g[1]),h=null,p?(h=p,p=null):(u=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[g[1]][1],C.$=o[o.length-y],C._$={first_line:i[i.length-(y||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(y||1)].first_column,last_column:i[i.length-1].last_column},void 0!==(v=this.performAction.call(C,s,u,l,this.yy,g[1],o,i)))return v;y&&(r=r.slice(0,-1*y*2),o=o.slice(0,-1*y),i=i.slice(0,-1*y)),r.push(this.productions_[g[1]][0]),o.push(C.$),i.push(C._$),w=a[r[r.length-2]][r[r.length-1]],r.push(w);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r,o;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length&&(!(n=this._input.match(this.rules[i[a]]))||t&&!(n[0].length>t[0].length)||(t=n,r=a,this.options.flex));a++);return t?(o=t[0].match(/\n.*/g),o&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,r){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},e.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],e.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},e}();return e.lexer=t,e}();t.parser=r,t.parse=r.parse.bind(r)},function(e,t){"use strict";function n(e,t){var n=this;this.editor=e,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.dom={},this.dom.container=t;var r=document.createElement("table");this.dom.table=r,r.className="jsoneditor-search",t.appendChild(r);var o=document.createElement("tbody");this.dom.tbody=o,r.appendChild(o);var i=document.createElement("tr");o.appendChild(i);var a=document.createElement("td");i.appendChild(a);var s=document.createElement("div");this.dom.results=s,s.className="jsoneditor-results",a.appendChild(s),a=document.createElement("td"),i.appendChild(a);var l=document.createElement("div");this.dom.input=l,l.className="jsoneditor-frame",l.title="Search fields and values",a.appendChild(l);var u=document.createElement("table");l.appendChild(u);var c=document.createElement("tbody");u.appendChild(c),i=document.createElement("tr"),c.appendChild(i);var f=document.createElement("button");f.type="button",f.className="jsoneditor-refresh",a=document.createElement("td"),a.appendChild(f),i.appendChild(a);var d=document.createElement("input");this.dom.search=d,d.oninput=function(e){n._onDelayedSearch(e)},d.onchange=function(e){n._onSearch()},d.onkeydown=function(e){n._onKeyDown(e)},d.onkeyup=function(e){n._onKeyUp(e)},f.onclick=function(e){d.select()},a=document.createElement("td"),a.appendChild(d),i.appendChild(a);var h=document.createElement("button");h.type="button",h.title="Next result (Enter)",h.className="jsoneditor-next",h.onclick=function(){n.next()},a=document.createElement("td"),a.appendChild(h),i.appendChild(a);var p=document.createElement("button");p.type="button",p.title="Previous result (Shift+Enter)",p.className="jsoneditor-previous",p.onclick=function(){n.previous()},a=document.createElement("td"),a.appendChild(p),i.appendChild(a)}n.prototype.next=function(e){if(void 0!=this.results){var t=void 0!=this.resultIndex?this.resultIndex+1:0;t>this.results.length-1&&(t=0),this._setActiveResult(t,e)}},n.prototype.previous=function(e){if(void 0!=this.results){var t=this.results.length-1,n=void 0!=this.resultIndex?this.resultIndex-1:t;n<0&&(n=t),this._setActiveResult(n,e)}},n.prototype._setActiveResult=function(e,t){if(this.activeResult){var n=this.activeResult.node;"field"==this.activeResult.elem?delete n.searchFieldActive:delete n.searchValueActive,n.updateDom()}if(!this.results||!this.results[e])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=e;var r=this.results[this.resultIndex].node,o=this.results[this.resultIndex].elem;"field"==o?r.searchFieldActive=!0:r.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],r.updateDom(),r.scrollTo(function(){t&&r.focus(o)})},n.prototype._clearDelay=function(){void 0!=this.timeout&&(clearTimeout(this.timeout),delete this.timeout)},n.prototype._onDelayedSearch=function(e){this._clearDelay();var t=this;this.timeout=setTimeout(function(e){t._onSearch()},this.delay)},n.prototype._onSearch=function(e){this._clearDelay();var t=this.dom.search.value,n=t.length>0?t:void 0;if(n!=this.lastText||e)if(this.lastText=n,this.results=this.editor.search(n),this._setActiveResult(void 0),void 0!=n){var r=this.results.length;switch(r){case 0:this.dom.results.innerHTML="no&nbsp;results";break;case 1:this.dom.results.innerHTML="1&nbsp;result";break;default:this.dom.results.innerHTML=r+"&nbsp;results"}}else this.dom.results.innerHTML=""},n.prototype._onKeyDown=function(e){var t=e.which;27==t?(this.dom.search.value="",this._onSearch(),e.preventDefault(),e.stopPropagation()):13==t&&(e.ctrlKey?this._onSearch(!0):e.shiftKey?this.previous():this.next(),e.preventDefault(),e.stopPropagation())},n.prototype._onKeyUp=function(e){var t=e.keyCode;27!=t&&13!=t&&this._onDelayedSearch(e)},n.prototype.clear=function(){this.dom.search.value="",this._onSearch()},n.prototype.destroy=function(){this.editor=null,this.dom.container.removeChild(this.dom.table),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()},e.exports=n},function(e,t,n){"use strict";function r(e,t){function n(e,t,o){o.forEach(function(o){if("separator"==o.type){var i=document.createElement("div");i.className="jsoneditor-separator",s=document.createElement("li"),s.appendChild(i),e.appendChild(s)}else{var a={},s=document.createElement("li");e.appendChild(s);var l=document.createElement("button");if(l.type="button",l.className=o.className,a.button=l,o.title&&(l.title=o.title),o.click&&(l.onclick=function(e){e.preventDefault(),r.hide(),o.click()}),s.appendChild(l),o.submenu){var u=document.createElement("div");u.className="jsoneditor-icon",l.appendChild(u),l.appendChild(document.createTextNode(o.text));var c;if(o.click){l.className+=" jsoneditor-default";var f=document.createElement("button");f.type="button",a.buttonExpand=f,f.className="jsoneditor-expand",f.innerHTML='<div class="jsoneditor-expand"></div>',s.appendChild(f),o.submenuTitle&&(f.title=o.submenuTitle),c=f}else{var d=document.createElement("div");d.className="jsoneditor-expand",l.appendChild(d),c=l}c.onclick=function(e){e.preventDefault(),r._onExpandItem(a),c.focus()};var h=[];a.subItems=h;var p=document.createElement("ul");a.ul=p,p.className="jsoneditor-menu",p.style.height="0",s.appendChild(p),n(p,h,o.submenu)}else l.innerHTML='<div class="jsoneditor-icon"></div>'+o.text;t.push(a)}})}this.dom={};var r=this,o=this.dom;this.anchor=void 0,this.items=e,this.eventListeners={},this.selection=void 0,this.onClose=t?t.close:void 0;var i=document.createElement("div");i.className="jsoneditor-contextmenu-root",o.root=i;var a=document.createElement("div");a.className="jsoneditor-contextmenu",o.menu=a,i.appendChild(a);var s=document.createElement("ul");s.className="jsoneditor-menu",a.appendChild(s),o.list=s,o.items=[];var l=document.createElement("button");l.type="button",o.focusButton=l;var u=document.createElement("li");u.style.overflow="hidden",u.style.height="0",u.appendChild(l),s.appendChild(u),n(s,this.dom.items,e),this.maxHeight=0,e.forEach(function(t){var n=24*(e.length+(t.submenu?t.submenu.length:0));r.maxHeight=Math.max(r.maxHeight,n)})}var o=n(54);r.prototype._getVisibleButtons=function(){var e=[],t=this;return this.dom.items.forEach(function(n){e.push(n.button),n.buttonExpand&&e.push(n.buttonExpand),n.subItems&&n==t.expandedItem&&n.subItems.forEach(function(t){e.push(t.button),t.buttonExpand&&e.push(t.buttonExpand)})}),e},r.visibleMenu=void 0,r.prototype.show=function(e,t){this.hide();var n=!0;if(t){var i=e.getBoundingClientRect(),a=t.getBoundingClientRect();i.bottom+this.maxHeight<a.bottom||i.top-this.maxHeight>a.top&&(n=!1)}if(n){var s=e.offsetHeight;this.dom.menu.style.left="0px",this.dom.menu.style.top=s+"px",this.dom.menu.style.bottom=""}else this.dom.menu.style.left="0px",this.dom.menu.style.top="",this.dom.menu.style.bottom="0px";var l=e.parentNode;l.insertBefore(this.dom.root,l.firstChild);var u=this,c=this.dom.list;this.eventListeners.mousedown=o.addEventListener(window,"mousedown",function(e){var t=e.target;t==c||u._isChildOf(t,c)||(u.hide(),e.stopPropagation(),e.preventDefault())}),this.eventListeners.keydown=o.addEventListener(window,"keydown",function(e){u._onKeyDown(e)}),this.selection=o.getSelection(),this.anchor=e,setTimeout(function(){u.dom.focusButton.focus()},0),r.visibleMenu&&r.visibleMenu.hide(),r.visibleMenu=this},r.prototype.hide=function(){this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose());for(var e in this.eventListeners)if(this.eventListeners.hasOwnProperty(e)){var t=this.eventListeners[e];t&&o.removeEventListener(window,e,t),delete this.eventListeners[e]}r.visibleMenu==this&&(r.visibleMenu=void 0)},r.prototype._onExpandItem=function(e){var t=this,n=e==this.expandedItem,r=this.expandedItem;if(r&&(r.ul.style.height="0",r.ul.style.padding="",setTimeout(function(){t.expandedItem!=r&&(r.ul.style.display="",o.removeClassName(r.ul.parentNode,"jsoneditor-selected"))},300),this.expandedItem=void 0),!n){var i=e.ul;i.style.display="block";i.clientHeight;setTimeout(function(){t.expandedItem==e&&(i.style.height=24*i.childNodes.length+"px",i.style.padding="5px 10px")},0),o.addClassName(i.parentNode,"jsoneditor-selected"),this.expandedItem=e}},r.prototype._onKeyDown=function(e){var t,n,r,i,a=e.target,s=e.which,l=!1;27==s?(this.selection&&o.setSelection(this.selection),this.anchor&&this.anchor.focus(),this.hide(),l=!0):9==s?e.shiftKey?(t=this._getVisibleButtons(),0==(n=t.indexOf(a))&&(t[t.length-1].focus(),l=!0)):(t=this._getVisibleButtons(),(n=t.indexOf(a))==t.length-1&&(t[0].focus(),l=!0)):37==s?("jsoneditor-expand"==a.className&&(t=this._getVisibleButtons(),n=t.indexOf(a),(r=t[n-1])&&r.focus()),l=!0):38==s?(t=this._getVisibleButtons(),n=t.indexOf(a),r=t[n-1],r&&"jsoneditor-expand"==r.className&&(r=t[n-2]),r||(r=t[t.length-1]),r&&r.focus(),l=!0):39==s?(t=this._getVisibleButtons(),n=t.indexOf(a),i=t[n+1],i&&"jsoneditor-expand"==i.className&&i.focus(),l=!0):40==s&&(t=this._getVisibleButtons(),n=t.indexOf(a),i=t[n+1],i&&"jsoneditor-expand"==i.className&&(i=t[n+2]),i||(i=t[0]),i&&(i.focus(),l=!0),l=!0),l&&(e.stopPropagation(),e.preventDefault())},r.prototype._isChildOf=function(e,t){for(var n=e.parentNode;n;){if(n==t)return!0;n=n.parentNode}return!1},e.exports=r},function(e,t,n){"use strict";function r(e,t){this.editor=e,this.dom={},this.expanded=!1,t&&t instanceof Object?(this.setField(t.field,t.fieldEditable),this.setValue(t.value,t.type)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=s.debounce(this._onChangeValue.bind(this),r.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=s.debounce(this._onChangeField.bind(this),r.prototype.DEBOUNCE_INTERVAL)}var o=n(59),i=n(57),a=n(60),s=n(54);r.prototype.DEBOUNCE_INTERVAL=150,r.prototype._updateEditability=function(){if(this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,("tree"===this.editor.options.mode||"form"===this.editor.options.mode)&&"function"==typeof this.editor.options.onEditable)){var e=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});"boolean"==typeof e?(this.editable.field=e,this.editable.value=e):("boolean"==typeof e.field&&(this.editable.field=e.field),"boolean"==typeof e.value&&(this.editable.value=e.value))}},r.prototype.getPath=function(){for(var e=this,t=[];e;){var n=e.parent?"array"!=e.parent.type?e.field:e.index:void 0;void 0!==n&&t.unshift(n),e=e.parent}return t},r.prototype.findNode=function(e){for(var t=s.parsePath(e),n=this;n&&t.length>0;){var r=t.shift();if("number"==typeof r){if("array"!==n.type)throw new Error("Cannot get child node at index "+r+": node is no array");n=n.childs[r]}else{if("object"!==n.type)throw new Error("Cannot get child node "+r+": node is no object");n=n.childs.filter(function(e){return e.field===r})[0]}}return n},r.prototype.findParents=function(){for(var e=[],t=this.parent;t;)e.unshift(t),t=t.parent;return e},r.prototype.setError=function(e,t){this.getDom(),this.error=e;var n=this.dom.tdError;if(e){n||(n=document.createElement("td"),this.dom.tdError=n,this.dom.tdValue.parentNode.appendChild(n));var r=document.createElement("div");r.className="jsoneditor-popover jsoneditor-right",r.appendChild(document.createTextNode(e.message));var o=document.createElement("button");for(o.type="button",o.className="jsoneditor-schema-error",o.appendChild(r),o.onmouseover=o.onfocus=function(){for(var e=["right","above","below","left"],t=0;t<e.length;t++){var n=e[t];r.className="jsoneditor-popover jsoneditor-"+n;var o=this.editor.content.getBoundingClientRect(),i=r.getBoundingClientRect();if(s.insideRect(o,i,20))break}}.bind(this),t&&(o.onclick=function(){t.findParents().forEach(function(e){e.expand(!1)}),t.scrollTo(function(){t.focus()})});n.firstChild;)n.removeChild(n.firstChild);n.appendChild(o)}else n&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)},r.prototype.getIndex=function(){return this.parent?this.parent.childs.indexOf(this):-1},r.prototype.setParent=function(e){this.parent=e},r.prototype.setField=function(e,t){this.field=e,this.previousField=e,this.fieldEditable=!0===t},r.prototype.getField=function(){return void 0===this.field&&this._getDomField(),this.field},r.prototype.setValue=function(e,t){var n,o,i=this.childs;if(i)for(;i.length;)this.removeChild(i[0]);if(this.type=this._getType(e),t&&t!=this.type){if("string"!=t||"auto"!=this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+t+'"');this.type=t}if("array"==this.type){this.childs=[];for(var a=0,s=e.length;a<s;a++)void 0===(n=e[a])||n instanceof Function||(o=new r(this.editor,{value:n}),this.appendChild(o));this.value=""}else if("object"==this.type){this.childs=[];for(var l in e)e.hasOwnProperty(l)&&(void 0===(n=e[l])||n instanceof Function||(o=new r(this.editor,{field:l,value:n}),this.appendChild(o)));this.value="",!0===this.editor.options.sortObjectKeys&&this.sort("asc")}else this.childs=void 0,this.value=e;this.previousValue=this.value},r.prototype.getValue=function(){if("array"==this.type){var e=[];return this.childs.forEach(function(t){e.push(t.getValue())}),e}if("object"==this.type){var t={};return this.childs.forEach(function(e){t[e.getField()]=e.getValue()}),t}return void 0===this.value&&this._getDomValue(),this.value},r.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0},r.prototype.getNodePath=function(){var e=this.parent?this.parent.getNodePath():[];return e.push(this),e},r.prototype.clone=function(){var e=new r(this.editor);if(e.type=this.type,e.field=this.field,e.fieldInnerText=this.fieldInnerText,e.fieldEditable=this.fieldEditable,e.value=this.value,e.valueInnerText=this.valueInnerText,e.expanded=this.expanded,this.childs){var t=[];this.childs.forEach(function(n){var r=n.clone();r.setParent(e),t.push(r)}),e.childs=t}else e.childs=void 0;return e},r.prototype.expand=function(e){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-expanded"),this.showChilds(),!1!==e&&this.childs.forEach(function(t){t.expand(e)}))},r.prototype.collapse=function(e){this.childs&&(this.hideChilds(),!1!==e&&this.childs.forEach(function(t){t.collapse(e)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-collapsed"),this.expanded=!1)},r.prototype.showChilds=function(){if(this.childs&&this.expanded){var e=this.dom.tr,t=e?e.parentNode:void 0;if(t){var n=this.getAppend(),r=e.nextSibling;r?t.insertBefore(n,r):t.appendChild(n),this.childs.forEach(function(e){t.insertBefore(e.getDom(),n),e.showChilds()})}}},r.prototype.hide=function(){var e=this.dom.tr,t=e?e.parentNode:void 0;t&&t.removeChild(e),this.hideChilds()},r.prototype.hideChilds=function(){if(this.childs&&this.expanded){var e=this.getAppend();e.parentNode&&e.parentNode.removeChild(e),this.childs.forEach(function(e){e.hide()})}},r.prototype.appendChild=function(e){if(this._hasChilds()){if(e.setParent(this),e.fieldEditable="object"==this.type,"array"==this.type&&(e.index=this.childs.length),this.childs.push(e),this.expanded){var t=e.getDom(),n=this.getAppend(),r=n?n.parentNode:void 0;n&&r&&r.insertBefore(t,n),e.showChilds()}this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}},r.prototype.moveBefore=function(e,t){if(this._hasChilds()){var n=this.dom.tr?this.dom.tr.parentNode:void 0;if(n){var r=document.createElement("tr");r.style.height=n.clientHeight+"px",n.appendChild(r)}e.parent&&e.parent.removeChild(e),t instanceof l?this.appendChild(e):this.insertBefore(e,t),n&&n.removeChild(r)}},r.prototype.moveTo=function(e,t){if(e.parent==this){this.childs.indexOf(e)<t&&t++}var n=this.childs[t]||this.append;this.moveBefore(e,n)},r.prototype.insertBefore=function(e,t){if(this._hasChilds()){if(t==this.append)e.setParent(this),e.fieldEditable="object"==this.type,this.childs.push(e);else{var n=this.childs.indexOf(t);if(-1==n)throw new Error("Node not found");e.setParent(this),e.fieldEditable="object"==this.type,this.childs.splice(n,0,e)}if(this.expanded){var r=e.getDom(),o=t.getDom(),i=o?o.parentNode:void 0;o&&i&&i.insertBefore(r,o),e.showChilds()}this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}},r.prototype.insertAfter=function(e,t){if(this._hasChilds()){var n=this.childs.indexOf(t),r=this.childs[n+1];r?this.insertBefore(e,r):this.appendChild(e)}},r.prototype.search=function(e){var t,n=[],r=e?e.toLowerCase():void 0;if(delete this.searchField,delete this.searchValue,void 0!=this.field){t=String(this.field).toLowerCase().indexOf(r),-1!=t&&(this.searchField=!0,n.push({node:this,elem:"field"})),this._updateDomField()}if(this._hasChilds()){if(this.childs){var o=[];this.childs.forEach(function(t){o=o.concat(t.search(e))}),n=n.concat(o)}if(void 0!=r){0==o.length?this.collapse(!1):this.expand(!1)}}else{if(void 0!=this.value){t=String(this.value).toLowerCase().indexOf(r),-1!=t&&(this.searchValue=!0,n.push({node:this,elem:"value"}))}this._updateDomValue()}return n},r.prototype.scrollTo=function(e){if(!this.dom.tr||!this.dom.tr.parentNode)for(var t=this.parent;t;)t.expand(!1),t=t.parent;this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,e)},r.focusElement=void 0,r.prototype.focus=function(e){if(r.focusElement=e,this.dom.tr&&this.dom.tr.parentNode){var t=this.dom;switch(e){case"drag":t.drag?t.drag.focus():t.menu.focus();break;case"menu":t.menu.focus();break;case"expand":this._hasChilds()?t.expand.focus():t.field&&this.fieldEditable?(t.field.focus(),s.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),s.selectContentEditable(t.value)):t.menu.focus();break;case"field":t.field&&this.fieldEditable?(t.field.focus(),s.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),s.selectContentEditable(t.value)):this._hasChilds()?t.expand.focus():t.menu.focus();break;case"value":default:t.value&&!this._hasChilds()?(t.value.focus(),s.selectContentEditable(t.value)):t.field&&this.fieldEditable?(t.field.focus(),s.selectContentEditable(t.field)):this._hasChilds()?t.expand.focus():t.menu.focus()}}},r.select=function(e){setTimeout(function(){s.selectContentEditable(e)},0)},r.prototype.blur=function(){this._getDomValue(!1),this._getDomField(!1)},r.prototype.containsNode=function(e){if(this==e)return!0;var t=this.childs;if(t)for(var n=0,r=t.length;n<r;n++)if(t[n].containsNode(e))return!0;return!1},r.prototype._move=function(e,t){if(e!=t){if(e.containsNode(this))throw new Error("Cannot move a field into a child of itself");e.parent&&e.parent.removeChild(e);var n=e.clone();e.clearDom(),t?this.insertBefore(n,t):this.appendChild(n)}},r.prototype.removeChild=function(e){if(this.childs){var t=this.childs.indexOf(e);if(-1!=t){e.hide(),delete e.searchField,delete e.searchValue;var n=this.childs.splice(t,1)[0];return n.parent=null,this.updateDom({updateIndexes:!0}),n}}},r.prototype._remove=function(e){this.removeChild(e)},r.prototype.changeType=function(e){var t=this.type;if(t!=e){if("string"!=e&&"auto"!=e||"string"!=t&&"auto"!=t){var n,r=this.dom.tr?this.dom.tr.parentNode:void 0;n=this.expanded?this.getAppend():this.getDom();var o=n&&n.parentNode?n.nextSibling:void 0;this.hide(),this.clearDom(),this.type=e,"object"==e?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),delete e.index,e.fieldEditable=!0,void 0==e.field&&(e.field="")}),"string"!=t&&"auto"!=t||(this.expanded=!0)):"array"==e?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),e.fieldEditable=!1,e.index=t}),"string"!=t&&"auto"!=t||(this.expanded=!0)):this.expanded=!1,r&&(o?r.insertBefore(this.getDom(),o):r.appendChild(this.getDom())),this.showChilds()}else this.type=e;"auto"!=e&&"string"!=e||(this.value="string"==e?String(this.value):this._stringCast(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0})}},r.prototype._getDomValue=function(e){if(this.dom.value&&"array"!=this.type&&"object"!=this.type&&(this.valueInnerText=s.getInnerText(this.dom.value)),void 0!=this.valueInnerText)try{var t;if("string"==this.type)t=this._unescapeHTML(this.valueInnerText);else{var n=this._unescapeHTML(this.valueInnerText);t=this._stringCast(n)}t!==this.value&&(this.value=t,this._debouncedOnChangeValue())}catch(t){if(this.value=void 0,!0!==e)throw t}},r.prototype._onChangeValue=function(){var e=this.editor.getSelection();if(e.range){var t=s.textDiff(String(this.value),String(this.previousValue));e.range.startOffset=t.start,e.range.endOffset=t.end}var n=this.editor.getSelection();if(n.range){var r=s.textDiff(String(this.previousValue),String(this.value));n.range.startOffset=r.start,n.range.endOffset=r.end}this.editor._onAction("editValue",{node:this,oldValue:this.previousValue,newValue:this.value,oldSelection:e,newSelection:n}),this.previousValue=this.value},r.prototype._onChangeField=function(){var e=this.editor.getSelection();if(e.range){var t=s.textDiff(this.field,this.previousField);e.range.startOffset=t.start,e.range.endOffset=t.end}var n=this.editor.getSelection();if(n.range){var r=s.textDiff(this.previousField,this.field);n.range.startOffset=r.start,n.range.endOffset=r.end}this.editor._onAction("editField",{node:this,oldValue:this.previousField,newValue:this.field,oldSelection:e,newSelection:n}),this.previousField=this.field},r.prototype._updateDomValue=function(){var e=this.dom.value;if(e){var t=["jsoneditor-value"],n=this.value,r="auto"==this.type?s.type(n):this.type,o="string"==r&&s.isUrl(n);t.push("jsoneditor-"+r),o&&t.push("jsoneditor-url");if(""==String(this.value)&&"array"!=this.type&&"object"!=this.type&&t.push("jsoneditor-empty"),this.searchValueActive&&t.push("jsoneditor-highlight-active"),this.searchValue&&t.push("jsoneditor-highlight"),e.className=t.join(" "),"array"==r||"object"==r){var i=this.childs?this.childs.length:0;e.title=this.type+" containing "+i+" items"}else o&&this.editable.value?e.title="Ctrl+Click or Ctrl+Enter to open url in new window":e.title="";if("boolean"===r&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.innerHTML="--",this.dom.select.appendChild(this.dom.select.option);for(var a=0;a<this.enum.length;a++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this.enum[a],this.dom.select.option.innerHTML=this.enum[a],this.dom.select.option.value==this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||this.schema.hasOwnProperty("oneOf")||this.schema.hasOwnProperty("anyOf")||this.schema.hasOwnProperty("allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.innerHTML="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);s.stripFormatting(e)}},r.prototype._updateDomField=function(){var e=this.dom.field;if(e){""==String(this.field)&&"array"!=this.parent.type?s.addClassName(e,"jsoneditor-empty"):s.removeClassName(e,"jsoneditor-empty"),this.searchFieldActive?s.addClassName(e,"jsoneditor-highlight-active"):s.removeClassName(e,"jsoneditor-highlight-active"),this.searchField?s.addClassName(e,"jsoneditor-highlight"):s.removeClassName(e,"jsoneditor-highlight"),s.stripFormatting(e)}},r.prototype._getDomField=function(e){if(this.dom.field&&this.fieldEditable&&(this.fieldInnerText=s.getInnerText(this.dom.field)),void 0!=this.fieldInnerText)try{var t=this._unescapeHTML(this.fieldInnerText);t!==this.field&&(this.field=t,this._debouncedOnChangeField())}catch(t){if(this.field=void 0,!0!==e)throw t}},r.prototype.validate=function(){var e=[];if("object"===this.type){for(var t={},n=[],r=0;r<this.childs.length;r++){var o=this.childs[r];t.hasOwnProperty(o.field)&&n.push(o.field),t[o.field]=!0}n.length>0&&(e=this.childs.filter(function(e){return-1!==n.indexOf(e.field)}).map(function(e){return{node:e,error:{message:'duplicate key "'+e.field+'"'}}}))}if(this.childs)for(var r=0;r<this.childs.length;r++){var i=this.childs[r].validate();i.length>0&&(e=e.concat(i))}return e},r.prototype.clearDom=function(){this.dom={}},r.prototype.getDom=function(){var e=this.dom;if(e.tr)return e.tr;if(this._updateEditability(),e.tr=document.createElement("tr"),e.tr.node=this,"tree"===this.editor.options.mode){var t=document.createElement("td");if(this.editable.field&&this.parent){var n=document.createElement("button");n.type="button",e.drag=n,n.className="jsoneditor-dragarea",n.title="Drag to move this field (Alt+Shift+Arrows)",t.appendChild(n)}e.tr.appendChild(t);var r=document.createElement("td"),o=document.createElement("button");o.type="button",e.menu=o,o.className="jsoneditor-contextmenu",o.title="Click to open the actions menu (Ctrl+M)",r.appendChild(e.menu),e.tr.appendChild(r)}var i=document.createElement("td");return e.tr.appendChild(i),e.tree=this._createDomTree(),i.appendChild(e.tree),this.updateDom({updateIndexes:!0}),e.tr},r.onDragStart=function(e,t){if(!Array.isArray(e))return r.onDragStart([e],t);if(0!==e.length){var n=e[0],o=e[e.length-1],i=r.getNodeFromTarget(t.target),a=o._nextSibling(),l=n.editor,u=s.getAbsoluteTop(i.dom.tr)-s.getAbsoluteTop(n.dom.tr);l.mousemove||(l.mousemove=s.addEventListener(window,"mousemove",function(t){r.onDrag(e,t)})),l.mouseup||(l.mouseup=s.addEventListener(window,"mouseup",function(t){r.onDragEnd(e,t)})),l.highlighter.lock(),l.drag={oldCursor:document.body.style.cursor,oldSelection:l.getSelection(),oldBeforeNode:a,mouseX:t.pageX,offsetY:u,level:n.getLevel()},document.body.style.cursor="move",t.preventDefault()}},r.onDrag=function(e,t){if(!Array.isArray(e))return r.onDrag([e],t);if(0!==e.length){var n,o,i,a,u,c,f,d,h,p,m,g,v,b,y=e[0].editor,w=t.pageY-y.drag.offsetY,x=t.pageX,C=!1,k=e[0];if(n=k.dom.tr,h=s.getAbsoluteTop(n),g=n.offsetHeight,w<h){o=n;do{o=o.previousSibling,f=r.getNodeFromTarget(o),p=o?s.getAbsoluteTop(o):0}while(o&&w<p);f&&!f.parent&&(f=void 0),f||(c=n.parentNode.firstChild,o=c?c.nextSibling:void 0,(f=r.getNodeFromTarget(o))==k&&(f=void 0)),f&&(o=f.dom.tr,p=o?s.getAbsoluteTop(o):0,w>p+g&&(f=void 0)),f&&(e.forEach(function(e){f.parent.moveBefore(e,f)}),C=!0)}else{var _=e[e.length-1];if(u=_.expanded&&_.append?_.append.getDom():_.dom.tr,a=u?u.nextSibling:void 0){m=s.getAbsoluteTop(a),i=a;do{d=r.getNodeFromTarget(i),i&&(v=i.nextSibling?s.getAbsoluteTop(i.nextSibling):0,b=i?v-m:0,d.parent.childs.length==e.length&&d.parent.childs[e.length-1]==_&&(h+=27)),i=i.nextSibling}while(i&&w>h+b);if(d&&d.parent){var E=x-y.drag.mouseX,A=Math.round(E/24/2),S=y.drag.level+A,O=d.getLevel();for(o=d.dom.tr.previousSibling;O<S&&o;){f=r.getNodeFromTarget(o);if(e.some(function(e){return e===f||f._isChildOf(e)}));else{if(!(f instanceof l))break;var T=f.parent.childs;if(T.length==e.length&&T[e.length-1]==_)break;d=r.getNodeFromTarget(o),O=d.getLevel()}o=o.previousSibling}u.nextSibling!=d.dom.tr&&(e.forEach(function(e){d.parent.moveBefore(e,d)}),C=!0)}}}C&&(y.drag.mouseX=x,y.drag.level=k.getLevel()),y.startAutoScroll(w),t.preventDefault()}},r.onDragEnd=function(e,t){if(!Array.isArray(e))return r.onDrag([e],t);if(0!==e.length){var n=e[0],o=n.editor,i=n.parent,a=i.childs.indexOf(n),l=i.childs[a+e.length]||i.append;e[0]&&e[0].dom.menu.focus();var u={nodes:e,oldSelection:o.drag.oldSelection,newSelection:o.getSelection(),oldBeforeNode:o.drag.oldBeforeNode,newBeforeNode:l};u.oldBeforeNode!=u.newBeforeNode&&o._onAction("moveNodes",u),document.body.style.cursor=o.drag.oldCursor,o.highlighter.unlock(),e.forEach(function(e){t.target!==e.dom.drag&&t.target!==e.dom.menu&&o.highlighter.unhighlight()}),delete o.drag,o.mousemove&&(s.removeEventListener(window,"mousemove",o.mousemove),delete o.mousemove),o.mouseup&&(s.removeEventListener(window,"mouseup",o.mouseup),delete o.mouseup),o.stopAutoScroll(),t.preventDefault()}},r.prototype._isChildOf=function(e){for(var t=this.parent;t;){if(t==e)return!0;t=t.parent}return!1},r.prototype._createDomField=function(){return document.createElement("div")},r.prototype.setHighlight=function(e){this.dom.tr&&(e?s.addClassName(this.dom.tr,"jsoneditor-highlight"):s.removeClassName(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(e),this.childs&&this.childs.forEach(function(t){t.setHighlight(e)}))},r.prototype.setSelected=function(e,t){this.selected=e,this.dom.tr&&(e?s.addClassName(this.dom.tr,"jsoneditor-selected"):s.removeClassName(this.dom.tr,"jsoneditor-selected"),t?s.addClassName(this.dom.tr,"jsoneditor-first"):s.removeClassName(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(e),this.childs&&this.childs.forEach(function(t){t.setSelected(e)}))},r.prototype.updateValue=function(e){this.value=e,this.updateDom()},r.prototype.updateField=function(e){this.field=e,this.updateDom()},r.prototype.updateDom=function(e){var t=this.dom.tree;t&&(t.style.marginLeft=24*this.getLevel()+"px");var n=this.dom.field;if(n){this.fieldEditable?(n.contentEditable=this.editable.field,n.spellcheck=!1,n.className="jsoneditor-field"):n.className="jsoneditor-readonly";var r;r=void 0!=this.index?this.index:void 0!=this.field?this.field:this._hasChilds()?this.type:"",n.innerHTML=this._escapeHTML(r),this._updateSchema()}var o=this.dom.value;if(o){var i=this.childs?this.childs.length:0;"array"==this.type?(o.innerHTML="["+i+"]",s.addClassName(this.dom.tr,"jsoneditor-expandable")):"object"==this.type?(o.innerHTML="{"+i+"}",s.addClassName(this.dom.tr,"jsoneditor-expandable")):(o.innerHTML=this._escapeHTML(this.value),s.removeClassName(this.dom.tr,"jsoneditor-expandable"))}this._updateDomField(),this._updateDomValue(),e&&!0===e.updateIndexes&&this._updateDomIndexes(),e&&!0===e.recurse&&this.childs&&this.childs.forEach(function(t){t.updateDom(e)}),this.append&&this.append.updateDom()},r.prototype._updateSchema=function(){this.editor&&this.editor.options&&(this.schema=r._findSchema(this.editor.options.schema,this.getPath()),this.schema?this.enum=r._findEnum(this.schema):delete this.enum)},r._findEnum=function(e){if(e.enum)return e.enum;var t=e.oneOf||e.anyOf||e.allOf;if(t){var n=t.filter(function(e){return e.enum});if(n.length>0)return n[0].enum}return null},r._findSchema=function(e,t){for(var n=e,r=0;r<t.length&&n;r++){var o=t[r];"string"==typeof o&&n.properties?n=n.properties[o]||null:"number"==typeof o&&n.items&&(n=n.items)}return n},r.prototype._updateDomIndexes=function(){var e=this.dom.value,t=this.childs;e&&t&&("array"==this.type?t.forEach(function(e,t){e.index=t;var n=e.dom.field;n&&(n.innerHTML=t)}):"object"==this.type&&t.forEach(function(e){void 0!=e.index&&(delete e.index,void 0==e.field&&(e.field=""))}))},r.prototype._createDomValue=function(){var e;return"array"==this.type?(e=document.createElement("div"),e.innerHTML="[...]"):"object"==this.type?(e=document.createElement("div"),e.innerHTML="{...}"):!this.editable.value&&s.isUrl(this.value)?(e=document.createElement("a"),e.href=this.value,e.target="_blank",e.innerHTML=this._escapeHTML(this.value)):(e=document.createElement("div"),e.contentEditable=this.editable.value,e.spellcheck=!1,e.innerHTML=this._escapeHTML(this.value)),e},r.prototype._createDomExpandButton=function(){var e=document.createElement("button");return e.type="button",this._hasChilds()?(e.className=this.expanded?"jsoneditor-expanded":"jsoneditor-collapsed",e.title="Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs."):(e.className="jsoneditor-invisible",e.title=""),e},r.prototype._createDomTree=function(){var e=this.dom,t=document.createElement("table"),n=document.createElement("tbody");t.style.borderCollapse="collapse",t.className="jsoneditor-values",t.appendChild(n);var r=document.createElement("tr");n.appendChild(r);var o=document.createElement("td");o.className="jsoneditor-tree",r.appendChild(o),e.expand=this._createDomExpandButton(),o.appendChild(e.expand),e.tdExpand=o;var i=document.createElement("td");i.className="jsoneditor-tree",r.appendChild(i),e.field=this._createDomField(),i.appendChild(e.field),e.tdField=i;var a=document.createElement("td");a.className="jsoneditor-tree",r.appendChild(a),"object"!=this.type&&"array"!=this.type&&(a.appendChild(document.createTextNode(":")),a.className="jsoneditor-separator"),e.tdSeparator=a;var s=document.createElement("td");return s.className="jsoneditor-tree",r.appendChild(s),e.value=this._createDomValue(),s.appendChild(e.value),e.tdValue=s,t},r.prototype.onEvent=function(e){var t=e.type,n=e.target||e.srcElement,r=this.dom,o=this,i=this._hasChilds();if(n!=r.drag&&n!=r.menu||("mouseover"==t?this.editor.highlighter.highlight(this):"mouseout"==t&&this.editor.highlighter.unhighlight()),"click"==t&&n==r.menu){var a=o.editor.highlighter;a.highlight(o),a.lock(),s.addClassName(r.menu,"jsoneditor-selected"),this.showContextMenu(r.menu,function(){s.removeClassName(r.menu,"jsoneditor-selected"),a.unlock(),a.unhighlight()})}if("click"==t&&(n==r.expand||("view"===o.editor.options.mode||"form"===o.editor.options.mode)&&"DIV"===n.nodeName)&&i){var l=e.ctrlKey;this._onExpand(l)}"change"==t&&n==r.checkbox&&(this.dom.value.innerHTML=!this.value,this._getDomValue()),"change"==t&&n==r.select&&(this.dom.value.innerHTML=r.select.value,this._getDomValue(),this._updateDomValue());var u=r.value;if(n==u)switch(t){case"blur":case"change":this._getDomValue(!0),this._updateDomValue(),this.value&&(u.innerHTML=this._escapeHTML(this.value));break;case"input":this._getDomValue(!0),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getSelection();break;case"click":!e.ctrlKey&&this.editable.value||s.isUrl(this.value)&&window.open(this.value,"_blank");break;case"keyup":this._getDomValue(!0),this._updateDomValue();break;case"cut":case"paste":setTimeout(function(){o._getDomValue(!0),o._updateDomValue()},1)}var c=r.field;if(n==c)switch(t){case"blur":case"change":this._getDomField(!0),this._updateDomField(),this.field&&(c.innerHTML=this._escapeHTML(this.field));break;case"input":this._getDomField(!0),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getSelection();break;case"keyup":this._getDomField(!0),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){o._getDomField(!0),o._updateDomField()},1)}n!=r.tree.parentNode||"click"!=t||e.hasMoved||((void 0!=e.offsetX?e.offsetX<24*(this.getLevel()+1):e.pageX<s.getAbsoluteLeft(r.tdSeparator))||i?c&&(s.setEndOfContentEditable(c),c.focus()):u&&!this.enum&&(s.setEndOfContentEditable(u),u.focus()));(n!=r.tdExpand||i)&&n!=r.tdField&&n!=r.tdSeparator||"click"!=t||e.hasMoved||c&&(s.setEndOfContentEditable(c),c.focus()),"keydown"==t&&this.onKeyDown(e)},r.prototype.onKeyDown=function(e){var t,n,o,i,a,u,c,f,d=e.which||e.keyCode,h=e.target||e.srcElement,p=e.ctrlKey,m=e.shiftKey,g=e.altKey,v=!1,b="tree"===this.editor.options.mode,y=this.editor.multiselection.nodes.length>0?this.editor.multiselection.nodes:[this],w=y[0],x=y[y.length-1];if(13==d){if(h==this.dom.value)this.editable.value&&!e.ctrlKey||s.isUrl(this.value)&&(window.open(this.value,"_blank"),v=!0);else if(h==this.dom.expand){var C=this._hasChilds();if(C){var k=e.ctrlKey;this._onExpand(k),h.focus(),v=!0}}}else if(68==d)p&&b&&(r.onDuplicate(y),v=!0);else if(69==d)p&&(this._onExpand(m),h.focus(),v=!0);else if(77==d&&b)p&&(this.showContextMenu(h),v=!0);else if(46==d&&b)p&&(r.onRemove(y),v=!0);else if(45==d&&b)p&&!m?(this._onInsertBefore(),v=!0):p&&m&&(this._onInsertAfter(),v=!0);else if(35==d){if(g){var _=this._lastNode();_&&_.focus(r.focusElement||this._getElementName(h)),v=!0}}else if(36==d){if(g){var E=this._firstNode();E&&E.focus(r.focusElement||this._getElementName(h)),v=!0}}else if(37==d){if(g&&!m){var A=this._previousElement(h);A&&this.focus(this._getElementName(A)),v=!0}else if(g&&m&&b){if(x.expanded){var S=x.getAppend();o=S?S.nextSibling:void 0}else{var O=x.getDom();o=O.nextSibling}o&&(n=r.getNodeFromTarget(o),i=o.nextSibling,N=r.getNodeFromTarget(i),n&&n instanceof l&&1!=x.parent.childs.length&&N&&N.parent&&(a=this.editor.getSelection(),u=x._nextSibling(),y.forEach(function(e){N.parent.moveBefore(e,N)}),this.focus(r.focusElement||this._getElementName(h)),this.editor._onAction("moveNodes",{nodes:y,oldBeforeNode:u,newBeforeNode:N,oldSelection:a,newSelection:this.editor.getSelection()})))}}else if(38==d)g&&!m?(t=this._previousNode(),t&&(this.editor.deselect(!0),t.focus(r.focusElement||this._getElementName(h))),v=!0):!g&&p&&m&&b?(t=this._previousNode(),t&&(f=this.editor.multiselection,f.start=f.start||this,f.end=t,c=this.editor._findTopLevelNodes(f.start,f.end),this.editor.select(c),t.focus("field")),v=!0):g&&m&&b&&(t=w._previousNode(),t&&t.parent&&(a=this.editor.getSelection(),u=x._nextSibling(),y.forEach(function(e){t.parent.moveBefore(e,t)}),this.focus(r.focusElement||this._getElementName(h)),this.editor._onAction("moveNodes",{nodes:y,oldBeforeNode:u,newBeforeNode:t,oldSelection:a,newSelection:this.editor.getSelection()})),v=!0);else if(39==d){if(g&&!m){var T=this._nextElement(h);T&&this.focus(this._getElementName(T)),v=!0}else if(g&&m&&b){O=w.getDom();var D=O.previousSibling;D&&(t=r.getNodeFromTarget(D))&&t.parent&&t instanceof l&&!t.isVisible()&&(a=this.editor.getSelection(),u=x._nextSibling(),y.forEach(function(e){t.parent.moveBefore(e,t)}),this.focus(r.focusElement||this._getElementName(h)),this.editor._onAction("moveNodes",{nodes:y,oldBeforeNode:u,newBeforeNode:t,oldSelection:a,newSelection:this.editor.getSelection()}))}}else if(40==d)if(g&&!m)n=this._nextNode(),n&&(this.editor.deselect(!0),n.focus(r.focusElement||this._getElementName(h))),v=!0;else if(!g&&p&&m&&b)n=this._nextNode(),n&&(f=this.editor.multiselection,f.start=f.start||this,f.end=n,c=this.editor._findTopLevelNodes(f.start,f.end),this.editor.select(c),n.focus("field")),v=!0;else if(g&&m&&b){n=x.expanded?x.append?x.append._nextNode():void 0:x._nextNode();var N=n&&(n._nextNode()||n.parent.append);N&&N.parent&&(a=this.editor.getSelection(),u=x._nextSibling(),y.forEach(function(e){N.parent.moveBefore(e,N)}),this.focus(r.focusElement||this._getElementName(h)),this.editor._onAction("moveNodes",{nodes:y,oldBeforeNode:u,newBeforeNode:N,oldSelection:a,newSelection:this.editor.getSelection()})),v=!0}v&&(e.preventDefault(),e.stopPropagation())},r.prototype._onExpand=function(e){if(e){var t=this.dom.tr.parentNode,n=t.parentNode,r=n.scrollTop;n.removeChild(t)}this.expanded?this.collapse(e):this.expand(e),e&&(n.appendChild(t),n.scrollTop=r)},r.onRemove=function(e){if(!Array.isArray(e))return r.onRemove([e]);if(e&&e.length>0){var t=e[0],n=t.parent,o=t.editor,i=t.getIndex();o.highlighter.unhighlight();var a=o.getSelection();r.blurNodes(e);var s=o.getSelection();e.forEach(function(e){e.parent._remove(e)}),o._onAction("removeNodes",{nodes:e.slice(0),parent:n,index:i,oldSelection:a,newSelection:s})}},r.onDuplicate=function(e){if(!Array.isArray(e))return r.onDuplicate([e]);if(e&&e.length>0){var t=e[e.length-1],n=t.parent,o=t.editor;o.deselect(o.multiselection.nodes);var i=o.getSelection(),a=t,s=e.map(function(e){var t=e.clone();return n.insertAfter(t,a),a=t,t});1===e.length?s[0].focus():o.select(s);var l=o.getSelection();o._onAction("duplicateNodes",{afterNode:t,nodes:s,parent:n,oldSelection:i,newSelection:l})}},r.prototype._onInsertBefore=function(e,t,n){var o=this.editor.getSelection(),i=new r(this.editor,{field:void 0!=e?e:"",value:void 0!=t?t:"",type:n});i.expand(!0),this.parent.insertBefore(i,this),this.editor.highlighter.unhighlight(),i.focus("field");var a=this.editor.getSelection();this.editor._onAction("insertBeforeNodes",{nodes:[i],beforeNode:this,parent:this.parent,oldSelection:o,newSelection:a})},r.prototype._onInsertAfter=function(e,t,n){var o=this.editor.getSelection(),i=new r(this.editor,{field:void 0!=e?e:"",value:void 0!=t?t:"",type:n});i.expand(!0),this.parent.insertAfter(i,this),this.editor.highlighter.unhighlight(),i.focus("field");var a=this.editor.getSelection();this.editor._onAction("insertAfterNodes",{nodes:[i],afterNode:this,parent:this.parent,oldSelection:o,newSelection:a})},r.prototype._onAppend=function(e,t,n){var o=this.editor.getSelection(),i=new r(this.editor,{field:void 0!=e?e:"",value:void 0!=t?t:"",type:n});i.expand(!0),this.parent.appendChild(i),this.editor.highlighter.unhighlight(),i.focus("field");var a=this.editor.getSelection();this.editor._onAction("appendNodes",{nodes:[i],parent:this.parent,oldSelection:o,newSelection:a})},r.prototype._onChangeType=function(e){var t=this.type;if(e!=t){var n=this.editor.getSelection();this.changeType(e);var r=this.editor.getSelection();this.editor._onAction("changeType",{node:this,oldType:t,newType:e,oldSelection:n,newSelection:r})}},r.prototype.sort=function(e){if(this._hasChilds()){var t="desc"==e?-1:1,n="array"==this.type?"value":"field";this.hideChilds();var r=this.childs,i=this.sortOrder;this.childs=this.childs.concat(),this.childs.sort(function(e,r){return t*o(e[n],r[n])}),this.sortOrder=1==t?"asc":"desc",this.editor._onAction("sort",{node:this,oldChilds:r,oldSort:i,newChilds:this.childs,newSort:this.sortOrder}),this.showChilds()}},r.prototype.getAppend=function(){return this.append||(this.append=new l(this.editor),this.append.setParent(this)),this.append.getDom()},r.getNodeFromTarget=function(e){for(;e;){if(e.node)return e.node;e=e.parentNode}},r.blurNodes=function(e){if(!Array.isArray(e))return void r.blurNodes([e]);var t=e[0],n=t.parent,o=t.getIndex();n.childs[o+e.length]?n.childs[o+e.length].focus():n.childs[o-1]?n.childs[o-1].focus():n.focus()},r.prototype._nextSibling=function(){var e=this.parent.childs.indexOf(this);return this.parent.childs[e+1]||this.parent.append},r.prototype._previousNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var n=t;do{n=n.previousSibling,e=r.getNodeFromTarget(n)}while(n&&e instanceof l&&!e.isVisible())}return e},r.prototype._nextNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var n=t;do{n=n.nextSibling,e=r.getNodeFromTarget(n)}while(n&&e instanceof l&&!e.isVisible())}return e},r.prototype._firstNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var n=t.parentNode.firstChild;e=r.getNodeFromTarget(n)}return e},r.prototype._lastNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var n=t.parentNode.lastChild;for(e=r.getNodeFromTarget(n);n&&e instanceof l&&!e.isVisible();)n=n.previousSibling,e=r.getNodeFromTarget(n)}return e},r.prototype._previousElement=function(e){var t=this.dom;switch(e){case t.value:if(this.fieldEditable)return t.field;case t.field:if(this._hasChilds())return t.expand;case t.expand:return t.menu;case t.menu:if(t.drag)return t.drag;default:return null}},r.prototype._nextElement=function(e){var t=this.dom;switch(e){case t.drag:return t.menu;case t.menu:if(this._hasChilds())return t.expand;case t.expand:if(this.fieldEditable)return t.field;case t.field:if(!this._hasChilds())return t.value;default:return null}},r.prototype._getElementName=function(e){var t=this.dom;for(var n in t)if(t.hasOwnProperty(n)&&t[n]==e)return n;return null},r.prototype._hasChilds=function(){return"array"==this.type||"object"==this.type},r.TYPE_TITLES={auto:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',object:'Field type "object". An object contains an unordered set of key/value pairs.',array:'Field type "array". An array contains an ordered collection of values.',string:'Field type "string". Field type is not determined from the value, but always returned as string.'},r.prototype.showContextMenu=function(e,t){var n=this,o=r.TYPE_TITLES,a=[];if(this.editable.value&&a.push({text:"Type",title:"Change the type of this field",className:"jsoneditor-type-"+this.type,submenu:[{text:"Auto",className:"jsoneditor-type-auto"+("auto"==this.type?" jsoneditor-selected":""),title:o.auto,click:function(){n._onChangeType("auto")}},{text:"Array",className:"jsoneditor-type-array"+("array"==this.type?" jsoneditor-selected":""),title:o.array,click:function(){n._onChangeType("array")}},{text:"Object",className:"jsoneditor-type-object"+("object"==this.type?" jsoneditor-selected":""),title:o.object,click:function(){n._onChangeType("object")}},{text:"String",className:"jsoneditor-type-string"+("string"==this.type?" jsoneditor-selected":""),title:o.string,click:function(){n._onChangeType("string")}}]}),this._hasChilds()){var s="asc"==this.sortOrder?"desc":"asc";a.push({text:"Sort",title:"Sort the childs of this "+this.type,className:"jsoneditor-sort-"+s,click:function(){n.sort(s)},submenu:[{text:"Ascending",className:"jsoneditor-sort-asc",title:"Sort the childs of this "+this.type+" in ascending order",click:function(){n.sort("asc")}},{text:"Descending",className:"jsoneditor-sort-desc",title:"Sort the childs of this "+this.type+" in descending order",click:function(){n.sort("desc")}}]})}if(this.parent&&this.parent._hasChilds()){a.length&&a.push({type:"separator"});var l=n.parent.childs;n==l[l.length-1]&&a.push({text:"Append",title:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",submenuTitle:"Select the type of the field to be appended",className:"jsoneditor-append",click:function(){n._onAppend("","","auto")},submenu:[{text:"Auto",className:"jsoneditor-type-auto",title:o.auto,click:function(){n._onAppend("","","auto")}},{text:"Array",className:"jsoneditor-type-array",title:o.array,click:function(){n._onAppend("",[])}},{text:"Object",className:"jsoneditor-type-object",title:o.object,click:function(){n._onAppend("",{})}},{text:"String",className:"jsoneditor-type-string",title:o.string,click:function(){n._onAppend("","","string")}}]}),a.push({text:"Insert",title:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",submenuTitle:"Select the type of the field to be inserted",className:"jsoneditor-insert",click:function(){n._onInsertBefore("","","auto")},submenu:[{text:"Auto",className:"jsoneditor-type-auto",title:o.auto,click:function(){n._onInsertBefore("","","auto")}},{text:"Array",className:"jsoneditor-type-array",title:o.array,click:function(){n._onInsertBefore("",[])}},{text:"Object",className:"jsoneditor-type-object",title:o.object,click:function(){n._onInsertBefore("",{})}},{text:"String",className:"jsoneditor-type-string",title:o.string,click:function(){n._onInsertBefore("","","string")}}]}),this.editable.field&&(a.push({text:"Duplicate",title:"Duplicate this field (Ctrl+D)",className:"jsoneditor-duplicate",click:function(){r.onDuplicate(n)}}),a.push({text:"Remove",title:"Remove this field (Ctrl+Del)",className:"jsoneditor-remove",click:function(){r.onRemove(n)}}))}new i(a,{close:t}).show(e,this.editor.content)},r.prototype._getType=function(e){return e instanceof Array?"array":e instanceof Object?"object":"string"==typeof e&&"string"!=typeof this._stringCast(e)?"string":"auto"},r.prototype._stringCast=function(e){var t=e.toLowerCase(),n=Number(e),r=parseFloat(e);return""==e?"":"null"==t?null:"true"==t||"false"!=t&&(isNaN(n)||isNaN(r)?e:n)},r.prototype._escapeHTML=function(e){if("string"!=typeof e)return String(e);var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),n=JSON.stringify(t),r=n.substring(1,n.length-1);return!0===this.editor.options.escapeUnicode&&(r=s.escapeUnicodeChars(r)),r},r.prototype._unescapeHTML=function(e){var t='"'+this._escapeJSON(e)+'"';return s.parse(t).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")},r.prototype._escapeJSON=function(e){for(var t="",n=0;n<e.length;){var r=e.charAt(n);"\n"==r?t+="\\n":"\\"==r?(t+=r,n++,r=e.charAt(n),""!==r&&-1!='"\\/bfnrtu'.indexOf(r)||(t+="\\"),t+=r):t+='"'==r?'\\"':r,n++}return t};var l=a(r);e.exports=r},function(e,t){e.exports=function e(t,n){"use strict";var r,o,i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=c(t).replace(a,"")||"",d=c(n).replace(a,"")||"",h=f.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=d.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(l),16)||1!==h.length&&f.match(s)&&Date.parse(f),g=parseInt(d.match(l),16)||m&&d.match(s)&&Date.parse(d)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var v=0,b=Math.max(h.length,p.length);v<b;v++){if(r=!(h[v]||"").match(u)&&parseFloat(h[v])||h[v]||0,o=!(p[v]||"").match(u)&&parseFloat(p[v])||p[v]||0,isNaN(r)!==isNaN(o))return isNaN(r)?1:-1;if(typeof r!=typeof o&&(r+="",o+=""),r<o)return-1;if(r>o)return 1}return 0}},function(e,t,n){"use strict";function r(e){function t(e){this.editor=e,this.dom={}}return t.prototype=new e,t.prototype.getDom=function(){var e=this.dom;if(e.tr)return e.tr;this._updateEditability();var t=document.createElement("tr");if(t.node=this,e.tr=t,"tree"===this.editor.options.mode){e.tdDrag=document.createElement("td");var n=document.createElement("td");e.tdMenu=n;var r=document.createElement("button");r.type="button",r.className="jsoneditor-contextmenu",r.title="Click to open the actions menu (Ctrl+M)",e.menu=r,n.appendChild(e.menu)}var o=document.createElement("td"),i=document.createElement("div");return i.innerHTML="(empty)",i.className="jsoneditor-readonly",o.appendChild(i),e.td=o,e.text=i,this.updateDom(),t},t.prototype.updateDom=function(){var e=this.dom,t=e.td;t&&(t.style.paddingLeft=24*this.getLevel()+26+"px");var n=e.text;n&&(n.innerHTML="(empty "+this.parent.type+")");var r=e.tr;this.isVisible()?e.tr.firstChild||(e.tdDrag&&r.appendChild(e.tdDrag),e.tdMenu&&r.appendChild(e.tdMenu),r.appendChild(t)):e.tr.firstChild&&(e.tdDrag&&r.removeChild(e.tdDrag),e.tdMenu&&r.removeChild(e.tdMenu),r.removeChild(t))},t.prototype.isVisible=function(){return 0==this.parent.childs.length},t.prototype.showContextMenu=function(t,n){var r=this,o=e.TYPE_TITLES,a=[{text:"Append",title:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",submenuTitle:"Select the type of the field to be appended",className:"jsoneditor-insert",click:function(){r._onAppend("","","auto")},submenu:[{text:"Auto",className:"jsoneditor-type-auto",title:o.auto,click:function(){r._onAppend("","","auto")}},{text:"Array",className:"jsoneditor-type-array",title:o.array,click:function(){r._onAppend("",[])}},{text:"Object",className:"jsoneditor-type-object",title:o.object,click:function(){r._onAppend("",{})}},{text:"String",className:"jsoneditor-type-string",title:o.string,click:function(){r._onAppend("","","string")}}]}];new i(a,{close:n}).show(t,this.editor.content)},t.prototype.onEvent=function(e){var t=e.type,n=e.target||e.srcElement,r=this.dom;if(n==r.menu&&("mouseover"==t?this.editor.highlighter.highlight(this.parent):"mouseout"==t&&this.editor.highlighter.unhighlight()),"click"==t&&n==r.menu){var i=this.editor.highlighter;i.highlight(this.parent),i.lock(),o.addClassName(r.menu,"jsoneditor-selected"),this.showContextMenu(r.menu,function(){o.removeClassName(r.menu,"jsoneditor-selected"),i.unlock(),i.unhighlight()})}"keydown"==t&&this.onKeyDown(e)},t}var o=n(54),i=n(57);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){for(var i={code:{text:"Code",title:"Switch to code highlighter",click:function(){r("code")}},form:{text:"Form",title:"Switch to form editor",click:function(){r("form")}},text:{text:"Text",title:"Switch to plain text editor",click:function(){r("text")}},tree:{text:"Tree",title:"Switch to tree editor",click:function(){r("tree")}},view:{text:"View",title:"Switch to tree view",click:function(){r("view")}}},a=[],s=0;s<t.length;s++){var l=t[s],u=i[l];if(!u)throw new Error('Unknown mode "'+l+'"');u.className="jsoneditor-type-modes"+(n==l?" jsoneditor-selected":""),a.push(u)}var c=i[n];if(!c)throw new Error('Unknown mode "'+n+'"');var f=c.text,d=document.createElement("button");d.type="button",d.className="jsoneditor-modes jsoneditor-separator",d.innerHTML=f+" &#x25BE;",d.title="Switch editor mode",d.onclick=function(){new o(a).show(d)};var h=document.createElement("div");h.className="jsoneditor-modes",h.style.position="relative",h.appendChild(d),e.appendChild(h),this.dom={container:e,box:d,frame:h}}var o=n(57);r.prototype.focus=function(){this.dom.box.focus()},r.prototype.destroy=function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null},e.exports=r},function(e,t,n){"use strict";var r;try{r=n(63)}catch(e){}var o=n(61),i=n(54),a={};a.create=function(e,t){t=t||{},this.options=t,t.indentation?this.indentation=Number(t.indentation):this.indentation=2;var a=t.ace?t.ace:r;this.mode="code"==t.mode?"code":"text","code"==this.mode&&void 0===a&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=t.theme||"ace/theme/jsoneditor","ace/theme/jsoneditor"===this.theme&&window.ace&&n(70);var s=this;this.container=e,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this._debouncedValidate=i.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(e){e.preventDefault()},this.frame.onkeydown=function(e){s._onKeyDown(e)},this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var l=document.createElement("button");l.type="button",l.className="jsoneditor-format",l.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(l),l.onclick=function(){try{s.format(),s._onChange()}catch(e){s._onError(e)}};var u=document.createElement("button");if(u.type="button",u.className="jsoneditor-compact",u.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(u),u.onclick=function(){try{s.compact(),s._onChange()}catch(e){s._onError(e)}},this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new o(this.menu,this.options.modes,this.options.mode,function(e){s.setMode(e),s.modeSwitcher.focus()})),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"==this.mode){this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom);var c=a.edit(this.editorDom);c.$blockScrolling=1/0,c.setTheme(this.theme),c.setShowPrintMargin(!1),c.setFontSize(13),c.getSession().setMode("ace/mode/json"),c.getSession().setTabSize(this.indentation),c.getSession().setUseSoftTabs(!0),c.getSession().setUseWrapMode(!0),c.commands.bindKey("Ctrl-L",null),c.commands.bindKey("Command-L",null),this.aceEditor=c,this.hasOwnProperty("editor")||Object.defineProperty(this,"editor",{get:function(){return console.warn('Property "editor" has been renamed to "aceEditor".'),s.aceEditor},set:function(e){console.warn('Property "editor" has been renamed to "aceEditor".'),s.aceEditor=e}});var f=document.createElement("a");f.appendChild(document.createTextNode("powered by ace")),f.href="http://ace.ajax.org",f.target="_blank",f.className="jsoneditor-poweredBy",f.onclick=function(){window.open(f.href,f.target)},this.menu.appendChild(f),c.on("change",this._onChange.bind(this))}else{var d=document.createElement("textarea");d.className="jsoneditor-text",d.spellcheck=!1,this.content.appendChild(d),this.textarea=d,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this)}this.setSchema(this.options.schema)},a._onChange=function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}},a._onKeyDown=function(e){var t=e.which||e.keyCode,n=!1;220==t&&e.ctrlKey&&(e.shiftKey?(this.compact(),this._onChange()):(this.format(),this._onChange()),n=!0),n&&(e.preventDefault(),e.stopPropagation())},a.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode==this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null},a.compact=function(){var e=this.get(),t=JSON.stringify(e);this.setText(t)},a.format=function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this.setText(t)},a.focus=function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},a.resize=function(){if(this.aceEditor){this.aceEditor.resize(!1)}},a.set=function(e){this.setText(JSON.stringify(e,null,this.indentation))},a.get=function(){var e,t=this.getText();try{e=i.parse(t)}catch(n){t=i.sanitize(t),e=i.parse(t)}return e},a.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},a.setText=function(e){var t;if(t=!0===this.options.escapeUnicode?i.escapeUnicodeChars(e):e,this.textarea&&(this.textarea.value=t),this.aceEditor){var n=this.options.onChange;this.options.onChange=null,this.aceEditor.setValue(t,-1),this.options.onChange=n}this.validate()},a.validate=function(){this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.content.style.marginBottom="",this.content.style.paddingBottom="");var e,t=!1,n=[];try{e=this.get(),t=!0}catch(e){}if(t&&this.validateSchema){this.validateSchema(e)||(n=this.validateSchema.errors.map(function(e){return i.improveSchemaError(e)}))}if(n.length>0){if(n.length>3){n=n.slice(0,3);var r=this.validateSchema.errors.length-3;n.push("("+r+" more errors...)")}var o=document.createElement("div");o.innerHTML='<table class="jsoneditor-text-errors"><tbody>'+n.map(function(e){return'<tr><td><button class="jsoneditor-schema-error"></button></td>'+("string"==typeof e?'<td colspan="2"><pre>'+e+"</pre></td>":"<td>"+e.dataPath+"</td><td>"+e.message+"</td>")+"</tr>"}).join("")+"</tbody></table>",this.dom.validationErrors=o,this.frame.appendChild(o);var a=o.clientHeight;this.content.style.marginBottom=-a+"px",this.content.style.paddingBottom=a+"px"}if(this.aceEditor){this.aceEditor.resize(!1)}},e.exports=[{mode:"text",mixin:a,data:"text",load:a.format},{mode:"code",mixin:a,data:"text",load:a.format}]},function(e,t,n){var r=n(64);n(67),n(69),e.exports=r},function(e,t,n){!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,r){if("string"!=typeof e)return void(t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()));2==arguments.length&&(r=n),t.modules[e]||(t.payloads[e]=r,t.modules[e]=null)};t.modules={},t.payloads={};var n=function(e,t,n){if("string"==typeof t){var o=i(e,t);if(void 0!=o)return n&&n(),o}else if("[object Array]"===Object.prototype.toString.call(t)){for(var a=[],s=0,l=t.length;s<l;++s){var u=i(e,t[s]);if(void 0==u&&r.original)return;a.push(u)}return n&&n.apply(null,a)||!0}},r=function(e,t){var o=n("",e,t);return void 0==o&&r.original?r.original.apply(this,arguments):o},o=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0)){var r=e.split("/").slice(0,-1).join("/");for(t=r+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},i=function(e,r){r=o(e,r);var i=t.modules[r];if(!i){if("function"==typeof(i=t.payloads[r])){var a={},s={id:r,uri:"",exports:a,packaged:!0};a=i(function(e,t){return n(r,e,t)},a,s)||s.exports,t.modules[r]=a,delete t.payloads[r]}i=t.modules[r]=a||i}return i};!function(n){var o=e;n&&(e[n]||(e[n]={}),o=e[n]),o.define&&o.define.packaged||(t.original=o.define,o.define=t,o.define.packaged=!0),o.acequire&&o.acequire.packaged||(r.original=o.acequire,o.acequire=r,o.acequire.packaged=!0)}("ace")}(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,n){"use strict";function r(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function o(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}var i={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},a=void 0===i.exec.call(/()??/,"")[1],s=function(){var e=/^/g;return i.test.call(e,""),!e.lastIndex}();s&&a||(RegExp.prototype.exec=function(e){var t,n,l=i.exec.apply(this,arguments);if("string"==typeof e&&l){if(!a&&l.length>1&&o(l,"")>-1&&(n=RegExp(this.source,i.replace.call(r(this),"g","")),i.replace.call(e.slice(l.index),n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var u=1;u<l.length;u++)(t=this._xregexp.captureNames[u-1])&&(l[t]=l[u]);!s&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},s||(RegExp.prototype.test=function(e){var t=i.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function r(){}function o(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function i(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=p.call(arguments,1),o=function(){if(this instanceof o){var r=t.apply(this,n.concat(p.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(p.call(arguments)))};return t.prototype&&(r.prototype=t.prototype,o.prototype=new r,r.prototype=null),o});var a,s,l,u,c,f=Function.prototype.call,d=Array.prototype,h=Object.prototype,p=d.slice,m=f.bind(h.toString),g=f.bind(h.hasOwnProperty);if((c=g(h,"__defineGetter__"))&&(a=f.bind(h.__defineGetter__),s=f.bind(h.__defineSetter__),l=f.bind(h.__lookupGetter__),u=f.bind(h.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];if(n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),n.length,t+1==n.length)return!0}()){var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(p.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var r=this.slice(e,e+t),o=p.call(arguments,2),i=o.length;if(e===n)i&&this.push.apply(this,o);else{var a=Math.min(t,n-e),s=e+a,l=s+i-a,u=n-s,c=n-a;if(l<s)for(var f=0;f<u;++f)this[l+f]=this[s+f];else if(l>s)for(f=u;f--;)this[l+f]=this[s+f];if(i&&e===c)this.length=c,this.push.apply(this,o);else for(this.length=c+i,f=0;f<i;++f)this[e+f]=o[f]}return r};Array.isArray||(Array.isArray=function(e){return"[object Array]"==m(e)});var b=Object("a"),y="a"!=b[0]||!(0 in b);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=N(this),n=y&&"[object String]"==m(this)?this.split(""):t,r=arguments[1],o=-1,i=n.length>>>0;if("[object Function]"!=m(e))throw new TypeError;for(;++o<i;)o in n&&e.call(r,n[o],o,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=N(this),n=y&&"[object String]"==m(this)?this.split(""):t,r=n.length>>>0,o=Array(r),i=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in n&&(o[a]=e.call(i,n[a],a,t));return o}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=N(this),r=y&&"[object String]"==m(this)?this.split(""):n,o=r.length>>>0,i=[],a=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var s=0;s<o;s++)s in r&&(t=r[s],e.call(a,t,s,n)&&i.push(t));return i}),Array.prototype.every||(Array.prototype.every=function(e){var t=N(this),n=y&&"[object String]"==m(this)?this.split(""):t,r=n.length>>>0,o=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var i=0;i<r;i++)if(i in n&&!e.call(o,n[i],i,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=N(this),n=y&&"[object String]"==m(this)?this.split(""):t,r=n.length>>>0,o=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var i=0;i<r;i++)if(i in n&&e.call(o,n[i],i,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=N(this),n=y&&"[object String]"==m(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,i=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(i in n){o=n[i++];break}if(++i>=r)throw new TypeError("reduce of empty array with no initial value")}for(;i<r;i++)i in n&&(o=e.call(void 0,o,n[i],i,t));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=N(this),n=y&&"[object String]"==m(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,i=r-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(i in n){o=n[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}do{i in this&&(o=e.call(void 0,o,n[i],i,t))}while(i--);return o}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=y&&"[object String]"==m(this)?this.split(""):N(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=i(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=y&&"[object String]"==m(this)?this.split(""):N(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:h)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(g(e,t)){var n,r,o;if(n={enumerable:!0,configurable:!0},c){var i=e.__proto__;e.__proto__=h;var r=l(e,t),o=u(e,t);if(e.__proto__=i,r||o)return r&&(n.get=r),o&&(n.set=o),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var w;w=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=w();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var x=o({}),C="undefined"==typeof document||o(document.createElement("div"));if(!x||!C)var k=Object.defineProperty}if(!Object.defineProperty||k){Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if(k)try{return k.call(Object,e,t,n)}catch(e){}if(g(n,"value"))if(c&&(l(e,t)||u(e,t))){var r=e.__proto__;e.__proto__=h,delete e[t],e[t]=n.value,e.__proto__=r}else e[t]=n.value;else{if(!c)throw new TypeError("getters & setters can not be defined on this javascript engine");g(n,"get")&&a(e,t,n.get),g(n,"set")&&s(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)g(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";g(e,t);)t+="?";e[t]=!0;var n=g(e,t);return delete e[t],n}),!Object.keys){var _=!0,E=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],A=E.length;for(var S in{toString:null})_=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var n in e)g(e,n)&&t.push(n);if(_)for(var r=0,o=A;r<o;r++){var i=E[r];g(e,i)&&t.push(i)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var O="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||O.trim()){O="["+O+"]";var T=new RegExp("^"+O+O+"*"),D=new RegExp(O+O+"*$");String.prototype.trim=function(){return String(this).replace(T,"").replace(D,"")}}var N=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t,n){"use strict";if(t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.hasCssClass=function(e,t){return-1!==(e.className||"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var o=n.indexOf(t);if(-1==o)break;r=!1,n.splice(o,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;r<n.length;)if(n[r++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;r<n.length;)if(n[r++].id===e)return!0;return!1},t.importCssString=function(e,n,r){if(r=r||document,n&&t.hasCssString(n,r))return null;var o;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */"),r.createStyleSheet?(o=r.createStyleSheet(),o.cssText=e,n&&(o.owningElement.id=n)):(o=t.createElement("style"),o.appendChild(r.createTextNode(e)),n&&(o.id=n),t.getDocumentHead(r).appendChild(o))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var r=t.createElement("link");r.rel="stylesheet",r.href=e,t.getDocumentHead(n).appendChild(r)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),o=r.style;o.position="absolute",o.left="-10000px",o.overflow="hidden",o.width="200px",o.minWidth="0px",o.height="150px",o.display="block",r.appendChild(n);var i=e.documentElement;i.appendChild(r);var a=n.offsetWidth;o.overflow="scroll";var s=n.offsetWidth;return a==s&&(s=r.clientWidth),i.removeChild(r),a-s},"undefined"==typeof document)return void(t.importCssString=function(){});void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,n){"use strict";e("./fixoldbrowsers");var r=e("./oop"),o=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter(function(e){return t&n.KEY_MODS[e]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,o),t.keyCodeToString=function(e){var t=o[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,n){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),o=navigator.userAgent;t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((o.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isIPad=o.indexOf("iPad")>=0,t.isTouchPad=o.indexOf("TouchPad")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function r(e,t,n){var r=u(t);if(!a.isMac&&s){if(s.OSKey&&(r|=8),s.altGr){if(3==(3&r))return;s.altGr=0}if(18===n||17===n){var o="location"in t?t.location:t.keyLocation;if(17===n&&1===o)1==s[n]&&(l=t.timeStamp);else if(18===n&&3===r&&2===o){var c=t.timeStamp-l;c<50&&(s.altGr=!0)}}}if(n in i.MODIFIER_KEYS&&(n=-1),8&r&&n>=91&&n<=93&&(n=-1),!r&&13===n){var o="location"in t?t.location:t.keyLocation;if(3===o&&(e(t,r,-n),t.defaultPrevented))return}if(a.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS)&&e(t,r,n)}function o(){s=Object.create(null),s.count=0,s.lastT=0}var i=e("./keys"),a=e("./useragent"),s=null,l=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n.call(e,window.event)};n._wrapper=r,e.attachEvent("on"+t,r)}},t.removeListener=function(e,t,n){if(e.removeEventListener)return e.removeEventListener(t,n,!1);e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||a.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,r){function o(e){n&&n(e),r&&r(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",o,!0),t.removeListener(document,"dragstart",o,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",o,!0),t.addListener(document,"dragstart",o,!0),o},t.addTouchMoveListener=function(e,n){if("ontouchmove"in e){var r,o;t.addListener(e,"touchstart",function(e){var t=e.changedTouches[0];r=t.clientX,o=t.clientY}),t.addListener(e,"touchmove",function(e){var t=e.changedTouches[0];e.wheelX=-(t.clientX-r)/1,e.wheelY=-(t.clientY-o)/1,r=t.clientX,o=t.clientY,n(e)})}},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,r,o){function i(e){if(0!==t.getButton(e)?f=0:e.detail>1?++f>4&&(f=1):f=1,a.isIE){var i=Math.abs(e.clientX-l)>5||Math.abs(e.clientY-u)>5;c&&!i||(f=1),c&&clearTimeout(c),c=setTimeout(function(){c=null},n[f-1]||600),1==f&&(l=e.clientX,u=e.clientY)}if(e._clicks=f,r[o]("mousedown",e),f>4)f=0;else if(f>1)return r[o](d[f],e)}function s(e){f=2,c&&clearTimeout(c),c=setTimeout(function(){c=null},n[f-1]||600),r[o]("mousedown",e),r[o](d[f],e)}var l,u,c,f=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",i),a.isOldIE&&t.addListener(e,"dblclick",s)})};var u=!a.isMac||!a.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(t.getModifierString=function(e){return i.KEY_MODS[u(e)]},t.addCommandKeyListener=function(e,n){var i=t.addListener;if(a.isOldGecko||a.isOpera&&!("KeyboardEvent"in window)){var l=null;i(e,"keydown",function(e){l=e.keyCode}),i(e,"keypress",function(e){return r(n,e,l)})}else{var u=null;i(e,"keydown",function(e){var t=e.keyCode;s[t]=(s[t]||0)+1,91==t||92==t?s.OSKey=!0:s.OSKey&&e.timeStamp-s.lastT>200&&1==s.count&&o(),1==s[t]&&s.count++,s.lastT=e.timeStamp;var i=r(n,e,t);return u=e.defaultPrevented,i}),i(e,"keypress",function(e){u&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),u=null)}),i(e,"keyup",function(e){var t=e.keyCode;s[t]?s.count=Math.max(s.count-1,0):o(),91!=t&&92!=t||(s.OSKey=!1),s[t]=null}),s||(o(),i(window,"focus",o))}},"object"==typeof window&&window.postMessage&&!a.isOldIE){t.nextTick=function(e,n){n=n||window;t.addListener(n,"message",function r(o){"zero-timeout-message-1"==o.data&&(t.stopPropagation(o),t.removeListener(n,"message",r),e())}),n.postMessage("zero-timeout-message-1","*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,o=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(o,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}var o=t.constructor;if(o===RegExp)return t;n=o();for(var r in t)n[r]=e(t[r]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},o=function(e){null==n&&(n=setTimeout(r,e||t))};return o.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},o.schedule=o,o.call=function(){this.cancel(),e()},o.cancel=function(){n&&clearTimeout(n),n=null},o.isPending=function(){return n},o}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/event"),o=e("../lib/useragent"),i=e("../lib/dom"),a=e("../lib/lang"),s=o.isChrome<18,l=o.isIE,u=function(e,t){function n(e){if(!m){if(m=!0,S)t=0,n=e?0:f.value.length-1;else var t=e?2:1,n=2;try{f.setSelectionRange(t,n)}catch(e){}m=!1}}function u(){m||(f.value=d,o.isWebKit&&w.schedule())}function c(){clearTimeout(I),I=setTimeout(function(){g&&(f.style.cssText=g,g=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},o.isOldIE?200:0)}var f=i.createElement("textarea");f.className="ace_text-input",o.isTouchPad&&f.setAttribute("x-palm-disable-auto-cap",!0),f.setAttribute("wrap","off"),f.setAttribute("autocorrect","off"),f.setAttribute("autocapitalize","off"),f.setAttribute("spellcheck",!1),f.style.opacity="0",o.isOldIE&&(f.style.top="-1000px"),e.insertBefore(f,e.firstChild);var d="",h=!1,p=!1,m=!1,g="",v=!0;try{var b=document.activeElement===f}catch(e){}r.addListener(f,"blur",function(e){t.onBlur(e),b=!1}),r.addListener(f,"focus",function(e){b=!0,t.onFocus(e),n()}),this.focus=function(){if(g)return f.focus();var e=f.style.top;f.style.position="fixed",f.style.top="0px",f.focus(),setTimeout(function(){f.style.position="","0px"==f.style.top&&(f.style.top=e)},0)},this.blur=function(){f.blur()},this.isFocused=function(){return b};var y=a.delayedCall(function(){b&&n(v)}),w=a.delayedCall(function(){m||(f.value=d,b&&n())});o.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,y.schedule())}),u(),b&&t.onFocus();var x=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!f.setSelectionRange&&f.createTextRange&&(f.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},x=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&t.text==e.value}),o.isOldIE){var C=!1,k=function(e){if(!C){var t=f.value;if(!m&&t&&t!=d){if(e&&t==d[0])return _.schedule();T(t),C=!0,u(),C=!1}}},_=a.delayedCall(k);r.addListener(f,"propertychange",k);var E={13:1,27:1};r.addListener(f,"keyup",function(e){if(!m||f.value&&!E[e.keyCode]||setTimeout(M,0),(f.value.charCodeAt(0)||0)<129)return _.call();m?q():R()}),r.addListener(f,"keydown",function(e){_.schedule(50)})}var A=function(e){h?h=!1:x(f)?(t.selectAll(),n()):S&&n(t.selection.isEmpty())},S=null;this.setInputHandler=function(e){S=e},this.getInputHandler=function(){return S};var O=!1,T=function(e){S&&(e=S(e),S=null),p?(n(),e&&t.onPaste(e),p=!1):e==d.charAt(0)?O?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==d?e=e.substr(2):e.charAt(0)==d.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),O&&(O=!1)},D=function(e){if(!m){var t=f.value;T(t),u()}},N=function(e,t){var n=e.clipboardData||window.clipboardData;if(n&&!s){var r=l?"Text":"text/plain";return t?!1!==n.setData(r,t):n.getData(r)}},F=function(e,o){var i=t.getCopyText();if(!i)return r.preventDefault(e);N(e,i)?(o?t.onCut():t.onCopy(),r.preventDefault(e)):(h=!0,f.value=i,f.select(),setTimeout(function(){h=!1,u(),n(),o?t.onCut():t.onCopy()}))},L=function(e){F(e,!0)},P=function(e){F(e,!1)},B=function(e){var i=N(e);"string"==typeof i?(i&&t.onPaste(i,e),o.isIE&&setTimeout(n),r.preventDefault(e)):(f.value="",p=!0)};r.addCommandKeyListener(f,t.onCommandKey.bind(t)),r.addListener(f,"select",A),r.addListener(f,"input",D),r.addListener(f,"cut",L),r.addListener(f,"copy",P),r.addListener(f,"paste",B),"oncut"in f&&"oncopy"in f&&"onpaste"in f||r.addListener(e,"keydown",function(e){if((!o.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:P(e);break;case 86:B(e);break;case 88:L(e)}});var R=function(e){m||!t.onCompositionStart||t.$readOnly||(m={},t.onCompositionStart(),setTimeout(q,0),t.on("mousedown",M),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},q=function(){if(m&&t.onCompositionUpdate&&!t.$readOnly){var e=f.value.replace(/\x01/g,"");if(m.lastValue!==e&&(t.onCompositionUpdate(e),m.lastValue&&t.undo(),m.lastValue=e,m.lastValue)){var n=t.selection.getRange();t.insert(m.lastValue),t.session.markUndoGroup(),m.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},M=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=m;m=!1;var r=setTimeout(function(){r=null;var e=f.value.replace(/\x01/g,"");m||(e==n.lastValue?u():!n.lastValue&&e&&(u(),T(e)))});S=function(e){return r&&clearTimeout(r),(e=e.replace(/\x01/g,""))==n.lastValue?"":(n.lastValue&&r&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",M),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range)}},j=a.delayedCall(q,50);r.addListener(f,"compositionstart",R),o.isGecko?r.addListener(f,"text",function(){j.schedule()}):(r.addListener(f,"keyup",function(){j.schedule()}),r.addListener(f,"keydown",function(){j.schedule()})),r.addListener(f,"compositionend",M),this.getElement=function(){return f},this.setReadOnly=function(e){f.readOnly=e},this.onContextMenu=function(e){O=!0,n(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,n){if(n||!o.isOldIE){g||(g=f.style.cssText),f.style.cssText=(n?"z-index:100000;":"")+"height:"+f.style.height+";"+(o.isIE?"opacity:0.1;":"");var a=t.container.getBoundingClientRect(),s=i.computedStyle(t.container),l=a.top+(parseInt(s.borderTopWidth)||0),u=a.left+(parseInt(a.borderLeftWidth)||0),d=a.bottom-l-f.clientHeight-2,h=function(e){f.style.left=e.clientX-u-2+"px",f.style.top=Math.min(e.clientY-l-2,d)+"px"};h(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(I),o.isWin&&!o.isOldIE&&r.capture(t.container,h,c))}},this.onContextMenuClose=c;var I,$=function(e){t.textInput.onContextMenu(e),c()};r.addListener(f,"mouseup",$),r.addListener(f,"mousedown",function(e){e.preventDefault(),c()}),r.addListener(t.renderer.scroller,"contextmenu",$),r.addListener(f,"contextmenu",$)};t.TextInput=u}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function i(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}e("../lib/dom"),e("../lib/event"),e("../lib/useragent");(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,o=e.getButton();if(0!==o){var i=r.getSelectionRange(),a=i.isEmpty();return r.$blockScrolling++,(a||1==o)&&r.selection.moveToPosition(n),r.$blockScrolling--,void(2==o&&r.textInput.onContextMenu(e.domEvent))}return this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var o=i(this.$clickSelection,n);n=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[e](r.row,r.column);if(n.$blockScrolling++,this.$clickSelection){var a=this.$clickSelection.comparePoint(o.start),s=this.$clickSelection.comparePoint(o.end);if(-1==a&&s<=0)t=this.$clickSelection.end,o.end.row==r.row&&o.end.column==r.column||(r=o.start);else if(1==s&&a>=0)t=this.$clickSelection.start,o.start.row==r.row&&o.start.column==r.column||(r=o.end);else if(-1==a&&1==s)r=o.end,t=o.start;else{var l=i(this.$clickSelection,r);r=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>0||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,o=r.getBracketRange(t);o?(o.isEmpty()&&(o.start.column--,o.end.column++),this.setState("select")):(o=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=o,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor;return r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed)||n<200?(this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor;if(r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed)||n<200)return this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(r.prototype),t.DefaultHandlers=r}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,n){"use strict";function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var o=(e("./lib/oop"),e("./lib/dom"));(function(){this.$init=function(){return this.$element=o.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){o.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){o.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(r.prototype),t.Tooltip=r}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,n){"use strict";function r(e){function t(){var t=f.getDocumentPosition().row,o=l.$annotations[t];if(!o)return n();if(t==a.session.getLength()){var i=a.renderer.pixelToScreenCoordinates(0,f.y).row,s=f.$pos;if(i>a.session.documentToScreenRow(s.row,s.column))return n()}if(d!=o)if(d=o.text.join("<br/>"),u.setHtml(d),u.show(),a.on("mousewheel",n),e.$tooltipFollowsMouse)r(f);else{var c=f.domEvent.target,h=c.getBoundingClientRect(),p=u.getElement().style;p.left=h.right+"px",p.top=h.bottom+"px"}}function n(){c&&(c=clearTimeout(c)),d&&(u.hide(),d=null,a.removeEventListener("mousewheel",n))}function r(e){u.setPosition(e.x,e.y)}var a=e.editor,l=a.renderer.$gutterLayer,u=new o(a.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(a.isFocused()&&0==t.getButton()){if("foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,r=a.session.selection;if(t.getShiftKey())r.selectTo(n,0);else{if(2==t.domEvent.detail)return a.selectAll(),t.preventDefault();e.$clickSelection=a.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var c,f,d;e.editor.setDefaultHandler("guttermousemove",function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(i.hasCssClass(a,"ace_fold-widget"))return n();d&&e.$tooltipFollowsMouse&&r(o),f=o,c||(c=setTimeout(function(){c=null,f&&!e.isMousePressed?t():n()},50))}),s.addListener(a.renderer.$gutter,"mouseout",function(e){f=null,d&&!c&&(c=setTimeout(function(){c=null,n()},50))}),a.on("changeSession",n)}function o(e){l.call(this,e)}var i=e("../lib/dom"),a=e("../lib/oop"),s=e("../lib/event"),l=e("../tooltip").Tooltip;a.inherits(o,l),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,o=this.getWidth(),i=this.getHeight();e+=15,t+=15,e+o>n&&(e-=e+o-n),t+i>r&&(t-=20+i),l.prototype.setPosition.call(this,e,t)}}.call(o.prototype),t.GutterHandler=r}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var r=e("../lib/event"),o=e("../lib/useragent"),i=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=o.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(i.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function r(e){function t(e,t){var n=Date.now(),r=!t||e.row!=t.row,i=!t||e.column!=t.column;if(!S||r||i)g.$blockScrolling+=1,g.moveCursorToPosition(e),g.$blockScrolling-=1,S=n,O={x:y,y:w};else{o(O.x,O.y,y,w)>c?S=null:n-S>=u&&(g.renderer.scrollCursorIntoView(),S=null)}}function n(e,t){var n=Date.now(),r=g.renderer.layerConfig.lineHeight,o=g.renderer.layerConfig.characterWidth,i=g.renderer.scroller.getBoundingClientRect(),a={x:{left:y-i.left,right:i.right-y},y:{top:w-i.top,bottom:i.bottom-w}},s=Math.min(a.x.left,a.x.right),u=Math.min(a.y.top,a.y.bottom),c={row:e.row,column:e.column};s/o<=2&&(c.column+=a.x.left<a.x.right?-3:2),u/r<=1&&(c.row+=a.y.top<a.y.bottom?-1:1);var f=e.row!=c.row,d=e.column!=c.column,h=!t||e.row!=t.row;f||d&&!h?A?n-A>=l&&g.renderer.scrollCursorIntoView(c):A=n:A=null}function r(){var e=k;k=g.renderer.screenToTextCoordinates(y,w),t(k,e),n(k,e)}function f(){C=g.selection.toOrientedRange(),b=g.session.addMarker(C,"ace_selection",g.getSelectionStyle()),g.clearSelection(),g.isFocused()&&g.renderer.$cursorLayer.setBlinking(!1),clearInterval(x),r(),x=setInterval(r,20),D=0,a.addListener(document,"mousemove",h)}function d(){clearInterval(x),g.session.removeMarker(b),b=null,g.$blockScrolling+=1,g.selection.fromOrientedRange(C),g.$blockScrolling-=1,g.isFocused()&&!E&&g.renderer.$cursorLayer.setBlinking(!g.getReadOnly()),C=null,k=null,D=0,A=null,S=null,a.removeListener(document,"mousemove",h)}function h(){null==N&&(N=setTimeout(function(){null!=N&&b&&d()},20))}function p(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function m(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],r=s.isMac?e.altKey:e.ctrlKey,o="uninitialized";try{o=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var i="none";return r&&t.indexOf(o)>=0?i="copy":n.indexOf(o)>=0?i="move":t.indexOf(o)>=0&&(i="copy"),i}var g=e.editor,v=i.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(t){e[t]=this[t]},this),g.addEventListener("mousedown",this.onMouseDown.bind(e));var b,y,w,x,C,k,_,E,A,S,O,T=g.container,D=0;this.onDragStart=function(e){if(this.cancelDrag||!T.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}C=g.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=g.getReadOnly()?"copy":"copyMove",s.isOpera&&(g.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),s.isOpera&&g.container.removeChild(v),n.clearData(),n.setData("Text",g.session.getTextRange()),E=!0,this.setState("drag")},this.onDragEnd=function(e){if(T.draggable=!1,E=!1,this.setState(null),!g.getReadOnly()){var t=e.dataTransfer.dropEffect;_||"move"!=t||g.session.remove(g.getSelectionRange()),g.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!g.getReadOnly()&&p(e.dataTransfer))return y=e.clientX,w=e.clientY,b||f(),D++,e.dataTransfer.dropEffect=_=m(e),a.preventDefault(e)},this.onDragOver=function(e){if(!g.getReadOnly()&&p(e.dataTransfer))return y=e.clientX,w=e.clientY,b||(f(),D++),null!==N&&(N=null),e.dataTransfer.dropEffect=_=m(e),a.preventDefault(e)},this.onDragLeave=function(e){if(--D<=0&&b)return d(),_=null,a.preventDefault(e)},this.onDrop=function(e){if(k){var t=e.dataTransfer;if(E)switch(_){case"move":C=C.contains(k.row,k.column)?{start:k,end:k}:g.moveText(C,k);break;case"copy":C=g.moveText(C,k,!0)}else{var n=t.getData("Text");C={start:k,end:g.session.insert(k,n)},g.focus(),_=null}return d(),a.preventDefault(e)}},a.addListener(T,"dragstart",this.onDragStart.bind(e)),a.addListener(T,"dragend",this.onDragEnd.bind(e)),a.addListener(T,"dragenter",this.onDragEnter.bind(e)),a.addListener(T,"dragover",this.onDragOver.bind(e)),a.addListener(T,"dragleave",this.onDragLeave.bind(e)),a.addListener(T,"drop",this.onDrop.bind(e));var N=null}function o(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var i=e("../lib/dom"),a=e("../lib/event"),s=e("../lib/useragent"),l=200,u=200,c=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=s.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(s.isIE&&"dragReady"==this.state){var n=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if("dragWait"===this.state){var n=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton();if(1===(e.domEvent.detail||1)&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),t.getDragDelay()){if(s.isWebKit){this.cancelDrag=!0;t.container.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(r.prototype),t.DragdropHandler=r}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),o=document.createElement("script");o.src=e,n.appendChild(o),o.onload=o.onreadystatechange=function(e,n){!n&&o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(o=o.onload=o.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){"use strict";var r={},o=function(){this.propagationStopped=!0},i=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=o),t.preventDefault||(t.preventDefault=i),n=n.slice();for(var a=0;a<n.length&&(n[a](t,this),!t.propagationStopped);a++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;t&&this.addEventListener(e,function r(){n.removeEventListener(e,r),t.apply(null,arguments)})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],o=n._disabled_[e];o||(n._disabled_[e]=o=[]),o.push(r);var i=o.indexOf(t);-1!=i&&o.splice(i,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t){n[e];r&&this.setDefaultHandler(e,r.pop())}else if(r){var o=r.indexOf(t);-1!=o&&r.splice(o,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"no use strict";function r(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function o(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var i=e("./oop"),a=e("./event_emitter").EventEmitter,s={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return r('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:r('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){i.implement(this,a),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)}),i.implement(e,s),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=r,this.reportError=o}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,r){"no use strict";function o(o){if(u&&u.document){c.packaged=o||e.packaged||r.packaged||u.define&&n(65).packaged;for(var a={},s="",l=document.currentScript||document._currentScript,f=l&&l.ownerDocument||document,d=f.getElementsByTagName("script"),h=0;h<d.length;h++){var p=d[h],m=p.src||p.getAttribute("src");if(m){for(var g=p.attributes,v=0,b=g.length;v<b;v++){var y=g[v];0===y.name.indexOf("data-ace-")&&(a[i(y.name.replace(/^data-ace-/,""))]=y.value)}var w=m.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(s=w[1])}}s&&(a.base=a.base||s,a.packaged=!0),a.basePath=a.base,a.workerPath=a.workerPath||a.base,a.modePath=a.modePath||a.base,a.themePath=a.themePath||a.base,delete a.base;for(var x in a)void 0!==a[x]&&t.set(x,a[x])}}function i(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var a=e("./lib/lang"),s=(e("./lib/oop"),e("./lib/net")),l=e("./lib/app_config").AppConfig;r.exports=t=new l;var u=function(){return this||"undefined"!=typeof window&&window}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);c[e]=t},t.all=function(){return a.copyObject(c)},t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var r="snippets"==t?"/":"-",o=n[n.length-1];if("worker"==t&&"-"==r){var i=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");o=o.replace(i,"")}(!o||o==t)&&n.length>1&&(o=n[n.length-2]);var a=c[t+"Path"];return null==a?a=c.basePath:"/"==r&&(t=r=""),a&&"/"!=a.slice(-1)&&(a+="/"),a+t+r+o+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var o,i;Array.isArray(n)&&(i=n[0],n=n[1]);try{o=e(n)}catch(e){}if(o&&!t.$loading[n])return r&&r(o);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var a=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};if(!t.get("packaged"))return a();s.loadScript(t.moduleUrl(n,i),a)}},o(!0),t.init=o}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,n){"use strict";var r=e("../lib/event"),o=e("../lib/useragent"),i=e("./default_handlers").DefaultHandlers,a=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,u=e("../config"),c=function(e){var t=this;this.editor=e,new i(this),new a(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},s=e.renderer.getMouseEventTarget();r.addListener(s,"click",this.onMouseEvent.bind(this,"click")),r.addListener(s,"mousemove",this.onMouseMove.bind(this,"mousemove")),r.addMultiMouseDownListener([s,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),r.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var u=e.renderer.$gutter;r.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),r.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick")),r.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),r.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),r.addListener(s,"mousedown",n),r.addListener(u,"mousedown",n),o.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n),r.addListener(e.renderer.scrollBarH.element,"mousedown",n)),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),o=e.session.selection.getRange(),i=e.renderer;!o.isEmpty()&&o.insideStart(r.row,r.column)?i.setCursorStyle("default"):i.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new s(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var i=this,a=function(e){if(e){if(o.isWebKit&&!e.which&&i.releaseMouse)return i.releaseMouse();i.x=e.clientX,i.y=e.clientY,t&&t(e),i.mouseEvent=new s(e,i.editor),i.$mouseMoved=!0}},l=function(e){clearInterval(c),u(),i[i.state+"End"]&&i[i.state+"End"](e),i.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),i.isMousePressed=!1,i.$onCaptureMouseMove=i.releaseMouse=null,e&&i.onMouseEvent("mouseup",e)},u=function(){i[i.state]&&i[i.state](),i.$mouseMoved=!1};if(o.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});i.$onCaptureMouseMove=a,i.releaseMouse=r.capture(this.editor.container,a,l);var c=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(c.prototype),u.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:o.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=c}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,n){"use strict";function r(e){e.on("click",function(t){var n=t.getDocumentPosition(),r=e.session,o=r.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?r.removeFold(o):r.expandFold(o),t.stop())}),e.on("gutterclick",function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session,o=r.getParentFoldRangeData(n,!0),i=o.range||o.firstRange;if(i){n=i.start.row;var a=r.getFoldAt(n,r.getLine(n).length,1);a?r.removeFold(a):(r.addFold("...",i),e.renderer.scrollCursorIntoView({row:i.start.row,column:0}))}t.stop()}})}t.FoldHandler=r}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){"use strict";var r=e("../lib/keys"),o=e("../lib/event"),i=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var i,a=!1,s=this.$editor.commands,l=this.$handlers.length;l--&&!((i=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r))&&i.command&&(a="null"==i.command||s.exec(i.command,this.$editor,i.args,r),a&&r&&-1!=e&&1!=i.passEvent&&1!=i.command.passEvent&&o.stopEvent(r),a)););return a||-1!=e||(i={command:"insertstring"},a=s.exec("insertstring",this.$editor,t)),a&&this.$editor._signal("keyboardActivity",i),a},this.onCommandKey=function(e,t,n){var o=r.keyCodeToString(n);this.$callKeyboardHandlers(t,o,n,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(i.prototype),t.KeyBinding=i}),ace.define("ace/range",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t){return e.row-t.row||e.column-t.column},o=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(r.row,r.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(r.row,r.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return o.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var i={row:e,column:t};return o.fromPoints(r||this.start,i||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return o.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new o(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new o(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new o(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(o.prototype),o.fromPoints=function(e,t){return new o(e.row,e.column,t.row,t.column)},o.comparePoints=r,o.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/lang"),i=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){r.implement(this,i),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+e);var t=this.getSelectionAnchor(),n=this.getSelectionLead(),r=this.isBackwards();r&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(r||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?a.fromPoints(t,t):this.isBackwards()?a.fromPoints(t,e):a.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,o=this.session.getFoldLine(r);return o?(r=o.start.row,n=o.end.row):n=r,!0===t?new a(r,0,n,this.session.getLine(n).length):new a(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),o=this.session.getDisplayLine(e,null,r.row,r.column),i=o.match(/^\s*/);i[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=i[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(e,t,1);return o?void this.moveCursorTo(o.end.row,o.end.column):(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t)),t>=n.length?(this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,t)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return void this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var i=o.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(n-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(i)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)},this.$shortWordEndIndex=function(e){var t,n=0,r=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&r.test(t);)n++;if(n<1)for(o.lastIndex=0;(t=e[n])&&!o.test(t);)if(o.lastIndex=0,n++,r.test(t)){if(n>2){n--;break}for(;(t=e[n])&&r.test(t);)n++;if(n>2)break}}return o.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),o=this.session.getFoldAt(e,t,1);if(o)return this.moveCursorTo(o.end.row,o.end.column);if(t==n.length){var i=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<i&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var a=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+a)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do{t--,r=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var i=o.stringReverse(r),a=this.$shortWordEndIndex(i);return this.moveCursorTo(t,n-a)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var r=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(r.row>0||e>0)&&r.row++,this.moveCursorTo(r.row,r.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return a.fromPoints(t,n)}catch(e){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=a.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(s.prototype),t.Selection=s}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,n){"use strict";var r=e("./config"),o=2e3,i=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],r=[],o=0,i=this.matchMappings[t]={defaultToken:"text"},a="g",s=[],l=0;l<n.length;l++){var u=n[l];if(u.defaultToken&&(i.defaultToken=u.defaultToken),u.caseInsensitive&&(a="gi"),null!=u.regex){u.regex instanceof RegExp&&(u.regex=u.regex.toString().slice(1,-1));var c=u.regex,f=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(u.token)?1==u.token.length||1==f?u.token=u.token[0]:f-1!=u.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:u,groupCount:f-1}),u.token=u.token[0]):(u.tokenArray=u.token,u.token=null,u.onMatch=this.$arrayTokens):"function"!=typeof u.token||u.onMatch||(u.onMatch=f>1?this.$applyToken:u.token),f>1&&(/\\\d/.test(u.regex)?c=u.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+o+1)}):(f=1,c=this.removeCapturingGroups(u.regex)),u.splitRegex||"string"==typeof u.token||s.push(u)),i[o]=l,o+=f,r.push(c),u.onMatch||(u.onMatch=null)}}r.length||(i[0]=0,r.push("$")),s.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,a)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",a)}};(function(){this.$setMaxTokenCount=function(e){o=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],o=0,i=n.length;o<i;o++)t[o]&&(r[r.length]={type:n[o],value:t[o]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,o=0,i=r.length;o<i;o++)t[o+1]&&(n[n.length]={type:r[o],value:t[o+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e})},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,o={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,i,a,s,l){return r?r="]"!=s:s?r=!0:a?(n==o.stack&&(o.end=l+1,o.stack=-1),n--):i&&(n++,1!=i.length&&(o.stack=n,o.start=l)),e}),null!=o.end&&/^\)*$/.test(e.substr(o.end))&&(e=e.substring(0,o.start)+e.substr(o.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else var n=[];var r=t||"start",i=this.states[r];i||(r="start",i=this.states[r]);var a=this.matchMappings[r],s=this.regExps[r];s.lastIndex=0;for(var l,u=[],c=0,f=0,d={type:null,value:""};l=s.exec(e);){var h=a.defaultToken,p=null,m=l[0],g=s.lastIndex;if(g-m.length>c){var v=e.substring(c,g-m.length);d.type==h?d.value+=v:(d.type&&u.push(d),d={type:h,value:v})}for(var b=0;b<l.length-2;b++)if(void 0!==l[b+1]){p=i[a[b]],h=p.onMatch?p.onMatch(m,r,n):p.token,p.next&&(r="string"==typeof p.next?p.next:p.next(r,n),i=this.states[r],i||(this.reportError("state doesn't exist",r),r="start",i=this.states[r]),a=this.matchMappings[r],c=g,s=this.regExps[r],s.lastIndex=g);break}if(m)if("string"==typeof h)p&&!1===p.merge||d.type!==h?(d.type&&u.push(d),d={type:h,value:m}):d.value+=m;else if(h){d.type&&u.push(d),d={type:null,value:""};for(var b=0;b<h.length;b++)u.push(h[b])}if(c==e.length)break;if(c=g,f++>o){for(f>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});c<e.length;)d.type&&u.push(d),d={value:e.substring(c,c+=2e3),type:"overflow"};r="start",n=[];break}}return d.type&&u.push(d),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:u,state:n.length?n:r}},this.reportError=r.reportError}).call(i.prototype),t.Tokenizer=i}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/lang"),o=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],o=0;o<r.length;o++){var i=r[o];(i.next||i.onMatch)&&("string"==typeof i.next&&0!==i.next.indexOf(t)&&(i.next=t+i.next),i.nextState&&0!==i.nextState.indexOf(t)&&(i.nextState=t+i.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,o,i){var a="function"==typeof e?(new e).getRules():e;if(o)for(var s=0;s<o.length;s++)o[s]=t+o[s];else{o=[];for(var l in a)o.push(t+l)}if(this.addRules(a,t),n)for(var u=Array.prototype[i?"push":"unshift"],s=0;s<o.length;s++)u.apply(this.$rules[o[s]],r.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(i){var a=o[i];a.processed=!0;for(var s=0;s<a.length;s++){var l=a[s];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var c=l.stateName;c||(c=l.token,"string"!=typeof c&&(c=c[0]||""),o[c]&&(c+=r++)),o[c]=u,l.next=c,n(c)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var f in l.rules)o[f]?o[f].push&&o[f].push.apply(o[f],l.rules[f]):o[f]=l.rules[f];if(l.include||"string"==typeof l)var d=l.include||l,h=o[d];else Array.isArray(l)&&(h=l);if(h){var p=[s,1].concat(h);l.noEscape&&(p=p.filter(function(e){return!e.next})),a.splice.apply(a,p),s--,h=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var r=0,o=this.$rules;Object.keys(o).forEach(n,this)},this.createKeywordMapper=function(e,t,n,r){var o=Object.create(null);return Object.keys(e).forEach(function(t){var i=e[t];n&&(i=i.toLowerCase());for(var a=i.split(r||"|"),s=a.length;s--;)o[a[s]]=t}),Object.getPrototypeOf(o)&&(o.__proto__=null),this.$keywordList=Object.keys(o),e=null,n?function(e){return o[e.toLowerCase()]||t}:function(e){return o[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(o.prototype),t.TextHighlightRules=o}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r}),ace.define("ace/unicode",["require","exports","module"],function(e,t,n){"use strict";t.packages={},function(e){var n=/\w{4}/g;for(var r in e)t.packages[r]=e[r].replace(n,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(r.prototype),t.TokenIterator=r}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var r=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,i=e("./behaviour").Behaviour,a=e("../unicode"),s=e("../lib/lang"),l=e("../token_iterator").TokenIterator,u=e("../range").Range,c=function(){this.HighlightRules=o,this.$behaviour=new i};(function(){this.tokenRe=new RegExp("^["+a.packages.L+a.packages.Mn+a.packages.Mc+a.packages.Nd+a.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.packages.L+a.packages.Mn+a.packages.Mc+a.packages.Nd+a.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function o(e){for(var t=n;t<=r;t++)e(i.getLine(t),t)}var i=t.doc,a=!0,l=!0,u=1/0,c=t.getTabSize(),f=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(s.escapeRegExp).join("|"),h=this.lineCommentStart[0];else var d=s.escapeRegExp(this.lineCommentStart),h=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),f=t.getUseSoftTabs();var p=function(e,t){var n=e.match(d);if(n){var r=n[1].length,o=n[0].length;b(e,r,o)||" "!=n[0][o-1]||o--,i.removeInLine(t,r,o)}},m=h+" ",g=function(e,t){a&&!/\S/.test(e)||(b(e,u,u)?i.insertInLine({row:t,column:u},m):i.insertInLine({row:t,column:u},h))},v=function(e,t){return d.test(e)},b=function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%c!=0)return!1;for(var r=0;" "==e.charAt(n++);)r++;return c>2?r%c!=c-1:r%c==0}}else{if(!this.blockComment)return!1;var h=this.blockComment.start,y=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+s.escapeRegExp(h)+")"),w=new RegExp("(?:"+s.escapeRegExp(y)+")\\s*$"),g=function(e,t){v(e,t)||a&&!/\S/.test(e)||(i.insertInLine({row:t,column:e.length},y),i.insertInLine({row:t,column:u},h))},p=function(e,t){var n;(n=e.match(w))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(d))&&i.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(d.test(e))return!0;for(var r=t.getTokens(n),o=0;o<r.length;o++)if("comment"===r[o].type)return!0}}var x=1/0;o(function(e,t){var n=e.search(/\S/);-1!==n?(n<u&&(u=n),l&&!v(e,t)&&(l=!1)):x>e.length&&(x=e.length)}),u==1/0&&(u=x,a=!1,l=!1),f&&u%c!=0&&(u=Math.floor(u/c)*c),o(l?p:g)},this.toggleBlockComment=function(e,t,n,r){var o=this.blockComment;if(o){!o.start&&o[0]&&(o=o[0]);var i,a,s=new l(t,r.row,r.column),c=s.getCurrentToken(),f=(t.selection,t.selection.toOrientedRange());if(c&&/comment/.test(c.type)){for(var d,h;c&&/comment/.test(c.type);){var p=c.value.indexOf(o.start);if(-1!=p){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+p;d=new u(m,g,m,g+o.start.length);break}c=s.stepBackward()}for(var s=new l(t,r.row,r.column),c=s.getCurrentToken();c&&/comment/.test(c.type);){var p=c.value.indexOf(o.end);if(-1!=p){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+p;h=new u(m,g,m,g+o.end.length);break}c=s.stepForward()}h&&t.remove(h),d&&(t.remove(d),i=d.start.row,a=-o.start.length)}else a=o.start.length,i=n.start.row,t.insert(n.end,o.end),t.insert(n.start,o.start);f.start.row==i&&(f.start.column+=a),f.end.row==i&&(f.end.column+=a),t.selection.fromOrientedRange(f)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<n.length;t++)!function(e){var r=n[t],o=e[r];e[n[t]]=function(){return this.$delegator(r,arguments,o)}}(this)},this.$delegator=function(e,t,n){var r=t[0];"string"!=typeof r&&(r=r[0]);for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var i=r.split(this.$embeds[o]);if(!i[0]&&i[1]){t[0]=i[1];var a=this.$modes[this.$embeds[o]];return a[e].apply(a,t)}}var s=n.apply(this,t);return n?s:void 0},this.transformAction=function(e,t,n,r,o){if(this.$behaviour){var i=this.$behaviour.getBehaviours();for(var a in i)if(i[a][t]){var s=i[a][t].apply(this,arguments);if(s)return s}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var o=t[r],i=0,a=o.length;i<a;i++)if("string"==typeof o[i].token)/keyword|support|storage/.test(o[i].token)&&n.push(o[i].regex);else if("object"==typeof o[i].token)for(var s=0,l=o[i].token.length;s<l;s++)if(/keyword|support|storage/.test(o[i].token[s])){var r=o[i].regex.match(/\(.+?\)/g)[s];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){return(this.$keywordList||this.$createKeywordList()).map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(c.prototype),t.Mode=c}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var r=t.start.row,o=t.start.column,i=e[r]||"";switch(t.action){case"insert":if(1===t.lines.length)e[r]=i.substring(0,o)+t.lines[0]+i.substring(o);else{var a=[r,1].concat(t.lines);e.splice.apply(e,a),e[r]=i.substring(0,o)+e[r],e[r+t.lines.length-1]+=i.substring(o)}break;case"remove":var s=t.end.column,l=t.end.row;r===l?e[r]=i.substring(0,o)+i.substring(s):e.splice(r,l-r+1,i.substring(0,o)+e[l].substring(s))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,i=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,n,r){var o="insert"==t.action,i=(o?1:-1)*(t.end.row-t.start.row),a=(o?1:-1)*(t.end.column-t.start.column),s=t.start,l=o?s:t.end;return e(n,s,r)?{row:n.row,column:n.column}:e(l,n,!r)?{row:n.row+i,column:n.column+(n.row==l.row?a:0)}:{row:s.row,column:s.column}}r.implement(this,o),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var o={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:o,value:r})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(i.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./apply_delta").applyDelta,i=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,s=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,i),this.setValue=function(e){var t=this.getLength()-1;this.remove(new a(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),o=this.clippedPos(e,n);return this.applyDelta({start:r,end:o,action:"remove",lines:this.getLinesForRange({start:r,end:o})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,o=n?e-1:e,i=n?this.getLine(o).length:0,s=r?t+1:t,l=r?0:this.getLine(s).length,u=new a(o,i,s,l),c=this.$lines.slice(e,t+1);return this.applyDelta({start:u.start,end:u.end,action:"remove",lines:this.getLinesForRange(u)}),c},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){if(e instanceof a||(e=a.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);return t?this.insert(e.start,t):e.start},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!a.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),o(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length,o=e.start.row,i=e.start.column,a=0,s=0;;){a=s,s+=t-1;var l=n.slice(a,s);if(s>r){e.lines=l,e.start.row=o+a,e.start.column=i;break}l.push(""),this.applyDelta({start:this.pos(o+a,i),end:this.pos(o+s,i=0),action:e.action,lines:l},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,o=t||0,i=n.length;o<i;o++)if((e-=n[o].length+r)<0)return{row:o,column:e+n[o].length+r};return{row:i-1,column:n[i-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,o=0,i=Math.min(e.row,n.length),a=t||0;a<i;++a)o+=n[a].length+r;return o+e.column}}).call(l.prototype),t.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,i=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,o=n.doc,i=t;n.lines[t];)t++;var a=o.getLength(),s=0;for(n.running=!1;t<a;){n.$tokenizeRow(t),r=t;do{t++}while(n.lines[t]);if(++s%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,i<=r&&n.fireUpdateEvent(i,r)}}};(function(){r.implement(this,o),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(i.prototype),t.BackgroundTokenizer=i}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var r=e("./lib/lang"),o=(e("./lib/oop"),e("./range").Range),i=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,i){if(this.regExp)for(var a=i.firstRow,s=i.lastRow,l=a;l<=s;l++){var u=this.cache[l];null==u&&(u=r.getMatchOffsets(n.getLine(l),this.regExp),u.length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map(function(e){return new o(l,e.offset,l,e.offset+e.length)}),this.cache[l]=u.length?u:"");for(var c=u.length;c--;)t.drawSingleLineMarker(e,u[c].toScreenRange(n),this.clazz,i)}}}).call(i.prototype),t.SearchHighlight=i}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){"use strict";function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new o(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var o=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,o,i,a=0,s=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var u=0;u<s.length;u++){if(r=s[u],-1==(o=r.range.compareStart(t,n)))return void e(null,t,n,a,l);if(i=e(null,r.start.row,r.start.column,a,l),(i=!i&&e(r.placeholder,r.start.row,r.start.column,a))||0===o)return;l=!r.sameRow,a=r.end.column}e(null,t,n,a,l)},this.getNextFoldTo=function(e,t){for(var n,r,o=0;o<this.folds.length;o++){if(n=this.folds[o],-1==(r=n.range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,o,i=this.getNextFoldTo(e,t);if(i)if(r=i.fold,"inside"==i.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){o=this.folds;var a=o.indexOf(r);for(0===a&&(this.start.column+=n),a;a<o.length;a++){if(r=o[a],r.start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var o=n.fold,i=this.folds,a=this.foldData,s=i.indexOf(o),l=i[s-1];this.end.row=l.end.row,this.end.column=l.end.column,i=i.splice(s,i.length-s);var u=new r(a,i);return a.splice(a.indexOf(this)+1,0,u),u},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if((e-=r.start.column-t)<0)return{row:r.start.row,column:r.start.column+e};if((e-=r.placeholder.length)<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("./range").Range,o=r.comparePoints,i=function(){this.ranges=[]};(function(){this.comparePoints=o,this.pointIndex=function(e,t,n){for(var r=this.ranges,i=n||0;i<r.length;i++){var a=r[i],s=o(e,a.end);if(!(s>0)){var l=o(e,a.start);return 0===s?t&&0!==l?-i-2:i:l>0||0===l&&!t?i:-i-1}}return-i-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return o(e.start,t.start)});for(var n,r=t[0],i=1;i<t.length;i++){n=r,r=t[i];var a=o(n.end,r.start);a<0||(0!=a||n.isEmpty()||r.isEmpty())&&(o(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(i,1),e.push(r),r=n,i--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var o=this.pointIndex({row:t,column:0},r);o<0&&(o=-o-1);for(var i=[],a=r;a<o;a++)i.push(n[a]);return i},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,n=e.end;else var n=e.start,t=e.end;for(var r=t.row,o=n.row,i=o-r,a=-t.column+n.column,s=this.ranges,l=0,u=s.length;l<u;l++){var c=s[l];if(!(c.end.row<r)){if(c.start.row>r)break;if(c.start.row==r&&c.start.column>=t.column&&(c.start.column==t.column&&this.$insertRight||(c.start.column+=a,c.start.row+=i)),c.end.row==r&&c.end.column>=t.column){if(c.end.column==t.column&&this.$insertRight)continue;c.end.column==t.column&&a>0&&l<u-1&&c.end.column>c.start.column&&c.end.column==s[l+1].start.column&&(c.end.column-=a),c.end.column+=a,c.end.row+=i}}}if(0!=i&&l<u)for(;l<u;l++){var c=s[l];c.start.row+=i,c.end.row+=i}}}).call(i.prototype),t.RangeList=i}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,n){"use strict";function r(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function o(e,t){r(e.start,t),r(e.end,t)}function i(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function a(e,t){i(e.start,t),i(e.end,t)}var s=(e("../range").Range,e("../range_list").RangeList),l=e("../lib/oop"),u=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};l.inherits(u,s),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new u(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);o(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,i=-1;r<this.subFolds.length&&1==(i=this.subFolds[r].range.compare(t,n));r++);var a=this.subFolds[r];if(0==i)return a.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,s=r,i=-1;s<this.subFolds.length&&1==(i=this.subFolds[s].range.compare(t,n));s++);this.subFolds[s];if(0==i)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(r,s-r,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return a(e,this.start)}}.call(u.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){"use strict";function r(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var o=r.folds,i=0;i<o.length;i++){var a=o[i];if(a.range.contains(e,t)){if(1==n&&a.range.isEnd(e,t))continue;if(-1==n&&a.range.isStart(e,t))continue;return a}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,o=[];t.column+=1,n.column-=1;for(var i=0;i<r.length;i++){var a=r[i].range.compareRange(e);if(2!=a){if(-2==a)break;for(var s=r[i].folds,l=0;l<s.length;l++){var u=s[l];if(-2==(a=u.range.compareRange(e)))break;if(2!=a){if(42==a)break;o.push(u)}}}}return t.column-=1,n.column+=1,o},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(!(r=r||this.getFoldLine(e)))return null;for(var o,i,a={end:{column:0}},s=0;s<r.folds.length;s++){i=r.folds[s];var l=i.range.compareEnd(e,t);if(-1==l){o=this.getLine(i.start.row).substring(a.end.column,i.start.column);break}if(0===l)return null;a=i}return o||(o=this.getLine(i.start.row).substring(a.end.column)),-1==n?o.substring(0,t-a.end.column):1==n?o.substring(t-a.end.column):o},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0),r;r<n.length;r++){var o=n[r];if(o.start.row<=e&&o.end.row>=e)return o;if(o.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0),r;r<n.length;r++){var o=n[r];if(o.end.row>=e)return o}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,o=0;o<n.length;o++){var i=n[o],a=i.end.row,s=i.start.row;if(a>=t){s<t&&(s>=e?r-=t-s:r=0);break}a>=e&&(r-=s>=e?a-s:a-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,r=this.$foldData,o=!1;e instanceof a?n=e:(n=new a(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var s=n.start.row,l=n.start.column,u=n.end.row,c=n.end.column;if(!(s<u||s==u&&l<=c-2))throw new Error("The range has to be at least 2 characters width");var f=this.getFoldAt(s,l,1),d=this.getFoldAt(u,c,-1);if(f&&d==f)return f.addSubFold(n);f&&!f.range.isStart(s,l)&&this.removeFold(f),d&&!d.range.isEnd(u,c)&&this.removeFold(d);var h=this.getFoldsInRange(n.range);h.length>0&&(this.removeFolds(h),h.forEach(function(e){n.addSubFold(e)}));for(var p=0;p<r.length;p++){var m=r[p];if(u==m.start.row){m.addFold(n),o=!0;break}if(s==m.end.row){if(m.addFold(n),o=!0,!n.sameRow){var g=r[p+1];if(g&&g.start.row==u){m.merge(g);break}}break}if(u<=m.start.row)break}return o||(m=this.$addFoldLine(new i(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,o=this.$foldData,i=t.folds;if(1==i.length)o.splice(o.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))i.pop(),t.end.row=i[i.length-1].end.row,t.end.column=i[i.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))i.shift(),t.start.row=i[0].start.row,t.start.column=i[0].start.column;else if(e.sameRow)i.splice(i.indexOf(e),1);else{var a=t.split(e.start.row,e.start.column);i=a.folds,i.shift(),a.start.row=i[0].start.row,a.start.column=i[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new o(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new o(e,0,e,this.getLine(e).length):"row"in e?o.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),t)this.removeFolds(r);else for(var i=r;i.length;)this.expandFolds(i),i=this.getFoldsInRangeList(n);if(r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,o){null==r&&(r=e.start.row),null==o&&(o=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var i=this.doc,a="";return e.walk(function(e,t,n,s){if(!(t<r)){if(t==r){if(n<o)return;s=Math.max(o,s)}a+=null!=e?e:i.getLine(t).substring(s,n)}},t,n),a},this.getDisplayLine=function(e,t,n,r){var o=this.getFoldLine(e);if(o)return this.getFoldDisplayLine(o,e,t,n,r);var i;return i=this.doc.getLine(e),i.substring(r||0,t||i.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new i(e,n)})},this.toggleFold=function(e){var t,n,r=this.selection,o=r.getRange();if(o.isEmpty()){var i=o.start;if(t=this.getFoldAt(i.row,i.column))return void this.expandFold(t);(n=this.findMatchingBracket(i))?1==o.comparePoint(n)?o.end=n:(o.start=n,o.start.column++,o.end.column--):(n=this.findMatchingBracket({row:i.row,column:i.column+1}))?(1==o.comparePoint(n)?o.end=n:o.start=n,o.start.column++):o=this.getCommentFoldRange(i.row,i.column)||o}else{var a=this.getFoldsInRange(o);if(e&&a.length)return void this.expandFolds(a);1==a.length&&(t=a[0])}if(t||(t=this.getFoldAt(o.start.row,o.start.column)),t&&t.range.toString()==o.toString())return void this.expandFold(t);var s="...";if(!o.isMultiLine()){if(s=this.getTextRange(o),s.length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,o)},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),i=r.getCurrentToken();if(i&&/^comment|string/.test(i.type)){var a=new o,l=new RegExp(i.type.replace(/\..*/,"\\."));if(1!=n){do{i=r.stepBackward()}while(i&&l.test(i.type));r.stepForward()}if(a.start.row=r.getCurrentTokenRow(),a.start.column=r.getCurrentTokenColumn()+2,r=new s(this,e,t),-1!=n){do{i=r.stepForward()}while(i&&l.test(i.type));i=r.stepBackward()}else i=r.getCurrentToken();return a.end.row=r.getCurrentTokenRow(),a.end.column=r.getCurrentTokenColumn()+i.value.length-2,a}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength(),e=e||0;for(var o=e;o<t;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]){var i=this.getFoldWidgetRange(o);if(i&&i.isMultiLine()&&i.end.row<=t&&i.start.row>=e){o=i.end.row;try{var a=this.addFold("...",i);a&&(a.collapseChildren=n)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!e||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,o=e-1;o>=0;){var i=n[o];if(null==i&&(i=n[o]=this.getFoldWidget(o)),"start"==i){var a=this.getFoldWidgetRange(o);if(r||(r=a),a&&a.end.row>=e)break}o--}return{range:-1!==o&&a,firstRange:r}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),o="end"===n?-1:1,i=this.getFoldAt(e,-1===o?0:r.length,o);if(i)return void(t.children||t.all?this.removeFold(i):this.expandFold(i));var a=this.getFoldWidgetRange(e,!0);if(a&&!a.isMultiLine()&&(i=this.getFoldAt(a.start.row,a.start.column,1))&&a.isEqual(i.range))return void this.removeFold(i);if(t.siblings){var s=this.getParentFoldRangeData(e);if(s.range)var l=s.range.start.row+1,u=s.range.end.row;this.foldAll(l,u,t.all?1e4:0)}else t.children?(u=a?a.end.row:this.getLength(),this.foldAll(e+1,u,t.all?1e4:0)):a&&(t.all&&(a.collapseChildren=1e4),this.addFold("...",a));return a}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var o=this.getFoldAt(t,this.getLine(t).length,1);o?this.removeFold(o):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var o=e("../range").Range,i=e("./fold_line").FoldLine,a=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=r}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){"use strict";function r(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,o=n.charAt(e.column-1),a=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(a||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},a=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!a)return null;if(a[1]){var s=this.$findClosingBracket(a[1],e);if(!s)return null;t=i.fromPoints(e,s),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var s=this.$findOpeningBracket(a[2],e);if(!s)return null;t=i.fromPoints(s,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],i=1,a=new o(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-a.getCurrentTokenColumn()-2,u=s.value;;){for(;l>=0;){var c=u.charAt(l);if(c==r){if(0==(i-=1))return{row:a.getCurrentTokenRow(),column:l+a.getCurrentTokenColumn()}}else c==e&&(i+=1);l-=1}do{s=a.stepBackward()}while(s&&!n.test(s.type));if(null==s)break;u=s.value,l=u.length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],i=1,a=new o(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-a.getCurrentTokenColumn();;){for(var u=s.value,c=u.length;l<c;){var f=u.charAt(l);if(f==r){if(0==(i-=1))return{row:a.getCurrentTokenRow(),column:l+a.getCurrentTokenColumn()}}else f==e&&(i+=1);l+=1}do{s=a.stepForward()}while(s&&!n.test(s.type));if(null==s)break;l=0}return null}}}var o=e("../token_iterator").TokenIterator,i=e("../range").Range;t.BracketMatch=r}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/lang"),i=e("./config"),a=e("./lib/event_emitter").EventEmitter,s=e("./selection").Selection,l=e("./mode/text").Mode,u=e("./range").Range,c=e("./document").Document,f=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,h=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new c(e)),this.setDocument(e),this.selection=new s(this),i.resetOptions(this),this.setMode(t),i._signal("session",this)};(function(){function e(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}r.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>1,i=e[o];if(t>i)n=o+1;else{if(!(t<i))return o;r=o-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||e.ignore||(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),o=0;if(null==t)i=r.length-1,o=this.getLine(e).length;else for(var i=0;i<r.length&&!((o+=r[i].value.length)>=t);i++);return(n=r[i])?(n.index=i,n.start=o-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=o.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?o.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var o=this.$markerId++,i={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:o};return r?(this.$frontMarkers[o]=i,this._signal("changeFrontMarker")):(this.$backMarkers[o]=i,this._signal("changeBackMarker")),o},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var o=new u(e,0,t,1/0);return o.id=this.addMarker(o,n,"fullLine",r),o},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var o=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var o=/\s/;else var o=this.nonTokenRe;var i=t;if(i>0){do{i--}while(i>=0&&n.charAt(i).match(o));i++}for(var a=t;a<n.length&&n.charAt(a).match(o);)a++;return new u(e,i,e,a)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[r]&&!n)return this.$onChangeMode(this.$modes[r]),void(t&&t());this.$modeId=r,i.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var r=this.onReloadTokenizer.bind(this);n.addEventListener("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new f(n);var o=this;this.bgTokenizer.addEventListener("update",function(e){o._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){i.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,o=0,i=this.$foldData[o],a=i?i.start.row:1/0,s=t.length,l=0;l<s;l++){if(l>a){if((l=i.end.row+1)>=s)break;i=this.$foldData[o++],a=i?i.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=e.length-1;-1!=r;r--){var o=e[r];"doc"==o.group?(this.doc.revertDeltas(o.deltas),n=this.$getUndoSelection(o.deltas,!0,n)):o.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=0;r<e.length;r++){var o=e[r];"doc"==o.group&&(this.doc.applyDeltas(o.deltas),n=this.$getUndoSelection(o.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function r(e){return t?"insert"!==e.action:"insert"===e.action}var o,i,a=e[0];r(a)?o=u.fromPoints(a.start,a.end):o=u.fromPoints(a.start,a.start);for(var s=1;s<e.length;s++)a=e[s],r(a)?(i=a.start,-1==o.compare(i.row,i.column)&&o.setStart(i),i=a.end,1==o.compare(i.row,i.column)&&o.setEnd(i),!0):(i=a.start,-1==o.compare(i.row,i.column)&&(o=u.fromPoints(a.start,a.start)),!1);if(null!=n){0===u.comparePoints(n.start,o.start)&&(n.start.column+=o.end.column-o.start.column,n.end.column+=o.end.column-o.start.column);var l=n.compareRange(o);1==l?o.setStart(n.start):-1==l&&o.setEnd(n.end)}return o},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),o=this.getFoldsInRange(e),i=u.fromPoints(t,t);if(!n){this.remove(e);var a=e.start.row-e.end.row,s=a?-e.end.column:e.start.column-e.end.column;s&&(i.start.row==e.end.row&&i.start.column>e.end.column&&(i.start.column+=s),i.end.row==e.end.row&&i.end.column>e.end.column&&(i.end.column+=s)),a&&i.start.row>=e.end.row&&(i.start.row+=a,i.end.row+=a)}if(i.end=this.insert(i.start,r),o.length){var l=e.start,c=i.start,a=c.row-l.row,s=c.column-l.column;this.addFolds(o.map(function(e){return e=e.clone(),e.start.row==l.row&&(e.start.column+=s),e.end.row==l.row&&(e.end.column+=s),e.start.row+=a,e.end.row+=a,e}))}return i},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),r=this.getTabSize(),o=t.start.row;o<=t.end.row;++o){var i=this.getLine(o);n.start.row=o,n.end.row=o;for(var a=0;a<r&&" "==i.charAt(a);++a);a<r&&"\t"==i.charAt(a)?(n.start.column=a,n.end.column=a+1):(n.start.column=0,n.end.column=a),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){var r=this.getRowFoldStart(e+n);if(r<0)return 0;var o=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var o=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var o=t-e+1}var i=new u(e,0,t,Number.MAX_VALUE),a=this.getFoldsInRange(i).map(function(e){return e=e.clone(),e.start.row+=o,e.end.row+=o,e}),s=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+o,s),a.length&&this.addFolds(a),o},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,o=e.end,i=r.row,a=o.row,s=a-i,l=null;if(this.$updating=!0,0!=s)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(i,s);var u=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var c=this.getFoldLine(o.row),f=0;if(c){c.addRemoveChars(o.row,o.column,r.column-o.column),c.shiftRow(-s);var d=this.getFoldLine(i);d&&d!==c&&(d.merge(c),c=d),f=u.indexOf(c)+1}for(f;f<u.length;f++){var c=u[f];c.start.row>=o.row&&c.shiftRow(-s)}a=i}else{var h=Array(s);h.unshift(i,0);var p=t?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,h);var u=this.$foldData,c=this.getFoldLine(i),f=0;if(c){var m=c.range.compareInside(r.row,r.column);0==m?(c=c.split(r.row,r.column))&&(c.shiftRow(s),c.addRemoveChars(a,0,o.column-r.column)):-1==m&&(c.addRemoveChars(i,0,o.column-r.column),c.shiftRow(s)),f=u.indexOf(c)+1}for(f;f<u.length;f++){var c=u[f];c.start.row>=i&&c.shiftRow(s)}}else{s=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),s=-s);var c=this.getFoldLine(i);c&&c.addRemoveChars(i,r.column,s)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(i,a):this.$updateRowLengthCache(i,a),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,r){var o,i,a=this.doc.getAllLines(),s=this.getTabSize(),l=this.$wrapData,u=this.$wrapLimit,c=e;for(r=Math.min(r,a.length-1);c<=r;)i=this.getFoldLine(c,i),i?(o=[],i.walk(function(e,r,i,s){var l;if(null!=e){l=this.$getDisplayTokens(e,o.length),l[0]=t;for(var u=1;u<l.length;u++)l[u]=n}else l=this.$getDisplayTokens(a[r].substring(s,i),o.length);o=o.concat(l)}.bind(this),i.end.row,a[i.end.row].length+1),l[i.start.row]=this.$computeWrapSplits(o,u,s),c=i.end.row+1):(o=this.$getDisplayTokens(a[c]),l[c]=this.$computeWrapSplits(o,u,s),c++)};var t=3,n=4,s=10,c=11,h=12;this.$computeWrapSplits=function(e,r,o){function i(){var t=0;if(0===g)return t;if(m)for(var n=0;n<e.length;n++){var r=e[n];if(r==s)t+=1;else{if(r!=c){if(r==h)continue;break}t+=o}}return p&&!1!==m&&(t+=o),Math.min(t,g)}function a(t){var n=e.slice(f,t),r=n.length;n.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),l.length||(v=i(),l.indent=v),d+=r,l.push(d),f=t}if(0==e.length)return[];for(var l=[],u=e.length,f=0,d=0,p=this.$wrapAsCode,m=this.$indentedSoftWrap,g=r<=Math.max(2*o,8)||!1===m?0:Math.floor(r/2),v=0;u-f>r-v;){var b=f+r-v;if(e[b-1]>=s&&e[b]>=s)a(b);else if(e[b]!=t&&e[b]!=n){for(var y=Math.max(b-(r-(r>>2)),f-1);b>y&&e[b]<t;)b--;if(p){for(;b>y&&e[b]<t;)b--;for(;b>y&&9==e[b];)b--}else for(;b>y&&e[b]<s;)b--;b>y?a(++b):(b=f+r,2==e[b]&&b--,a(b-v))}else{for(b;b!=f-1&&e[b]!=t;b--);if(b>f){a(b);continue}for(b=f+r;b<e.length&&e[b]==n;b++);if(b==e.length)break;a(b)}}return l},this.$getDisplayTokens=function(t,n){var r,o=[];n=n||0;for(var i=0;i<t.length;i++){var a=t.charCodeAt(i);if(9==a){r=this.getScreenTabSize(o.length+n),o.push(c);for(var l=1;l<r;l++)o.push(h)}else 32==a?o.push(s):a>39&&a<48||a>57&&a<64?o.push(9):a>=4352&&e(a)?o.push(1,2):o.push(1)}return o},this.$getStringScreenWidth=function(t,n,r){if(0==n)return[0,0];null==n&&(n=1/0),r=r||0;var o,i;for(i=0;i<t.length&&(o=t.charCodeAt(i),9==o?r+=this.getScreenTabSize(r):o>=4352&&e(o)?r+=2:r+=1,!(r>n));i++);return[r,i]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var n,r,o=0,i=0,a=0,s=0,l=this.$screenRowCache,u=this.$getRowCacheIndex(l,e),c=l.length;if(c&&u>=0)var a=l[u],o=this.$docRowCache[u],f=e>l[c-1];else var f=!c;for(var d=this.getLength()-1,h=this.getNextFoldLine(o),p=h?h.start.row:1/0;a<=e&&(s=this.getRowLength(o),!(a+s>e||o>=d));)a+=s,++o>p&&(o=h.end.row+1,h=this.getNextFoldLine(o,h),p=h?h.start.row:1/0),f&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(h&&h.start.row<=o)n=this.getFoldDisplayLine(h),o=h.start.row;else{if(a+s<=e||o>d)return{row:d,column:this.getLine(d).length};n=this.getLine(o),h=null}var m=0;if(this.$useWrapMode){var g=this.$wrapData[o];if(g){var v=Math.floor(e-a);r=g[v],v>0&&g.length&&(m=g.indent,i=g[v-1]||g[g.length-1],n=n.substring(i))}}return i+=this.$getStringScreenWidth(n,t-m)[1],this.$useWrapMode&&i>=r&&(i=r-1),h?h.idxToPosition(i):{row:o,column:i}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,o=null,i=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var a,s=0,l=this.$docRowCache,u=this.$getRowCacheIndex(l,e),c=l.length;if(c&&u>=0)var s=l[u],r=this.$screenRowCache[u],f=e>l[c-1];else var f=!c;for(var d=this.getNextFoldLine(s),h=d?d.start.row:1/0;s<e;){if(s>=h){if((a=d.end.row+1)>e)break;d=this.getNextFoldLine(a,d),h=d?d.start.row:1/0}else a=s+1;r+=this.getRowLength(s),s=a,f&&(this.$docRowCache.push(s),this.$screenRowCache.push(r))}var p="";d&&s>=h?(p=this.getFoldDisplayLine(d,e,t),o=d.start.row):(p=this.getLine(e).substring(0,t),o=e);var m=0;if(this.$useWrapMode){var g=this.$wrapData[o];if(g){for(var v=0;p.length>=g[v];)r++,v++;p=p.substring(g[v-1]||0,p.length),m=v>0?g.indent:0}}return{row:r,column:m+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,o=0,t=this.$foldData[o++],i=t?t.start.row:1/0;r<n;){var a=this.$wrapData[r];e+=a?a.length+1:1,r++,r>i&&(r=t.end.row+1,t=this.$foldData[o++],i=t?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,o=0;o<s.length;o++)t=s[o],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];n||(n=1/0),r=r||0;var o,i;for(i=0;i<t.length&&(o=t.charAt(i),!((r+="\t"===o?this.getScreenTabSize(r):e.getCharacterWidth(o))>n));i++);return[r,i]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(h.prototype),e("./edit_session/folding").Folding.call(h.prototype),e("./edit_session/bracket_match").BracketMatch.call(h.prototype),i.defineOptions(h.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=h}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var r=e("./lib/lang"),o=e("./lib/oop"),i=e("./range").Range,a=function(){this.$options={}};(function(){this.set=function(e){return o.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach(function(e,n,o){if(e.start)r=e;else{var a=e.offset+(o||0);if(r=new i(n,a,n,a+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))return r=null,!1}return!0}),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,o=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),a=[],s=t.re;if(t.$isMultiLine){var l,u=s.length,c=o.length-u;e:for(var f=s.offset||0;f<=c;f++){for(var d=0;d<u;d++)if(-1==o[f+d].search(s[d]))continue e;var h=o[f],p=o[f+u-1],m=h.length-h.match(s[0])[0].length,g=p.match(s[u-1])[0].length;l&&l.end.row===f&&l.end.column>m||(a.push(l=new i(f,m,f+u-1,g)),u>2&&(f=f+u-2))}}else for(var v=0;v<o.length;v++)for(var b=r.getMatchOffsets(o[v],s),d=0;d<b.length;d++){var y=b[d];a.push(new i(v,y.offset,v,y.offset+y.length))}if(n){for(var w=n.start.column,x=n.start.column,v=0,d=a.length-1;v<d&&a[v].start.column<w&&a[v].start.row==n.start.row;)v++;for(;v<d&&a[d].end.column>x&&a[d].end.row==n.end.row;)d--;for(a=a.slice(v,d+1),v=0,d=a.length;v<d;v++)a[v].start.row+=n.start.row,a[v].end.row+=n.start.row}return a},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var o=r.exec(e);if(!o||o[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var i=Math.min(e.length,e.length);i--;){var a=e[i];a&&a.toLowerCase()!=a?t[i]=t[i].toUpperCase():t[i]=t[i].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var o;if(t.$isMultiLine)var a=n.length,s=function(t,r,s){var l=t.search(n[0]);if(-1!=l){for(var u=1;u<a;u++)if(t=e.getLine(r+u),-1==t.search(n[u]))return;var c=t.match(n[a-1])[0].length,f=new i(r,l,r+a-1,c);return 1==n.offset?(f.start.row--,f.start.column=Number.MAX_VALUE):s&&(f.start.column+=s),!!o(f)||void 0}};else if(t.backwards)var s=function(e,t,i){for(var a=r.getMatchOffsets(e,n),s=a.length-1;s>=0;s--)if(o(a[s],t,i))return!0};else var s=function(e,t,i){for(var a=r.getMatchOffsets(e,n),s=0;s<a.length;s++)if(o(a[s],t,i))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){o=e,l.forEach(s)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n="\\b"+n+"\\b");var o=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,o);try{var i=new RegExp(n,o)}catch(e){i=!1}return e.re=i},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],o=0;o<n.length;o++)try{r.push(new RegExp(n[o],t))}catch(e){return!1}return""==n[0]?(r.shift(),r.offset=1):r.offset=0,r},this.$lineIterator=function(e,t){var n=1==t.backwards,r=0!=t.skipCurrent,o=t.range,i=t.start;i||(i=o?o[n?"end":"start"]:e.selection.getRange()),i.start&&(i=i[r!=n?"end":"start"]);var a=o?o.start.row:0,s=o?o.end.row:e.getLength()-1;return{forEach:n?function(n){var r=i.row;if(!n(e.getLine(r).substring(0,i.column),r)){for(r--;r>=a;r--)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=s,a=i.row;r>=a;r--)if(n(e.getLine(r),r))return}}:function(n){var r=i.row;if(!n(e.getLine(r).substr(i.column),r,i.column)){for(r+=1;r<=s;r++)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=a,s=i.row;r<=s;r++)if(n(e.getLine(r),r))return}}}}}).call(a.prototype),t.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function r(e,t){this.platform=t||(a.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function o(e,t){r.call(this,e,t),this.$singleCommand=!1}var i=e("../lib/keys"),a=e("../lib/useragent"),s=i.KEY_MODS;o.prototype=r.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var o in r){var i=r[o];if(i==e)delete r[o];else if(Array.isArray(i)){var a=i.indexOf(e);-1!=a&&(i.splice(a,1),1==i.length&&(r[o]=i[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var r="";if(-1!=e.indexOf(" ")){var o=e.split(/\s+/);e=o.pop(),o.forEach(function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")},this),r+=" "}var i=this.parseKeys(e),a=s[i.hashId]+i.key;this._addCommandToBinding(r+a,t,n)},this)},this._addCommandToBinding=function(t,n,r){var o,i=this.commandKeyBinding;if(n)if(!i[t]||this.$singleCommand)i[t]=n;else{Array.isArray(i[t])?-1!=(o=i[t].indexOf(n))&&i[t].splice(o,1):i[t]=[i[t]],"number"!=typeof r&&(r=r||n.isDefault?-100:e(n));var a=i[t];for(o=0;o<a.length;o++){var s=a[o],l=e(s);if(l>r)break}a.splice(o,0,n)}else delete i[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,a=t.length;a--;){var s=i.KEY_MODS[t[a]];if(null==s)return"undefined"!=typeof console&&console.error("invalid modifier "+t[a]+" in "+e),!1;o|=s}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=s[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(r<0)){var o=s[t]+n,i=this.commandKeyBinding[o];return e.$keyChain&&(e.$keyChain+=" "+o,i=this.commandKeyBinding[e.$keyChain]||i),!i||"chainKeys"!=i&&"chainKeys"!=i[i.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-o.length-1)),{command:i}):(e.$keyChain=e.$keyChain||o,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(r.prototype),t.HashHandler=r,t.MultiHashHandler=o}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../keyboard/hash_handler").MultiHashHandler,i=e("../lib/event_emitter").EventEmitter,a=function(e,t){o.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(a,o),function(){r.implement(this,i),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var o={editor:t,command:e,args:n};return o.returnValue=this._emit("exec",o),this._signal("afterExec",o),!1!==o.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(a.prototype),t.CommandManager=a}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,n){"use strict";function r(e,t){return{win:e,mac:t}}var o=e("../lib/lang"),i=e("../config"),a=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:r("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:r("Alt-E","Ctrl-E"),exec:function(e){i.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:r("Alt-Shift-E","Ctrl-Shift-E"),exec:function(e){i.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:r("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:r(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:r("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:r("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:r("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:r("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:r("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:r("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:r("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:r("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:r("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:r("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:r("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:r("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:r("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:r("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:r("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:r("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:r("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:r("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:r("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:r("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:r("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:r(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:r(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:r("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:r("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:r("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:r("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:r("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:r("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:r("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:r("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:r("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:r("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:r("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(o.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:r(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:r("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:r(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),i=e.session.doc.getLine(n.row).length,s=e.session.doc.getTextRange(e.selection.getRange()),l=s.replace(/\n\s*/," ").length,u=e.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var f=o.stringTrimLeft(o.stringTrimRight(e.session.doc.getLine(c)));0!==f.length&&(f=" "+f),u+=f}r.row+1<e.session.doc.getLength()-1&&(u+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new a(n.row,0,r.row+2,0),u),l>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+l)):(i=e.session.doc.getLine(n.row).length>i?i+1:i,e.selection.moveCursorTo(n.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,o=[];r.length<1&&(r=[e.selection.getRange()]);for(var i=0;i<r.length;i++)i==r.length-1&&(r[i].end.row===t&&r[i].end.column===n||o.push(new a(r[i].end.row,r[i].end.column,t,n))),0===i?0===r[i].start.row&&0===r[i].start.column||o.push(new a(0,0,r[i].start.row,r[i].start.column)):o.push(new a(r[i-1].end.row,r[i-1].end.column,r[i].start.row,r[i].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var i=0;i<o.length;i++)e.selection.addRange(o[i],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),o=e("./lib/dom"),i=e("./lib/lang"),a=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,u=e("./mouse/fold_handler").FoldHandler,c=e("./keyboard/keybinding").KeyBinding,f=e("./edit_session").EditSession,d=e("./search").Search,h=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,v=e("./config"),b=e("./token_iterator").TokenIterator,y=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new m(a.isMac?"mac":"win",g),this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new c(this),this.$mouseHandler=new l(this),new u(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=i.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new f("")),v.resetOptions(this),v._signal("editor",this)};(function(){r.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=i.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),o=this.renderer.layerConfig;(r.start.row>=o.lastRow||r.end.row<=o.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var o=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(o)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var r=new h(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var r=t.$mode.getMatching(e.session);r&&(t.$bracketHighlight=t.addMarker(r,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new b(e.session,n.row,n.column),o=r.getCurrentToken();if(!o||!/\b(?:tag-open|tag-name)/.test(o.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==o.type.indexOf("tag-open")||(o=r.stepForward())){var i=o.value,a=0,s=r.stepBackward();if("<"==s.value)do{s=o,(o=r.stepForward())&&o.value===i&&-1!==o.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--)}while(o&&a>=0);else{do{o=s,s=r.stepBackward(),o&&o.value===i&&-1!==o.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--)}while(s&&a<=0);r.stepForward()}if(!o)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=r.getCurrentTokenRow(),u=r.getCurrentTokenColumn(),c=new h(l,u,l,u+o.value.length);t.$tagHighlight&&0!==c.compareRange(t.$backMarkers[t.$tagHighlight].range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),c&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(c,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new h(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var o=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(o),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,r=t.end.column+1,o=e.getLine(t.start.row),i=o.length,a=o.substring(Math.max(n,0),Math.min(r,i));if(!(n>=0&&/^[\w\d]/.test(a)||r<=i&&/[\w\d]$/.test(a))&&(a=o.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(a))){return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:a})}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges;if(n.length>r.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var o=r.length;o--;){var i=r[o];i.isEmpty()||this.session.remove(i),this.session.insert(i.start,n[o])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),o=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var i=r.transformAction(n.getState(o.row),"insertion",this,n,e);i&&(e!==i.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=i.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var a=new h.fromPoints(o,o);a.end.column+=e.length,this.session.remove(a)}}else{var a=this.getSelectionRange();o=this.session.remove(a),this.clearSelection()}if("\n"==e||"\r\n"==e){var s=n.getLine(o.row);if(o.column>s.search(/\S|$/)){var l=s.substr(o.column).search(/\S|$/);n.doc.removeInLine(o.row,o.column,o.column+l)}}this.clearSelection();var u=o.column,c=n.getState(o.row),s=n.getLine(o.row),f=r.checkOutdent(c,s,e);n.insert(o,e);if(i&&i.selection&&(2==i.selection.length?this.selection.setSelectionRange(new h(o.row,u+i.selection[0],o.row,u+i.selection[1])):this.selection.setSelectionRange(new h(o.row+i.selection[0],i.selection[1],o.row+i.selection[2],i.selection[3]))),n.getDocument().isNewLine(e)){var d=r.getNextLineIndent(c,s.slice(0,o.column),n.getTabString());n.insert({row:o.row+1,column:0},d)}f&&r.autoOutdent(c,n,o.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),o=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var i=n.getTextRange(t);if("\n"==i[i.length-1]){var a=n.getLine(t.end.row);/^\s+$/.test(a)&&(t.end.column=a.length)}}o&&(t=o)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,o=this.session.getLine(e.row);t<o.length?(n=o.charAt(t)+o.charAt(t-1),r=new h(e.row,t-1,e.row,t+1)):(n=o.charAt(t-1)+o.charAt(t-2),r=new h(e.row,t-2,e.row,t)),this.session.replace(r,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"\t")}if(t.start.column<t.end.column){if(!/^\s+$/.test(e.getTextRange(t))){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"\t")}}var r=e.getLine(t.start.row),o=t.start,a=e.getTabSize(),s=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var l=a-s%a,u=i.stringRepeat(" ",l);else{for(var l=s%a;" "==r[t.start.column]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),u="\t"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(o=e.first;o<=e.last;o++)n.push(t.getLine(o));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var r=new h(0,0,0,0),o=e.first;o<=e.last;o++){var i=t.getLine(o);r.start.row=o,r.end.row=o,r.end.column=i.length,t.replace(r,n[o-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var o=n.exec(r);if(o.index<=t&&o.index+o[0].length>=t){return{value:o[0],start:o.index,end:o.index+o[0].length}}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new h(t,n-1,t,n),o=this.session.getTextRange(r);if(!isNaN(parseFloat(o))&&isFinite(o)){var i=this.getNumberAt(t,n);if(i){var a=i.value.indexOf(".")>=0?i.start+i.value.indexOf(".")+1:i.end,s=i.start+i.value.length-a,l=parseFloat(i.value);l*=Math.pow(10,s),a!==i.end&&n<a?e*=Math.pow(10,i.end-n-1):e*=Math.pow(10,i.end-n),l+=e,l/=Math.pow(10,s);var u=l.toFixed(s),c=new h(t,i.start,t,i.end);this.session.replace(c,u),this.moveCursorTo(t,Math.max(i.start+1,n+u.length-i.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var o=n.start.row;t.duplicateLines(o,o)}else{var i=r?n.start:n.end,a=t.insert(i,t.getTextRange(n),!1);n.start=i,n.end=a,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,o=this.selection;if(!o.inMultiSelectMode||this.inVirtualSelectionMode){var i=o.toOrientedRange();n=this.$getSelectedRows(i),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),i.moveBy(r,0),o.fromOrientedRange(i)}else{var a=o.rangeList.ranges;o.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var s=0,l=0,u=a.length,c=0;c<u;c++){var f=c;a[c].moveBy(s,0),n=this.$getSelectedRows(a[c]);for(var d=n.first,h=n.last;++c<u;){l&&a[c].moveBy(l,0);var p=this.$getSelectedRows(a[c]);if(t&&p.first!=h)break;if(!t&&p.first>h+1)break;h=p.last}for(c--,s=this.session.$moveLines(d,h,t?0:e),t&&-1==e&&(f=c+1);f<=c;)a[f].moveBy(s,0),f++;t||(s=0),l+=s}o.fromOrientedRange(o.ranges[0]),o.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,o=e*Math.floor(r.height/r.lineHeight);this.$blockScrolling++,!0===t?this.selection.$moveSelection(function(){this.moveCursorBy(o,0)}):!1===t&&(this.selection.moveCursorBy(o,0),this.selection.clearSelection()),this.$blockScrolling--;var i=n.scrollTop;n.scrollBy(0,o*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(i)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new b(this.session,n.row,n.column),o=r.getCurrentToken(),i=o||r.stepForward();if(i){var a,s,l=!1,u={},c=n.column-i.start,f={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(i.value.match(/[{}()\[\]]/g)){for(;c<i.value.length&&!l;c++)if(f[i.value[c]])switch(s=f[i.value[c]]+"."+i.type.replace("rparen","lparen"),isNaN(u[s])&&(u[s]=0),i.value[c]){case"(":case"[":case"{":u[s]++;break;case")":case"]":case"}":u[s]--,-1===u[s]&&(a="bracket",l=!0)}}else i&&-1!==i.type.indexOf("tag-name")&&(isNaN(u[i.value])&&(u[i.value]=0),"<"===o.value?u[i.value]++:"</"===o.value&&u[i.value]--,-1===u[i.value]&&(a="tag",l=!0));l||(o=i,i=r.stepForward(),c=0)}while(i&&!l);if(a){var d,p;if("bracket"===a)(d=this.session.getBracketRange(n))||(d=new h(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+c-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+c-1),p=d.start,(t||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===a){if(!i||-1===i.type.indexOf("tag-name"))return;var m=i.value;if(d=new h(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2),0===d.compare(n.row,n.column)){l=!1;do{i=o,(o=r.stepBackward())&&(-1!==o.type.indexOf("tag-close")&&d.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),i.value===m&&-1!==i.type.indexOf("tag-name")&&("<"===o.value?u[m]++:"</"===o.value&&u[m]--,0===u[m]&&(l=!0)))}while(o&&!l)}i&&i.type.indexOf("tag-name")&&(p=d.start,p.row==n.row&&Math.abs(p.column-n.column)<2&&(p=d.end))}p=d&&d.cursor||p,p&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;this.$blockScrolling+=1;var o=this.getSelectionRange();this.selection.moveTo(0,0);for(var i=n.length-1;i>=0;--i)this.$tryReplace(n[i],e)&&r++;return this.selection.setSelectionRange(o),this.$blockScrolling-=1,r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var o=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(o)||this.$search.$options.needle,e||(o=this.session.getWordRange(o.start.row,o.start.column),e=this.session.getTextRange(o)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:o});var i=this.$search.find(this.session);return t.preventScroll?i:i?(this.revealRange(i,n),i):(t.backwards?o.start=o.end:o.end=o.start,void this.selection.setRange(o))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var o=this.$scrollAnchor;o.style.cssText="position:absolute",this.container.insertBefore(o,this.container.firstChild);var i=this.on("changeSelection",function(){r=!0}),a=this.renderer.on("beforeRender",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),s=this.renderer.on("afterRender",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,i=e.$cursorLayer.$pixelPos,a=e.layerConfig,s=i.top-a.offset;r=i.top>=0&&s+t.top<0||!(i.top<a.height&&i.top+t.top+a.lineHeight>window.innerHeight)&&null,null!=r&&(o.style.top=s+"px",o.style.left=i.left+"px",o.style.height=a.lineHeight+"px",o.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",i),this.renderer.off("afterRender",s),this.renderer.off("beforeRender",a))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,o.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(y.prototype),v.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=y}),ace.define("ace/undomanager",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++){for(var o=e[r],i={group:o.group,deltas:new Array(o.length)},a=0;a<o.deltas.length;a++){var s=o.deltas[a];i.deltas[a]=t(s)}n[r]=i}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(r.prototype),t.UndoManager=r}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/dom"),o=e("../lib/oop"),i=e("../lib/lang"),a=e("../lib/event_emitter").EventEmitter,s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){o.implement(this,a),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,o=this.$annotations[r];o||(o=this.$annotations[r]={text:[]});var a=n.text;a=a?i.escapeHTML(a):n.html||"",-1===o.text.indexOf(a)&&o.text.push(a);var s=n.type;"error"==s?o.className=" ace_error":"warning"==s&&" ace_error"!=o.className?o.className=" ace_warning":"info"!=s||o.className||(o.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){for(var t=this.session,n=e.firstRow,o=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),i=t.getNextFoldLine(n),a=i?i.start.row:1/0,s=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,u=t.$decorations,c=t.$firstLineNumber,f=0,d=t.gutterRenderer||this.$renderer,h=null,p=-1,m=n;;){if(m>a&&(m=i.end.row+1,i=t.getNextFoldLine(m,i),a=i?i.start.row:1/0),m>o){for(;this.$cells.length>p+1;)h=this.$cells.pop(),this.element.removeChild(h.element);break}h=this.$cells[++p],h||(h={element:null,textNode:null,foldWidget:null},h.element=r.createElement("div"),h.textNode=document.createTextNode(""),h.element.appendChild(h.textNode),this.element.appendChild(h.element),this.$cells[p]=h);var g="ace_gutter-cell ";l[m]&&(g+=l[m]),u[m]&&(g+=u[m]),this.$annotations[m]&&(g+=this.$annotations[m].className),h.element.className!=g&&(h.element.className=g);var v=t.getRowLength(m)*e.lineHeight+"px";if(v!=h.element.style.height&&(h.element.style.height=v),s){var b=s[m];null==b&&(b=s[m]=t.getFoldWidget(m))}if(b){h.foldWidget||(h.foldWidget=r.createElement("span"),h.element.appendChild(h.foldWidget));var g="ace_fold-widget ace_"+b;"start"==b&&m==a&&m<i.end.row?g+=" ace_closed":g+=" ace_open",h.foldWidget.className!=g&&(h.foldWidget.className=g);var v=e.lineHeight+"px";h.foldWidget.style.height!=v&&(h.foldWidget.style.height=v)}else h.foldWidget&&(h.element.removeChild(h.foldWidget),h.foldWidget=null);var y=f=d?d.getText(t,m):m+c;y!=h.textNode.data&&(h.textNode.data=y),m++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(f=t.getLength()+c);var w=d?d.getWidth(t,f,e):f.toString().length*e.characterWidth,x=this.$padding||this.$computePadding();(w+=x.left+x.right)===this.gutterWidth||isNaN(w)||(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(s.prototype),t.Gutter=s}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,n){"use strict";var r=e("../range").Range,o=e("../lib/dom"),i=function(e){this.element=o.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(r.range){var o=r.range.clipRows(e.firstRow,e.lastRow);if(!o.isEmpty())if(o=o.toScreenRange(this.session),r.renderer){var i=this.$getTop(o.start.row,e),a=this.$padding+o.start.column*e.characterWidth;r.renderer(t,o,a,i,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,o,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,o,r.clazz,e):o.isMultiLine()?"text"==r.type?this.drawTextMarker(t,o,r.clazz,e):this.drawMultiLineMarker(t,o,r.clazz,e):this.drawSingleLineMarker(t,o,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,o,i,a){for(var s=this.session,l=n.start.row,u=n.end.row,c=l,f=0,d=0,h=s.getScreenLastRowColumn(c),p=new r(c,n.start.column,c,d);c<=u;c++)p.start.row=p.end.row=c,p.start.column=c==l?n.start.column:s.getRowWrapIndent(c),p.end.column=h,f=d,d=h,h=c+1<u?s.getScreenLastRowColumn(c+1):c==u?0:n.end.column,this.drawSingleLineMarker(t,p,o+(c==l?" ace_start":"")+" ace_br"+e(c==l||c==l+1&&n.start.column,f<d,d>h,c==u),i,c==u?0:1,a)},this.drawMultiLineMarker=function(e,t,n,r,o){var i=this.$padding,a=r.lineHeight,s=this.$getTop(t.start.row,r),l=i+t.start.column*r.characterWidth;o=o||"",e.push("<div class='",n," ace_br1 ace_start' style='","height:",a,"px;","right:0;","top:",s,"px;","left:",l,"px;",o,"'></div>"),s=this.$getTop(t.end.row,r);var u=t.end.column*r.characterWidth;if(e.push("<div class='",n," ace_br12' style='","height:",a,"px;","width:",u,"px;","top:",s,"px;","left:",i,"px;",o,"'></div>"),!((a=(t.end.row-t.start.row-1)*r.lineHeight)<=0)){s=this.$getTop(t.start.row+1,r);var c=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,c?" ace_br"+c:"","' style='","height:",a,"px;","right:0;","top:",s,"px;","left:",i,"px;",o,"'></div>")}},this.drawSingleLineMarker=function(e,t,n,r,o,i){var a=r.lineHeight,s=(t.end.column+(o||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r),u=this.$padding+t.start.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",a,"px;","width:",s,"px;","top:",l,"px;","left:",u,"px;",i||"","'></div>")},this.drawFullLineMarker=function(e,t,n,r,o){var i=this.$getTop(t.start.row,r),a=r.lineHeight;t.start.row!=t.end.row&&(a+=this.$getTop(t.end.row,r)-i),e.push("<div class='",n,"' style='","height:",a,"px;","top:",i,"px;","left:0;right:0;",o||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,r,o){var i=this.$getTop(t.start.row,r),a=r.lineHeight;e.push("<div class='",n,"' style='","height:",a,"px;","top:",i,"px;","left:0;right:0;",o||"","'></div>")}}).call(i.prototype),t.Marker=i}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/dom"),i=e("../lib/lang"),a=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),s=function(e){this.element=o.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){r.implement(this,a),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+i.stringRepeat(this.TAB_CHAR,n)+"</span>"):t.push(i.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r="ace_indent-guide",o="",a="";if(this.showInvisibles){r+=" ace_invisible",o=" ace_invisible_space",a=" ace_invisible_tab";var s=i.stringRepeat(this.SPACE_CHAR,this.tabSize),l=i.stringRepeat(this.TAB_CHAR,this.tabSize)}else var s=i.stringRepeat(" ",this.tabSize),l=s;this.$tabStrings[" "]="<span class='"+r+o+"'>"+s+"</span>",this.$tabStrings["\t"]="<span class='"+r+a+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e),this.config=e;for(var r=Math.max(t,e.firstRow),o=Math.min(n,e.lastRow),i=this.element.childNodes,a=0,s=e.firstRow;s<r;s++){var l=this.session.getFoldLine(s);if(l){if(l.containsRow(r)){r=l.start.row;break}s=l.end.row}a++}for(var s=r,l=this.session.getNextFoldLine(s),u=l?l.start.row:1/0;;){if(s>u&&(s=l.end.row+1,l=this.session.getNextFoldLine(s,l),u=l?l.start.row:1/0),s>o)break;var c=i[a++];if(c){var f=[];this.$renderLine(f,s,!this.$useLineGroups(),s==u&&l),c.style.height=e.lineHeight*this.session.getRowLength(s)+"px",c.innerHTML=f.join("")}s++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var o=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o)}if(e.lastRow>t.lastRow){var o=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(o)}},this.$renderLinesFragment=function(e,t,n){for(var r=this.element.ownerDocument.createDocumentFragment(),i=t,a=this.session.getNextFoldLine(i),s=a?a.start.row:1/0;;){if(i>s&&(i=a.end.row+1,a=this.session.getNextFoldLine(i,a),s=a?a.start.row:1/0),i>n)break;var l=o.createElement("div"),u=[];if(this.$renderLine(u,i,!1,i==s&&a),l.innerHTML=u.join(""),this.$useLineGroups())l.className="ace_line_group",r.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(i)+"px";else for(;l.firstChild;)r.appendChild(l.firstChild);i++}return r},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,r=e.lastRow,o=n,i=this.session.getNextFoldLine(o),a=i?i.start.row:1/0;;){if(o>a&&(o=i.end.row+1,i=this.session.getNextFoldLine(o,i),a=i?i.start.row:1/0),o>r)break;this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(o),"px'>"),this.$renderLine(t,o,!1,o==a&&i),this.$useLineGroups()&&t.push("</div>"),o++}this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var o=this,a=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,s=function(e,n,r,a,s){if(n)return o.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+i.stringRepeat(o.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("\t"==e){var l=o.session.getScreenTabSize(t+a);return t+=l-1,o.$tabStrings[l]}if("　"==e){var u=o.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",c=o.showInvisibles?o.SPACE_CHAR:"";return t+=1,"<span class='"+u+"' style='width:"+2*o.config.characterWidth+"px'>"+c+"</span>"}return r?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+o.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*o.config.characterWidth+"px'>"+e+"</span>")},l=r.replace(a,s);if(this.$textToken[n.type])e.push(l);else{var u="ace_"+n.type.replace(/\./g," ace_"),c="";"fold"==n.type&&(c=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",u,"'",c,">",l,"</span>")}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);return r<=0||r>=n?t:" "==t[0]?(r-=r%this.tabSize,e.push(i.stringRepeat(this.$tabStrings[" "],r/this.tabSize)),t.substr(r)):"\t"==t[0]?(e.push(i.stringRepeat(this.$tabStrings["\t"],r)),t.substr(r)):t},this.$renderWrappedLine=function(e,t,n,r){for(var o=0,a=0,s=n[0],l=0,u=0;u<t.length;u++){var c=t[u],f=c.value;if(0==u&&this.displayIndentGuides){if(o=f.length,!(f=this.renderIndentGuide(e,f,s)))continue;o-=f.length}if(o+f.length<s)l=this.$renderToken(e,l,c,f),o+=f.length;else{for(;o+f.length>=s;)l=this.$renderToken(e,l,c,f.substring(0,s-o)),f=f.substring(s-o),o=s,r||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(i.stringRepeat(" ",n.indent)),a++,l=0,s=n[a]||Number.MAX_VALUE;0!=f.length&&(o+=f.length,l=this.$renderToken(e,l,c,f))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],o=r.value;this.displayIndentGuides&&(o=this.renderIndentGuide(e,o)),o&&(n=this.$renderToken(e,n,r,o));for(var i=1;i<t.length;i++)r=t[i],o=r.value,n=this.$renderToken(e,n,r,o)},this.$renderLine=function(e,t,n,r){if(r||0==r||(r=this.session.getFoldLine(t)),r)var o=this.$getFoldLineTokens(t,r);else var o=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),o.length){var i=this.session.getRowSplitData(t);i&&i.length?this.$renderWrappedLine(e,o,i,n):this.$renderSimpleLine(e,o)}this.showInvisibles&&(r&&(t=r.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var r=0,i=0;i+e[r].value.length<t;)if(i+=e[r].value.length,++r==e.length)return;if(i!=t){var a=e[r].value.substring(t-i);a.length>n-t&&(a=a.substring(0,n-t)),o.push({type:e[r].type,value:a}),i=t+a.length,r+=1}for(;i<n&&r<e.length;){var a=e[r].value;a.length+i>n?o.push({type:e[r].type,value:a.substring(0,n-i)}):o.push(e[r]),i+=a.length,r+=1}}var r=this.session,o=[],i=r.getTokens(e);return t.walk(function(e,t,a,s,l){null!=e?o.push({type:"fold",value:e}):(l&&(i=r.getTokens(t)),i.length&&n(i,s,a))},t.end.row,this.session.getLine(t.end.row).length),o},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(s.prototype),t.Text=s}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r,o=e("../lib/dom"),i=function(e){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===r&&(r=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(r?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||r||(this.smoothBlinking=e,o.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=o.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&o.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){o.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+n.column*this.config.characterWidth,top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);for(var n=0,o=t.length;n<o;n++){var i=this.getPixelPosition(t[n].cursor,!0);if(!((i.top>e.height+e.offset||i.top<0)&&n>1)){var a=(this.cursors[r++]||this.addCursor()).style;this.drawCursor?this.drawCursor(a,i,e,t[n],this.session):(a.left=i.left+"px",a.top=i.top+"px",a.width=e.characterWidth+"px",a.height=e.lineHeight+"px")}}for(;this.cursors.length>r;)this.removeCursor();var s=this.session.getOverwrite();this.$setOverwrite(s),this.$pixelPos=i,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/dom"),i=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter,s=function(e){this.element=o.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=o.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,i.addListener(this.element,"scroll",this.onScroll.bind(this)),i.addListener(this.element,"mousedown",i.preventDefault)};(function(){r.implement(this,a),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e}}).call(s.prototype);var l=function(e,t){s.call(this,e),this.scrollTop=0,t.$scrollbarWidth=this.width=o.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};r.inherits(l,s),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}.call(l.prototype);var u=function(e,t){s.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(u,s),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=u,t.VScrollBar=l,t.HScrollBar=u}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){"use strict";var r=e("./lib/event"),o=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;r.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(o.prototype),t.RenderLoop=o}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/oop"),o=e("../lib/dom"),i=e("../lib/lang"),a=e("../lib/useragent"),s=e("../lib/event_emitter").EventEmitter,l=0,u=t.FontMetrics=function(e){this.el=o.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=o.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=o.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=i.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){r.implement(this,s),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=o.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&t<1?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var t={height:e.height,width:e.width/l}}else var t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.innerHTML=i.stringRepeat(e,l),this.$main.getBoundingClientRect().width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(u.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/dom"),i=e("./config"),a=e("./lib/useragent"),s=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,u=e("./layer/text").Text,c=e("./layer/cursor").Cursor,f=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,h=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter;o.importCssString('.ace_editor {\tposition: relative;\toverflow: hidden;\tfont: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\tdirection: ltr;\t}\t.ace_scroller {\tposition: absolute;\toverflow: hidden;\ttop: 0;\tbottom: 0;\tbackground-color: inherit;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\tcursor: text;\t}\t.ace_content {\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmin-width: 100%;\t}\t.ace_dragging .ace_scroller:before{\tposition: absolute;\ttop: 0;\tleft: 0;\tright: 0;\tbottom: 0;\tcontent: \'\';\tbackground: rgba(250, 250, 250, 0.01);\tz-index: 1000;\t}\t.ace_dragging.ace_dark .ace_scroller:before{\tbackground: rgba(0, 0, 0, 0.01);\t}\t.ace_selecting, .ace_selecting * {\tcursor: text !important;\t}\t.ace_gutter {\tposition: absolute;\toverflow : hidden;\twidth: auto;\ttop: 0;\tbottom: 0;\tleft: 0;\tcursor: default;\tz-index: 4;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\t}\t.ace_gutter-active-line {\tposition: absolute;\tleft: 0;\tright: 0;\t}\t.ace_scroller.ace_scroll-left {\tbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\t}\t.ace_gutter-cell {\tpadding-left: 19px;\tpadding-right: 6px;\tbackground-repeat: no-repeat;\t}\t.ace_gutter-cell.ace_error {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_warning {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\tbackground-position: 2px center;\t}\t.ace_dark .ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\t}\t.ace_scrollbar {\tposition: absolute;\tright: 0;\tbottom: 0;\tz-index: 6;\t}\t.ace_scrollbar-inner {\tposition: absolute;\tcursor: text;\tleft: 0;\ttop: 0;\t}\t.ace_scrollbar-v{\toverflow-x: hidden;\toverflow-y: scroll;\ttop: 0;\t}\t.ace_scrollbar-h {\toverflow-x: scroll;\toverflow-y: hidden;\tleft: 0;\t}\t.ace_print-margin {\tposition: absolute;\theight: 100%;\t}\t.ace_text-input {\tposition: absolute;\tz-index: 0;\twidth: 0.5em;\theight: 1em;\topacity: 0;\tbackground: transparent;\t-moz-appearance: none;\tappearance: none;\tborder: none;\tresize: none;\toutline: none;\toverflow: hidden;\tfont: inherit;\tpadding: 0 1px;\tmargin: 0 -1px;\ttext-indent: -1em;\t-ms-user-select: text;\t-moz-user-select: text;\t-webkit-user-select: text;\tuser-select: text;\twhite-space: pre!important;\t}\t.ace_text-input.ace_composition {\tbackground: inherit;\tcolor: inherit;\tz-index: 1000;\topacity: 1;\ttext-indent: 0;\t}\t.ace_layer {\tz-index: 1;\tposition: absolute;\toverflow: hidden;\tword-wrap: normal;\twhite-space: pre;\theight: 100%;\twidth: 100%;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tpointer-events: none;\t}\t.ace_gutter-layer {\tposition: relative;\twidth: auto;\ttext-align: right;\tpointer-events: auto;\t}\t.ace_text-layer {\tfont: inherit !important;\t}\t.ace_cjk {\tdisplay: inline-block;\ttext-align: center;\t}\t.ace_cursor-layer {\tz-index: 4;\t}\t.ace_cursor {\tz-index: 4;\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tborder-left: 2px solid;\ttransform: translatez(0);\t}\t.ace_slim-cursors .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_overwrite-cursors .ace_cursor {\tborder-left-width: 0;\tborder-bottom: 1px solid;\t}\t.ace_hidden-cursors .ace_cursor {\topacity: 0.2;\t}\t.ace_smooth-blinking .ace_cursor {\t-webkit-transition: opacity 0.18s;\ttransition: opacity 0.18s;\t}\t.ace_editor.ace_multiselect .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\tposition: absolute;\tz-index: 3;\t}\t.ace_marker-layer .ace_selection {\tposition: absolute;\tz-index: 5;\t}\t.ace_marker-layer .ace_bracket {\tposition: absolute;\tz-index: 6;\t}\t.ace_marker-layer .ace_active-line {\tposition: absolute;\tz-index: 2;\t}\t.ace_marker-layer .ace_selected-word {\tposition: absolute;\tz-index: 4;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\t}\t.ace_line .ace_fold {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tdisplay: inline-block;\theight: 11px;\tmargin-top: -2px;\tvertical-align: middle;\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\tbackground-repeat: no-repeat, repeat-x;\tbackground-position: center center, top left;\tcolor: transparent;\tborder: 1px solid black;\tborder-radius: 2px;\tcursor: pointer;\tpointer-events: auto;\t}\t.ace_dark .ace_fold {\t}\t.ace_fold:hover{\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\t}\t.ace_tooltip {\tbackground-color: #FFF;\tbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\tbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\tborder: 1px solid gray;\tborder-radius: 1px;\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\tcolor: black;\tmax-width: 100%;\tpadding: 3px 4px;\tposition: fixed;\tz-index: 999999;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tcursor: default;\twhite-space: pre;\tword-wrap: break-word;\tline-height: normal;\tfont-style: normal;\tfont-weight: normal;\tletter-spacing: normal;\tpointer-events: none;\t}\t.ace_folding-enabled > .ace_gutter-cell {\tpadding-right: 13px;\t}\t.ace_fold-widget {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmargin: 0 -12px 0 1px;\tdisplay: none;\twidth: 11px;\tvertical-align: top;\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: center;\tborder-radius: 3px;\tborder: 1px solid transparent;\tcursor: pointer;\t}\t.ace_folding-enabled .ace_fold-widget {\tdisplay: inline-block;   \t}\t.ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\t}\t.ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\t}\t.ace_fold-widget:hover {\tborder: 1px solid rgba(0, 0, 0, 0.3);\tbackground-color: rgba(255, 255, 255, 0.2);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\t}\t.ace_fold-widget:active {\tborder: 1px solid rgba(0, 0, 0, 0.4);\tbackground-color: rgba(0, 0, 0, 0.05);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\t}\t.ace_dark .ace_fold-widget {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\t}\t.ace_dark .ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget:hover {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\tbackground-color: rgba(255, 255, 255, 0.1);\t}\t.ace_dark .ace_fold-widget:active {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\t}\t.ace_fold-widget.ace_invalid {\tbackground-color: #FFB4B4;\tborder-color: #DE5555;\t}\t.ace_fade-fold-widgets .ace_fold-widget {\t-webkit-transition: opacity 0.4s ease 0.05s;\ttransition: opacity 0.4s ease 0.05s;\topacity: 0;\t}\t.ace_fade-fold-widgets:hover .ace_fold-widget {\t-webkit-transition: opacity 0.05s ease 0.05s;\ttransition: opacity 0.05s ease 0.05s;\topacity:1;\t}\t.ace_underline {\ttext-decoration: underline;\t}\t.ace_bold {\tfont-weight: bold;\t}\t.ace_nobold .ace_bold {\tfont-weight: normal;\t}\t.ace_italic {\tfont-style: italic;\t}\t.ace_error-marker {\tbackground-color: rgba(255, 0, 0,0.2);\tposition: absolute;\tz-index: 9;\t}\t.ace_highlight-marker {\tbackground-color: rgba(255, 255, 0,0.2);\tposition: absolute;\tz-index: 8;\t}\t.ace_br1 {border-top-left-radius    : 3px;}\t.ace_br2 {border-top-right-radius   : 3px;}\t.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\t.ace_br4 {border-bottom-right-radius: 3px;}\t.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\t.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\t.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\t.ace_br8 {border-bottom-left-radius : 3px;}\t.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\t.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\t.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\t.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\t',"ace_editor.css");var g=function(e,t){var n=this;this.container=e||o.createElement("div"),this.$keepTextAreaAtCursor=!a.isOldIE,o.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=o.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=o.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=o.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var r=this.$textLayer=new u(this.content);this.canvas=r.element,this.$markerFront=new l(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),i.resetOptions(this),i._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var o=this.container;r||(r=o.clientHeight||o.scrollHeight),n||(n=o.clientWidth||o.scrollWidth);var i=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(i|this.$changes,!0):this.$loop.schedule(i|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var o=0,i=this.$size,a={width:i.width,height:i.height,scrollerHeight:i.scrollerHeight,scrollerWidth:i.scrollerWidth};return r&&(e||i.height!=r)&&(i.height=r,o|=this.CHANGE_SIZE,i.scrollerHeight=i.height,this.$horizScroll&&(i.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||i.width!=n)&&(o|=this.CHANGE_SIZE,i.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",i.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)),i.$dirty=!n||!r,o&&this._signal("resize",a),o},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=o.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=o.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var r=this.textarea.style,o=this.lineHeight;if(t<0||t>e.height-o)return void(r.top=r.left="0");var i=this.characterWidth;if(this.$composition){var a=this.textarea.value.replace(/^\x01+/,"");i*=this.session.$getStringScreenWidth(a)[0]+2,o+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-i&&(n=this.$size.scrollerWidth-i),n+=this.gutterWidth,r.height=o+"px",r.width=i+"px",r.left=Math.min(n,this.$size.scrollerWidth-i)+"px",r.top=Math.min(t,this.$size.height-o)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var o=this.scrollMargin;o.top=0|e,o.bottom=0|t,o.right=0|r,o.left=0|n,o.v=o.top+o.bottom,o.h=o.left+o.right,o.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-o.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return void(this.$changes|=e);if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender"))},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight());var r=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var o=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,o,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),o=r*this.lineHeight,i=this.$getLongestLine(),a=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-i-2*this.$padding<0),s=this.$horizScroll!==a;s&&(this.$horizScroll=a,this.scrollBarH.setVisible(a));var l=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var u=this.scrollTop%this.lineHeight,c=t.scrollerHeight+this.lineHeight,f=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;o+=f;var d=this.scrollMargin;this.session.setScrollTop(Math.max(-d.top,Math.min(this.scrollTop,o-t.scrollerHeight+d.bottom))),this.session.setScrollLeft(Math.max(-d.left,Math.min(this.scrollLeft,i+2*this.$padding-t.scrollerWidth+d.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-o+f<0||this.scrollTop>d.top),p=l!==h;p&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var m,g,v=Math.ceil(c/this.lineHeight)-1,b=Math.max(0,Math.round((this.scrollTop-u)/this.lineHeight)),y=b+v,w=this.lineHeight;b=e.screenToDocumentRow(b,0);var x=e.getFoldLine(b);x&&(b=x.start.row),m=e.documentToScreenRow(b,0),g=e.getRowLength(b)*w,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),c=t.scrollerHeight+e.getRowLength(y)*w+g,u=this.scrollTop-m*w;var C=0;return this.layerConfig.width!=i&&(C=this.CHANGE_H_SCROLL),(s||p)&&(C=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),p&&(i=this.$getLongestLine())),this.layerConfig={width:i,padding:this.$padding,firstRow:b,firstRowScreen:m,lastRow:y,lineHeight:w,characterWidth:this.characterWidth,minHeight:c,maxHeight:o,offset:u,gutterOffset:Math.max(0,Math.ceil((u+t.height-t.scrollerHeight)/w)),height:this.$size.scrollerHeight},C},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),o=r.left,i=r.top,a=n&&n.top||0,s=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+a>i?(t&&l+a>i+this.lineHeight&&(i-=t*this.$size.scrollerHeight),0===i&&(i=-this.scrollMargin.top),this.session.setScrollTop(i)):l+this.$size.scrollerHeight-s<i+this.lineHeight&&(t&&l+this.$size.scrollerHeight-s<i-this.lineHeight&&(i+=t*this.$size.scrollerHeight),this.session.setScrollTop(i+this.lineHeight-this.$size.scrollerHeight));var u=this.scrollLeft;u>o?(o<this.$padding+2*this.layerConfig.characterWidth&&(o=-this.scrollMargin.left),this.session.setScrollLeft(o)):u+this.$size.scrollerWidth<o+this.characterWidth?this.session.setScrollLeft(Math.round(o+this.characterWidth-this.$size.scrollerWidth)):u<=this.$padding&&o-u<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,o=n.top-r*(t||0);return this.session.setScrollTop(o),o},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,o=[];for(n=0;n<r;++n)o.push(function(e,t,n){return n*(Math.pow(e-1,3)+1)+t}(n/this.STEPS,e,t-e));return o},this.scrollToLine=function(e,t,n,r){var o=this.$cursorLayer.getPixelPosition({row:e,column:0}),i=o.top;t&&(i-=this.$size.scrollerHeight/2);var a=this.scrollTop;this.session.setScrollTop(i),!1!==n&&this.animateScrolling(a,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var o=this.$scrollAnimation.steps;if(o.length&&(e=o[0])==n)return}var i=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:i},clearInterval(this.$timer),r.session.setScrollTop(i.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){i.length?(r.session.setScrollTop(i.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,o=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),i=Math.round(r);return{row:o,column:i,side:r-i>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),o=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(o,Math.max(r,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),o=this.$padding+Math.round(r.column*this.characterWidth),i=r.row*this.lineHeight;return{pageX:n.left+o-this.scrollLeft,pageY:n.top+i-this.scrollTop}},this.visualizeFocus=function(){o.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){o.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,o.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(o.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(r.$themeId!=e)return t&&t();if(n.cssClass){o.importCssString(n.cssText,n.cssClass,r.container.ownerDocument),r.theme&&o.removeCssClass(r.container,r.theme.cssClass);var i="padding"in n?n.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&i!=r.$padding&&r.setPadding(i),r.$theme=n.cssClass,r.theme=n,o.addCssClass(r.container,n.cssClass),o.setCssClass(r.container,"ace_dark",n.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:n}),t&&t()}}var r=this;if(this.$themeId=e,r._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var a=e||this.$options.theme.initialValue;i.loadModule(["theme",a],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){o.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){o.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),i.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){o.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=o.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=g}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,r){"use strict";var o=e("../lib/oop"),i=e("../lib/net"),a=e("../lib/event_emitter").EventEmitter,s=e("../config"),l=function(t,r,o,i){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)i=i||s.moduleUrl(r.id,"worker");else{var a=this.$normalizePath;i=i||a(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach(function(t){l[t]=a(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{var u=r.src,c=n(66),f=new c([u],{type:"application/javascript"}),d=(window.URL||window.webkitURL).createObjectURL(f);this.$worker=new Worker(d)}catch(e){if(!(e instanceof window.DOMException))throw e;var f=this.$workerBlob(i),h=window.URL||window.webkitURL,p=h.createObjectURL(f);this.$worker=new Worker(p),h.revokeObjectURL(p)}this.$worker.postMessage({init:!0,tlns:l,module:r.id,classname:o}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){o.implement(this,a),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new n;return r.append(t),r.getBlob("application/javascript")}}}).call(l.prototype);var u=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,o=!1,i=Object.create(a),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),r&&(o?setTimeout(u):u())},this.setEmitSync=function(e){o=e};var u=function(){var e=l.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&i._signal(e.event,e.data)};i.postMessage=function(e){l.onMessage({data:e})},i.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},i.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],function(e){for(r=new e[n](i);l.messageBuffer.length;)u()})};u.prototype=l.prototype,t.UIWorkerClient=u,t.WorkerClient=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){"use strict";var r=e("./range").Range,o=e("./lib/event_emitter").EventEmitter,i=e("./lib/oop"),a=function(e,t,n,r,o,i){var a=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=o,this.othersClass=i,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){a.onCursorChange()})},this.$pos=n;var s=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){i.implement(this,o),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var o=this.pos;o.$insertRight=!0,o.detach(),o.markerId=n.addMarker(new r(o.row,o.column,o.row,o.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,o=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,i=t.start.column-this.pos.column;if(this.updateAnchors(e),o&&(this.length+=n),o&&!this.session.$fromUndo)if("insert"===e.action)for(var a=this.others.length-1;a>=0;a--){var s=this.others[a],l={row:s.row,column:s.column+i};this.doc.insertMergedLines(l,e.lines)}else if("remove"===e.action)for(var a=this.others.length-1;a>=0;a--){var s=this.others[a],l={row:s.row,column:s.column+i};this.doc.remove(new r(l.row,l.column,l.row,l.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,o){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),o,null,!1)};n(this.pos,this.mainClass);for(var o=this.others.length;o--;)n(this.others[o],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(a.prototype),t.PlaceHolder=a}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){function r(e,t){return e.row==t.row&&e.column==t.column}function o(e){var t=e.domEvent,n=t.altKey,o=t.shiftKey,s=t.ctrlKey,l=e.getAccelKey(),u=e.getButton();if(s&&a.isMac&&(u=t.button),e.editor.inMultiSelectMode&&2==u)return void e.editor.textInput.onContextMenu(e.domEvent);if(!s&&!n&&!l)return void(0===u&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());if(0===u){var c,f=e.editor,d=f.selection,h=f.inMultiSelectMode,p=e.getDocumentPosition(),m=d.getCursor(),g=e.inSelection()||d.isEmpty()&&r(p,m),v=e.x,b=e.y,y=function(e){v=e.clientX,b=e.clientY},w=f.session,x=f.renderer.pixelToScreenCoordinates(v,b),C=x;if(f.$mouseHandler.$enableJumpToDef)s&&n||l&&n?c=o?"block":"add":n&&f.$blockSelectEnabled&&(c="block");else if(l&&!n){if(c="add",!h&&o)return}else n&&f.$blockSelectEnabled&&(c="block");if(c&&a.isMac&&t.ctrlKey&&f.$mouseHandler.cancelContextMenu(),"add"==c){if(!h&&g)return;if(!h){var k=d.toOrientedRange();f.addSelectionMarker(k)}var _=d.rangeList.rangeAtPoint(p);f.$blockScrolling++,f.inVirtualSelectionMode=!0,o&&(_=null,k=d.ranges[0]||k,f.removeSelectionMarker(k)),f.once("mouseup",function(){var e=d.toOrientedRange();_&&e.isEmpty()&&r(_.cursor,e.cursor)?d.substractPoint(e.cursor):(o?d.substractPoint(k.cursor):k&&(f.removeSelectionMarker(k),d.addRange(k)),d.addRange(e)),f.$blockScrolling--,f.inVirtualSelectionMode=!1})}else if("block"==c){e.stop(),f.inVirtualSelectionMode=!0;var E,A=[],S=function(){var e=f.renderer.pixelToScreenCoordinates(v,b),t=w.screenToDocumentPosition(e.row,e.column);r(C,e)&&r(t,d.lead)||(C=e,f.$blockScrolling++,f.selection.moveToPosition(t),f.renderer.scrollCursorIntoView(),f.removeSelectionMarkers(A),A=d.rectangularRangeBlock(C,x),f.$mouseHandler.$clickSelection&&1==A.length&&A[0].isEmpty()&&(A[0]=f.$mouseHandler.$clickSelection.clone()),A.forEach(f.addSelectionMarker,f),f.updateSelectionMarkers(),f.$blockScrolling--)};f.$blockScrolling++,h&&!l?d.toSingleRange():!h&&l&&(E=d.toOrientedRange(),f.addSelectionMarker(E)),o?x=w.documentToScreenPosition(d.lead):d.moveToPosition(p),f.$blockScrolling--,C={row:-1,column:-1};var O=function(e){clearInterval(D),f.removeSelectionMarkers(A),A.length||(A=[d.toOrientedRange()]),f.$blockScrolling++,E&&(f.removeSelectionMarker(E),d.toSingleRange(E));for(var t=0;t<A.length;t++)d.addRange(A[t]);f.inVirtualSelectionMode=!1,f.$mouseHandler.$clickSelection=null,f.$blockScrolling--},T=S;i.capture(f.container,y,O);var D=setInterval(function(){T()},20);return e.preventDefault()}}}var i=e("../lib/event"),a=e("../lib/useragent");t.onMouseDown=o}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,n){function r(e,t,n){return m.$options.wrap=!0,m.$options.needle=t,m.$options.backwards=-1==n,m.find(e)}function o(e,t){return e.row==t.row&&e.column==t.column}function i(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",c),e.commands.addCommands(h.defaultCommands),a(e))}function a(e){function t(t){r&&(e.renderer.setMouseCursor(""),r=!1)}var n=e.textInput.getElement(),r=!1;f.addListener(n,"keydown",function(n){var o=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);e.$blockSelectEnabled&&o?r||(e.renderer.setMouseCursor("crosshair"),r=!0):r&&t()}),f.addListener(n,"keyup",t),f.addListener(n,"blur",t)}var s=e("./range_list").RangeList,l=e("./range").Range,u=e("./selection").Selection,c=e("./mouse/multi_select_handler").onMouseDown,f=e("./lib/event"),d=e("./lib/lang"),h=e("./commands/multi_select_commands");t.commands=h.defaultCommands.concat(h.multiSelectCommands);var p=e("./search").Search,m=new p,g=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),r=this.isBackwards(),o=n.start.row,i=n.end.row;if(o==i){if(r)var a=n.end,s=n.start;else var a=n.start,s=n.end;return this.addRange(l.fromPoints(s,s)),void this.addRange(l.fromPoints(a,a))}var u=[],c=this.getLineRange(o,!0);c.start.column=n.start.column,u.push(c);for(var f=o+1;f<i;f++)u.push(this.getLineRange(f,!0));c=this.getLineRange(i,!0),c.end.column=n.end.column,u.push(c),u.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.selectionLead),o=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(r,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],i=e.column<t.column;if(i)var a=e.column,s=t.column;else var a=t.column,s=e.column;var u=e.row<t.row;if(u)var c=e.row,f=t.row;else var c=t.row,f=e.row;a<0&&(a=0),c<0&&(c=0),c==f&&(n=!0);for(var d=c;d<=f;d++){var h=l.fromPoints(this.session.screenToDocumentPosition(d,a),this.session.screenToDocumentPosition(d,s));if(h.isEmpty()){if(p&&o(h.end,p))break;var p=h.end}h.cursor=i?h.start:h.end,r.push(h)}if(u&&r.reverse(),!n){for(var m=r.length-1;r[m].isEmpty()&&m>0;)m--;if(m>0)for(var g=0;r[g].isEmpty();)g++;for(var v=m;v>=g;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(u.prototype);var v=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var o=t.indexOf(r);-1!=o&&t.splice(o,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,o=n&&n.keepOrder,i=1==n||n&&n.$byLines,a=this.session,s=this.selection,l=s.rangeList,c=(o?s:l).ranges;if(!c.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var f=s._eventRegistry;s._eventRegistry={};var d=new u(a);this.inVirtualSelectionMode=!0;for(var h=c.length;h--;){if(i)for(;h>0&&c[h].start.row==c[h-1].end.row;)h--;d.fromOrientedRange(c[h]),d.index=h,this.selection=a.selection=d;var p=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===p||(r=p),d.toOrientedRange(c[h])}d.detach(),this.selection=a.selection=s,this.inVirtualSelectionMode=!1,s._eventRegistry=f,s.mergeOverlappingRanges();var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var o=this.session.getDocument().getNewLineCharacter();e=n.join(o),e.length==(n.length-1)*o.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row==t.row&&this.session.$clipPositionToDocument(r.row,r.column).column==t.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var o=this.$search.findAll(this.session);if(!o.length)return 0;this.$blockScrolling+=1;var i=this.multiSelect;n||i.toSingleRange(o[0]);for(var a=o.length;a--;)i.addRange(o[a],!0);return r&&i.rangeList.rangeAtPoint(r.start)&&i.addRange(r,!0),this.$blockScrolling-=1,o.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var i=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())var a=i;else var s=this.session.documentToScreenPosition(r?n.end:n.start),a=this.session.screenToDocumentPosition(s.row+e,s.column);if(r){var u=l.fromPoints(i,a);u.cursor=u.start}else{var u=l.fromPoints(a,i);u.cursor=u.end}if(u.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(u),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,o=r.length;o--;){var i=r[o];if(i.isEmpty()){var a=t.getWordRange(i.start.row,i.start.column);i.start.row=a.start.row,i.start.column=a.start.column,i.end.row=a.end.row,i.end.column=a.end.column}}n.mergeOverlappingRanges();for(var s=[],o=r.length;o--;){var i=r[o];s.unshift(t.getTextRange(i))}e<0?s.unshift(s.pop()):s.push(s.shift());for(var o=r.length;o--;){var i=r[o],a=i.clone();t.replace(i,s[o]),i.start.row=a.start.row,i.start.column=a.start.column}},this.selectMore=function(e,t,n){var o=this.session,i=o.multiSelect,a=i.toOrientedRange();if(!a.isEmpty()||(a=o.getWordRange(a.start.row,a.start.column),a.cursor=-1==e?a.start:a.end,this.multiSelect.addRange(a),!n)){var s=o.getTextRange(a),l=r(o,s,e);l&&(l.cursor=-1==e?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(a.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,o=n.filter(function(e){if(e.cursor.row==r)return!0;r=e.cursor.row});if(n.length&&o.length!=n.length-1){o.forEach(function(e){t.substractPoint(e.cursor)});var i=0,a=1/0,s=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),o=r.substr(n.column).search(/\S/g);return-1==o&&(o=0),n.column>i&&(i=n.column),o<a&&(a=o),o});n.forEach(function(t,n){var r=t.cursor,o=i-r.column,u=s[n]-a;o>u?e.insert(r,d.stringRepeat(" ",o-u)):e.remove(new l(r.row,r.column,r.row,r.column-o+u)),t.start.column=t.end.column=i,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),c=u.start.row,f=u.end.row,h=c==f;if(h){var p,m=this.session.getLength();do{p=this.session.getLine(f)}while(/[=:]/.test(p)&&++f<m);do{p=this.session.getLine(c)}while(/[=:]/.test(p)&&--c>0);c<0&&(c=0),f>=m&&(f=m-1)}var g=this.session.removeFullLines(c,f);g=this.$reAlignText(g,h),this.session.insert({row:c,column:0},g.join("\n")+"\n"),h||(u.start.column=0,u.end.column=g[g.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){function n(e){return d.stringRepeat(" ",e)}function r(e){return e[2]?n(a)+e[2]+n(s-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function o(e){return e[2]?n(a+s-e[2].length)+e[2]+n(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function i(e){return e[2]?n(a)+e[2]+n(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var a,s,l,u=!0,c=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==a?(a=t[1].length,s=t[2].length,l=t[3].length,t):(a+s+l!=t[1].length+t[2].length+t[3].length&&(c=!1),a!=t[1].length&&(u=!1),a>t[1].length&&(a=t[1].length),s<t[2].length&&(s=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?r:u?c?o:r:i)}}).call(v.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=i,e("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(e){i(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",c)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",c))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../../range").Range,o=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var o=/\S/,i=e.getLine(t),a=i.search(o);if(-1!=a){for(var s=n||i.length,l=e.getLength(),u=t,c=t;++t<l;){var f=e.getLine(t).search(o);if(-1!=f){if(f<=a)break;c=t}}if(c>u){var d=e.getLine(c).length;return new r(u,s,c,d)}}},this.openingBracketBlock=function(e,t,n,o,i){var a={row:n,column:o+1},s=e.$findClosingBracket(t,a,i);if(s){var l=e.foldWidgets[s.row];return null==l&&(l=e.getFoldWidget(s.row)),"start"==l&&s.row>a.row&&(s.row--,s.column=e.getLine(s.row).length),r.fromPoints(a,s)}},this.closingBracketBlock=function(e,t,n,o,i){var a={row:n,column:o},s=e.$findOpeningBracket(t,a);if(s)return s.column++,a.column--,r.fromPoints(s,a)}}).call(o.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {\tbackground: #f0f0f0;\tcolor: #333;\t}\t.ace-tm .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8;\t}\t.ace-tm .ace_fold {\tbackground-color: #6B72E6;\t}\t.ace-tm {\tbackground-color: #FFFFFF;\tcolor: black;\t}\t.ace-tm .ace_cursor {\tcolor: black;\t}\t.ace-tm .ace_invisible {\tcolor: rgb(191, 191, 191);\t}\t.ace-tm .ace_storage,\t.ace-tm .ace_keyword {\tcolor: blue;\t}\t.ace-tm .ace_constant {\tcolor: rgb(197, 6, 11);\t}\t.ace-tm .ace_constant.ace_buildin {\tcolor: rgb(88, 72, 246);\t}\t.ace-tm .ace_constant.ace_language {\tcolor: rgb(88, 92, 246);\t}\t.ace-tm .ace_constant.ace_library {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_invalid {\tbackground-color: rgba(255, 0, 0, 0.1);\tcolor: red;\t}\t.ace-tm .ace_support.ace_function {\tcolor: rgb(60, 76, 114);\t}\t.ace-tm .ace_support.ace_constant {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_support.ace_type,\t.ace-tm .ace_support.ace_class {\tcolor: rgb(109, 121, 222);\t}\t.ace-tm .ace_keyword.ace_operator {\tcolor: rgb(104, 118, 135);\t}\t.ace-tm .ace_string {\tcolor: rgb(3, 106, 7);\t}\t.ace-tm .ace_comment {\tcolor: rgb(76, 136, 107);\t}\t.ace-tm .ace_comment.ace_doc {\tcolor: rgb(0, 102, 255);\t}\t.ace-tm .ace_comment.ace_doc.ace_tag {\tcolor: rgb(128, 159, 191);\t}\t.ace-tm .ace_constant.ace_numeric {\tcolor: rgb(0, 0, 205);\t}\t.ace-tm .ace_variable {\tcolor: rgb(49, 132, 149);\t}\t.ace-tm .ace_xml-pe {\tcolor: rgb(104, 104, 91);\t}\t.ace-tm .ace_entity.ace_name.ace_function {\tcolor: #0000A2;\t}\t.ace-tm .ace_heading {\tcolor: rgb(12, 7, 255);\t}\t.ace-tm .ace_list {\tcolor:rgb(185, 6, 144);\t}\t.ace-tm .ace_meta.ace_tag {\tcolor:rgb(0, 22, 142);\t}\t.ace-tm .ace_string.ace_regex {\tcolor: rgb(255, 0, 0)\t}\t.ace-tm .ace_marker-layer .ace_selection {\tbackground: rgb(181, 213, 255);\t}\t.ace-tm.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px white;\t}\t.ace-tm .ace_marker-layer .ace_step {\tbackground: rgb(252, 255, 0);\t}\t.ace-tm .ace_marker-layer .ace_stack {\tbackground: rgb(164, 229, 101);\t}\t.ace-tm .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid rgb(192, 192, 192);\t}\t.ace-tm .ace_marker-layer .ace_active-line {\tbackground: rgba(0, 0, 0, 0.07);\t}\t.ace-tm .ace_gutter-active-line {\tbackground-color : #dcdcdc;\t}\t.ace-tm .ace_marker-layer .ace_selected-word {\tbackground: rgb(250, 250, 255);\tborder: 1px solid rgb(200, 200, 250);\t}\t.ace-tm .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\t}\t',e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var o=(e("./lib/oop"),e("./lib/dom"));e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,o=r.start.row,i=r.end.row,a="add"==e.action,s=o+1;s<i;s++)n[s]&&(n[s].hidden=a);n[i]&&(a?n[o]?n[i].hidden=a:n[o]=n[i]:(n[o]==n[i]&&(n[o]=void 0),n[i].hidden=a))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var o=t.splice(n+1,r);o.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var i=new Array(r);i.unshift(n,0),t.splice.apply(t,i),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=o.createElement("div"),e.el.innerHTML=e.html),e.el&&(o.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight||(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);if(e.$fold=r,r){var i=this.session.lineWidgets;e.row!=r.end.row||i[r.start.row]?e.hidden=!0:i[r.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var o=1/0,i=0;i<n.length;i++){var a=n[i];if(a&&a.el&&a.session==this.session){if(!a._inDocument){if(this.session.lineWidgets[a.row]!=a)continue;a._inDocument=!0,t.container.appendChild(a.el)}a.h=a.el.offsetHeight,a.fixedWidth||(a.w=a.el.offsetWidth,a.screenWidth=Math.ceil(a.w/r.characterWidth));var s=a.h/r.lineHeight;a.coverLine&&(s-=this.session.getRowLineCount(a.row))<0&&(s=0),a.rowCount!=s&&(a.rowCount=s,a.row<o&&(o=a.row))}}o!=1/0&&(this.session._emit("changeFold",{data:{start:{row:o}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var o=Math.min(this.firstRow,n.firstRow),i=Math.max(this.lastRow,n.lastRow,r.length);o>0&&!r[o];)o--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var a=o;a<=i;a++){var s=r[a];if(s&&s.el)if(s.hidden)s.el.style.top=-100-(s.pixelHeight||0)+"px";else{s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el));var l=t.$cursorLayer.getPixelPosition({row:a,column:0},!0).top;s.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=l-n.offset+"px";var u=s.coverGutter?0:t.gutterWidth;s.fixedWidth||(u-=t.scrollLeft),s.el.style.left=u+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=n.width+2*n.padding+"px"),s.fixedWidth?s.el.style.right=t.scrollBar.getWidth()+"px":s.el.style.right=""}}}}}).call(r.prototype),t.LineWidgets=r}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function r(e,t,n){for(var r=0,o=e.length-1;r<=o;){var i=r+o>>1,a=n(t,e[i]);if(a>0)r=i+1;else{if(!(a<0))return i;o=i-1}}return-(r+1)}function o(e,t,n){var o=e.getAnnotations().sort(s.comparePoints);if(o.length){var i=r(o,{row:t,column:-1},s.comparePoints);i<0&&(i=-i-1),i>=o.length?i=n>0?0:o.length-1:0===i&&n<0&&(i=o.length-1);var a=o[i];if(a&&n){if(a.row===t){do{a=o[i+=n]}while(a&&a.row===t);if(!a)return o.slice()}var l=[];t=a.row;do{l[n<0?"unshift":"push"](a),a=o[i+=n]}while(a&&a.row==t);return l.length&&l}}}var i=e("../line_widgets").LineWidgets,a=e("../lib/dom"),s=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var r=e.getCursorPosition(),s=r.row,l=n.widgetManager.getWidgetsAtRow(s).filter(function(e){return"errorMarker"==e.type})[0];l?l.destroy():s-=t;var u,c=o(n,s,t);if(c){var f=c[0];r.column=(f.pos&&"number"!=typeof f.column?f.pos.sc:f.column)||0,r.row=f.row,u=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;u={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var d={row:r.row,fixedWidth:!0,coverGutter:!0,el:a.createElement("div"),type:"errorMarker"},h=d.el.appendChild(a.createElement("div")),p=d.el.appendChild(a.createElement("div"));p.className="error_widget_arrow "+u.className;var m=e.renderer.$cursorLayer.getPixelPosition(r).left;p.style.left=m+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",h.className="error_widget "+u.className,h.innerHTML=u.text.join("<br>"),h.appendChild(a.createElement("div"));var g=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},a.importCssString("\t    .error_widget_wrapper {\t        background: inherit;\t        color: inherit;\t        border:none\t    }\t    .error_widget {\t        border-top: solid 2px;\t        border-bottom: solid 2px;\t        margin: 5px 0;\t        padding: 10px 40px;\t        white-space: pre-wrap;\t    }\t    .error_widget.ace_error, .error_widget_arrow.ace_error{\t        border-color: #ff5a5a\t    }\t    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\t        border-color: #F1D817\t    }\t    .error_widget.ace_info, .error_widget_arrow.ace_info{\t        border-color: #5a5a5a\t    }\t    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\t        border-color: #5aaa5a\t    }\t    .error_widget_arrow {\t        position: absolute;\t        border: solid 5px;\t        border-top-color: transparent!important;\t        border-right-color: transparent!important;\t        border-left-color: transparent!important;\t        top: -5px;\t    }\t","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/dom"),o=e("./lib/event"),i=e("./editor").Editor,a=e("./edit_session").EditSession,s=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.acequire=e,t.edit=function(e){if("string"==typeof e){var n=e;if(!(e=document.getElementById(n)))throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof i)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var s=e;a=s.value,e=r.createElement("pre"),s.parentNode.replaceChild(e,s)}else e&&(a=r.getInnerText(e),e.innerHTML="");var u=t.createEditSession(a),c=new i(new l(e));c.setSession(u);var f={document:u,editor:c,onResize:c.resize.bind(c,null)};return s&&(f.textarea=s),o.addListener(window,"resize",f.onResize),c.on("destroy",function(){o.removeListener(window,"resize",f.onResize),f.editor.container.env=null}),c.container.env=c.env=f,c},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new s),n},t.EditSession=a,t.UndoManager=s,t.version="1.2.3"}),function(){ace.acequire(["ace/ace"],function(e){e&&e.config.init(!0),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),e.exports=window.ace.acequire("ace/ace")},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=function(){if(t.Blob)try{return new Blob(["asdf"],{type:"text/plain"}),Blob}catch(e){}var e=t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return function(t,n){var r=new e,o=n.endings,i=n.type;if(o)for(var a=0,s=t.length;a<s;++a)r.append(t[a],o);else for(var a=0,s=t.length;a<s;++a)r.append(t[a]);return i?r.getBlob(i):r.getBlob()}}()}).call(t,function(){return this}())},function(e,t,n){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:'"',next:"start"},{token:"string",regex:"",next:"start"}]}};r.inherits(i,o),t.JsonHighlightRules=i}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../range").Range,o=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t),o=n.match(/^(\s*\})/);if(!o)return 0;var i=o[1].length,a=e.findMatchingBracket({row:t,column:i});if(!a||a.row==t)return 0;var s=this.$getIndent(e.getLine(a.row));e.replace(new r(t,0,t,i-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(o.prototype),t.MatchingBraceOutdent=o}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";var r,o=e("../../lib/oop"),i=e("../behaviour").Behaviour,a=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],u=["text","paren.rparen","punctuation.operator","comment"],c={},f=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,c.rangeCount!=e.multiSelect.rangeCount&&(c={rangeCount:e.multiSelect.rangeCount})),c[t])return r=c[t];r=c[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},d=function(e,t,n,r){var o=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,o,e.end.column+(o?0:1)]}},h=function(){this.add("braces","insertion",function(e,t,n,o,i){var a=n.getCursorPosition(),l=o.doc.getLine(a.row);if("{"==i){f(n);var u=n.getSelectionRange(),c=o.doc.getTextRange(u);if(""!==c&&"{"!==c&&n.getWrapBehavioursEnabled())return d(u,c,"{","}");if(h.isSaneInsertion(n,o))return/[\]\}\)]/.test(l[a.column])||n.inMultiSelectMode?(h.recordAutoInsert(n,o,"}"),{text:"{}",selection:[1,1]}):(h.recordMaybeInsert(n,o,"{"),{text:"{",selection:[1,1]})}else if("}"==i){f(n);var p=l.substring(a.column,a.column+1);if("}"==p){var m=o.$findOpeningBracket("}",{column:a.column+1,row:a.row});if(null!==m&&h.isAutoInsertedClosing(a,l,i))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==i||"\r\n"==i){f(n);var g="";h.isMaybeInsertedClosing(a,l)&&(g=s.stringRepeat("}",r.maybeInsertedBrackets),h.clearMaybeInsertedClosing());var p=l.substring(a.column,a.column+1);if("}"===p){var v=o.findMatchingBracket({row:a.row,column:a.column+1},"}");if(!v)return null;var b=this.$getIndent(o.getLine(v.row))}else{if(!g)return void h.clearMaybeInsertedClosing();var b=this.$getIndent(l)}var y=b+o.getTabString();return{text:"\n"+y+"\n"+b+g,selection:[1,y.length,1,y.length]}}h.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,n,o,i){var a=o.doc.getTextRange(i);if(!i.isMultiLine()&&"{"==a){f(n);if("}"==o.doc.getLine(i.start.row).substring(i.end.column,i.end.column+1))return i.end.column++,i;r.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,o){if("("==o){f(n);var i=n.getSelectionRange(),a=r.doc.getTextRange(i);if(""!==a&&n.getWrapBehavioursEnabled())return d(i,a,"(",")");if(h.isSaneInsertion(n,r))return h.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==o){f(n);var s=n.getCursorPosition(),l=r.doc.getLine(s.row),u=l.substring(s.column,s.column+1);if(")"==u){var c=r.$findOpeningBracket(")",{column:s.column+1,row:s.row});if(null!==c&&h.isAutoInsertedClosing(s,l,o))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&"("==i){f(n);if(")"==r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2))return o.end.column++,o}}),this.add("brackets","insertion",function(e,t,n,r,o){if("["==o){f(n);var i=n.getSelectionRange(),a=r.doc.getTextRange(i);if(""!==a&&n.getWrapBehavioursEnabled())return d(i,a,"[","]");if(h.isSaneInsertion(n,r))return h.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){f(n);var s=n.getCursorPosition(),l=r.doc.getLine(s.row),u=l.substring(s.column,s.column+1);if("]"==u){var c=r.$findOpeningBracket("]",{column:s.column+1,row:s.row});if(null!==c&&h.isAutoInsertedClosing(s,l,o))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&"["==i){f(n);if("]"==r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2))return o.end.column++,o}}),this.add("string_dquotes","insertion",function(e,t,n,r,o){if('"'==o||"'"==o){f(n);var i=o,a=n.getSelectionRange(),s=r.doc.getTextRange(a);if(""!==s&&"'"!==s&&'"'!=s&&n.getWrapBehavioursEnabled())return d(a,s,i,i);if(!s){var l=n.getCursorPosition(),u=r.doc.getLine(l.row),c=u.substring(l.column-1,l.column),h=u.substring(l.column,l.column+1),p=r.getTokenAt(l.row,l.column),m=r.getTokenAt(l.row,l.column+1);if("\\"==c&&p&&/escape/.test(p.type))return null;var g,v=p&&/string|escape/.test(p.type),b=!m||/string|escape/.test(m.type);if(h==i)g=v!==b;else{if(v&&!b)return null;if(v&&b)return null;var y=r.$mode.tokenRe;y.lastIndex=0;var w=y.test(c);y.lastIndex=0;var x=y.test(c);if(w||x)return null;if(h&&!/[\s;,.})\]\\]/.test(h))return null;g=!0}return{text:g?i+i:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&('"'==i||"'"==i)){f(n);if(r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)==i)return o.end.column++,o}})};h.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new a(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",l)){var o=new a(t,n.row,n.column+1);if(!this.$matchTokenType(o.getCurrentToken()||"text",l))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",u)},h.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},h.recordAutoInsert=function(e,t,n){var o=e.getCursorPosition(),i=t.doc.getLine(o.row);this.isAutoInsertedClosing(o,i,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=o.row,r.autoInsertedLineEnd=n+i.substr(o.column),r.autoInsertedBrackets++},h.recordMaybeInsert=function(e,t,n){var o=e.getCursorPosition(),i=t.doc.getLine(o.row);this.isMaybeInsertedClosing(o,i)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=o.row,r.maybeInsertedLineStart=i.substr(0,o.column)+n,r.maybeInsertedLineEnd=i.substr(o.column),r.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},o.inherits(h,i),t.CstyleBehaviour=h}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=e("../../range").Range,i=e("./fold_mode").FoldMode,a=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(a,i),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var o=this._getFoldWidgetBase(e,t,n);return!o&&this.startRegionRe.test(r)?"start":o},this.getFoldWidgetRange=function(e,t,n,r){var o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);var i=o.match(this.foldingStartMarker);if(i){var a=i.index;if(i[1])return this.openingBracketBlock(e,i[1],n,a);var s=e.getCommentFoldRange(n,a+i[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t){var i=o.match(this.foldingStopMarker);if(i){var a=i.index+i[0].length;return i[1]?this.closingBracketBlock(e,i[1],n,a):e.getCommentFoldRange(n,a,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\S/),i=t,a=n.length;t+=1;for(var s=t,l=e.getLength();++t<l;){n=e.getLine(t);var u=n.search(/\S/);if(-1!==u){if(r>u)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=i)break;if(c.isMultiLine())t=c.end.row;else if(r==u)break}s=t}}return new o(i,a,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),i=e.getLength(),a=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<i;){t=e.getLine(n);var u=s.exec(t);if(u&&(u[1]?l--:l++,!l))break}var c=n;if(c>a)return new o(a,r,c,t.length)}}.call(a.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,t,r){"use strict";var o=e("../lib/oop"),i=e("./text").Mode,a=e("./json_highlight_rules").JsonHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,c=e("../worker/worker_client").WorkerClient,f=function(){this.HighlightRules=a,this.$outdent=new s,this.$behaviour=new l,this.foldingRules=new u};o.inherits(f,i),function(){this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t);if("start"==e){t.match(/^.*[\{\(\[]\s*$/)&&(r+=n)}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new c(["ace"],n(68),"JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/json"}.call(f.prototype),t.Mode=f})},function(e,t){e.exports.id="ace/mode/json_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(e,t){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t,n){"use strict";var r=e("../lib/dom"),o=e("../lib/lang"),i=e("../lib/event"),a=e("../keyboard/hash_handler").HashHandler,s=e("../lib/keys");r.importCssString("\t.ace_search {\tbackground-color: #ddd;\tborder: 1px solid #cbcbcb;\tborder-top: 0 none;\tmax-width: 325px;\toverflow: hidden;\tmargin: 0;\tpadding: 4px;\tpadding-right: 6px;\tpadding-bottom: 0;\tposition: absolute;\ttop: 0px;\tz-index: 99;\twhite-space: normal;\t}\t.ace_search.left {\tborder-left: 0 none;\tborder-radius: 0px 0px 5px 0px;\tleft: 0;\t}\t.ace_search.right {\tborder-radius: 0px 0px 0px 5px;\tborder-right: 0 none;\tright: 0;\t}\t.ace_search_form, .ace_replace_form {\tborder-radius: 3px;\tborder: 1px solid #cbcbcb;\tfloat: left;\tmargin-bottom: 4px;\toverflow: hidden;\t}\t.ace_search_form.ace_nomatch {\toutline: 1px solid red;\t}\t.ace_search_field {\tbackground-color: white;\tborder-right: 1px solid #cbcbcb;\tborder: 0 none;\t-webkit-box-sizing: border-box;\t-moz-box-sizing: border-box;\tbox-sizing: border-box;\tfloat: left;\theight: 22px;\toutline: 0;\tpadding: 0 7px;\twidth: 214px;\tmargin: 0;\t}\t.ace_searchbtn,\t.ace_replacebtn {\tbackground: #fff;\tborder: 0 none;\tborder-left: 1px solid #dcdcdc;\tcursor: pointer;\tfloat: left;\theight: 22px;\tmargin: 0;\tposition: relative;\t}\t.ace_searchbtn:last-child,\t.ace_replacebtn:last-child {\tborder-top-right-radius: 3px;\tborder-bottom-right-radius: 3px;\t}\t.ace_searchbtn:disabled {\tbackground: none;\tcursor: default;\t}\t.ace_searchbtn {\tbackground-position: 50% 50%;\tbackground-repeat: no-repeat;\twidth: 27px;\t}\t.ace_searchbtn.prev {\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    \t}\t.ace_searchbtn.next {\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    \t}\t.ace_searchbtn_close {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\tborder-radius: 50%;\tborder: 0 none;\tcolor: #656565;\tcursor: pointer;\tfloat: right;\tfont: 16px/16px Arial;\theight: 14px;\tmargin: 5px 1px 9px 5px;\tpadding: 0;\ttext-align: center;\twidth: 14px;\t}\t.ace_searchbtn_close:hover {\tbackground-color: #656565;\tbackground-position: 50% 100%;\tcolor: white;\t}\t.ace_replacebtn.prev {\twidth: 54px\t}\t.ace_replacebtn.next {\twidth: 27px\t}\t.ace_button {\tmargin-left: 2px;\tcursor: pointer;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\toverflow: hidden;\topacity: 0.7;\tborder: 1px solid rgba(100,100,100,0.23);\tpadding: 1px;\t-moz-box-sizing: border-box;\tbox-sizing:    border-box;\tcolor: black;\t}\t.ace_button:hover {\tbackground-color: #eee;\topacity:1;\t}\t.ace_button:active {\tbackground-color: #ddd;\t}\t.ace_button.checked {\tborder-color: #3399ff;\topacity:1;\t}\t.ace_search_options{\tmargin-bottom: 3px;\ttext-align: right;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\t}","ace_searchbox");var l='<div class="ace_search right">\t    <button type="button" action="hide" class="ace_searchbtn_close"></button>\t    <div class="ace_search_form">\t        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>\t        <button type="button" action="findNext" class="ace_searchbtn next"></button>\t        <button type="button" action="findPrev" class="ace_searchbtn prev"></button>\t        <button type="button" action="findAll" class="ace_searchbtn" title="Alt-Enter">All</button>\t    </div>\t    <div class="ace_replace_form">\t        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>\t        <button type="button" action="replaceAndFindNext" class="ace_replacebtn">Replace</button>\t        <button type="button" action="replaceAll" class="ace_replacebtn">All</button>\t    </div>\t    <div class="ace_search_options">\t        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>\t        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>\t        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>\t    </div>\t</div>'.replace(/>\s+/g,">"),u=function(e,t,n){var o=r.createElement("div");o.innerHTML=l,this.element=o.firstChild,this.$init(),this.setEditor(e)};(function(){this.setEditor=function(e){e.searchBox=this,e.container.appendChild(this.element),this.editor=e},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOptions=e.querySelector(".ace_search_options"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;i.addListener(e,"mousedown",function(e){setTimeout(function(){t.activeInput.focus()},0),i.stopPropagation(e)}),i.addListener(e,"click",function(e){var n=e.target||e.srcElement,r=n.getAttribute("action");r&&t[r]?t[r]():t.$searchBarKb.commands[r]&&t.$searchBarKb.commands[r].exec(t),i.stopPropagation(e)}),i.addCommandKeyListener(e,function(e,n,r){var o=s.keyCodeToString(r),a=t.$searchBarKb.findKeyCommand(n,o);a&&a.exec&&(a.exec(t),i.stopEvent(e))}),this.$onChange=o.delayedCall(function(){t.find(!1,!1)}),i.addListener(this.searchInput,"input",function(){t.$onChange.schedule(20)}),i.addListener(this.searchInput,"focus",function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()}),i.addListener(this.replaceInput,"focus",function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()})},this.$closeSearchBarKb=new a([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new a,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.searchInput.focus()},"Ctrl-H|Command-Option-F":function(e){e.replaceBox.style.display="",e.replaceInput.focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout(function(){e.hide()})},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}}]),this.$syncOptions=function(){r.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),r.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),r.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.find(!1,!1)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,n){var o=this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:n}),i=!o&&this.searchInput.value;r.setCssClass(this.searchBox,"ace_nomatch",i),this.editor._emit("findSearchBox",{match:!i}),this.highlight()},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),t=!e&&this.searchInput.value;r.setCssClass(this.searchBox,"ace_nomatch",t),this.editor._emit("findSearchBox",{match:!t}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.element.style.display="",this.replaceBox.style.display=t?"":"none",this.isReplace=t,e&&(this.searchInput.value=e),this.find(!1,!1,!0),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(u.prototype),t.SearchBox=u,t.Search=function(e,t){(e.searchBox||new u(e)).show(e.session.getTextRange(),t)}}),function(){ace.acequire(["ace/ext/searchbox"],function(){})}()},function(e,t){ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-jsoneditor",t.cssText='.ace-jsoneditor .ace_gutter {\tbackground: #ebebeb;\tcolor: #333\t}\t\t.ace-jsoneditor.ace_editor {\tfont-family: droid sans mono, consolas, monospace, courier new, courier, sans-serif;\tline-height: 1.3;\t}\t.ace-jsoneditor .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8\t}\t.ace-jsoneditor .ace_scroller {\tbackground-color: #FFFFFF\t}\t.ace-jsoneditor .ace_text-layer {\tcolor: gray\t}\t.ace-jsoneditor .ace_variable {\tcolor: #1a1a1a\t}\t.ace-jsoneditor .ace_cursor {\tborder-left: 2px solid #000000\t}\t.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\tborder-left: 0px;\tborder-bottom: 1px solid #000000\t}\t.ace-jsoneditor .ace_marker-layer .ace_selection {\tbackground: lightgray\t}\t.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #FFFFFF;\tborder-radius: 2px\t}\t.ace-jsoneditor .ace_marker-layer .ace_step {\tbackground: rgb(255, 255, 0)\t}\t.ace-jsoneditor .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid #BFBFBF\t}\t.ace-jsoneditor .ace_marker-layer .ace_active-line {\tbackground: #FFFBD1\t}\t.ace-jsoneditor .ace_gutter-active-line {\tbackground-color : #dcdcdc\t}\t.ace-jsoneditor .ace_marker-layer .ace_selected-word {\tborder: 1px solid lightgray\t}\t.ace-jsoneditor .ace_invisible {\tcolor: #BFBFBF\t}\t.ace-jsoneditor .ace_keyword,\t.ace-jsoneditor .ace_meta,\t.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\tcolor: #AF956F\t}\t.ace-jsoneditor .ace_keyword.ace_operator {\tcolor: #484848\t}\t.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\tcolor: #96DC5F\t}\t.ace-jsoneditor .ace_constant.ace_language {\tcolor: darkorange\t}\t.ace-jsoneditor .ace_constant.ace_numeric {\tcolor: red\t}\t.ace-jsoneditor .ace_constant.ace_character.ace_entity {\tcolor: #BF78CC\t}\t.ace-jsoneditor .ace_invalid {\tcolor: #FFFFFF;\tbackground-color: #FF002A;\t}\t.ace-jsoneditor .ace_fold {\tbackground-color: #AF956F;\tborder-color: #000000\t}\t.ace-jsoneditor .ace_storage,\t.ace-jsoneditor .ace_support.ace_class,\t.ace-jsoneditor .ace_support.ace_function,\t.ace-jsoneditor .ace_support.ace_other,\t.ace-jsoneditor .ace_support.ace_type {\tcolor: #C52727\t}\t.ace-jsoneditor .ace_string {\tcolor: green\t}\t.ace-jsoneditor .ace_comment {\tcolor: #BCC8BA\t}\t.ace-jsoneditor .ace_entity.ace_name.ace_tag,\t.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\tcolor: #606060\t}\t.ace-jsoneditor .ace_markup.ace_underline {\ttext-decoration: underline\t}\t.ace-jsoneditor .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\t}',e("../lib/dom").importCssString(t.cssText,t.cssClass)})}])})},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"jsoneditor-vue"}),e._v(" "),!1!==e.showBtns?n("div",{staticClass:"jsoneditor-btns"},[n("button",{staticClass:"json-save-btn",attrs:{type:"button",disabled:e.error},on:{click:function(t){return e.onSave()}}},[e._v(e._s(e.locale[e.lang].save))])]):e._e()])},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(74)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(76),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-d8fe1692",null);t.default=c.exports},function(e,t,n){var r=n(75);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("4e5f89be",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{multiple:e.multiple,"collapse-tags":"",placeholder:"请选择",clearable:"",filterable:""},on:{change:e.change},model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(78)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(80),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-49351a74",null);t.default=c.exports},function(e,t,n){var r=n(79);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("74425f10",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("el-input",{on:{input:e.change},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("enterClick")}},model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}})],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(82)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(86),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-0e4264f3",null);t.default=c.exports},function(e,t,n){var r=n(83);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("44714822",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".photo-box[data-v-0e4264f3]{float:left;width:146px;height:146px;margin-right:10px}.photo-img[data-v-0e4264f3]{width:100%;height:100%;border-radius:10px}.sort-button[data-v-0e4264f3]{height:40px;width:50px;float:left;border:1px solid #c0ccda;text-align:center}.exceed[data-v-0e4264f3] .el-upload{display:none}.upload_box[data-v-0e4264f3] .el-upload-list__item{transition:none}",""])},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="fb15")}({"02f4":function(e,t,n){var r=n("4588"),o=n("be13");e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l),i<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536)}}},"0390":function(e,t,n){"use strict";var r=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"07e3":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0fc9":function(e,t,n){var r=n("3a38"),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},1654:function(e,t,n){"use strict";var r=n("71c1")(!0);n("30f1")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},1691:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(e,t,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"1bc3":function(e,t,n){var r=n("f772");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(e,t,n){var r=n("f772"),o=n("e53d").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"20fd":function(e,t,n){"use strict";var r=n("d9f6"),o=n("aebd");e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},"214f":function(e,t,n){"use strict";n("b0c5");var r=n("2aba"),o=n("32e9"),i=n("79e5"),a=n("be13"),s=n("2b4c"),l=n("520a"),u=s("species"),c=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),h=!i(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),p=h?!i(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!t}):void 0;if(!h||!p||"replace"===e&&!c||"split"===e&&!f){var m=/./[d],g=n(a,d,""[e],function(e,t,n,r,o){return t.exec===l?h&&!o?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),v=g[0],b=g[1];r(String.prototype,e,v),o(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"230e":function(e,t,n){var r=n("d3f4"),o=n("7726").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"23c6":function(e,t,n){var r=n("2d95"),o=n("2b4c")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},"241e":function(e,t,n){var r=n("25eb");e.exports=function(e){return Object(r(e))}},"25eb":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"294c":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"2aba":function(e,t,n){var r=n("7726"),o=n("32e9"),i=n("69a8"),a=n("ca5a")("src"),s=n("fa5b"),l=(""+s).split("toString");n("8378").inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},"2b4c":function(e,t,n){var r=n("5537")("wks"),o=n("ca5a"),i=n("7726").Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"2fdb":function(e,t,n){"use strict";var r=n("5ca1"),o=n("d2c8");r(r.P+r.F*n("5147")("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"30f1":function(e,t,n){"use strict";var r=n("b8e3"),o=n("63b6"),i=n("9138"),a=n("35e8"),s=n("481b"),l=n("8f60"),u=n("45f2"),c=n("53e2"),f=n("5168")("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,m,g,v){l(n,t,p);var b,y,w,x=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",k="values"==m,_=!1,E=e.prototype,A=E[f]||E["@@iterator"]||m&&E[m],S=A||x(m),O=m?k?x("entries"):S:void 0,T="Array"==t?E.entries||A:A;if(T&&(w=c(T.call(new e)))!==Object.prototype&&w.next&&(u(w,C,!0),r||"function"==typeof w[f]||a(w,f,h)),k&&A&&"values"!==A.name&&(_=!0,S=function(){return A.call(this)}),r&&!v||!d&&!_&&E[f]||a(E,f,S),s[t]=S,s[C]=h,m)if(b={values:k?S:x("values"),keys:g?S:x("keys"),entries:O},v)for(y in b)y in E||i(E,y,b[y]);else o(o.P+o.F*(d||_),t,b);return b}},"32a6":function(e,t,n){var r=n("241e"),o=n("c3a1");n("ce7e")("keys",function(){return function(e){return o(r(e))}})},"32e9":function(e,t,n){var r=n("86cc"),o=n("4630");e.exports=n("9e1e")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"32fc":function(e,t,n){var r=n("e53d").document;e.exports=r&&r.documentElement},"335c":function(e,t,n){var r=n("6b4c");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"355d":function(e,t){t.f={}.propertyIsEnumerable},"35e8":function(e,t,n){var r=n("d9f6"),o=n("aebd");e.exports=n("8e60")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"36c3":function(e,t,n){var r=n("335c"),o=n("25eb");e.exports=function(e){return r(o(e))}},3702:function(e,t,n){var r=n("481b"),o=n("5168")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},"3a38":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"40c3":function(e,t,n){var r=n("6b4c"),o=n("5168")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"45f2":function(e,t,n){var r=n("d9f6").f,o=n("07e3"),i=n("5168")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"469f":function(e,t,n){n("6c1c"),n("1654"),e.exports=n("7d7b")},"481b":function(e,t){e.exports={}},"4aa6":function(e,t,n){e.exports=n("dc62")},"4bf8":function(e,t,n){var r=n("be13");e.exports=function(e){return Object(r(e))}},"4ee1":function(e,t,n){var r=n("5168")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},"50ed":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},5147:function(e,t,n){var r=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},5168:function(e,t,n){var r=n("dbdb")("wks"),o=n("62a0"),i=n("e53d").Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},5176:function(e,t,n){e.exports=n("51b6")},"51b6":function(e,t,n){n("a3c3"),e.exports=n("584a").Object.assign},"520a":function(e,t,n){"use strict";var r=n("0bfb"),o=RegExp.prototype.exec,i=String.prototype.replace,a=o,s=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=void 0!==/()??/.exec("")[1];(s||l)&&(a=function(e){var t,n,a,u,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",r.call(c))),s&&(t=c.lastIndex),a=o.call(c,e),s&&a&&(c.lastIndex=c.global?a.index+a[0].length:t),l&&a&&a.length>1&&i.call(a[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)}),a}),e.exports=a},"53e2":function(e,t,n){var r=n("07e3"),o=n("241e"),i=n("5559")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"549b":function(e,t,n){"use strict";var r=n("d864"),o=n("63b6"),i=n("241e"),a=n("b0dc"),s=n("3702"),l=n("b447"),u=n("20fd"),c=n("7cd6");o(o.S+o.F*!n("4ee1")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=i(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,b=c(d);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==b||h==Array&&s(b))for(t=l(d.length),n=new h(t);t>v;v++)u(n,v,g?m(d[v],v):d[v]);else for(f=b.call(d),n=new h;!(o=f.next()).done;v++)u(n,v,g?a(f,m,[o.value,v],!0):o.value);return n.length=v,n}})},"54a1":function(e,t,n){n("6c1c"),n("1654"),e.exports=n("95d5")},5537:function(e,t,n){var r=n("8378"),o=n("7726"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(e,t,n){var r=n("dbdb")("keys"),o=n("62a0");e.exports=function(e){return r[e]||(r[e]=o(e))}},"584a":function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"5b4e":function(e,t,n){var r=n("36c3"),o=n("b447"),i=n("0fc9");e.exports=function(e){return function(t,n,a){var s,l=r(t),u=o(l.length),c=i(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},"5ca1":function(e,t,n){var r=n("7726"),o=n("8378"),i=n("32e9"),a=n("2aba"),s=n("9b43"),l=function(e,t,n){var u,c,f,d,h=e&l.F,p=e&l.G,m=e&l.S,g=e&l.P,v=e&l.B,b=p?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,y=p?o:o[t]||(o[t]={}),w=y.prototype||(y.prototype={});p&&(n=t);for(u in n)c=!h&&b&&void 0!==b[u],f=(c?b:n)[u],d=v&&c?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,b&&a(b,u,f,e&l.U),y[u]!=f&&i(y,u,d),g&&w[u]!=f&&(w[u]=f)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"5d73":function(e,t,n){e.exports=n("469f")},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"62a0":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"63b6":function(e,t,n){var r=n("e53d"),o=n("584a"),i=n("d864"),a=n("35e8"),s=n("07e3"),l=function(e,t,n){var u,c,f,d=e&l.F,h=e&l.G,p=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,b=h?o:o[t]||(o[t]={}),y=b.prototype,w=h?r:p?r[t]:(r[t]||{}).prototype;h&&(n=t);for(u in n)(c=!d&&w&&void 0!==w[u])&&s(b,u)||(f=c?w[u]:n[u],b[u]=h&&"function"!=typeof w[u]?n[u]:g&&c?i(f,r):v&&w[u]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?i(Function.call,f):f,m&&((b.virtual||(b.virtual={}))[u]=f,e&l.R&&y&&!y[u]&&a(y,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},6762:function(e,t,n){"use strict";var r=n("5ca1"),o=n("c366")(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(e,t,n){var r=n("626a"),o=n("be13");e.exports=function(e){return r(o(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"6c1c":function(e,t,n){n("c367");for(var r=n("e53d"),o=n("35e8"),i=n("481b"),a=n("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],f=c&&c.prototype;f&&!f[a]&&o(f,a,u),i[u]=i.Array}},"71c1":function(e,t,n){var r=n("3a38"),o=n("25eb");e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l),i<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536)}}},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"774e":function(e,t,n){e.exports=n("d2d5")},"77f1":function(e,t,n){var r=n("4588"),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},"794b":function(e,t,n){e.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"7cd6":function(e,t,n){var r=n("40c3"),o=n("5168")("iterator"),i=n("481b");e.exports=n("584a").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},"7d7b":function(e,t,n){var r=n("e4ae"),o=n("7cd6");e.exports=n("584a").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},"7e90":function(e,t,n){var r=n("d9f6"),o=n("e4ae"),i=n("c3a1");e.exports=n("8e60")?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},8378:function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},8436:function(e,t){e.exports=function(){}},"86cc":function(e,t,n){var r=n("cb7c"),o=n("c69a"),i=n("6a99"),a=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},"8e60":function(e,t,n){e.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(e,t,n){"use strict";var r=n("a159"),o=n("aebd"),i=n("45f2"),a={};n("35e8")(a,n("5168")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},9003:function(e,t,n){var r=n("6b4c");e.exports=Array.isArray||function(e){return"Array"==r(e)}},9138:function(e,t,n){e.exports=n("35e8")},9306:function(e,t,n){"use strict";var r=n("c3a1"),o=n("9aa9"),i=n("355d"),a=n("241e"),s=n("335c"),l=Object.assign;e.exports=!l||n("294c")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=o.f,f=i.f;l>u;)for(var d,h=s(arguments[u++]),p=c?r(h).concat(c(h)):r(h),m=p.length,g=0;m>g;)f.call(h,d=p[g++])&&(n[d]=h[d]);return n}:l},9427:function(e,t,n){var r=n("63b6");r(r.S,"Object",{create:n("a159")})},"95d5":function(e,t,n){var r=n("40c3"),o=n("5168")("iterator"),i=n("481b");e.exports=n("584a").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},"9aa9":function(e,t){t.f=Object.getOwnPropertySymbols},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var r=n("2b4c")("unscopables"),o=Array.prototype;void 0==o[r]&&n("32e9")(o,r,{}),e.exports=function(e){o[r][e]=!0}},"9def":function(e,t,n){var r=n("4588"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a159:function(e,t,n){var r=n("e4ae"),o=n("7e90"),i=n("1691"),a=n("5559")("IE_PROTO"),s=function(){},l=function(){var e,t=n("1ec9")("iframe"),r=i.length;for(t.style.display="none",n("32fc").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[i[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:o(n,t)}},a352:function(e,t){e.exports=n(85)},a3c3:function(e,t,n){var r=n("63b6");r(r.S+r.F,"Object",{assign:n("9306")})},a481:function(e,t,n){"use strict";var r=n("cb7c"),o=n("4bf8"),i=n("9def"),a=n("4588"),s=n("0390"),l=n("5f1b"),u=Math.max,c=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};n("214f")("replace",2,function(e,t,n,m){function g(e,t,r,i,a,s){var l=r+e.length,u=i.length,c=h;return void 0!==a&&(a=o(a),c=d),n.call(s,c,function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return n;if(c>u){var d=f(c/10);return 0===d?n:d<=u?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):n}s=i[c-1]}return void 0===s?"":s})}return[function(r,o){var i=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=m(n,e,this,t);if(o.done)return o.value;var f=r(e),d=String(this),h="function"==typeof t;h||(t=String(t));var v=f.global;if(v){var b=f.unicode;f.lastIndex=0}for(var y=[];;){var w=l(f,d);if(null===w)break;if(y.push(w),!v)break;""===String(w[0])&&(f.lastIndex=s(d,i(f.lastIndex),b))}for(var x="",C=0,k=0;k<y.length;k++){w=y[k];for(var _=String(w[0]),E=u(c(a(w.index),d.length),0),A=[],S=1;S<w.length;S++)A.push(p(w[S]));var O=w.groups;if(h){var T=[_].concat(A,E,d);void 0!==O&&T.push(O);var D=String(t.apply(void 0,T))}else D=g(_,d,E,A,O,t);E>=C&&(x+=d.slice(C,E)+D,C=E+_.length)}return x+d.slice(C)}]})},a4bb:function(e,t,n){e.exports=n("8aae")},a745:function(e,t,n){e.exports=n("f410")},aae3:function(e,t,n){var r=n("d3f4"),o=n("2d95"),i=n("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},aebd:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},b0c5:function(e,t,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b0dc:function(e,t,n){var r=n("e4ae");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},b447:function(e,t,n){var r=n("3a38"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},b8e3:function(e,t){e.exports=!0},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var r=n("6821"),o=n("9def"),i=n("77f1");e.exports=function(e){return function(t,n,a){var s,l=r(t),u=o(l.length),c=i(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},c367:function(e,t,n){"use strict";var r=n("8436"),o=n("50ed"),i=n("481b"),a=n("36c3");e.exports=n("30f1")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},c3a1:function(e,t,n){var r=n("e6f3"),o=n("1691");e.exports=Object.keys||function(e){return r(e,o)}},c649:function(e,t,n){"use strict";(function(e){function r(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function o(e,t,n){var r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}n.d(t,"c",function(){return o}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return r});var i=(n("a481"),n("4aa6")),a=n.n(i),s=function(){return"undefined"!=typeof window?window.console:e.console}(),l=/-(\w)/g,u=function(e){var t=a()(null);return function(n){return t[n]||(t[n]=e(n))}}(function(e){return e.replace(l,function(e,t){return t?t.toUpperCase():""})})}).call(this,n("c8ba"))},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},c8bb:function(e,t,n){e.exports=n("54a1")},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce7e:function(e,t,n){var r=n("63b6"),o=n("584a"),i=n("294c");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},d2c8:function(e,t,n){var r=n("aae3"),o=n("be13");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},d2d5:function(e,t,n){n("1654"),n("549b"),e.exports=n("584a").Array.from},d3f4:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},d864:function(e,t,n){var r=n("79aa");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},d9f6:function(e,t,n){var r=n("e4ae"),o=n("794b"),i=n("1bc3"),a=Object.defineProperty;t.f=n("8e60")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},dbdb:function(e,t,n){var r=n("584a"),o=n("e53d"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dc62:function(e,t,n){n("9427");var r=n("584a").Object;e.exports=function(e,t){return r.create(e,t)}},e4ae:function(e,t,n){var r=n("f772");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},e53d:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e6f3:function(e,t,n){var r=n("07e3"),o=n("36c3"),i=n("5b4e")(!1),a=n("5559")("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(u,n)||u.push(n));return u}},f410:function(e,t,n){n("1af6"),e.exports=n("584a").Array.isArray},f559:function(e,t,n){"use strict";var r=n("5ca1"),o=n("9def"),i=n("d2c8"),a="".startsWith;r(r.P+r.F*n("5147")("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},f772:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},fa5b:function(e,t,n){e.exports=n("5537")("native-function-to-string",Function.toString)},fb15:function(e,t,n){"use strict";function r(e){if(S()(e))return e}function o(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=T()(e);!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){return r(e)||o(e,t)||i()}function s(e){if(S()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function l(e){if(L()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return N()(e)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(e){return s(e)||l(e)||u()}function f(e,t,n){return void 0===n?e:(e=e||{},e[t]=n,e)}function d(e,t){return e.map(function(e){return e.elm}).indexOf(t)}function h(e,t,n,r){if(!e)return[];var o=e.map(function(e){return e.elm}),i=t.length-r,a=c(t).map(function(e,t){return t>=i?o.length:o.indexOf(e)});return n?a.filter(function(e){return-1!==e}):a}function p(e,t){var n=this;this.$nextTick(function(){return n.$emit(e.toLowerCase(),t)})}function m(e){var t=this;return function(n){null!==t.realList&&t["onDrag"+e](n),p.call(t,e,n)}}function g(e){return["transition-group","TransitionGroup"].includes(e)}function v(e){if(!e||1!==e.length)return!1;var t=a(e,1),n=t[0].componentOptions;return!!n&&g(n.tag)}function b(e,t,n){return e[n]||(t[n]?t[n]():void 0)}function y(e,t,n){var r=0,o=0,i=b(t,n,"header");i&&(r=i.length,e=e?[].concat(c(i),c(e)):c(i));var a=b(t,n,"footer");return a&&(o=a.length,e=e?[].concat(c(e),c(a)):c(a)),{children:e,headerOffset:r,footerOffset:o}}function w(e,t){var n=null,r=function(e,t){n=f(n,e,t)};if(r("attrs",E()(e).filter(function(e){return"id"===e||e.startsWith("data-")}).reduce(function(t,n){return t[n]=e[n],t},{})),!t)return n;var o=t.on,i=t.props,a=t.attrs;return r("on",o),r("props",i),k()(n.attrs,a),n}if(n.r(t),"undefined"!=typeof window){var x;(x=window.document.currentScript)&&(x=x.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=x[1])}var C=n("5176"),k=n.n(C),_=(n("f559"),n("a4bb")),E=n.n(_),A=n("a745"),S=n.n(A),O=n("5d73"),T=n.n(O),D=(n("6762"),n("2fdb"),n("774e")),N=n.n(D),F=n("c8bb"),L=n.n(F),P=n("a352"),B=n.n(P),R=n("c649"),q=["Start","Add","Remove","Update","End"],M=["Choose","Unchoose","Sort","Filter","Clone"],j=["Move"].concat(q,M).map(function(e){return"on"+e}),I=null,$={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},z={name:"draggable",inheritAttrs:!1,props:$,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=v(t);var n=y(t,this.$slots,this.$scopedSlots),r=n.children,o=n.headerOffset,i=n.footerOffset;this.headerOffset=o,this.footerOffset=i;var a=w(this.$attrs,this.componentData);return e(this.getTag(),a,r)},created:function(){null!==this.list&&null!==this.value&&R.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&R.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&R.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var t={};q.forEach(function(n){t["on"+n]=m.call(e,n)}),M.forEach(function(n){t["on"+n]=p.bind(e,n)});var n=E()(this.$attrs).reduce(function(t,n){return t[Object(R.a)(n)]=e.$attrs[n],t},{}),r=k()({},this.options,n,t,{onMove:function(t,n){return e.onDragMove(t,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new B.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var e=this._vnode.fnOptions;return e&&e.functional},getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var n=Object(R.a)(t);-1===j.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick(function(){e.visibleIndexes=h(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)})},getUnderlyingVm:function(e){var t=d(this.getChildrenNodes()||[],e);return-1===t?null:{index:t,element:this.realList[t]}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&g(t.$options._componentTag)?t.$parent:!("realList"in t)&&1===t.$children.length&&"realList"in t.$children[0]?t.$children[0]:t},emitChanges:function(e){var t=this;this.$nextTick(function(){t.$emit("change",e)})},alterList:function(e){if(this.list)return void e(this.list);var t=c(this.value);e(t),this.$emit("input",t)},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,c(e))};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var o=r.realList,i={list:o,component:r};if(t!==n&&o&&r.getUnderlyingVm){var a=r.getUnderlyingVm(n);if(a)return k()(a,i)}return i},getVmIndex:function(e){var t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[e].data=null;var t=this.getComponent();t.children=[],t.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),I=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){Object(R.d)(e.item);var n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();var r={element:t,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(e){if(Object(R.c)(this.rootContainer,e.item,e.oldIndex),"clone"===e.pullMode)return void Object(R.d)(e.clone);var t=this.context.index;this.spliceList(t,1);var n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate:function(e){Object(R.d)(e.item),Object(R.c)(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);var r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=c(t.to.children).filter(function(e){return"none"!==e.style.display}),r=n.indexOf(t.related),o=e.component.getVmIndex(r);return-1===n.indexOf(I)&&t.willInsertAfter?o+1:o},onDragMove:function(e,t){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(e),o=this.context,i=this.computeFutureIndex(r,e);return k()(o,{futureIndex:i}),n(k()({},e,{relatedContext:r,draggedContext:o}),t)},onDragEnd:function(){this.computeIndexes(),I=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",z);var H=z;t.default=H}}).default},function(e,t,n){var r,o;/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
!function(i){"use strict";r=i,void 0!==(o="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}(function(){"use strict";function e(t,n){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=n=_({},n),t[me]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Me(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:be(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==e.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var i in r)!(i in n)&&(n[i]=r[i]);Ke(n);for(var a in this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!n.forceFallback&&De,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?o(t,"pointerdown",this._onTapStart):(o(t,"mousedown",this._onTapStart),o(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(o(t,"dragover",this),o(t,"dragenter",this)),ce.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[])}function t(e,t,r,o){if(e){r=r||ve;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&x(e,t):x(e,t))||o&&e===r)return e;if(e===r)break}while(e=n(e))}return null}function n(e){return e.host&&e!==ve&&e.host.nodeType?e.host:e.parentNode}function r(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function o(e,t,n){e.addEventListener(t,n,!ke&&Ce)}function i(e,t,n){e.removeEventListener(t,n,!ke&&Ce)}function a(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(pe," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(pe," ")}}function s(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return ve.defaultView&&ve.defaultView.getComputedStyle?n=ve.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function l(e){var t="";do{var n=s(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function u(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function c(e,t,n,r,o,i,a,s,l,u,c){e=e||t[me];var f,d=e.options,h="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||ke||_e?(f=ve.createEvent("Event"),f.initEvent(n,!0,!0)):f=new CustomEvent(n,{bubbles:!0,cancelable:!0}),f.to=o||t,f.from=i||t,f.item=r||t,f.clone=B,f.oldIndex=a,f.newIndex=s,f.oldDraggableIndex=l,f.newDraggableIndex=u,f.originalEvent=c,f.pullMode=K?K.lastPutMode:void 0,t&&t.dispatchEvent(f),d[h]&&d[h].call(e,f)}function f(e,t,n,r,o,i,a,s){var l,u,c=e[me],f=c.options.onMove;return!window.CustomEvent||ke||_e?(l=ve.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||T(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),f&&(u=f.call(c,l,a)),u}function d(e){e.draggable=!1}function h(){Fe=!1}function p(e,n,r){for(var o=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==P&&a[i]!==F&&t(a[i],r.draggable,e,!1)){if(o===n)return a[i];o++}i++}return null}function m(e){for(var t=e.lastElementChild;t&&(t===P||"none"===s(t,"display"));)t=t.previousElementSibling;return t||null}function g(e,t,n){var r=T(m(n)),o="vertical"===t?e.clientY:e.clientX,i="vertical"===t?e.clientX:e.clientY,a="vertical"===t?r.bottom:r.right,s="vertical"===t?r.left:r.top,l="vertical"===t?r.right:r.bottom;return"vertical"===t?i>l+10||i<=l&&o>a&&i>=s:o>a&&i>s||o<=a&&i>l+10}function v(e,t,n,r,o,i,a){var s=T(t),l="vertical"===n?e.clientY:e.clientX,u="vertical"===n?s.height:s.width,c="vertical"===n?s.top:s.left,f="vertical"===n?s.bottom:s.right,d=T(F),h=!1;if(!i)if(a&&re<u*r)if(!fe&&(1===te?l>c+u*o/2:l<f-u*o/2)&&(fe=!0),fe)h=!0;else{"vertical"===n?d.top:d.left,"vertical"===n?d.bottom:d.right;if(1===te?l<c+re:l>f-re)return-1*te}else if(l>c+u*(1-r)/2&&l<f-u*(1-r)/2)return b(t);return h=h||i,h&&(l<c+u*o/2||l>f-u*o/2)?l>c+u/2?1:-1:0}function b(e){return w(F)<w(e)?1:-1}function y(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function w(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||e===B||t&&!x(e,t)||n++;return n}function x(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function C(e,t){return function(){if(!Ze){var n=arguments,r=this;Ze=ye(function(){1===n.length?e.call(r,n[0]):e.apply(r,n),Ze=void 0},t)}}}function k(){clearTimeout(Ze),Ze=void 0}function _(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function E(e){return xe&&xe.dom?xe.dom(e).cloneNode(!0):we?we(e).clone(!0)[0]:e.cloneNode(!0)}function A(e){qe.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&qe.push(r)}}function S(e){return ye(e,0)}function O(e){return clearTimeout(e)}function T(e,t,n,r){if(e.getBoundingClientRect||e===ge){var o,i,a,u,c,f,d;if(e!==ge&&e!==He()?(o=e.getBoundingClientRect(),i=o.top,a=o.left,u=o.bottom,c=o.right,f=o.height,d=o.width):(i=0,a=0,u=window.innerHeight,c=window.innerWidth,f=window.innerHeight,d=window.innerWidth),r&&e!==ge&&(n=n||e.parentNode,!ke))do{if(n&&n.getBoundingClientRect&&"none"!==s(n,"transform")){var h=n.getBoundingClientRect();i-=h.top+be(s(n,"border-top-width")),a-=h.left+be(s(n,"border-left-width")),u=i+o.height,c=a+o.width;break}}while(n=n.parentNode);if(t&&e!==ge){var p=l(n||e),m=p&&p.a,g=p&&p.d;p&&(i/=g,a/=m,d/=m,f/=g,u=i+f,c=a+d)}return{top:i,left:a,bottom:u,right:c,width:d,height:f}}}function D(e,t){for(var n=ze(e,!0),r=T(e)[t];n;){var o=T(n)[t];if(!("top"===t||"left"===t?r>=o:r<=o))return n;if(n===He())break;n=ze(n,!1)}return!1}function N(e){var t=0,n=0,r=He();if(e)do{var o=l(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var F,L,P,B,R,q,M,j,I,$,z,H,V,U,W,K,G,Y,X,J,Z,Q,ee,te,ne,re,oe,ie,ae=[],se=!1,le=!1,ue=!1,ce=[],fe=!1,de=!1,he=[],pe=/\s+/g,me="Sortable"+(new Date).getTime(),ge=window,ve=ge.document,be=ge.parseInt,ye=ge.setTimeout,we=ge.jQuery||ge.Zepto,xe=ge.Polymer,Ce={capture:!1,passive:!1},ke=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),_e=!!navigator.userAgent.match(/Edge/i),Ee=!!navigator.userAgent.match(/firefox/i),Ae=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),Se=!!navigator.userAgent.match(/iP(ad|od|hone)/i),Oe=Se,Te=_e||ke?"cssFloat":"float",De="draggable"in ve.createElement("div"),Ne=function(){if(ke)return!1;var e=ve.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),Fe=!1,Le=!1,Pe=Math.abs,Be=Math.min,Re=Math.max,qe=[],Me=function(e,t){var n=s(e),r=be(n.width)-be(n.paddingLeft)-be(n.paddingRight)-be(n.borderLeftWidth)-be(n.borderRightWidth),o=p(e,0,t),i=p(e,1,t),a=o&&s(o),l=i&&s(i),u=a&&be(a.marginLeft)+be(a.marginRight)+T(o).width,c=l&&be(l.marginLeft)+be(l.marginRight)+T(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&"none"!==a.float){var f="left"===a.float?"left":"right";return!i||"both"!==l.clear&&l.clear!==f?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||u>=r&&"none"===n[Te]||i&&"none"===n[Te]&&u+c>r)?"vertical":"horizontal"},je=function(e,t){for(var n=0;n<ce.length;n++)if(!m(ce[n])){var r=T(ce[n]),o=ce[n][me].options.emptyInsertThreshold,i=e>=r.left-o&&e<=r.right+o,a=t>=r.top-o&&t<=r.bottom+o;if(o&&i&&a)return ce[n]}},Ie=function(e,t,n,r,o){var i=T(n),a="vertical"===r?i.left:i.top,s="vertical"===r?i.right:i.bottom,l="vertical"===r?e:t;return a<l&&l<s},$e=function(e,t,n){var r=e===F&&ie||T(e),o=t===F&&ie||T(t),i="vertical"===n?r.left:r.top,a="vertical"===n?r.right:r.bottom,s="vertical"===n?r.width:r.height,l="vertical"===n?o.left:o.top,u="vertical"===n?o.right:o.bottom,c="vertical"===n?o.width:o.height;return i===l||a===u||i+s/2===l+c/2},ze=function(e,t){if(!e||!e.getBoundingClientRect)return He();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=s(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n||!n.getBoundingClientRect||n===ve.body)return He();if(r||t)return n;r=!0}}}while(n=n.parentNode);return He()},He=function(){return ke?ve.documentElement:ve.scrollingElement},Ve=function(e,t,n){e.scrollLeft+=t,e.scrollTop+=n},Ue=C(function(t,n,r,o){if(n.scroll){var i=r?r[me]:window,a=n.scrollSensitivity,l=n.scrollSpeed,u=t.clientX,c=t.clientY,f=He(),d=!1;I!==r&&(We(),j=n.scroll,$=n.scrollFn,!0===j&&(j=ze(r,!0),I=j));var h=0,p=j;do{var m,g,v,b,y,w,x,C,k,_=p,E=T(_),A=E.top,S=E.bottom,O=E.left,D=E.right,N=E.width,F=E.height;if(m=_.scrollWidth,g=_.scrollHeight,v=s(_),C=_.scrollLeft,k=_.scrollTop,_===f?(w=N<m&&("auto"===v.overflowX||"scroll"===v.overflowX||"visible"===v.overflowX),x=F<g&&("auto"===v.overflowY||"scroll"===v.overflowY||"visible"===v.overflowY)):(w=N<m&&("auto"===v.overflowX||"scroll"===v.overflowX),x=F<g&&("auto"===v.overflowY||"scroll"===v.overflowY)),b=w&&(Pe(D-u)<=a&&C+N<m)-(Pe(O-u)<=a&&!!C),y=x&&(Pe(S-c)<=a&&k+F<g)-(Pe(A-c)<=a&&!!k),!ae[h])for(var L=0;L<=h;L++)ae[L]||(ae[L]={});ae[h].vx==b&&ae[h].vy==y&&ae[h].el===_||(ae[h].el=_,ae[h].vx=b,ae[h].vy=y,clearInterval(ae[h].pid),!_||0==b&&0==y||(d=!0,ae[h].pid=setInterval(function(){o&&0===this.layer&&(e.active._emulateDragOver(!0),e.active._onTouchMove(Z,!0));var n=ae[this.layer].vy?ae[this.layer].vy*l:0,r=ae[this.layer].vx?ae[this.layer].vx*l:0;"function"==typeof $&&"continue"!==$.call(i,r,n,t,Z,ae[this.layer].el)||Ve(ae[this.layer].el,r,n)}.bind({layer:h}),24))),h++}while(n.bubbleScroll&&p!==f&&(p=ze(p,!1)));se=d}},30),We=function(){ae.forEach(function(e){clearInterval(e.pid)}),ae=[]},Ke=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var l=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==typeof r||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Ge=function(e){F&&F.parentNode&&F.parentNode[me]&&F.parentNode[me]._computeIsAligned(e)},Ye=function(){!Ne&&P&&s(P,"display","none")},Xe=function(){!Ne&&P&&s(P,"display","")};ve.addEventListener("click",function(e){if(ue)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ue=!1,!1},!0);var Je=function(e){if(F){e=e.touches?e.touches[0]:e;var t=je(e.clientX,e.clientY);if(t){var n={};for(var r in e)n[r]=e[r];n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[me]._onDragOver(n)}}};e.prototype={constructor:e,_computeIsAligned:function(e){var n;if(P&&!Ne?(Ye(),n=ve.elementFromPoint(e.clientX,e.clientY),Xe()):n=e.target,n=t(n,this.options.draggable,this.el,!1),!Le&&F&&F.parentNode===this.el){for(var r=this.el.children,o=0;o<r.length;o++)t(r[o],this.options.draggable,this.el,!1)&&r[o]!==n&&(r[o].sortableMouseAligned=Ie(e.clientX,e.clientY,r[o],this._getDirection(e,null),this.options));t(n,this.options.draggable,this.el,!0)||(ee=null),Le=!0,ye(function(){Le=!1},30)}},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,F):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n,r,o=this,i=this.el,a=this.options,s=a.preventOnFilter,l=e.type,u=e.touches&&e.touches[0],f=(u||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||f,h=a.filter;if(A(i),!F&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||a.disabled||d.isContentEditable||(f=t(f,a.draggable,i,!1),M===f))){if(n=w(f),r=w(f,a.draggable),"function"==typeof h){if(h.call(this,e,f,this))return c(o,d,"filter",f,i,i,n,void 0,r),void(s&&e.cancelable&&e.preventDefault())}else if(h&&(h=h.split(",").some(function(e){if(e=t(d,e.trim(),i,!1))return c(o,e,"filter",f,i,i,n,void 0,r),!0})))return void(s&&e.cancelable&&e.preventDefault());a.handle&&!t(d,a.handle,i,!1)||this._prepareDragStart(e,u,f,n,r)}}},_handleAutoScroll:function(e,t){if(F&&this.options.scroll){var n=e.clientX,r=e.clientY,o=ve.elementFromPoint(n,r),i=this;if(t||_e||ke||Ae){Ue(e,i.options,o,t);var a=ze(o,!0);!se||G&&n===Y&&r===X||(G&&clearInterval(G),G=setInterval(function(){if(F){var o=ze(ve.elementFromPoint(n,r),!0);o!==a&&(a=o,We(),Ue(e,i.options,a,t))}},10),Y=n,X=r)}else{if(!i.options.bubbleScroll||ze(o,!0)===He())return void We();Ue(e,i.options,ze(o,!1),!1)}}},_prepareDragStart:function(e,t,n,r,i){var s,l=this,f=l.el,h=l.options,p=f.ownerDocument;n&&!F&&n.parentNode===f&&(R=f,F=n,L=F.parentNode,q=F.nextSibling,M=n,W=h.group,z=r,V=i,J={target:F,clientX:(t||e).clientX,clientY:(t||e).clientY},this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,F.style["will-change"]="all",F.style.transition="",F.style.transform="",s=function(){l._disableDelayedDragEvents(),!Ee&&l.nativeDraggable&&(F.draggable=!0),l._triggerDragStart(e,t),c(l,R,"choose",F,R,R,z,void 0,V),a(F,h.chosenClass,!0)},h.ignore.split(",").forEach(function(e){u(F,e.trim(),d)}),o(p,"dragover",Je),o(p,"mousemove",Je),o(p,"touchmove",Je),o(p,"mouseup",l._onDrop),o(p,"touchend",l._onDrop),o(p,"touchcancel",l._onDrop),Ee&&this.nativeDraggable&&(this.options.touchStartThreshold=4,F.draggable=!0),!h.delay||h.delayOnTouchOnly&&!t||this.nativeDraggable&&(_e||ke)?s():(o(p,"mouseup",l._disableDelayedDrag),o(p,"touchend",l._disableDelayedDrag),o(p,"touchcancel",l._disableDelayedDrag),o(p,"mousemove",l._delayedDragTouchMoveHandler),o(p,"touchmove",l._delayedDragTouchMoveHandler),h.supportPointer&&o(p,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=ye(s,h.delay)))},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Re(Pe(t.clientX-this._lastX),Pe(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){F&&d(F),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;i(e,"mouseup",this._disableDelayedDrag),i(e,"touchend",this._disableDelayedDrag),i(e,"touchcancel",this._disableDelayedDrag),i(e,"mousemove",this._delayedDragTouchMoveHandler),i(e,"touchmove",this._delayedDragTouchMoveHandler),i(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||("touch"==e.pointerType?e:null),!this.nativeDraggable||t?this.options.supportPointer?o(ve,"pointermove",this._onTouchMove):t?o(ve,"touchmove",this._onTouchMove):o(ve,"mousemove",this._onTouchMove):(o(F,"dragend",this),o(R,"dragstart",this._onDragStart));try{ve.selection?S(function(){ve.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(t,n){if(le=!1,R&&F){this.nativeDraggable&&(o(ve,"dragover",this._handleAutoScroll),o(ve,"dragover",Ge));var r=this.options;!t&&a(F,r.dragClass,!1),a(F,r.ghostClass,!0),s(F,"transform",""),e.active=this,t&&this._appendGhost(),c(this,R,"start",F,R,R,z,void 0,V,void 0,n)}else this._nulling()},_emulateDragOver:function(e){if(Z){if(this._lastX===Z.clientX&&this._lastY===Z.clientY&&!e)return;this._lastX=Z.clientX,this._lastY=Z.clientY,Ye();for(var t=ve.elementFromPoint(Z.clientX,Z.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Z.clientX,Z.clientY))!==n;)n=t;if(n)do{if(n[me]){if(n[me]._onDragOver({clientX:Z.clientX,clientY:Z.clientY,target:t,rootEl:n})&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);F.parentNode[me]._computeIsAligned(Z),Xe()}},_onTouchMove:function(t,n){if(J){var r=this.options,o=r.fallbackTolerance,i=r.fallbackOffset,a=t.touches?t.touches[0]:t,u=P&&l(P),c=P&&u&&u.a,f=P&&u&&u.d,d=Oe&&oe&&N(oe),h=(a.clientX-J.clientX+i.x)/(c||1)+(d?d[0]-he[0]:0)/(c||1),p=(a.clientY-J.clientY+i.y)/(f||1)+(d?d[1]-he[1]:0)/(f||1),m=t.touches?"translate3d("+h+"px,"+p+"px,0)":"translate("+h+"px,"+p+"px)";if(!e.active&&!le){if(o&&Be(Pe(a.clientX-this._lastX),Pe(a.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}!n&&this._handleAutoScroll(a,!0),Q=!0,Z=a,s(P,"webkitTransform",m),s(P,"mozTransform",m),s(P,"msTransform",m),s(P,"transform",m),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!P){var e=this.options.fallbackOnBody?ve.body:R,t=T(F,!0,e,!Oe),n=(s(F),this.options);if(Oe){for(oe=e;"static"===s(oe,"position")&&"none"===s(oe,"transform")&&oe!==ve;)oe=oe.parentNode;if(oe!==ve){var r=T(oe,!0);t.top-=r.top,t.left-=r.left}oe!==ve.body&&oe!==ve.documentElement?(oe===ve&&(oe=He()),t.top+=oe.scrollTop,t.left+=oe.scrollLeft):oe=He(),he=N(oe)}P=F.cloneNode(!0),a(P,n.ghostClass,!1),a(P,n.fallbackClass,!0),a(P,n.dragClass,!0),s(P,"box-sizing","border-box"),s(P,"margin",0),s(P,"top",t.top),s(P,"left",t.left),s(P,"width",t.width),s(P,"height",t.height),s(P,"opacity","0.8"),s(P,"position",Oe?"absolute":"fixed"),s(P,"zIndex","100000"),s(P,"pointerEvents","none"),e.appendChild(P)}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,l=n.options;B=E(F),B.draggable=!1,B.style["will-change"]="",this._hideClone(),a(B,n.options.chosenClass,!1),n._cloneId=S(function(){n.options.removeCloneOnHide||R.insertBefore(B,F),c(n,R,"clone",F)}),!t&&a(F,l.dragClass,!0),t?(ue=!0,n._loopId=setInterval(n._emulateDragOver,50)):(i(ve,"mouseup",n._onDrop),i(ve,"touchend",n._onDrop),i(ve,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",l.setData&&l.setData.call(n,r,F)),o(ve,"drop",n),s(F,"transform","translateZ(0)")),le=!0,n._dragStartId=S(n._dragStarted.bind(n,t,e)),o(ve,"selectstart",n),Ae&&s(ve.body,"user-select","none")},_onDragOver:function(n){function r(t){return t&&(C?x._hideClone():x._showClone(_),x&&(a(F,K?K.options.ghostClass:x.options.ghostClass,!1),a(F,p.ghostClass,!0)),K!==_&&_!==e.active?K=_:_===e.active&&(K=null),i&&_._animate(i,F),d&&s&&_._animate(s,d)),(d===F&&!F.animated||d===u&&!d.animated)&&(ee=null),p.dragoverBubble||n.rootEl||d===ve||(_._handleAutoScroll(n),F.parentNode[me]._computeIsAligned(n),!t&&Je(n)),!p.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),!0}function o(){c(_,R,"change",d,u,R,z,w(F),V,w(F,p.draggable),n)}var i,s,l,u=this.el,d=n.target,p=this.options,y=p.group,x=e.active,C=W===y,k=p.sort,_=this;if(!Fe){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),Q=!0,d=t(d,p.draggable,u,!0),F.contains(n.target)||d.animated)return r(!1);if(d!==F&&(ue=!1),x&&!p.disabled&&(C?k||(l=!R.contains(F)):K===this||(this.lastPutMode=W.checkPull(this,x,F,n))&&y.checkPut(this,x,F,n))){var E=this._getDirection(n,d);if(i=T(F),l)return this._hideClone(),L=R,q?R.insertBefore(F,q):R.appendChild(F),r(!0);var A=m(u);if(!A||g(n,E,u)&&!A.animated){if(A&&u===n.target&&(d=A),d&&(s=T(d)),C?x._hideClone():x._showClone(this),!1!==f(R,u,F,i,d,s,n,!!d))return u.appendChild(F),L=u,ie=null,o(),r(!0)}else if(d&&d!==F&&d.parentNode===u){var S,O=0,N=d.sortableMouseAligned,P=F.parentNode!==u,B="vertical"===E?"top":"left",M=D(d,"top")||D(F,"top"),j=M?M.scrollTop:void 0;if(ee!==d&&(ne=null,S=T(d)[B],fe=!1),$e(F,d,E)&&N||P||M||p.invertSwap||"insert"===ne||"swap"===ne?("swap"!==ne&&(de=p.invertSwap||P),O=v(n,d,E,p.swapThreshold,null==p.invertedSwapThreshold?p.swapThreshold:p.invertedSwapThreshold,de,ee===d),ne="swap"):(O=b(d),ne="insert"),0===O)return r(!1);ie=null,ee=d,te=O,s=T(d);var I=d.nextElementSibling,$=!1;$=1===O;var H=f(R,u,F,i,d,s,n,$);if(!1!==H)return 1!==H&&-1!==H||($=1===H),Fe=!0,ye(h,30),C?x._hideClone():x._showClone(this),$&&!I?u.appendChild(F):d.parentNode.insertBefore(F,$?I:d),M&&Ve(M,0,j-M.scrollTop),L=F.parentNode,void 0===S||de||(re=Pe(S-T(d)[B])),o(),r(!0)}if(u.contains(F))return r(!1)}return!1}},_animate:function(e,t){var n=this.options.animation;if(n){var r=T(t);if(t===F&&(ie=r),1===e.nodeType&&(e=T(e)),e.left+e.width/2!==r.left+r.width/2||e.top+e.height/2!==r.top+r.height/2){var o=l(this.el),i=o&&o.a,a=o&&o.d;s(t,"transition","none"),s(t,"transform","translate3d("+(e.left-r.left)/(i||1)+"px,"+(e.top-r.top)/(a||1)+"px,0)"),this._repaint(t),s(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),s(t,"transform","translate3d(0,0,0)")}"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=ye(function(){s(t,"transition",""),s(t,"transform",""),t.animated=!1},n)}},_repaint:function(e){return e.offsetWidth},_offMoveEvents:function(){i(ve,"touchmove",this._onTouchMove),i(ve,"pointermove",this._onTouchMove),i(ve,"dragover",Je),i(ve,"mousemove",Je),i(ve,"touchmove",Je)},_offUpEvents:function(){var e=this.el.ownerDocument;i(e,"mouseup",this._onDrop),i(e,"touchend",this._onDrop),i(e,"pointerup",this._onDrop),i(e,"touchcancel",this._onDrop),i(ve,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;le=!1,se=!1,de=!1,fe=!1,clearInterval(this._loopId),clearInterval(G),We(),k(),clearTimeout(this._dragStartTimer),O(this._cloneId),O(this._dragStartId),i(ve,"mousemove",this._onTouchMove),this.nativeDraggable&&(i(ve,"drop",this),i(n,"dragstart",this._onDragStart),i(ve,"dragover",this._handleAutoScroll),i(ve,"dragover",Ge)),Ae&&s(ve.body,"user-select",""),this._offMoveEvents(),this._offUpEvents(),t&&(Q&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),P&&P.parentNode&&P.parentNode.removeChild(P),(R===L||K&&"clone"!==K.lastPutMode)&&B&&B.parentNode&&B.parentNode.removeChild(B),F&&(this.nativeDraggable&&i(F,"dragend",this),d(F),F.style["will-change"]="",a(F,K?K.options.ghostClass:this.options.ghostClass,!1),a(F,this.options.chosenClass,!1),c(this,R,"unchoose",F,L,R,z,null,V,null,t),R!==L?(H=w(F),U=w(F,r.draggable),H>=0&&(c(null,L,"add",F,L,R,z,H,V,U,t),c(this,R,"remove",F,L,R,z,H,V,U,t),c(null,L,"sort",F,L,R,z,H,V,U,t),c(this,R,"sort",F,L,R,z,H,V,U,t)),K&&K.save()):F.nextSibling!==q&&(H=w(F),U=w(F,r.draggable),H>=0&&(c(this,R,"update",F,L,R,z,H,V,U,t),c(this,R,"sort",F,L,R,z,H,V,U,t))),e.active&&(null!=H&&-1!==H||(H=z,U=V),c(this,R,"end",F,L,R,z,H,V,U,t),this.save()))),this._nulling()},_nulling:function(){R=F=L=P=q=B=M=j=I=ae.length=G=Y=X=J=Z=Q=H=z=ee=te=ie=K=W=e.active=null,qe.forEach(function(e){e.checked=!0}),qe.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":F&&(this._onDragOver(e),r(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,n=[],r=this.el.children,o=0,i=r.length,a=this.options;o<i;o++)e=r[o],t(e,a.draggable,this.el,!1)&&n.push(e.getAttribute(a.dataIdAttr)||y(e));return n},sort:function(e){var n={},r=this.el;this.toArray().forEach(function(e,o){var i=r.children[o];t(i,this.options.draggable,r,!1)&&(n[e]=i)},this),e.forEach(function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return t(e,n||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&Ke(n)},destroy:function(){var e=this.el;e[me]=null,i(e,"mousedown",this._onTapStart),i(e,"touchstart",this._onTapStart),i(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(i(e,"dragover",this),i(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),ce.splice(ce.indexOf(this.el),1),this.el=e=null},_hideClone:function(){B.cloneHidden||(s(B,"display","none"),B.cloneHidden=!0,B.parentNode&&this.options.removeCloneOnHide&&B.parentNode.removeChild(B))},_showClone:function(e){if("clone"!==e.lastPutMode)return void this._hideClone();B.cloneHidden&&(R.contains(F)&&!this.options.group.revertClone?R.insertBefore(B,F):q?R.insertBefore(B,q):R.appendChild(B),this.options.group.revertClone&&this._animate(F,B),s(B,"display",""),B.cloneHidden=!1)}};var Ze;return o(ve,"touchmove",function(t){(e.active||le)&&t.cancelable&&t.preventDefault()}),e.utils={on:o,off:i,css:s,find:u,is:function(e,n){return!!t(e,n,e,!1)},extend:_,throttle:C,closest:t,toggleClass:a,clone:E,index:w,nextTick:S,cancelNextTick:O,detectDirection:Me,getChild:p},e.create=function(t,n){return new e(t,n)},e.version="1.9.0",e})},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload_box"},[n("dm_debug_list",[n("dm_debug_item",{attrs:{text:"isExceed"},model:{value:e.isExceed,callback:function(t){e.isExceed=t},expression:"isExceed"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"图片列表"},model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"uploadConfigNeed"},model:{value:e.uploadConfigNeed,callback:function(t){e.uploadConfigNeed=t},expression:"uploadConfigNeed"}})],1),e._v(" "),!e.changeOrder&&e.uploadConfigNeed?n("el-upload",{class:{exceed:e.isExceed},attrs:{limit:e.uploadConfigNeed.limit,action:e.uploadConfigNeed.action,"list-type":e.uploadConfigNeed.listType,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-success":e.uploaded,"on-exceed":e.exceed,multiple:!0,"before-upload":e.beforeUpload,data:e.postData,"file-list":e.valueNeed}},["picture-card"==e.uploadConfigNeed.listType?n("i",{staticClass:"el-icon-plus"}):n("el-button",{attrs:{plain:"",size:"mini"}},[e._v("点击上传")])],1):e._e(),e._v(" "),!e.changeOrder&&e.uploadConfigNeed&&e.uploadConfigNeed.limit>1&&e.valueNeed.length>1?n("el-button",{attrs:{size:"mini",plain:""},on:{click:function(t){e.changeOrder=!0}}},[e._v("排序")]):e._e(),e._v(" "),e.changeOrder?n("draggable",{model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}},e._l(e.valueNeed,function(t,r){return n("div",{key:r,staticClass:"photo-box"},[n("img",{staticClass:"photo-img",attrs:{src:t.url},on:{mousemove:function(t){e.showtool[r]=!0}}})])}),0):e._e(),e._v(" "),n("div",{staticStyle:{clear:"both"}}),e._v(" "),e.changeOrder?n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"mini",plain:""},on:{click:function(t){e.changeOrder=!1}}},[e._v("上传")]):e._e(),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(88)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(90),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-38f255ab",null);t.default=c.exports},function(e,t,n){var r=n(89);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("22127e20",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions,"default-time":["00:00:01","23:59:59"]},model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}})],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(92)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(94),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-13157225",null);t.default=c.exports},function(e,t,n){var r=n(93);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("3a21b864",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".el-input[data-v-13157225]{position:relative;font-size:14px;display:inline-block;width:70%}",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("el-input",{staticClass:"W70",on:{input:e.change},model:{value:e.dataIn,callback:function(t){e.dataIn=t},expression:"dataIn"}})],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){var r=n(96);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("71a3c0e6",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".data-group[data-v-30d94b74]{position:relative;font-size:12px;height:26px;line-height:26px;background-color:#f0f0f0;margin:0 0 10px;overflow:hidden}.data-group.edit[data-v-30d94b74]{height:auto;padding:0}.tool-bar[data-v-30d94b74]{position:absolute;right:0;top:0;height:100%;background:rgba(3,3,3,.5);height:26px;line-height:26px;color:#fff;padding:0 10px}.btn-op[data-v-30d94b74]{padding:3px;cursor:pointer}.btn-op[data-v-30d94b74]:hover{color:#ff0}.data-form-group[data-v-30d94b74]{height:auto;background-color:transparent;border:1px dashed #ddd;border-radius:5px;padding:10px 10px 10px 8px}.data-form-group .tool-bar[data-v-30d94b74]{height:24px;line-height:24px;left:0;right:auto;border-bottom-right-radius:10px}.sort-num[data-v-30d94b74]{text-align:center;height:26px;line-height:26px;width:20px;display:inline-block;background:#c5c1c1;color:#fff;font-style:normal}",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("dm_debug_list",[n("dm_debug_item",{attrs:{text:"showToolbar"},model:{value:e.showToolbar,callback:function(t){e.showToolbar=t},expression:"showToolbar"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"valueNeed"},model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"隐藏部件"},model:{value:e.hidePart,callback:function(t){e.hidePart=t},expression:"hidePart"}})],1),e._v(" "),e.ifShow("btn-add")?n("el-button",e._b({on:{click:e.addGroup}},"el-button",e.cfElBtnAdd,!1),[e._v(e._s(e.cfElBtnAdd.text))]):e._e(),e._v(" "),e.valueNeed&&e.valueNeed.length?n("div",{},[n("ul",[e._l(e.valueNeed,function(t,r){return n("li",{key:t.__id,class:{"data-group":!0,edit:e.editItem==r,"data-form-group":"form"==e.listType},on:{mouseenter:function(t){e.focusItem=r},mouseleave:function(t){e.focusItem=999},dblclick:function(t){if(!t.ctrlKey)return null;e.editItem=r}}},["form"!=e.listType?n("i",{staticClass:"sort-num"},[e._v(e._s(r+1))]):e._e(),e._v(" "),e.editItem==r?n("div",[n("json_editor",{on:{blur:e.afterBlur},model:{value:e.valueNeed[r],callback:function(t){e.$set(e.valueNeed,r,t)},expression:"valueNeed[i]"}})],1):["form"==e.listType?n("dm_dynamic_form",{ref:"dynamicForm",refInFor:!0,attrs:{cf:e.cfForm},model:{value:e.valueNeed[r],callback:function(t){e.$set(e.valueNeed,r,t)},expression:"valueNeed[i]"}}):e.dataSlot?e._t(e.dataSlot,null,{doc:e.handelShowDoc(t)}):n("span",[e._v(e._s(e.handelShowDoc(t)))]),e._v(" "),e.focusItem==r&&e.showToolbar?n("div",{staticClass:"tool-bar"},[r>0?n("i",{staticClass:"el-icon-top btn-op",attrs:{title:"上移"},on:{click:function(t){return e.move(r,"up")}}}):e._e(),e._v(" "),r<e.valueNeed.length-1?n("i",{staticClass:"el-icon-bottom btn-op",attrs:{title:"下移"},on:{click:function(t){return e.move(r,"down")}}}):e._e(),e._v(" "),e.ifShow("btn-edit")?n("i",{staticClass:"el-icon-edit btn-op",attrs:{title:"编辑"},on:{click:function(t){return e.showEditDataDialog(r)}}}):e._e(),e._v(" "),e.ifShow("btn-copy")?n("i",{staticClass:"el-icon-copy-document btn-op",attrs:{title:"复制"},on:{click:function(t){return e.copyData(r)}}}):e._e(),e._v(" "),e.ifShow("btn-delete")?n("i",{staticClass:"el-icon-delete btn-op",attrs:{title:"删除"},on:{click:function(t){return e.deleteData(r)}}}):e._e()]):e._e()]],2)}),e._v(" "),n("li")],2)]):e._e(),e._v(" "),e.showDialog?n("el-dialog",{attrs:{"custom-class":"n-el-dialog",width:"75%",title:"编辑一个对象","close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,visible:e.showDialog},on:{"update:visible":function(t){e.showDialog=t}}},[n("div",{},[n("dm_dynamic_form",{attrs:{cf:e.cfForm},model:{value:e.valueNeed[e.editIndex],callback:function(t){e.$set(e.valueNeed,e.editIndex,t)},expression:"valueNeed[editIndex]"}}),e._v(" "),n("div",{staticClass:"TAC"},[n("el-button",{attrs:{type:"primary",size:"normal"},on:{click:function(t){e.showDialog=!1}}},[e._v("确定")])],1)],1)]):e._e()],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(99)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(115),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-0737120a",null);t.default=c.exports},function(e,t,n){var r=n(100);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("5c465607",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){var r=n(102);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("91f065e4",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,'/*!\n * Quill Editor v1.3.6\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"\\2022"}.ql-editor ul[data-checked=false],.ql-editor ul[data-checked=true]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li:before,.ql-editor ul[data-checked=true]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"\\2611"}.ql-editor ul[data-checked=false]>li:before{content:"\\2610"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}',""])},function(e,t,n){var r=n(104);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("4bf9f0e4",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,'/*!\n * Quill Editor v1.3.6\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"\\2022"}.ql-editor ul[data-checked=false],.ql-editor ul[data-checked=true]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li:before,.ql-editor ul[data-checked=true]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"\\2611"}.ql-editor ul[data-checked=false]>li:before{content:"\\2610"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:"";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover{color:#06c}.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:"";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-stroke.ql-thin,.ql-snow .ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-item:before,.ql-snow .ql-picker.ql-header .ql-picker-label:before{content:"Normal"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before{content:"Heading 1"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before{content:"Heading 2"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before{content:"Heading 3"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before{content:"Heading 4"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before{content:"Heading 5"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before{content:"Heading 6"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-item:before,.ql-snow .ql-picker.ql-font .ql-picker-label:before{content:"Sans Serif"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before{content:"Serif"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before{content:"Monospace"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-item:before,.ql-snow .ql-picker.ql-size .ql-picker-label:before{content:"Normal"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before{content:"Small"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before{content:"Large"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before{content:"Huge"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:0 2px 8px rgba(0,0,0,.2)}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:"Visit URL:";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-right:1px solid #ccc;content:"Edit";margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:"Remove";margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-right:0;content:"Save";padding-right:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]:before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}',""])},function(e,t,n){var r=n(106);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("e746ae24",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,'/*!\n * Quill Editor v1.3.6\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"\\2022"}.ql-editor ul[data-checked=false],.ql-editor ul[data-checked=true]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li:before,.ql-editor ul[data-checked=true]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"\\2611"}.ql-editor ul[data-checked=false]>li:before{content:"\\2610"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-bubble.ql-toolbar:after,.ql-bubble .ql-toolbar:after{clear:both;content:"";display:table}.ql-bubble.ql-toolbar button,.ql-bubble .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-bubble.ql-toolbar button svg,.ql-bubble .ql-toolbar button svg{float:left;height:100%}.ql-bubble.ql-toolbar button:active:hover,.ql-bubble .ql-toolbar button:active:hover{outline:none}.ql-bubble.ql-toolbar input.ql-image[type=file],.ql-bubble .ql-toolbar input.ql-image[type=file]{display:none}.ql-bubble.ql-toolbar .ql-picker-item.ql-selected,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected,.ql-bubble.ql-toolbar .ql-picker-item:hover,.ql-bubble .ql-toolbar .ql-picker-item:hover,.ql-bubble.ql-toolbar .ql-picker-label.ql-active,.ql-bubble .ql-toolbar .ql-picker-label.ql-active,.ql-bubble.ql-toolbar .ql-picker-label:hover,.ql-bubble .ql-toolbar .ql-picker-label:hover,.ql-bubble.ql-toolbar button.ql-active,.ql-bubble .ql-toolbar button.ql-active,.ql-bubble.ql-toolbar button:focus,.ql-bubble .ql-toolbar button:focus,.ql-bubble.ql-toolbar button:hover,.ql-bubble .ql-toolbar button:hover{color:#fff}.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button.ql-active .ql-fill,.ql-bubble .ql-toolbar button.ql-active .ql-fill,.ql-bubble.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button:focus .ql-fill,.ql-bubble .ql-toolbar button:focus .ql-fill,.ql-bubble.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button:hover .ql-fill,.ql-bubble .ql-toolbar button:hover .ql-fill,.ql-bubble.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:hover .ql-stroke.ql-fill{fill:#fff}.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-bubble.ql-toolbar button.ql-active .ql-stroke,.ql-bubble .ql-toolbar button.ql-active .ql-stroke,.ql-bubble.ql-toolbar button.ql-active .ql-stroke-miter,.ql-bubble .ql-toolbar button.ql-active .ql-stroke-miter,.ql-bubble.ql-toolbar button:focus .ql-stroke,.ql-bubble .ql-toolbar button:focus .ql-stroke,.ql-bubble.ql-toolbar button:focus .ql-stroke-miter,.ql-bubble .ql-toolbar button:focus .ql-stroke-miter,.ql-bubble.ql-toolbar button:hover .ql-stroke,.ql-bubble .ql-toolbar button:hover .ql-stroke,.ql-bubble.ql-toolbar button:hover .ql-stroke-miter,.ql-bubble .ql-toolbar button:hover .ql-stroke-miter{stroke:#fff}@media (pointer:coarse){.ql-bubble.ql-toolbar button:hover:not(.ql-active),.ql-bubble .ql-toolbar button:hover:not(.ql-active){color:#ccc}.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#ccc}.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#ccc}}.ql-bubble,.ql-bubble *{box-sizing:border-box}.ql-bubble .ql-hidden{display:none}.ql-bubble .ql-out-bottom,.ql-bubble .ql-out-top{visibility:hidden}.ql-bubble .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-bubble .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-bubble .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-bubble .ql-formats{display:inline-block;vertical-align:middle}.ql-bubble .ql-formats:after{clear:both;content:"";display:table}.ql-bubble .ql-stroke{fill:none;stroke:#ccc;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-bubble .ql-stroke-miter{fill:none;stroke:#ccc;stroke-miterlimit:10;stroke-width:2}.ql-bubble .ql-fill,.ql-bubble .ql-stroke.ql-fill{fill:#ccc}.ql-bubble .ql-empty{fill:none}.ql-bubble .ql-even{fill-rule:evenodd}.ql-bubble .ql-stroke.ql-thin,.ql-bubble .ql-thin{stroke-width:1}.ql-bubble .ql-transparent{opacity:.4}.ql-bubble .ql-direction svg:last-child{display:none}.ql-bubble .ql-direction.ql-active svg:last-child{display:inline}.ql-bubble .ql-direction.ql-active svg:first-child{display:none}.ql-bubble .ql-editor h1{font-size:2em}.ql-bubble .ql-editor h2{font-size:1.5em}.ql-bubble .ql-editor h3{font-size:1.17em}.ql-bubble .ql-editor h4{font-size:1em}.ql-bubble .ql-editor h5{font-size:.83em}.ql-bubble .ql-editor h6{font-size:.67em}.ql-bubble .ql-editor a{text-decoration:underline}.ql-bubble .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-bubble .ql-editor code,.ql-bubble .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-bubble .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-bubble .ql-editor code{font-size:85%;padding:2px 4px}.ql-bubble .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-bubble .ql-editor img{max-width:100%}.ql-bubble .ql-picker{color:#ccc;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-bubble .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-bubble .ql-picker-label:before{display:inline-block;line-height:22px}.ql-bubble .ql-picker-options{background-color:#444;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-bubble .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-bubble .ql-picker.ql-expanded .ql-picker-label{color:#777;z-index:2}.ql-bubble .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#777}.ql-bubble .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#777}.ql-bubble .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-bubble .ql-color-picker,.ql-bubble .ql-icon-picker{width:28px}.ql-bubble .ql-color-picker .ql-picker-label,.ql-bubble .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-bubble .ql-color-picker .ql-picker-label svg,.ql-bubble .ql-icon-picker .ql-picker-label svg{right:4px}.ql-bubble .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-bubble .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-bubble .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-bubble .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-bubble .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-bubble .ql-picker.ql-header{width:98px}.ql-bubble .ql-picker.ql-header .ql-picker-item:before,.ql-bubble .ql-picker.ql-header .ql-picker-label:before{content:"Normal"}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="1"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="1"]:before{content:"Heading 1"}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="2"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="2"]:before{content:"Heading 2"}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="3"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="3"]:before{content:"Heading 3"}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="4"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="4"]:before{content:"Heading 4"}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="5"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="5"]:before{content:"Heading 5"}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="6"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="6"]:before{content:"Heading 6"}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-bubble .ql-picker.ql-font{width:108px}.ql-bubble .ql-picker.ql-font .ql-picker-item:before,.ql-bubble .ql-picker.ql-font .ql-picker-label:before{content:"Sans Serif"}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=serif]:before,.ql-bubble .ql-picker.ql-font .ql-picker-label[data-value=serif]:before{content:"Serif"}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before,.ql-bubble .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before{content:"Monospace"}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-bubble .ql-picker.ql-size{width:98px}.ql-bubble .ql-picker.ql-size .ql-picker-item:before,.ql-bubble .ql-picker.ql-size .ql-picker-label:before{content:"Normal"}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=small]:before,.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=small]:before{content:"Small"}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=large]:before,.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=large]:before{content:"Large"}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=huge]:before,.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=huge]:before{content:"Huge"}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-bubble .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-bubble .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-bubble .ql-toolbar .ql-formats{margin:8px 12px 8px 0}.ql-bubble .ql-toolbar .ql-formats:first-child{margin-left:12px}.ql-bubble .ql-color-picker svg{margin:1px}.ql-bubble .ql-color-picker .ql-picker-item.ql-selected,.ql-bubble .ql-color-picker .ql-picker-item:hover{border-color:#fff}.ql-bubble .ql-tooltip{background-color:#444;border-radius:25px;color:#fff}.ql-bubble .ql-tooltip-arrow{border-left:6px solid transparent;border-right:6px solid transparent;content:" ";display:block;left:50%;margin-left:-6px;position:absolute}.ql-bubble .ql-tooltip:not(.ql-flip) .ql-tooltip-arrow{border-bottom:6px solid #444;top:-6px}.ql-bubble .ql-tooltip.ql-flip .ql-tooltip-arrow{border-top:6px solid #444;bottom:-6px}.ql-bubble .ql-tooltip.ql-editing .ql-tooltip-editor{display:block}.ql-bubble .ql-tooltip.ql-editing .ql-formats{visibility:hidden}.ql-bubble .ql-tooltip-editor{display:none}.ql-bubble .ql-tooltip-editor input[type=text]{background:transparent;border:none;color:#fff;font-size:13px;height:100%;outline:none;padding:10px 20px;position:absolute;width:100%}.ql-bubble .ql-tooltip-editor a{top:10px;position:absolute;right:20px}.ql-bubble .ql-tooltip-editor a:before{color:#ccc;content:"\\D7";font-size:16px;font-weight:700}.ql-container.ql-bubble:not(.ql-disabled) a{position:relative;white-space:nowrap}.ql-container.ql-bubble:not(.ql-disabled) a:before{background-color:#444;border-radius:15px;top:-5px;font-size:12px;color:#fff;content:attr(href);font-weight:400;overflow:hidden;padding:5px 15px;text-decoration:none;z-index:1}.ql-container.ql-bubble:not(.ql-disabled) a:after{border-top:6px solid #444;border-left:6px solid transparent;border-right:6px solid transparent;top:0;content:" ";height:0;width:0}.ql-container.ql-bubble:not(.ql-disabled) a:after,.ql-container.ql-bubble:not(.ql-disabled) a:before{left:0;margin-left:50%;position:absolute;transform:translate(-50%,-100%);transition:visibility 0s ease .2s;visibility:hidden}.ql-container.ql-bubble:not(.ql-disabled) a:hover:after,.ql-container.ql-bubble:not(.ql-disabled) a:hover:before{visibility:visible}',""])},function(e,t,n){(function(t){!function(t,r){e.exports=r(n(22))}(0,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=2)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n.n(r),i=n(6),a=n(5),s=a(o.a,i.a,!1,null,null,null);t.default=s.exports},function(e,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.install=n.quillEditor=n.Quill=void 0;var i=r(0),a=o(i),s=r(1),l=o(s),u=t||a.default,c=function(e,t){t&&(l.default.props.globalOptions.default=function(){return t}),e.component(l.default.name,l.default)},f={Quill:u,quillEditor:l.default,install:c};n.default=f,n.Quill=u,n.quillEditor=l.default,n.install=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert text here ...",readOnly:!1}},function(e,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(0),a=o(i),s=r(3),l=o(s),u=t||a.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),n.default={name:"quill-editor",data:function(){return{_options:{},_content:"",defaultOptions:l.default}},props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}},globalOptions:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null,delete this.quill},methods:{initialize:function(){var e=this;this.$el&&(this._options=Object.assign({},this.defaultOptions,this.globalOptions,this.options),this.quill=new u(this.$refs.editor,this._options),this.quill.enable(!1),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled||this.quill.enable(!0),this.quill.on("selection-change",function(t){t?e.$emit("focus",e.quill):e.$emit("blur",e.quill)}),this.quill.on("text-change",function(t,n,r){var o=e.$refs.editor.children[0].innerHTML,i=e.quill,a=e.quill.getText();"<p><br></p>"===o&&(o=""),e._content=o,e.$emit("input",e._content),e.$emit("change",{html:o,text:a,quill:i})}),this.$emit("ready",this.quill))}},watch:{content:function(e,t){this.quill&&(e&&e!==this._content?(this._content=e,this.quill.pasteHTML(e)):e||this.quill.setText(""))},value:function(e,t){this.quill&&(e&&e!==this._content?(this._content=e,this.quill.pasteHTML(e)):e||this.quill.setText(""))},disabled:function(e,t){this.quill&&this.quill.enable(!e)}}}},function(e,t){e.exports=function(e,t,n,r,o,i){var a,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,s=e.default);var u="function"==typeof s?s.options:s;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):r&&(c=r),c){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=c,u.render=function(e,t){return c.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:s,options:u}}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quill-editor"},[e._t("toolbar"),e._v(" "),n("div",{ref:"editor"})],2)},o=[],i={render:r,staticRenderFns:o};t.a=i}])})}).call(t,n(22))},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function o(e){var t=r(e),n=t[0],o=t[1];return 3*(n+o)/4-o}function i(e,t,n){return 3*(t+n)/4-n}function a(e){var t,n,o=r(e),a=o[0],s=o[1],l=new d(i(e,a,s)),u=0,c=s>0?a-4:a;for(n=0;n<c;n+=4)t=f[e.charCodeAt(n)]<<18|f[e.charCodeAt(n+1)]<<12|f[e.charCodeAt(n+2)]<<6|f[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=f[e.charCodeAt(n)]<<2|f[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=f[e.charCodeAt(n)]<<10|f[e.charCodeAt(n+1)]<<4|f[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function l(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(s(r));return o.join("")}function u(e){for(var t,n=e.length,r=n%3,o=[],i=0,a=n-r;i<a;i+=16383)o.push(l(e,i,i+16383>a?a:i+16383));return 1===r?(t=e[n-1],o.push(c[t>>2]+c[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),o.join("")}t.byteLength=o,t.toByteArray=a,t.fromByteArray=u;for(var c=[],f=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=h.length;p<m;++p)c[p]=h[p],f[h.charCodeAt(p)]=p;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+f>=1?d/l:d*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[["bold","italic","underline","strike"],["blockquote","code-block"],["clean"],["sourceEditor"],[{font:[]}],[{align:[]}],["link","image","video"]],o={shadeBox:null,sourceEditor:function(){alert("我新添加的工具方法")}};t.default={placeholder:"",theme:"snow",modules:{toolbar:{container:r,handlers:o}},initButton:function(){var e=document.querySelector(".ql-sourceEditor");e.style.cssText="width:80px; border:1px solid #ccc; border-radius:5px;",e.innerText="源码编辑"}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ImageDrop=function(){function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(this,e),this.quill=t,this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}return o(e,[{key:"handleDrop",value:function(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length){if(document.caretRangeFromPoint){var t=document.getSelection(),n=document.caretRangeFromPoint(e.clientX,e.clientY);t&&n&&t.setBaseAndExtent(n.startContainer,n.startOffset,n.startContainer,n.startOffset)}this.readFiles(e.dataTransfer.files,this.insert.bind(this))}}},{key:"handlePaste",value:function(e){var t=this;e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length&&this.readFiles(e.clipboardData.items,function(e){t.quill.getSelection()||setTimeout(function(){return t.insert(e)},0)})}},{key:"insert",value:function(e){var t=(this.quill.getSelection()||{}).index||this.quill.getLength();this.quill.insertEmbed(t,"image",e,"user")}},{key:"readFiles",value:function(e,t){[].forEach.call(e,function(e){if(e.type.match(/^image\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\.microsoft\.icon)/i)){var n=new FileReader;n.onload=function(e){t(e.target.result)};var r=e.getAsFile?e.getAsFile():e;r instanceof Blob&&n.readAsDataURL(r)}})}}]),e}()},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=38)}([function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){var r=n(22),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(75),i=n(76),a=n(77),s=n(78),l=n(79);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}var o=n(8);e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?l:s:u&&u in Object(e)?i(e):a(e)}var o=n(16),i=n(64),a=n(87),s="[object Null]",l="[object Undefined]",u=o?o.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}var o=n(73);e.exports=r},function(e,t,n){var r=n(11),o=r(Object,"create");e.exports=o},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return o});var o=function e(t){r(this,e),this.onCreate=function(){},this.onDestroy=function(){},this.onUpdate=function(){},this.overlay=t.overlay,this.img=t.img,this.options=t.options,this.requestUpdate=t.onUpdate}},function(e,t,n){function r(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var o=n(21);e.exports=r},function(e,t,n){function r(e,t){var n=i(e,t);return o(n)?n:void 0}var o=n(48),i=n(65);e.exports=r},function(e,t,n){function r(e){return null!=e&&i(e.length)&&!o(e)}var o=n(13),i=n(30);e.exports=r},function(e,t,n){function r(e){if(!i(e))return!1;var t=o(e);return t==s||t==l||t==a||t==u}var o=n(5),i=n(0),a="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(11),o=n(1),i=r(o,"Map");e.exports=i},function(e,t,n){var r=n(1),o=r.Symbol;e.exports=o},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){function r(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||o(e,t,n)}var o=n(10),i=n(8);e.exports=r},function(e,t,n){function r(e,t,n,c,f){e!==t&&a(t,function(a,u){if(l(a))f||(f=new o),s(e,t,u,n,r,c,f);else{var d=c?c(e[u],a,u+"",e,t,f):void 0;void 0===d&&(d=a),i(e,u,d)}},u)}var o=n(41),i=n(18),a=n(46),s=n(51),l=n(0),u=n(32);e.exports=r},function(e,t,n){function r(e,t){return a(i(e,t,o),e+"")}var o=n(26),i=n(89),a=n(90);e.exports=r},function(e,t,n){var r=n(11),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(107))},function(e,t,n){var r=n(88),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t){function n(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){var r=n(47),o=n(2),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var r=n(1),o=n(102),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||o;e.exports=c}).call(t,n(14)(e))},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){var r=n(49),o=n(54),i=n(86),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t,n){function r(e){return a(e)?o(e,!0):i(e)}var o=n(43),i=n(50),a=n(12);e.exports=r},function(e,t,n){"use strict";t.a={modules:["DisplaySize","Toolbar","Resize"],overlayStyles:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444"},handleStyles:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"},displayStyles:{position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"},toolbarStyles:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default"},toolbarButtonStyles:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},toolbarButtonSvgStyles:{fill:"#444",stroke:"#444",strokeWidth:"2"}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(9);n.d(t,"a",function(){return s});var s=function(e){function t(){var e,n,i,a;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.onCreate=function(){i.display=document.createElement("div"),Object.assign(i.display.style,i.options.displayStyles),i.overlay.appendChild(i.display)},i.onDestroy=function(){},i.onUpdate=function(){if(i.display&&i.img){var e=i.getCurrentSize();if(i.display.innerHTML=e.join(" &times; "),e[0]>120&&e[1]>30)Object.assign(i.display.style,{right:"4px",bottom:"4px",left:"auto"});else if("right"==i.img.style.float){var t=i.display.getBoundingClientRect();Object.assign(i.display.style,{right:"auto",bottom:"-"+(t.height+4)+"px",left:"-"+(t.width+4)+"px"})}else{var n=i.display.getBoundingClientRect();Object.assign(i.display.style,{right:"-"+(n.width+4)+"px",bottom:"-"+(n.height+4)+"px",left:"auto"})}}},i.getCurrentSize=function(){return[i.img.width,Math.round(i.img.width/i.img.naturalWidth*i.img.naturalHeight)]},a=n,o(i,a)}return i(t,e),t}(a.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(9);n.d(t,"a",function(){return s});var s=function(e){function t(){var e,n,i,a;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.onCreate=function(){i.boxes=[],i.addBox("nwse-resize"),i.addBox("nesw-resize"),i.addBox("nwse-resize"),i.addBox("nesw-resize"),i.positionBoxes()},i.onDestroy=function(){i.setCursor("")},i.positionBoxes=function(){var e=-parseFloat(i.options.handleStyles.width)/2+"px",t=-parseFloat(i.options.handleStyles.height)/2+"px";[{left:e,top:t},{right:e,top:t},{right:e,bottom:t},{left:e,bottom:t}].forEach(function(e,t){Object.assign(i.boxes[t].style,e)})},i.addBox=function(e){var t=document.createElement("div");Object.assign(t.style,i.options.handleStyles),t.style.cursor=e,t.style.width=i.options.handleStyles.width+"px",t.style.height=i.options.handleStyles.height+"px",t.addEventListener("mousedown",i.handleMousedown,!1),i.overlay.appendChild(t),i.boxes.push(t)},i.handleMousedown=function(e){i.dragBox=e.target,i.dragStartX=e.clientX,i.preDragWidth=i.img.width||i.img.naturalWidth,i.setCursor(i.dragBox.style.cursor),document.addEventListener("mousemove",i.handleDrag,!1),document.addEventListener("mouseup",i.handleMouseup,!1)},i.handleMouseup=function(){i.setCursor(""),document.removeEventListener("mousemove",i.handleDrag),document.removeEventListener("mouseup",i.handleMouseup)},i.handleDrag=function(e){if(i.img){var t=e.clientX-i.dragStartX;i.dragBox===i.boxes[0]||i.dragBox===i.boxes[3]?i.img.width=Math.round(i.preDragWidth-t):i.img.width=Math.round(i.preDragWidth+t),i.requestUpdate()}},i.setCursor=function(e){[document.body,i.img].forEach(function(t){t.style.cursor=e})},a=n,o(i,a)}return i(t,e),t}(a.a)},function(e,n,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(105),l=r.n(s),u=r(104),c=r.n(u),f=r(106),d=r.n(f),h=r(9);r.d(n,"a",function(){return b});var p=t.imports.parchment,m=new p.Attributor.Style("float","float"),g=new p.Attributor.Style("margin","margin"),v=new p.Attributor.Style("display","display"),b=function(e){function t(){var e,n,r,a;o(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onCreate=function(){r.toolbar=document.createElement("div"),Object.assign(r.toolbar.style,r.options.toolbarStyles),r.overlay.appendChild(r.toolbar),r._defineAlignments(),r._addToolbarButtons()},r.onDestroy=function(){},r.onUpdate=function(){},r._defineAlignments=function(){r.alignments=[{icon:l.a,apply:function(){v.add(r.img,"inline"),m.add(r.img,"left"),g.add(r.img,"0 1em 1em 0")},isApplied:function(){return"left"==m.value(r.img)}},{icon:c.a,apply:function(){v.add(r.img,"block"),m.remove(r.img),g.add(r.img,"auto")},isApplied:function(){return"auto"==g.value(r.img)}},{icon:d.a,apply:function(){v.add(r.img,"inline"),m.add(r.img,"right"),g.add(r.img,"0 0 1em 1em")},isApplied:function(){return"right"==m.value(r.img)}}]},r._addToolbarButtons=function(){var e=[];r.alignments.forEach(function(t,n){var o=document.createElement("span");e.push(o),o.innerHTML=t.icon,o.addEventListener("click",function(){e.forEach(function(e){return e.style.filter=""}),t.isApplied()?(m.remove(r.img),g.remove(r.img),v.remove(r.img)):(r._selectButton(o),t.apply()),r.requestUpdate()}),Object.assign(o.style,r.options.toolbarButtonStyles),n>0&&(o.style.borderLeftWidth="0"),Object.assign(o.children[0].style,r.options.toolbarButtonSvgStyles),t.isApplied()&&r._selectButton(o),r.toolbar.appendChild(o)})},r._selectButton=function(e){e.style.filter="invert(20%)"},a=n,i(r,a)}return a(t,e),t}(h.a)},function(e,t,n){var r=n(17),o=n(20),i=n(63),a=n(101),s=o(function(e){return e.push(void 0,i),r(a,void 0,e)});e.exports=s},function(e,n,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=r(37),a=r.n(i),s=r(33),l=r(34),u=r(36),c=r(35),f={DisplaySize:l.a,Toolbar:u.a,Resize:c.a},d=function e(n){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.initializeModules=function(){r.removeModules(),r.modules=r.moduleClasses.map(function(e){return new(f[e]||e)(r)}),r.modules.forEach(function(e){e.onCreate()}),r.onUpdate()},this.onUpdate=function(){r.repositionElements(),r.modules.forEach(function(e){e.onUpdate()})},this.removeModules=function(){r.modules.forEach(function(e){e.onDestroy()}),r.modules=[]},this.handleClick=function(e){if(e.target&&e.target.tagName&&"IMG"===e.target.tagName.toUpperCase()){if(r.img===e.target)return;r.img&&r.hide(),r.show(e.target)}else r.img&&r.hide()},this.show=function(e){r.img=e,r.showOverlay(),r.initializeModules()},this.showOverlay=function(){r.overlay&&r.hideOverlay(),r.quill.setSelection(null),r.setUserSelect("none"),document.addEventListener("keyup",r.checkImage,!0),r.quill.root.addEventListener("input",r.checkImage,!0),r.overlay=document.createElement("div"),Object.assign(r.overlay.style,r.options.overlayStyles),r.quill.root.parentNode.appendChild(r.overlay),r.repositionElements()},this.hideOverlay=function(){r.overlay&&(r.quill.root.parentNode.removeChild(r.overlay),r.overlay=void 0,document.removeEventListener("keyup",r.checkImage),r.quill.root.removeEventListener("input",r.checkImage),r.setUserSelect(""))},this.repositionElements=function(){if(r.overlay&&r.img){var e=r.quill.root.parentNode,t=r.img.getBoundingClientRect(),n=e.getBoundingClientRect();Object.assign(r.overlay.style,{left:t.left-n.left-1+e.scrollLeft+"px",top:t.top-n.top+e.scrollTop+"px",width:t.width+"px",height:t.height+"px"})}},this.hide=function(){r.hideOverlay(),r.removeModules(),r.img=void 0},this.setUserSelect=function(e){["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(t){r.quill.root.style[t]=e,document.documentElement.style[t]=e})},this.checkImage=function(e){r.img&&(46!=e.keyCode&&8!=e.keyCode||t.find(r.img).deleteAt(0),r.hide())},this.quill=n;var l=!1;i.modules&&(l=i.modules.slice()),this.options=a()({},i,s.a),!1!==l&&(this.options.modules=l),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.moduleClasses=this.options.modules,console.log("this.options.modules",this.options.modules),this.modules=[]};n.default=d,t&&t.register("modules/imageResize",d)},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(66),i=n(67),a=n(68),s=n(69),l=n(70);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(80),i=n(81),a=n(82),s=n(83),l=n(84);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new o(e);this.size=t.size}var o=n(3),i=n(92),a=n(93),s=n(94),l=n(95),u=n(96);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=l,r.prototype.set=u,e.exports=r},function(e,t,n){var r=n(1),o=r.Uint8Array;e.exports=o},function(e,t,n){function r(e,t){var n=a(e),r=!n&&i(e),c=!n&&!r&&s(e),d=!n&&!r&&!c&&u(e),h=n||r||c||d,p=h?o(e.length,String):[],m=p.length;for(var g in e)!t&&!f.call(e,g)||h&&("length"==g||c&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,m))||p.push(g);return p}var o=n(53),i=n(27),a=n(28),s=n(29),l=n(24),u=n(31),c=Object.prototype,f=c.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||o(e,t,n)}var o=n(10),i=n(8),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(0),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(62),o=r();e.exports=o},function(e,t,n){function r(e){return i(e)&&o(e)==a}var o=n(5),i=n(2),a="[object Arguments]";e.exports=r},function(e,t,n){function r(e){return!(!a(e)||i(e))&&(o(e)?h:l).test(s(e))}var o=n(13),i=n(74),a=n(0),s=n(97),l=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,d=c.hasOwnProperty,h=RegExp("^"+f.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return a(e)&&i(e.length)&&!!s[o(e)]}var o=n(5),i=n(30),a=n(2),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){function r(e){if(!o(e))return a(e);var t=i(e),n=[];for(var r in e)("constructor"!=r||!t&&l.call(e,r))&&n.push(r);return n}var o=n(0),i=n(25),a=n(85),s=Object.prototype,l=s.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,r,b,y,w){var x=e[n],C=t[n],k=w.get(C);if(k)return void o(e,n,k);var _=y?y(x,C,n+"",e,t,w):void 0,E=void 0===_;if(E){var A=c(C),S=!A&&d(C),O=!A&&!S&&g(C);_=C,A||S||O?c(x)?_=x:f(x)?_=s(x):S?(E=!1,_=i(C,!0)):O?(E=!1,_=a(C,!0)):_=[]:m(C)||u(C)?(_=x,u(x)?_=v(x):(!p(x)||r&&h(x))&&(_=l(C))):E=!1}E&&(w.set(C,_),b(_,C,r,y,w),w.delete(C)),o(e,n,_)}var o=n(18),i=n(56),a=n(57),s=n(58),l=n(71),u=n(27),c=n(28),f=n(99),d=n(29),h=n(13),p=n(0),m=n(100),g=n(31),v=n(103);e.exports=r},function(e,t,n){var r=n(98),o=n(21),i=n(26),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=n(42);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}var o=n(1),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?o.Buffer:void 0,u=l?l.allocUnsafe:void 0;e.exports=r}).call(t,n(14)(e))},function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var o=n(55);e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e,t,n,r){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=r?r(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):o(n,u,c)}return n}var o=n(44),i=n(10);e.exports=r},function(e,t,n){var r=n(1),o=r["__core-js_shared__"];e.exports=o},function(e,t,n){function r(e){return o(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t})}var o=n(20),i=n(72);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}e.exports=n},function(e,t,n){function r(e,t,n,a,s,l){return i(e)&&i(t)&&(l.set(t,e),o(e,t,void 0,r,l),l.delete(t)),e}var o=n(19),i=n(0);e.exports=r},function(e,t,n){function r(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0}catch(e){}var r=s.call(e);return t?e[l]=n:delete e[l],r}var o=n(16),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,l=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(){this.__data__=o?o(null):{},this.size=0}var o=n(7);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(o){var n=t[e];return n===i?void 0:n}return s.call(t,e)?t[e]:void 0}var o=n(7),i="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return o?void 0!==t[e]:a.call(t,e)}var o=n(7),i=Object.prototype,a=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?i:t,this}var o=n(7),i="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||a(e)?{}:o(i(e))}var o=n(45),i=n(23),a=n(25);e.exports=r},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?i(n)&&a(t,n.length):"string"==r&&t in n)&&o(n[t],e)}var o=n(8),i=n(12),a=n(24),s=n(0);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return!!i&&i in e}var o=n(60),i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}var o=n(4),i=Array.prototype,a=i.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}var o=n(4);e.exports=r},function(e,t,n){function r(e){return o(this.__data__,e)>-1}var o=n(4);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var o=n(4);e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new o,map:new(a||i),string:new o}}var o=n(39),i=n(3),a=n(15);e.exports=r},function(e,t,n){function r(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}var o=n(6);e.exports=r},function(e,t,n){function r(e){return o(this,e).get(e)}var o=n(6);e.exports=r},function(e,t,n){function r(e){return o(this,e).has(e)}var o=n(6);e.exports=r},function(e,t,n){function r(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var o=n(6);e.exports=r},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){(function(e){var r=n(22),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a&&r.process,l=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=l}).call(t,n(14)(e))},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function r(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=i(r.length-t,0),l=Array(s);++a<s;)l[a]=r[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=r[a];return u[t]=n(l),o(e,this,u)}}var o=n(17),i=Math.max;e.exports=r},function(e,t,n){var r=n(52),o=n(91),i=o(r);e.exports=i},function(e,t){function n(e){var t=0,n=0;return function(){var a=i(),s=o-(a-n);if(n=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,o=16,i=Date.now;e.exports=n},function(e,t,n){function r(){this.__data__=new o,this.size=0}var o=n(3);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!i||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}var o=n(3),i=n(15),a=n(40),s=200;e.exports=r},function(e,t){function n(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,o=r.toString;e.exports=n},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){function r(e){return i(e)&&o(e)}var o=n(12),i=n(2);e.exports=r},function(e,t,n){function r(e){if(!a(e)||o(e)!=s)return!1;var t=i(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var o=n(5),i=n(23),a=n(2),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=c.call(Object);e.exports=r},function(e,t,n){var r=n(19),o=n(61),i=o(function(e,t,n,o){r(e,t,n,o)});e.exports=i},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return o(e,i(e))}var o=n(59),i=n(32);e.exports=r},function(e,t){e.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n</svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n</svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n</svg>'},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}])})}).call(t,n(114))},function(e,t,n){(function(t){/*!
 * Quill Editor v1.2.3
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=136)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=n(22),i=n(23),a=n(59),s=n(58),l=n(56),u=n(57),c=n(60),f=n(13),d=n(31),h=n(33),p=n(32),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:f.default,Class:d.default,Style:h.default,Store:p.default}};t.default=g},function(e,t,n){"use strict";function r(e,t){var n=i(e);if(null==n)throw new l("Unable to create "+e+" blot");var r=n;return new r(e instanceof Node?e:r.create(t),t)}function o(e,n){return void 0===n&&(n=!1),null==e?null:null!=e[t.DATA_KEY]?e[t.DATA_KEY].blot:n?o(e.parentNode,n):null}function i(e,t){void 0===t&&(t=h.ANY);var n;if("string"==typeof e)n=d[e]||u[e];else if(e instanceof Text)n=d.text;else if("number"==typeof e)e&h.LEVEL&h.BLOCK?n=d.block:e&h.LEVEL&h.INLINE&&(n=d.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var o in r)if(n=c[r[o]])break;n=n||f[e.tagName]}return null==n?null:t&h.LEVEL&n.scope&&t&h.TYPE&n.scope?n:null}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>1)return e.map(function(e){return a(e)});var n=e[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new l("Invalid definition");if("abstract"===n.blotName)throw new l("Cannot register abstract class");if(d[n.blotName||n.attrName]=n,"string"==typeof n.keyName)u[n.keyName]=n;else if(null!=n.className&&(c[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map(function(e){return e.toUpperCase()}):n.tagName=n.tagName.toUpperCase();var r=Array.isArray(n.tagName)?n.tagName:[n.tagName];r.forEach(function(e){null!=f[e]&&null!=n.className||(f[e]=n)})}return n}var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var n=this;return t="[Parchment] "+t,n=e.call(this,t)||this,n.message=t,n.name=n.constructor.name,n}return s(t,e),t}(Error);t.ParchmentError=l;var u={},c={},f={},d={};t.DATA_KEY="__blot";var h;!function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(h=t.Scope||(t.Scope={})),t.create=r,t.find=o,t.query=i,t.register=a},function(e,t,n){var r=n(54),o=n(11),i=n(3),a=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach(function(r){(e(r)?t:n).push(r)}),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.length=function(){return this.reduce(function(e,t){return e+a.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],r=a.iterator(this.ops),o=0;o<t&&r.hasNext();){var i;o<e?i=r.next(e-o):(i=r.next(t-o),n.push(i)),o+=a.length(i)}return new l(n)},l.prototype.compose=function(e){for(var t=a.iterator(this.ops),n=a.iterator(e.ops),r=new l;t.hasNext()||n.hasNext();)if("insert"===n.peekType())r.push(n.next());else if("delete"===t.peekType())r.push(t.next());else{var o=Math.min(t.peekLength(),n.peekLength()),i=t.next(o),s=n.next(o);if("number"==typeof s.retain){var u={};"number"==typeof i.retain?u.retain=o:u.insert=i.insert;var c=a.attributes.compose(i.attributes,s.attributes,"number"==typeof i.retain);c&&(u.attributes=c),r.push(u)}else"number"==typeof s.delete&&"number"==typeof i.retain&&r.push(s)}return r.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;var r=t===e?"on":"with";throw new Error("diff() called "+r+" non-document")}).join("")}),i=new l,u=r(n[0],n[1],t),c=a.iterator(this.ops),f=a.iterator(e.ops);return u.forEach(function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(f.peekLength(),t),i.push(f.next(n));break;case r.DELETE:n=Math.min(t,c.peekLength()),c.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(c.peekLength(),f.peekLength(),t);var s=c.next(n),l=f.next(n);o(s.insert,l.insert)?i.retain(n,a.attributes.diff(s.attributes,l.attributes)):i.push(l).delete(n)}t-=n}}),i.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),r=new l,o=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),s=a.length(i)-n.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(t,s)-s:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{if(!1===e(r,n.next(1).attributes||{},o))return;o+=1,r=new l}}r.length()>0&&e(r,{},o)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),r=a.iterator(e.ops),o=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),s=n.next(i),u=r.next(i);if(s.delete)continue;u.delete?o.push(u):o.retain(i,a.attributes.transform(s.attributes,u.attributes,t))}else o.retain(a.length(n.next()));return o.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=o),r+=o):e-=Math.min(o,e-r)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},i=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!o)return!1;var i;for(i in e);return void 0===i||n.call(e,i)};e.exports=function e(){var t,n,r,a,s,l,u=arguments[0],c=1,f=arguments.length,d=!1;for("boolean"==typeof u?(d=u,u=arguments[1]||{},c=2):("object"!=typeof u&&"function"!=typeof u||null==u)&&(u={});c<f;++c)if(null!=(t=arguments[c]))for(n in t)r=u[n],a=t[n],u!==a&&(d&&a&&(i(a)||(s=o(a)))?(s?(s=!1,l=r&&o(r)?r:[]):l=r&&i(r)?r:{},u[n]=e(d,l,a)):void 0!==a&&(u[n]=a));return u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,f.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:s(e.parent,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(3),f=r(c),d=n(2),h=r(d),p=n(0),m=r(p),g=n(17),v=r(g),b=n(7),y=r(b),w=n(8),x=r(w),C=n(12),k=r(C),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"attach",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new h.default).insert(this.value(),(0,f.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=m.default.query(e,m.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"==typeof n&&n.endsWith("\n")){var o=m.default.create(E.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,n.slice(0,-1))}else u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(y.default);_.scope=m.default.Scope.BLOCK_BLOT;var E=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return a(t,e),l(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),s(t))},new h.default).insert("\n",s(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,o){n<=0||(m.default.query(r,m.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,o):u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,o),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var o=n.split("\n"),i=o.shift();i.length>0&&(e<this.length()-1||null==this.children.tail?u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var a=this;o.reduce(function(e,t){return a=a.split(e,!0),a.insertAt(0,t),t.length},e+i.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof v.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this),this.cache={}}},{key:"path",value:function(e){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},o}}]),t}(m.default.Block);E.blotName="block",E.tagName="P",E.defaultChild="break",E.allowedChildren=[x.default,y.default,k.default],t.bubbleFormats=s,t.BlockEmbed=_,t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(53),c=r(u),f=n(10),d=r(f),h=(0,d.default)("quill:events"),p=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.on("error",h.error),e}return a(t,e),s(t,[{key:"emit",value:function(){h.log.apply(h,arguments),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}}]),t}(c.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(t=(0,A.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t),t.theme&&t.theme!==F.DEFAULTS.theme){if(t.theme=F.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=D.default;var n=(0,A.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var r=Object.keys(n.modules).concat(Object.keys(t.modules)),o=r.reduce(function(e,t){var n=F.import("modules/"+t);return null==n?N.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,A.default)(!0,{},F.DEFAULTS,{modules:o},n,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e},{}),t}function s(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===b.default.sources.USER)return new p.default;var o=null==n?null:this.getSelection(),i=this.editor.delta,a=e();if(null!=o&&(!0===n&&(n=o.index),null==r?o=u(o,a,t):0!==r&&(o=u(o,n,r,t)),this.setSelection(o,b.default.sources.SILENT)),a.length()>0){var s,l=[b.default.events.TEXT_CHANGE,a,i,t];if((s=this.emitter).emit.apply(s,[b.default.events.EDITOR_CHANGE].concat(l)),t!==b.default.sources.SILENT){var c;(c=this.emitter).emit.apply(c,l)}}return a}function l(e,t,n,r,o){var i={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=r,r=n,n=t,t=0),"object"===(void 0===n?"undefined":c(n))?(i=n,o=r):"string"==typeof n&&(null!=r?i[n]=r:o=n),o=o||b.default.sources.API,[e,t,i,o]}function u(e,t,n,r){if(null==e)return null;var o=void 0,i=void 0;if(t instanceof p.default){var a=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,r===b.default.sources.USER)}),s=f(a,2);o=s[0],i=s[1]}else{var l=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&r!==b.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)}),u=f(l,2);o=u[0],i=u[1]}return new k.Range(o,i-o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(43);var h=n(2),p=r(h),m=n(14),g=r(m),v=n(5),b=r(v),y=n(9),w=r(y),x=n(0),C=r(x),k=n(15),_=r(k),E=n(3),A=r(E),S=n(10),O=r(S),T=n(29),D=r(T),N=(0,O.default)("quill"),F=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,e),this.options=a(t,r),this.container=this.options.container,null==this.container)return N.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new b.default,this.scroll=C.default.create(this.root,{emitter:this.emitter,scrollingContainer:this.scrollingContainer,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(b.default.events.EDITOR_CHANGE,function(e){e===b.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(b.default.events.SCROLL_UPDATE,function(e,t){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;s.call(n,function(){return n.editor.update(null,t,o)},e)});var l=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(l),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return d(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),O.default.level(e)}},{key:"find",value:function(e){return e.__quill||C.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&N.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach(function(r){n.register(r,e[r],t)})}else null==this.imports[e]||r||N.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?C.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),d(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;e=document.createElement("div"),e.classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,o=l(e,t,n),i=f(o,4);return e=i[0],t=i[1],n=i[3],s.call(this,function(){return r.editor.deleteText(e,t)},n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.selection.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.default.sources.API;return s.call(this,function(){var r=n.getSelection(!0),i=new p.default;if(null==r)return i;if(C.default.query(e,C.default.Scope.BLOCK))i=n.editor.formatLine(r.index,r.length,o({},e,t));else{if(0===r.length)return n.selection.format(e,t),i;i=n.editor.formatText(r.index,r.length,o({},e,t))}return n.setSelection(r,b.default.sources.SILENT),i},r)}},{key:"formatLine",value:function(e,t,n,r,o){var i=this,a=void 0,u=l(e,t,n,r,o),c=f(u,4);return e=c[0],t=c[1],a=c[2],o=c[3],s.call(this,function(){return i.editor.formatLine(e,t,a)},o,e,0)}},{key:"formatText",value:function(e,t,n,r,o){var i=this,a=void 0,u=l(e,t,n,r,o),c=f(u,4);return e=c[0],t=c[1],a=c[2],o=c[3],s.call(this,function(){return i.editor.formatText(e,t,a)},o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=l(e,t),r=f(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=l(e,t),r=f(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return s.call(this,function(){return o.editor.insertEmbed(t,n,r)},i,t)}},{key:"insertText",value:function(e,t,n,r,o){var i=this,a=void 0,u=l(e,0,n,r,o),c=f(u,4);return e=c[0],a=c[2],o=c[3],s.call(this,function(){return i.editor.insertText(e,t,a)},o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,o=l(e,t,n),i=f(o,4);return e=i[0],t=i[1],n=i[3],s.call(this,function(){return r.editor.removeFormat(e,t)},n,e)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.default.sources.API;return s.call(this,function(){e=new p.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),r.compose(o)},n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=l(t,n,r),i=f(o,4);t=i[0],n=i[1],r=i[3],this.selection.setRange(new k.Range(t,n),r)}r!==b.default.sources.SILENT&&this.selection.scrollIntoView()}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.default.sources.API,n=(new p.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.default.sources.API;return s.call(this,function(){return e=new p.default(e),t.editor.applyDelta(e,n)},n,!0)}}]),e}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=b.default.events,F.sources=b.default.sources,F.version="1.2.3",F.imports={delta:p.default,parchment:C.default,"core/module":w.default,"core/theme":D.default},t.expandConfig=a,t.overload=l,t.default=F},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default.Embed);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(7),c=r(u),f=n(12),d=r(f),h=n(0),p=r(h),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"formatAt",value:function(e,n,r,o){if(t.compare(this.statics.blotName,r)<0&&p.default.query(r,p.default.Scope.BLOT)){var i=this.isolate(e,n);o&&i.wrap(r,o)}else l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,o)}},{key:"optimize",value:function(){if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),o=t.order.indexOf(n);return r>=0||o>=0?r-o:e===n?0:e<n?-1:1}}]),t}(p.default.Inline);m.allowedChildren=[m,c.default,d.default],m.order=["cursor","inline","code","underline","strike","italic","bold","script","link"],t.default=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.quill=t,this.options=n};o.DEFAULTS={},t.default=o},function(e,t,n){"use strict";function r(e){if(i.indexOf(e)<=i.indexOf(a)){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e].apply(console,n)}}function o(e){return i.reduce(function(t,n){return t[n]=r.bind(console,n,e),t},{})}Object.defineProperty(t,"__esModule",{value:!0});var i=["error","warn","log","info"],a="warn";r.level=o.level=function(e){a=e},t.default=o},function(e,t,n){function r(e){return null===e||void 0===e}function o(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function i(e,t,n){var i,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=a.call(e),t=a.call(t),u(e,t,n));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}try{var f=s(e),d=s(t)}catch(e){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),i=f.length-1;i>=0;i--)if(f[i]!=d[i])return!1;for(i=f.length-1;i>=0;i--)if(c=f[i],!u(e[c],t[c],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(52),l=n(51),u=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:i(e,t,n))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default.Text);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||this.whitelist.indexOf(t)>-1)},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)?t:""},e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return Object.keys(t).reduce(function(n,r){return null==e[r]?n:(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]],n)},{})}function s(e){return e.reduce(function(e,t){if(1===t.insert){var n=(0,_.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||(t=(0,_.default)(t),t.attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)},new d.default)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),d=r(f),h=n(20),p=r(h),m=n(0),g=r(m),v=n(16),b=r(v),y=n(25),w=r(y),x=n(4),C=r(x),k=n(19),_=r(k),E=n(11),A=r(E),S=n(3),O=r(S),T=function(){function e(t){i(this,e),this.scroll=t,this.delta=this.getDelta()}return c(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var r=this.scroll.length();return this.scroll.batch=!0,e=s(e),e.reduce(function(e,o){var i=o.retain||o.delete||o.insert.length||1,a=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var s=o.insert;s.endsWith("\n")&&n&&(n=!1,s=s.slice(0,-1)),e>=r&&!s.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,s);var c=t.scroll.line(e),f=u(c,2),d=f[0],h=f[1],m=(0,O.default)({},(0,x.bubbleFormats)(d));if(d instanceof C.default){var v=d.descendant(g.default.Leaf,h),b=u(v,1),y=b[0];m=(0,O.default)(m,(0,x.bubbleFormats)(y))}a=p.default.attributes.diff(m,a)||{}}else if("object"===l(o.insert)){var w=Object.keys(o.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,o.insert[w])}r+=i}return Object.keys(a).forEach(function(n){t.scroll.formatAt(e,i,n,a[n])}),e+i},0),e.reduce(function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)},0),this.scroll.batch=!1,this.scroll.optimize(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new d.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(e,Math.max(t,1)),a=t;i.forEach(function(t){var i=t.length();if(t instanceof b.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,o,r[o])}else t.format(o,r[o]);a-=i})}}),this.scroll.optimize(),this.update((new d.default).retain(e).retain(t,(0,_.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(o){n.scroll.formatAt(e,t,o,r[o])}),this.update((new d.default).retain(e).retain(t,(0,_.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new d.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach(function(e){var t=u(e,1),o=t[0];o instanceof C.default?n.push(o):o instanceof g.default.Leaf&&r.push(o)}):(n=this.scroll.lines(e,t),r=this.scroll.descendants(g.default.Leaf,e,t));var o=[n,r].map(function(e){if(0===e.length)return{};for(var t=(0,x.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=a((0,x.bubbleFormats)(n),t)}return t});return O.default.apply(O.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"==typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new d.default).retain(e).insert(o({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach(function(o){n.scroll.formatAt(e,t.length,o,r[o])}),this.update((new d.default).retain(e).insert(t,(0,_.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.length()<=1&&0==Object.keys(e.formats()).length}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),o=u(r,2),i=o[0],a=o[1],s=0,l=new d.default;null!=i&&(s=i instanceof b.default?i.newlineIndex(a)-a+1:i.length()-a,l=i.delta().slice(a,a+s-1).insert("\n"));var c=this.getContents(e,t+s),f=c.diff((new d.default).insert(n).concat(l)),h=(new d.default).retain(e).concat(f);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&g.default.find(t[0].target)){var o=g.default.find(t[0].target),i=(0,x.bubbleFormats)(o),a=o.offset(this.scroll),s=t[0].oldValue.replace(w.default.CONTENTS,""),l=(new d.default).insert(s),u=(new d.default).insert(o.value());e=(new d.default).retain(a).concat(l.diff(u,n)).reduce(function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)},new d.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,A.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),f=n(19),d=r(f),h=n(11),p=r(h),m=n(5),g=r(m),v=n(10),b=r(v),y=(0,b.default)("quill:selection"),w=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,e),this.index=t,this.length=n},x=function(){function e(t,n){var r=this;i(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.root=this.scroll.domNode,this.root.addEventListener("compositionstart",function(){r.composing=!0}),this.root.addEventListener("compositionend",function(){r.composing=!1}),this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),["keyup","mouseup","mouseleave","touchend","touchleave","focus","blur"].forEach(function(e){r.root.addEventListener(e,function(){setTimeout(r.update.bind(r,g.default.sources.USER),100)})}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(e,t){e===g.default.events.TEXT_CHANGE&&t.length()>0&&r.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}})}),this.update(g.default.sources.SILENT)}return l(e,[{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!c.default.query(e,c.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=c.default.find(n.start.node,!1);if(null==r)return;if(r instanceof c.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var r=void 0,o=this.scroll.leaf(e),i=s(o,2),a=i[0],l=i[1];if(null==a)return null;var u=a.position(l,!0),c=s(u,2);r=c[0],l=c[1];var f=document.createRange();if(t>0){f.setStart(r,l);var d=this.scroll.leaf(e+t),h=s(d,2);if(a=h[0],l=h[1],null==a)return null;var p=a.position(l,!0),m=s(p,2);return r=m[0],l=m[1],f.setEnd(r,l),f.getBoundingClientRect()}var g="left",v=void 0;return r instanceof Text?(l<r.data.length?(f.setStart(r,l),f.setEnd(r,l+1)):(f.setStart(r,l-1),f.setEnd(r,l),g="right"),v=f.getBoundingClientRect()):(v=a.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;if(!a(this.root,t.startContainer)||!t.collapsed&&!a(this.root,t.endContainer))return null;var n={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[n.start,n.end].forEach(function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;t=t.lastChild,n=t instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n}),y.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this,t=this.getNativeRange();if(null==t)return[null,null];var n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var r=n.map(function(t){var n=s(t,2),r=n[0],o=n[1],i=c.default.find(r,!0),a=i.offset(e.scroll);return 0===o?a:i instanceof c.default.Container?a+i.length():a+i.index(r,o)}),i=Math.min.apply(Math,o(r)),a=Math.max.apply(Math,o(r));return a=Math.min(a,this.scroll.length()-1),[new w(i,a-i),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"scrollIntoView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastRange;if(null!=e){var t=this.getBounds(e.index,e.length);if(null!=t){var n=this.scroll.length()-1,r=this.scroll.line(Math.min(e.index,n)),o=s(r,1),i=o[0],a=i;if(e.length>0){var l=this.scroll.line(Math.min(e.index+e.length,n));a=s(l,1)[0]}if(null!=i&&null!=a){var u=this.scroll.scrollingContainer,c=u.getBoundingClientRect();t.top<c.top?u.scrollTop-=c.top-t.top:t.bottom>c.bottom&&(u.scrollTop+=t.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(y.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.default.sources.API;if("string"==typeof n&&(r=n,n=!1),y.info("setRange",e),null!=e){var i=e.collapsed?[e.index]:[e.index,e.index+e.length],a=[],l=this.scroll.length();i.forEach(function(e,n){e=Math.min(l-1,e);var r=void 0,o=t.scroll.leaf(e),i=s(o,2),u=i[0],c=i[1],f=u.position(c,0!==n),d=s(f,2);r=d[0],c=d[1],a.push(r,c)}),a.length<2&&(a=a.concat(a)),this.setNativeRange.apply(this,o(a).concat([n]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.sources.USER,t=this.lastRange,n=this.getRange(),r=s(n,2),o=r[0],i=r[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,p.default)(t,this.lastRange)){var a;!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode&&this.cursor.restore();var l=[g.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(t),e];if((a=this.emitter).emit.apply(a,[g.default.events.EDITOR_CHANGE].concat(l)),e!==g.default.sources.SILENT){var u;(u=this.emitter).emit.apply(u,l)}}}}]),e}();t.Range=w,t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(2),f=r(c),d=n(0),h=r(d),p=n(4),m=r(p),g=n(8),v=r(g),b=n(12),y=r(b),w=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(v.default);w.blotName="code",w.tagName="CODE";var x=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,n){return t.insert(n).insert("\n",e.formats())},new f.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var r=this.descendant(y.default,this.length()-1),o=s(r,1),i=o[0];null!=i&&i.deleteAt(i.length()-1,1),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,o){if(0!==n&&null!=h.default.query(r,h.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+n)){var a=this.newlineIndex(e,!0)+1,s=i-a+1,l=this.isolate(a,s),u=l.next;l.format(r,o),u instanceof t&&u.formatAt(0,e-a+n-s,r,o)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var r=this.descendant(y.default,e),o=s(r,2),i=o[0],a=o[1];i.insertAt(a,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(){this.domNode.textContent.endsWith("\n")||this.appendChild(h.default.create("text","\n")),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this);var e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===e.statics.formats(e.domNode)&&(e.optimize(),e.moveChildren(this),e.remove())}},{key:"replace",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=h.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof h.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var n=u(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(m.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",t.Code=w,t.default=x},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(7),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"insertInto",value:function(e,n){0===e.children.length?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(u.default);c.blotName="break",c.tagName="BR",t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e instanceof g.default||e instanceof m.BlockEmbed}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(0),d=r(f),h=n(5),p=r(h),m=n(4),g=r(m),v=n(17),b=r(v),y=n(24),w=r(y),x=n(16),C=r(x),k=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,r.scrollingContainer=n.scrollingContainer,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),r.optimize(),r.enable(),r}return a(t,e),u(t,[{key:"deleteAt",value:function(e,n){var r=this.line(e),o=l(r,2),i=o[0],a=o[1],s=this.line(e+n),u=l(s,1),f=u[0];if(c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=f&&i!==f&&a>0&&!(i instanceof m.BlockEmbed)&&!(f instanceof m.BlockEmbed)){f instanceof C.default&&f.deleteAt(f.length()-1,1);var d=f.children.head instanceof b.default?null:f.children.head;i.moveChildren(f,d),i.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,o){(null==this.whitelist||this.whitelist[r])&&(c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,o),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==d.default.query(n,d.default.Scope.BLOCK)){var o=d.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,r)}else{var i=d.default.create(n,r);this.appendChild(i)}else c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===d.default.Scope.INLINE_BLOT){var r=d.default.create(this.statics.defaultChild);r.appendChild(e),e=r}c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(s,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function e(t,n,r){var o=[],i=r;return t.children.forEachAt(n,r,function(t,n,r){s(t)?o.push(t):t instanceof d.default.Container&&(o=o.concat(e(t,n,i))),i-=r}),o}(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!0!==this.batch&&(c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),e.length>0&&this.emitter.emit(p.default.events.SCROLL_OPTIMIZE,e))}},{key:"path",value:function(e){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=p.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(p.default.events.SCROLL_BEFORE_UPDATE,n,e),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(p.default.events.SCROLL_UPDATE,n,e)}}}]),t}(d.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[g.default,m.BlockEmbed,w.default],t.default=k},function(e,n){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}function n(r,o,i,a,f){function d(r,i){if(null===r)return null;if(0===i)return r;var g,v;if("object"!=typeof r)return r;if(e(r,l))g=new l;else if(e(r,u))g=new u;else if(e(r,c))g=new c(function(e,t){r.then(function(t){e(d(t,i-1))},function(e){t(d(e,i-1))})});else if(n.__isArray(r))g=[];else if(n.__isRegExp(r))g=new RegExp(r.source,s(r)),r.lastIndex&&(g.lastIndex=r.lastIndex);else if(n.__isDate(r))g=new Date(r.getTime());else{if(m&&t.isBuffer(r))return g=new t(r.length),r.copy(g),g;e(r,Error)?g=Object.create(r):void 0===a?(v=Object.getPrototypeOf(r),g=Object.create(v)):(g=Object.create(a),v=a)}if(o){var b=h.indexOf(r);if(-1!=b)return p[b];h.push(r),p.push(g)}e(r,l)&&r.forEach(function(e,t){var n=d(t,i-1),r=d(e,i-1);g.set(n,r)}),e(r,u)&&r.forEach(function(e){var t=d(e,i-1);g.add(t)});for(var y in r){var w;v&&(w=Object.getOwnPropertyDescriptor(v,y)),w&&null==w.set||(g[y]=d(r[y],i-1))}if(Object.getOwnPropertySymbols)for(var x=Object.getOwnPropertySymbols(r),y=0;y<x.length;y++){var C=x[y],k=Object.getOwnPropertyDescriptor(r,C);(!k||k.enumerable||f)&&(g[C]=d(r[C],i-1),k.enumerable||Object.defineProperty(g,C,{enumerable:!1}))}if(f)for(var _=Object.getOwnPropertyNames(r),y=0;y<_.length;y++){var E=_[y],k=Object.getOwnPropertyDescriptor(r,E);k&&k.enumerable||(g[E]=d(r[E],i-1),Object.defineProperty(g,E,{enumerable:!1}))}return g}"object"==typeof o&&(i=o.depth,a=o.prototype,f=o.includeNonEnumerable,o=o.circular);var h=[],p=[],m=void 0!==t;return void 0===o&&(o=!0),void 0===i&&(i=1/0),d(r,i)}function r(e){return Object.prototype.toString.call(e)}function o(e){return"object"==typeof e&&"[object Date]"===r(e)}function i(e){return"object"==typeof e&&"[object Array]"===r(e)}function a(e){return"object"==typeof e&&"[object RegExp]"===r(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}var l;try{l=Map}catch(e){l=function(){}}var u;try{u=Set}catch(e){u=function(){}}var c;try{c=Promise}catch(e){c=function(){}}return n.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},n.__objToStr=r,n.__isDate=o,n.__isArray=i,n.__isRegExp=a,n.__getRegExpFlags=s,n}();"object"==typeof e&&e.exports&&(e.exports=r)},function(e,t,n){function r(e){this.ops=e,this.index=0,this.offset=0}var o=n(11),i=n(3),a={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=i(!0,{},t);n||(r=Object.keys(r).reduce(function(e,t){return null!=r[t]&&(e[t]=r[t]),e},{}));for(var o in e)void 0!==e[o]&&void 0===t[o]&&(r[o]=e[o]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce(function(n,r){return o(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce(function(n,r){return void 0===e[r]&&(n[r]=t[r]),n},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new r(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=a.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=a},function(e,t,n){"use strict";function r(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(61),a=n(34),s=n(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){var t=this;e.prototype.attach.call(this),this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(e){try{var n=r(e);t.insertBefore(n,t.children.head)}catch(e){if(e instanceof s.ParchmentError)return;throw e}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,n){e.deleteAt(t,n)})},t.prototype.descendant=function(e,n){var r=this.children.find(n),o=r[0],i=r[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,function(n,r,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&o.push(n),n instanceof t&&(o=o.concat(n.descendants(e,r,i))),i-=a}),o},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,function(e,t,o){e.formatAt(t,o,n,r)})},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),o=r[0],i=r[1];if(o)o.insertAt(i,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(n){e.insertBefore(n,t)})},t.prototype.optimize=function(){if(e.prototype.optimize.call(this),0===this.children.length)if(null!=this.statics.defaultChild){var t=s.create(this.statics.defaultChild);this.appendChild(t),t.optimize()}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),o=r[0],i=r[1],a=[[this,e]];return o instanceof t?a.concat(o.path(i,n)):(null!=o&&a.push([o,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),function(e,r,o){e=e.split(r,t),n.appendChild(e)}),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e){var t=this,n=[],o=[];e.forEach(function(e){e.target===t.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),o.push.apply(o,e.removedNodes))}),o.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var n=s.find(e);null!=n&&(null!=n.domNode.parentNode&&n.domNode.parentNode!==t.domNode||n.detach())}}),n.filter(function(e){return e.parentNode==t.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var n=null;null!=e.nextSibling&&(n=s.find(e.nextSibling));var o=r(e);o.next==n&&null!=o.next||(null!=o.parent&&o.parent.removeChild(t),t.insertBefore(o,n))})},t}(a.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=n(32),a=n(21),s=n(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.attach=function(){e.prototype.attach.call(this),this.attributes=new i.default(this.domNode)},t.prototype.format=function(e,t){var n=s.query(e);n instanceof o.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t){var n=this;e.prototype.update.call(this,t),t.some(function(e){return e.target===n.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(n,r){var o=e.prototype.wrap.call(this,n,r);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(a.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),i=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return e!==this.domNode?-1:Math.min(t,1)},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){return e={},e[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t}(o.default);a.scope=i.Scope.INLINE_BLOT,t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(4),c=r(u),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(l.default.Container);f.allowedChildren=[c.default,u.BlockEmbed,f],t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),d=n(7),h=r(d),p=n(12),m=r(p),g=n(5),v=r(g),b=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return a(t,e),u(t,null,[{key:"value",value:function(){}}]),u(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,o=0;null!=r&&r.statics.scope!==f.default.Scope.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(o,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){var e=this;if(!this.selection.composing&&null!=this.parent){var n=this.textNode,r=this.selection.getNativeRange(),o=void 0,i=void 0,a=void 0;if(null!=r&&r.start.node===n&&r.end.node===n){var l=[n,r.start.offset,r.end.offset];o=l[0],i=l[1],a=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof m.default?(o=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}this.remove(),null!=i&&this.selection.emitter.once(v.default.events.SCROLL_OPTIMIZE,function(){var t=[i,a].map(function(e){return Math.max(0,Math.min(o.data.length,e-1))}),n=s(t,2);i=n[0],a=n[1],e.selection.setNativeRange(o,i,o,a)})}}},{key:"update",value:function(e){var t=this;e.forEach(function(e){"characterData"===e.type&&e.target===t.textNode&&t.restore()})}},{key:"value",value:function(){return""}}]),t}(h.default);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\ufeff",t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"value",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):n}}]),t}(u.default.Attributor.Style),f=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),d=new c("color","color",{scope:u.default.Scope.INLINE});t.ColorAttributor=c,t.ColorClass=f,t.ColorStyle=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(8),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return a(e,["http","https","mailto"])?e:this.SANITIZED_URL}}]),t}(c.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",t.default=f,t.sanitize=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(88),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(){function e(t){var n=this;r(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.container.classList.toggle("ql-expanded")}),this.select.addEventListener("change",this.update.bind(this))}return i(e,[{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",function(){t.selectItem(n,!0)}),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=s.default,this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),[].slice.call(this.select.options).forEach(function(n){var r=e.buildItem(n);t.appendChild(r),n.hasAttribute("selected")&&e.selectItem(r)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"close",value:function(){this.container.classList.remove("ql-expanded")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":o(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){r(this,e),this.quill=t,this.options=n,this.modules={}}return o(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=m(n,1),o=r[0],i={};if(0===t.offset){var a=o.formats(),s=this.quill.getFormat(e.index-1,1);i=_.default.attributes.diff(a,s)||{}}var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-l,l,O.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-l,l,i,O.default.sources.USER),this.quill.selection.scrollIntoView()}}function l(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;e.index>=this.quill.getLength()-n||this.quill.deleteText(e.index,n,O.default.sources.USER)}function u(e){this.quill.deleteText(e,O.default.sources.USER),this.quill.setSelection(e.index,O.default.sources.SILENT),this.quill.selection.scrollIntoView()}function c(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce(function(e,n){return A.default.query(n,A.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e},{});this.quill.insertText(e.index,"\n",r,O.default.sources.USER),this.quill.setSelection(e.index+1,O.default.sources.SILENT),this.quill.selection.scrollIntoView(),Object.keys(t.format).forEach(function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],O.default.sources.USER))})}function f(e){return{key:B.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=A.default.query("code-block"),r=t.index,o=t.length,i=this.quill.scroll.descendant(n,r),a=m(i,2),s=a[0],l=a[1];if(null!=s){var u=this.quill.getIndex(s),c=s.newlineIndex(l,!0)+1,f=s.newlineIndex(u+l+o),d=s.domNode.textContent.slice(c,f).split("\n");l=0,d.forEach(function(t,i){e?(s.insertAt(c+l,n.TAB),l+=n.TAB.length,0===i?r+=n.TAB.length:o+=n.TAB.length):t.startsWith(n.TAB)&&(s.deleteAt(c+l,n.TAB.length),l-=n.TAB.length,0===i?r-=n.TAB.length:o-=n.TAB.length),l+=t.length+1}),this.quill.update(O.default.sources.USER),this.quill.setSelection(r,o,O.default.sources.SILENT)}}}}function d(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],O.default.sources.USER)}}}function h(e){if("string"==typeof e||"number"==typeof e)return h({key:e});if("object"===(void 0===e?"undefined":p(e))&&(e=(0,b.default)(e,!1)),"string"==typeof e.key)if(null!=B.keys[e.key.toUpperCase()])e.key=B.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[P]=e.shortKey,delete e.shortKey),e}Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(19),b=r(v),y=n(11),w=r(y),x=n(3),C=r(x),k=n(20),_=r(k),E=n(0),A=r(E),S=n(6),O=r(S),T=n(10),D=r(T),N=n(9),F=r(N),L=(0,D.default)("quill:keyboard"),P=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach(function(e){r.options.bindings[e]&&r.addBinding(r.options.bindings[e])}),r.addBinding({key:t.keys.ENTER,shiftKey:null},c),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},s),r.addBinding({key:t.keys.DELETE},{collapsed:!0},l)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},s),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},l)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},u),r.addBinding({key:t.keys.DELETE},{collapsed:!1},u),r.addBinding({key:t.keys.BACKSPACE},{empty:!0,shortKey:!0},s),r.listen(),r}return a(t,e),g(t,null,[{key:"match",value:function(e,t){return t=h(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!t[n]!==e[n]&&null!==t[n]})&&t.key===(e.which||e.keyCode)}}]),g(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=h(e);if(null==r||null==r.key)return L.warn("Attempted to add invalid keyboard binding",r);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),r=(0,C.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var r=n.which||n.keyCode,o=(e.bindings[r]||[]).filter(function(e){return t.match(n,e)});if(0!==o.length){var i=e.quill.getSelection();if(null!=i&&e.quill.hasFocus()){var a=e.quill.getLine(i.index),s=m(a,2),l=s[0],u=s[1],c=e.quill.getLeaf(i.index),f=m(c,2),d=f[0],h=f[1],g=0===i.length?[d,h]:e.quill.getLeaf(i.index+i.length),v=m(g,2),b=v[0],y=v[1],x=d instanceof A.default.Text?d.value().slice(0,h):"",C=b instanceof A.default.Text?b.value().slice(y):"",k={collapsed:0===i.length,empty:0===i.length&&l.length()<=1,format:e.quill.getFormat(i),offset:u,prefix:x,suffix:C};o.some(function(t){if(null!=t.collapsed&&t.collapsed!==k.collapsed)return!1;if(null!=t.empty&&t.empty!==k.empty)return!1;if(null!=t.offset&&t.offset!==k.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==k.format[e]}))return!1}else if("object"===p(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=k.format[e]:!1===t.format[e]?null==k.format[e]:(0,w.default)(t.format[e],k.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(k.prefix))&&(!(null!=t.suffix&&!t.suffix.test(k.suffix))&&!0!==t.handler.call(e,i,k))})&&n.preventDefault()}}}})}}]),t}(F.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:d("bold"),italic:d("italic"),underline:d("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",O.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",O.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,format:["blockquote","indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",O.default.sources.USER):null!=t.format.blockquote?this.quill.format("blockquote",!1,O.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,O.default.sources.USER)}},"indent code-block":f(!0),"outdent code-block":f(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,O.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(e,t){t.collapsed||this.quill.scroll.deleteAt(e.index,e.length),this.quill.insertText(e.index,"\t",O.default.sources.USER),this.quill.setSelection(e.index+1,O.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,O.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,O.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){this.quill.scroll.insertAt(e.index,"\n");var t=this.quill.getLine(e.index+1);m(t,1)[0].format("list","unchecked"),this.quill.update(O.default.sources.USER),this.quill.setSelection(e.index+1,O.default.sources.SILENT),this.quill.selection.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e){this.quill.scroll.insertAt(e.index,"\n"),this.quill.formatText(e.index+1,1,"header",!1,O.default.sources.USER),this.quill.setSelection(e.index+1,O.default.sources.SILENT),this.quill.selection.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(1\.|-|\[ \]|\[x\])$/,handler:function(e,t){if(null!=this.quill.scroll.whitelist&&!this.quill.scroll.whitelist.list)return!0;var n=t.prefix.length,r=void 0;switch(t.prefix.trim()){case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":r="bullet";break;default:r="ordered"}this.quill.scroll.deleteAt(e.index-n,n),this.quill.formatLine(e.index-n,1,"list",r,O.default.sources.USER),this.quill.setSelection(e.index-n,O.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){this.quill.format("code-block",!1,O.default.sources.USER),this.quill.deleteText(e.index-2,1,O.default.sources.USER)}}}},t.default=B,t.SHORTKEY=P},function(e,t,n){"use strict";function r(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){r(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=r(e,this.keyName)[0]||"",n=t.slice(this.keyName.length+1);return this.canAdd(e,n)?n:""},t}(i.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=n(31),i=n(33),a=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=o.default.keys(this.domNode),s=i.default.keys(this.domNode);t.concat(n).concat(s).forEach(function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,n){return t[n]=e.attributes[n].value(e.domNode),t},{})},e}();t.default=s},function(e,t,n){"use strict";function r(e){var t=e.split("-"),n=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+n}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[r(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[r(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[r(this.keyName)];return this.canAdd(e,t)?t:""},t}(i.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e){this.domNode=e,this.attach()}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){this.domNode[r.DATA_KEY]={blot:this}},e.prototype.clone=function(){var e=this.domNode.cloneNode();return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,o){var i=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&o)i.wrap(n,o);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);i.wrap(a),a.format(n,o)}},e.prototype.insertAt=function(e,t,n){var o=null==n?r.create("text",t):r.create(t,n),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){if(null!=this.parent&&this.parent.children.remove(this),e.children.insertBefore(this,t),null!=t)var n=t.domNode;null!=this.next&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,void 0!==n?n:null),this.parent=e},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e){void 0===e&&(e=[])},e.prototype.wrap=function(e,t){var n="string"==typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e}();o.blotName="abstract",t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(0),i=r(o),a=n(6),s=r(a),l=n(4),u=r(l),c=n(17),f=r(c),d=n(24),h=r(d),p=n(25),m=r(p),g=n(7),v=r(g),b=n(8),y=r(b),w=n(18),x=r(w),C=n(12),k=r(C),_=n(45),E=r(_),A=n(42),S=r(A),O=n(30),T=r(O);s.default.register({"blots/block":u.default,"blots/block/embed":l.BlockEmbed,"blots/break":f.default,"blots/container":h.default,"blots/cursor":m.default,"blots/embed":v.default,"blots/inline":y.default,"blots/scroll":x.default,"blots/text":k.default,"modules/clipboard":E.default,"modules/history":S.default,"modules/keyboard":T.default}),i.default.register(u.default,f.default,m.default,y.default,x.default,k.default),e.exports=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new o.default.Attributor.Attribute("align","align",i),s=new o.default.Attributor.Class("align","ql-align",i),l=new o.default.Attributor.Style("align","text-align",i);t.AlignAttribute=a,t.AlignClass=s,t.AlignStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(26),a=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),s=new i.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},a=new o.default.Attributor.Attribute("direction","dir",i),s=new o.default.Attributor.Class("direction","ql-direction",i),l=new o.default.Attributor.Style("direction","direction",i);t.DirectionAttribute=a,t.DirectionClass=s,t.DirectionStyle=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new u.default.Attributor.Class("font","ql-font",c),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"value",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(u.default.Attributor.Style),h=new d("font","font-family",c);t.FontStyle=h,t.FontClass=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=i,t.SizeStyle=a},function(e,t,n){"use strict";e.exports={align:{"":n(79),center:n(77),right:n(80),justify:n(78)},background:n(81),blockquote:n(82),bold:n(83),clean:n(84),code:n(55),"code-block":n(55),color:n(85),direction:{"":n(86),rtl:n(87)},float:{center:n(89),full:n(90),left:n(91),right:n(92)},formula:n(93),header:{1:n(95),2:n(94)},italic:n(98),image:n(96),indent:{"+1":n(97),"-1":n(103)},link:n(99),list:{ordered:n(102),bullet:n(100),check:n(101)},script:{sub:n(105),super:n(106)},strike:n(104),underline:n(107),video:n(108)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=f.default.query(e,f.default.Scope.BLOCK)}))}function l(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),n=e.length()-t;return s(e)&&(n-=1),n}Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),d=n(6),h=r(d),p=n(9),m=r(p),g=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(h.default.events.EDITOR_CHANGE,function(e,t,n,o){e!==h.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==h.default.sources.USER?r.transform(t):r.record(t,n))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return a(t,e),u(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],h.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r),this.quill.selection.scrollIntoView(),this.stack[t].push(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(m.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=g,t.getLastChangeIndex=l},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:o.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(t=n[i],e.call(o,t,i,n))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1)})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(8),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"optimize",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(u.default);c.blotName="bold",c.tagName=["STRONG","B"],t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function c(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var o=e.ops[r];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*t.length)===t}function f(e){return 0!==e.childNodes.length&&["block","list-item"].indexOf(u(e).display)>-1}function d(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce(function(t,n){return n(e,t)},new E.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(r,o){var i=d(o,t,n);return o.nodeType===e.ELEMENT_NODE&&(i=t.reduce(function(e,t){return t(o,e)},i),i=(o[$]||[]).reduce(function(e,t){return t(o,e)},i)),r.concat(i)},new E.default):new E.default}function h(e,t,n){return n.compose((new E.default).retain(n.length(),o({},e,!0)))}function p(e,t){var n=S.default.Attributor.Attribute.keys(e),r=S.default.Attributor.Class.keys(e),o=S.default.Attributor.Style.keys(e),i={};return n.concat(r).concat(o).forEach(function(t){var n=S.default.query(t,S.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(e),i[n.attrName])||(null!=H[t]&&(n=H[t],i[n.attrName]=n.value(e)||void 0),null!=V[t]&&(n=V[t],i[n.attrName]=n.value(e)||void 0))}),Object.keys(i).length>0&&(t=t.compose((new E.default).retain(t.length(),i))),t}function m(e,t){var n=S.default.query(e);if(null==n)return t;if(n.prototype instanceof S.default.Embed){var r={},i=n.value(e);null!=i&&(r[n.blotName]=i,t=(new E.default).insert(r,n.formats(e)))}else if("function"==typeof n.formats){var a=o({},n.blotName,n.formats(e));t=t.compose((new E.default).retain(t.length(),a))}return t}function g(e,t){return c(t,"\n")||t.insert("\n"),t}function v(){return new E.default}function b(e,t){return f(e)&&!c(t,"\n")&&t.insert("\n"),t}function y(e,t){if(f(e)&&null!=e.nextElementSibling&&!c(t,"\n\n")){var n=e.offsetHeight+parseFloat(u(e).marginTop)+parseFloat(u(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function w(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===u(e).fontStyle&&(n.italic=!0),r.fontWeight&&"bold"===u(e).fontWeight&&(n.bold=!0),Object.keys(n).length>0&&(t=t.compose((new E.default).retain(t.length(),n))),parseFloat(r.textIndent||0)>0&&(t=(new E.default).insert("\t").concat(t)),t}function x(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(!u(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return t=t.replace(/[^\u00a0]/g,""),t.length<1&&e?" ":t};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&f(e.parentNode)||null!=e.previousSibling&&f(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&f(e.parentNode)||null!=e.nextSibling&&f(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var C=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=n(2),E=r(_),A=n(0),S=r(A),O=n(6),T=r(O),D=n(10),N=r(D),F=n(9),L=r(F),P=n(36),B=n(37),R=n(26),q=n(38),M=n(39),j=n(40),I=(0,N.default)("quill:clipboard"),$="__ql-matcher",z=[[Node.TEXT_NODE,x],["br",g],[Node.ELEMENT_NODE,b],[Node.ELEMENT_NODE,m],[Node.ELEMENT_NODE,y],[Node.ELEMENT_NODE,p],[Node.ELEMENT_NODE,w],["b",h.bind(h,"bold")],["i",h.bind(h,"italic")],["style",v]],H=[P.AlignAttribute,q.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),V=[P.AlignStyle,B.BackgroundStyle,R.ColorStyle,q.DirectionStyle,M.FontStyle,j.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),U=function(e){function t(e,n){a(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],z.concat(r.options.matchers).forEach(function(e){r.addMatcher.apply(r,i(e))}),r}return l(t,e),k(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){"string"==typeof e&&(this.container.innerHTML=e);var t=this.prepareMatching(),n=C(t,2),r=n[0],o=n[1],i=d(this.container,r,o);return c(i,"\n")&&null==i.ops[i.ops.length-1].attributes&&(i=i.compose((new E.default).retain(i.length()-1).delete(1))),I.log("convert",this.container.innerHTML,i),this.container.innerHTML="",i}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.default.sources.API;if("string"==typeof e)return this.quill.setContents(this.convert(e),t);var r=this.convert(t);return this.quill.updateContents((new E.default).retain(e).concat(r),n)}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new E.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),setTimeout(function(){t.quill.selection.update(T.default.sources.SILENT),r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,T.default.sources.USER),t.quill.setSelection(r.length()-n.length,T.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.selection.scrollIntoView()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach(function(r){var o=C(r,2),i=o[0],a=o[1];switch(i){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:t.push(a);break;default:[].forEach.call(e.container.querySelectorAll(i),function(e){e[$]=e[$]||[],e[$].push(a)})}}),[t,n]}}]),t}(L.default);U.DEFAULTS={matchers:[]},t.default=U,t.matchAttributor=p,t.matchBlot=m,t.matchNewline=b,t.matchSpacing=y,t.matchText=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function u(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach(function(e){if("string"==typeof e)l(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?c(n,t,r):l(n,t,r)}}),e.appendChild(n)})}function c(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)}),e.appendChild(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),p=r(h),m=n(0),g=r(m),v=n(6),b=r(v),y=n(10),w=r(y),x=n(9),C=r(x),k=(0,w.default)("quill:toolbar"),_=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(r.options.container)){var o=document.createElement("div");u(o,r.options.container),e.container.parentNode.insertBefore(o,e.container),r.container=o}else"string"==typeof r.options.container?r.container=document.querySelector(r.options.container):r.container=r.options.container;if(!(r.container instanceof HTMLElement)){var s;return s=k.error("Container required for toolbar",r.options),a(r,s)}return r.container.classList.add("ql-toolbar"),r.controls=[],r.handlers={},Object.keys(r.options.handlers).forEach(function(e){r.addHandler(e,r.options.handlers[e])}),[].forEach.call(r.container.querySelectorAll("button, select"),function(e){r.attach(e)}),r.quill.on(b.default.events.EDITOR_CHANGE,function(e,t){e===b.default.events.SELECTION_CHANGE&&r.update(t)}),r.quill.on(b.default.events.SCROLL_OPTIMIZE,function(){var e=r.quill.selection.getRange(),t=f(e,1),n=t[0];r.update(n)}),r}return s(t,e),d(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void k.warn("ignoring attaching to disabled format",n,e);if(null==g.default.query(n))return void k.warn("ignoring attaching to nonexistent format",n,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,function(r){var i=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var a=e.options[e.selectedIndex];i=!a.hasAttribute("selected")&&(a.value||!1)}else i=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var s=t.quill.selection.getRange(),l=f(s,1),u=l[0];if(null!=t.handlers[n])t.handlers[n].call(t,i);else if(g.default.query(n).prototype instanceof g.default.Embed){if(!(i=prompt("Enter "+n)))return;t.quill.updateContents((new p.default).retain(u.index).delete(u.length).insert(o({},n,i)),b.default.sources.USER)}else t.quill.format(n,i,b.default.sources.USER);t.update(u)}),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(n){var r=f(n,2),o=r[0],i=r[1];if("SELECT"===i.tagName){var a=void 0;if(null==e)a=null;else if(null==t[o])a=i.querySelector("option[selected]");else if(!Array.isArray(t[o])){var s=t[o];"string"==typeof s&&(s=s.replace(/\"/g,'\\"')),a=i.querySelector('option[value="'+s+'"]')}null==a?(i.value="",i.selectedIndex=-1):a.selected=!0}else if(null==e)i.classList.remove("ql-active");else if(i.hasAttribute("value")){var l=t[o]===i.getAttribute("value")||null!=t[o]&&t[o].toString()===i.getAttribute("value")||null==t[o]&&!i.getAttribute("value");i.classList.toggle("ql-active",l)}else i.classList.toggle("ql-active",null!=t[o])})}}]),t}(C.default);_.DEFAULTS={},_.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(t){null!=g.default.query(t,g.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,b.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",b.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,b.default.sources.USER),this.quill.format("direction",e,b.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,b.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,b.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,b.default.sources.USER):this.quill.format("list","unchecked",b.default.sources.USER):this.quill.format("list",e,b.default.sources.USER)}}},t.default=_,t.addControls=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(3),f=r(c),d=n(2),h=r(d),p=n(5),m=r(p),g=n(30),v=r(g),b=n(29),y=r(b),w=n(48),x=r(w),C=n(49),k=r(C),_=n(28),E=r(_),A=n(50),S=r(A),O=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],N=["1","2","3",!1],F=["small",!1,"large","huge"],L=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(e){e.container.contains(n.target)||e.close()})};return document.body.addEventListener("click",a),r}return a(t,e),l(t,[{key:"addModule",value:function(e){var n=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}})})}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&s(e,O),new k.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&s(e,T,"background"===n?"#ffffff":"#000000"),new x.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?s(e,D):e.classList.contains("ql-header")?s(e,N):e.classList.contains("ql-size")&&s(e,F)),new E.default(e)});var r=function(){n.pickers.forEach(function(e){e.update()})};this.quill.on(m.default.events.SELECTION_CHANGE,r).on(m.default.events.SCROLL_OPTIMIZE,r)}}]),t}(y.default);L.DEFAULTS=(0,f.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon, image/svg+xml"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new h.default).retain(r.index).delete(r.length).insert({image:n.target.result}),m.default.sources.USER),t.value=""},n.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var P=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return a(t,e),l(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){v.default.match(t,"enter")?(e.save(),t.preventDefault()):v.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,m.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":var n=e.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);n?e=n[1]+"://www.youtube.com/embed/"+n[3]+"?showinfo=0":(n=e.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/))&&(e=n[1]+"://player.vimeo.com/video/"+n[3]+"/");case"formula":if(!e)break;var r=this.quill.getSelection(!0),o=r.index+r.length;null!=r&&(this.quill.insertEmbed(o,this.root.getAttribute("data-mode"),e,m.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(o+1," ",m.default.sources.USER),this.quill.setSelection(o+2,m.default.sources.USER))}this.textbox.value="",this.hide()}}]),t}(S.default);t.BaseTooltip=P,t.default=L},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(28),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),i}return i(t,e),a(t,[{key:"buildItem",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),o=e?e.getAttribute("data-value")||"":"";r&&("line"===r.tagName?r.style.stroke=o:r.style.fill=o)}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(28),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=n[e.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return i(t,e),a(t,[{key:"selectItem",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var o=this;r(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px"}),this.hide()}return o(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=t+i+"px"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=t+i+"px"),o.bottom>r.bottom){var a=o.bottom-o.top,s=e.bottom-e.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=i},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=o?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){"use strict";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new n,this._eventsCount=0}var i=Object.prototype.hasOwnProperty,a="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e,t){var n=a?a+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},o.prototype.emit=function(e,t,n,r,o,i){var s=a?a+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,i),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},o.prototype.on=function(e,t,n){var o=new r(t,n||this),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},o.prototype.once=function(e,t,n){var o=new r(t,n||this,!0),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},o.prototype.removeListener=function(e,t,r,o){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return 0==--this._eventsCount?this._events=new n:delete this._events[i],this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||(0==--this._eventsCount?this._events=new n:delete this._events[i]);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||o&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[i]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new n:delete this._events[i]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new n:delete this._events[t])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,void 0!==e&&(e.exports=o)},function(e,t){function n(e,t,n){if(e==t)return e?[[m,e]]:[];(n<0||e.length<n)&&(n=null);var o=a(e,t),i=e.substring(0,o);e=e.substring(o),t=t.substring(o),o=s(e,t);var l=e.substring(e.length-o);e=e.substring(0,e.length-o),t=t.substring(0,t.length-o);var c=r(e,t);return i&&c.unshift([m,i]),l&&c.push([m,l]),u(c),null!=n&&(c=f(c,n)),c}function r(e,t){var r;if(!e)return[[p,t]];if(!t)return[[h,e]];var i=e.length>t.length?e:t,a=e.length>t.length?t:e,s=i.indexOf(a);if(-1!=s)return r=[[p,i.substring(0,s)],[m,a],[p,i.substring(s+a.length)]],e.length>t.length&&(r[0][0]=r[2][0]=h),r;if(1==a.length)return[[h,e],[p,t]];var u=l(e,t);if(u){var c=u[0],f=u[1],d=u[2],g=u[3],v=u[4],b=n(c,d),y=n(f,g);return b.concat([[m,v]],y)}return o(e,t)}function o(e,t){for(var n=e.length,r=t.length,o=Math.ceil((n+r)/2),a=o,s=2*o,l=new Array(s),u=new Array(s),c=0;c<s;c++)l[c]=-1,u[c]=-1;l[a+1]=0,u[a+1]=0;for(var f=n-r,d=f%2!=0,m=0,g=0,v=0,b=0,y=0;y<o;y++){for(var w=-y+m;w<=y-g;w+=2){var x,C=a+w;x=w==-y||w!=y&&l[C-1]<l[C+1]?l[C+1]:l[C-1]+1;for(var k=x-w;x<n&&k<r&&e.charAt(x)==t.charAt(k);)x++,k++;if(l[C]=x,x>n)g+=2;else if(k>r)m+=2;else if(d){var _=a+f-w;if(_>=0&&_<s&&-1!=u[_]){var E=n-u[_];if(x>=E)return i(e,t,x,k)}}}for(var A=-y+v;A<=y-b;A+=2){var E,_=a+A;E=A==-y||A!=y&&u[_-1]<u[_+1]?u[_+1]:u[_-1]+1;for(var S=E-A;E<n&&S<r&&e.charAt(n-E-1)==t.charAt(r-S-1);)E++,S++;if(u[_]=E,E>n)b+=2;else if(S>r)v+=2;else if(!d){var C=a+f-A;if(C>=0&&C<s&&-1!=l[C]){var x=l[C],k=a+x-C;if(E=n-E,x>=E)return i(e,t,x,k)}}}}return[[h,e],[p,t]]}function i(e,t,r,o){var i=e.substring(0,r),a=t.substring(0,o),s=e.substring(r),l=t.substring(o),u=n(i,a),c=n(s,l);return u.concat(c)}function a(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function l(e,t){function n(e,t,n){for(var r,o,i,l,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,f="";-1!=(c=t.indexOf(u,c+1));){var d=a(e.substring(n),t.substring(c)),h=s(e.substring(0,n),t.substring(0,c));f.length<h+d&&(f=t.substring(c-h,c)+t.substring(c,c+d),r=e.substring(0,n-h),o=e.substring(n+d),i=t.substring(0,c-h),l=t.substring(c+d))}return 2*f.length>=e.length?[r,o,i,l,f]:null}var r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||2*o.length<r.length)return null;var i,l=n(r,o,Math.ceil(r.length/4)),u=n(r,o,Math.ceil(r.length/2));if(!l&&!u)return null;i=u?l&&l[4].length>u[4].length?l:u:l;var c,f,d,h;return e.length>t.length?(c=i[0],f=i[1],d=i[2],h=i[3]):(d=i[0],h=i[1],c=i[2],f=i[3]),[c,f,d,h,i[4]]}function u(e){e.push([m,""]);for(var t,n=0,r=0,o=0,i="",l="";n<e.length;)switch(e[n][0]){case p:o++,l+=e[n][1],n++;break;case h:r++,i+=e[n][1],n++;break;case m:r+o>1?(0!==r&&0!==o&&(t=a(l,i),0!==t&&(n-r-o>0&&e[n-r-o-1][0]==m?e[n-r-o-1][1]+=l.substring(0,t):(e.splice(0,0,[m,l.substring(0,t)]),n++),l=l.substring(t),i=i.substring(t)),0!==(t=s(l,i))&&(e[n][1]=l.substring(l.length-t)+e[n][1],l=l.substring(0,l.length-t),i=i.substring(0,i.length-t))),0===r?e.splice(n-o,r+o,[p,l]):0===o?e.splice(n-r,r+o,[h,i]):e.splice(n-r-o,r+o,[h,i],[p,l]),n=n-r-o+(r?1:0)+(o?1:0)+1):0!==n&&e[n-1][0]==m?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,o=0,r=0,i="",l=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(n=1;n<e.length-1;)e[n-1][0]==m&&e[n+1][0]==m&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),c=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),c=!0)),n++;c&&u(e)}function c(e,t){if(0===t)return[m,e];for(var n=0,r=0;r<e.length;r++){var o=e[r];if(o[0]===h||o[0]===m){var i=n+o[1].length;if(t===i)return[r+1,e];if(t<i){e=e.slice();var a=t-n,s=[o[0],o[1].slice(0,a)],l=[o[0],o[1].slice(a)];return e.splice(r,1,s,l),[r+1,e]}n=i}}throw new Error("cursor_pos is out of bounds!")}function f(e,t){var n=c(e,t),r=n[1],o=n[0],i=r[o],a=r[o+1];if(null==i)return e;if(i[0]!==m)return e;if(null!=a&&i[1]+a[1]===a[1]+i[1])return r.splice(o,2,a,i),d(r,o,2);if(null!=a&&0===a[1].indexOf(i[1])){r.splice(o,2,[a[0],i[1]],[0,i[1]]);var s=a[1].slice(i[1].length);return s.length>0&&r.splice(o+2,0,[a[0],s]),d(r,o,3)}return e}function d(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var o=e[r],i=e[r+1];o[0]===i[1]&&e.splice(r,2,[o[0],o[1]+i[1]])}return e}var h=-1,p=1,m=0,g=n;g.INSERT=p,g.DELETE=h,g.EQUAL=m,e.exports=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),i=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var r=i.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=i.query(n,i.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,o){null!=i.query(r,i.Scope.BLOCK)?this.format(r,o):e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=i.query(n,i.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var o=this.split(t),a=i.create(n,r);o.parent.insertBefore(a,o)}},t.prototype.update=function(t){navigator.userAgent.match(/Trident/)?this.attach():e.prototype.update.call(this,t)},t}(o.default);a.blotName="block",a.scope=i.Scope.BLOCK_BLOT,a.tagName="P",t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,o){0===t&&n===this.length()?this.format(r,o):e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(o.default);t.default=i},function(e,t,n){"use strict";function r(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach(function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,n,r,o){if(null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)){this.isolate(t,n).format(r,o)}else e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.optimize=function(){e.prototype.optimize.call(this);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&r(n,o.formats())&&(o.moveChildren(this),o.remove())},t}(i.default);s.blotName="inline",s.scope=a.Scope.INLINE_BLOT,s.tagName="SPAN",t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),i=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var n=e.call(this,t)||this;return n.parent=null,n.observer=new MutationObserver(function(e){n.update(e)}),n.observer.observe(n.domNode,a),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,o){this.update(),e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t){var n=this;void 0===t&&(t=[]),e.prototype.optimize.call(this);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var a=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[i.DATA_KEY].mutations&&(e.domNode[i.DATA_KEY].mutations=[]),t&&a(e.parent))},s=function(e){null!=e.domNode[i.DATA_KEY]&&null!=e.domNode[i.DATA_KEY].mutations&&(e instanceof o.default&&e.children.forEach(s),e.optimize())},l=t,u=0;l.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(function(e){var t=i.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(a(i.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=i.find(e,!1);a(t,!1),t instanceof o.default&&t.children.forEach(function(e){a(e,!1)})})):"attributes"===e.type&&a(t.prev)),a(t))}),this.children.forEach(s),l=[].slice.call(this.observer.takeRecords()),r=l.slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t){var n=this;t=t||this.observer.takeRecords(),t.map(function(e){var t=i.find(e.target,!0);if(null!=t)return null==t.domNode[i.DATA_KEY].mutations?(t.domNode[i.DATA_KEY].mutations=[e],t):(t.domNode[i.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==n&&null!=e.domNode[i.DATA_KEY]&&e.update(e.domNode[i.DATA_KEY].mutations||[])}),null!=this.domNode[i.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[i.DATA_KEY].mutations),this.optimize(t)},t}(o.default);s.blotName="scroll",s.defaultChild="block",s.scope=i.Scope.BLOCK_BLOT,s.tagName="DIV",t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),i=n(1),a=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){return e.data},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(){e.prototype.optimize.call(this),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=i.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e){var t=this;e.some(function(e){return"characterData"===e.type&&e.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t}(o.default);a.blotName="text",a.scope=i.Scope.INLINE_BLOT,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=void 0,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],void 0),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=void 0,this.head=this.tail=e),this.length+=1},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var o=n.length();if(e<o||t&&e===o&&(null==n.next||0!==n.next.length()))return[n,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,o=this.find(e),i=o[0],a=o[1],s=e-a,l=this.iterator(i);(r=l())&&s<e+t;){var u=r.length();e>s?n(r,e-s,Math.min(t,s+u-e)):n(r,0,Math.min(u,e+t-s)),s+=u}},e.prototype.map=function(e){return this.reduce(function(t,n){return t.push(e(n)),t},[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(35),i=r(o),a=n(36),s=n(38),l=n(67),u=n(64),c=r(u),f=n(65),d=r(f),h=n(69),p=r(h),m=n(37),g=n(26),v=n(39),b=n(40),y=n(44),w=r(y),x=n(68),C=r(x),k=n(27),_=r(k),E=n(70),A=r(E),S=n(71),O=r(S),T=n(72),D=r(T),N=n(66),F=r(N),L=n(73),P=r(L),B=n(16),R=r(B),q=n(74),M=r(q),j=n(75),I=r(j),$=n(46),z=r($),H=n(41),V=r(H),U=n(28),W=r(U),K=n(48),G=r(K),Y=n(49),X=r(Y),J=n(50),Z=r(J),Q=n(76),ee=r(Q),te=n(63),ne=r(te);i.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":b.SizeStyle},!0),i.default.register({"formats/align":a.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":l.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":v.FontClass,"formats/size":b.SizeClass,"formats/blockquote":c.default,"formats/code-block":R.default,"formats/header":d.default,"formats/list":p.default,"formats/bold":w.default,"formats/code":B.Code,"formats/italic":C.default,"formats/link":_.default,"formats/script":A.default,"formats/strike":O.default,"formats/underline":D.default,"formats/image":F.default,"formats/video":P.default,"formats/list/item":h.ListItem,"modules/formula":M.default,"modules/syntax":I.default,"modules/toolbar":z.default,"themes/bubble":ee.default,"themes/snow":ne.default,"ui/icons":V.default,"ui/picker":W.default,"ui/icon-picker":X.default,"ui/color-picker":G.default,"ui/tooltip":Z.default},!0),e.exports=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),f=r(c),d=n(5),h=r(d),p=n(47),m=r(p),g=n(27),v=r(g),b=n(15),y=n(41),w=r(y),x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(e){function t(e,n){o(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=x);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return a(t,e),u(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),w.default),this.tooltip=new k(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,n){e.handlers.link.call(e,!n.format.link)})}}]),t}(m.default);C.DEFAULTS=(0,f.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n);this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var k=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return a(t,e),u(t,[{key:"listen",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,h.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(t,n,r){if(null!=t){if(0===t.length&&r===h.default.sources.USER){var o=e.quill.scroll.descendant(v.default,t.index),i=s(o,2),a=i[0],l=i[1];if(null!=a){e.linkRange=new b.Range(t.index-l,a.length());var u=v.default.formats(a.domNode);return e.preview.textContent=u,e.preview.setAttribute("href",u),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(p.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=C},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default);l.blotName="blockquote",l.tagName="blockquote",t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(l.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(7),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(27),f=["alt","height","width"],d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"format",value:function(e,n){f.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return f.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,c.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(u.default);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(u.default.Attributor.Class),f=new c("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default);l.blotName="italic",l.tagName=["EM","I"],t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(0),f=r(c),d=n(4),h=r(d),p=n(24),m=r(p),g=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"format",value:function(e,n){e!==v.blotName||n?u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(f.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:u(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(h.default);g.blotName="list-item",g.tagName="LI";var v=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.addEventListener("click",function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),o=f.default.find(t.target);"checked"===r?o.format("list","unchecked"):"unchecked"===r&&o.format("list","checked")}}),n}return s(t,e),l(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=u(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),l(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return o({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(e,n){if(e instanceof g)u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),o=this.split(r);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this);var e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&e.domNode.tagName===this.domNode.tagName&&e.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(e.moveChildren(this),e.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=f.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(m.default);v.blotName="list",v.scope=f.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[g],t.ListItem=g,t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(8),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(u.default);c.blotName="script",c.tagName=["SUB","SUP"],t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default);l.blotName="strike",l.tagName="S",t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default);l.blotName="underline",l.tagName="U",t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(4),u=n(27),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=["height","width"],d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"format",value:function(e,n){f.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return f.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"sanitize",value:function(e){return c.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(l.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(7),c=r(u),f=n(6),d=r(f),h=n(9),p=r(h),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"index",value:function(){return 1}}],[{key:"create",value:function(e){var n=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n),n.setAttribute("data-value",e)),n.setAttribute("contenteditable",!1),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(c.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var g=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return a(t,e),s(t,null,[{key:"register",value:function(){d.default.register(m,!0)}}]),t}(p.default);t.FormulaBlot=m,t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(0),c=r(u),f=n(6),d=r(f),h=n(9),p=r(h),m=n(16),g=r(m),v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){if(this.cachedHTML!==this.domNode.innerHTML){var t=this.domNode.textContent;(t.trim().length>0||null==this.cachedHTML)&&(this.domNode.innerHTML=e(t),this.attach()),this.cachedHTML=this.domNode.innerHTML}}}]),t}(g.default);v.className="ql-syntax";var b=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),y=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var a=null;return r.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){null==a&&(a=setTimeout(function(){r.highlight(),a=null},100))}),r.highlight(),r}return a(t,e),s(t,null,[{key:"register",value:function(){d.default.register(b,!0),d.default.register(v,!0)}}]),s(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){var t=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(d.default.sources.SILENT),null!=t&&this.quill.setSelection(t,d.default.sources.SILENT)}}}]),t}(p.default);y.DEFAULTS={highlight:function(){return null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value}}()},t.CodeBlock=v,t.CodeToken=b,t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),f=n(5),d=r(f),h=n(47),p=r(h),m=n(15),g=n(41),v=r(g),b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],y=function(e){function t(e,n){o(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=b);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return a(t,e),l(t,[{key:"extendToolbar",value:function(e){this.tooltip=new w(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),v.default)}}]),t}(p.default);y.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var w=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(d.default.events.EDITOR_CHANGE,function(e,t,n,o){if(e===d.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===d.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var i=r.quill.getLines(t.index,t.length);if(1===i.length)r.position(r.quill.getBounds(t));else{var a=i[i.length-1],s=r.quill.getIndex(a),l=Math.min(a.length()-1,t.index+t.length-s),u=r.quill.getBounds(new m.Range(s,l));r.position(u)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()}),r}return a(t,e),l(t,[{key:"listen",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),t}(h.BaseTooltip);w.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=w,t.default=y},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=3 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=11 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=3 y1=9 y2=9></line> <path class="ql-stroke ql-thin" d=M15.5,14.5h-2c0-.234,1.85-1.076,1.85-2.234a0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=3 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=11 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=3 y1=9 y2=9></line> <line class="ql-stroke ql-thin" x1=13.5 x2=15.5 y1=14.5 y2=14.5></line> <path class=ql-fill d=M14.5,15a0.5,0.5,0,0,1-.5-0.5V12.085l-0.276.138A0.5,0.5,0,0,1,13.053,12c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,15,11.5v3A0.5,0.5,0,0,1,14.5,15Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(62)}])})}).call(t,n(23).Buffer)},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("quillEditor",{ref:"myQuillEditor",attrs:{options:e.editorOption},model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}}),e._v(" "),n("el-upload",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"avatar-uploader",attrs:{id:"quill-upload",action:e.serverUrl,data:e.postData,name:"file","show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}})],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(117)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(119),l=n(2),u=r,c=l(i.a,s.a,!1,u,null,null);t.default=c.exports},function(e,t,n){var r=n(118);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("d1bcb716",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".tox-silver-sink{z-index:10000!important}",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-box"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.myValue,expression:"myValue"}],attrs:{id:e.id},domProps:{value:e.myValue},on:{input:function(t){t.target.composing||(e.myValue=t.target.value)}}})])},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){var r=n(121);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("223ac143",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"DPIB"},[n("dm_debug_list",[n("dm_debug_item",{attrs:{text:"value"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"valueNeed"},model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"label"},model:{value:e.label,callback:function(t){e.label=t},expression:"label"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"selectData"},model:{value:e.selectData,callback:function(t){e.selectData=t},expression:"selectData"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"cf"},model:{value:e.cf,callback:function(t){e.cf=t},expression:"cf"}})],1),e._v(" "),e.cf.multiple?e._e():n("span",{attrs:{title:e.valueNeed}},[e._v(e._s(e.label||e.valueNeed))]),e._v(" "),n("el-input",{ref:"input_help",staticStyle:{width:"0px",height:"0px",overflow:"hidden"},attrs:{placeholder:"隐藏辅助文本框，用于更新校验"}}),e._v(" "),n("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.showDialog}},[e._v("选择"+e._s(e.cf.dataName||"数据"))]),e._v(" "),e.cf.multiple&&!e.cf.hideCollection?n("div",{staticClass:"MT8"},[n("collection",{attrs:{"show-toolbar":!0,"cf-form":{},hidePart:{"btn-add":1,"btn-edit":1,"btn-copy":1},"data-slot":"dataSlot1"},scopedSlots:e._u([{key:"dataSlot1",fn:function(t){var n=t.doc;return[e._v(e._s(n[e.cf.labelKey]))]}}],null,!1,2186693411),model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}})],1):e._e(),e._v(" "),e.isShowDialog?n("el-dialog",{attrs:{"custom-class":"n-el-dialog",width:"95%",top:"5vh",title:"选择"+(e.cf.dataName||"数据"),"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,visible:e.isShowDialog},on:{"update:visible":function(t){e.isShowDialog=t}}},[n("div",{},[n("dm_list_data",{ref:"listSelectData",attrs:{cf:e.cfList}}),e._v(" "),n("div",{staticClass:"TAC PT10 PB10"},[n("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确认选择")]),e._v(" "),n("el-button",{attrs:{plain:""},on:{click:function(t){e.isShowDialog=!1}}},[e._v("关闭")])],1)],1)]):e._e()],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(124)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(126),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-38f7e82f",null);t.default=c.exports},function(e,t,n){var r=n(125);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("aeae3fb2",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"DPIB"},[n("dm_debug_list",[n("dm_debug_item",{attrs:{text:"valueNeed"},model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}})],1),e._v(" "),n("el-input-number",{staticClass:"hide-btn MR5",attrs:{"controls-position":"right"},model:{value:e.valueNeed[e.keyMin],callback:function(t){e.$set(e.valueNeed,e.keyMin,t)},expression:"valueNeed[keyMin]"}}),e._v(" "),n("span",{staticClass:"MR5"},[e._v("到")]),e._v(" "),n("el-input-number",{staticClass:"hide-btn",attrs:{"controls-position":"right"},model:{value:e.valueNeed[e.keyMax],callback:function(t){e.$set(e.valueNeed,e.keyMax,t)},expression:"valueNeed[keyMax]"}})],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(128)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(130),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-2dfa0a66",null);t.default=c.exports},function(e,t,n){var r=n(129);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("795d85fe",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".el-tag+.el-tag[data-v-2dfa0a66]{margin-left:10px}.button-new-tag[data-v-2dfa0a66]{margin-left:10px;height:32px;line-height:30px;padding-top:0;padding-bottom:0}.input-new-tag[data-v-2dfa0a66]{width:90px;margin-left:10px;vertical-align:bottom}",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"DPLB"},[e._l(e.valueNeed,function(t){return n("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return e.handleClose(t)}}},[e._v(e._s(t))])}),e._v(" "),e.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New Tag")])],2)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"LH32"},[e.item.component?n(e.item.component,{tag:"component",model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):e.item.slot?e._t(e.item.slot,null,{formData:e.formDataNeed}):"select"==e.item.type?[e.item.ajax?n("select_ajax",{attrs:{multiple:e.item.multiple,keyLabel:e.item.ajax.keyLabel,keyValue:e.item.ajax.keyValue,ajaxUrl:e.item.ajax.url,param:e.item.ajax.param},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):n("el-select",{attrs:{clearable:"",multiple:e.item.multiple,"collapse-tags":""},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}},e._l(e.item.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]:"select_ajax_lazy"==e.item.type?n("dm_select_ajax_lazy",{attrs:{cf:e.item.cfSelectAjaxLazy},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"select_list_data"==e.item.type?n("select_list_data",{attrs:{cf:e.item.cfSelectList},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"radio"==e.item.type?n("el-radio-group",{model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}},e._l(e.item.options,function(t){return n("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}),1):"checkbox"==e.item.type?n("el-checkbox-group",{model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}},e._l(e.item.options,function(t){return n("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}),1):"textarea"==e.item.type?n("el-input",{attrs:{type:"textarea"},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"date"==e.item.type?n("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",align:"right",type:"date",placeholder:"选择日期"},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"dateTime"==e.item.type?n("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",align:"right",type:"datetime",placeholder:"选择日期时间"},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"time_period"==e.item.type?n("time_period",{model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"slider"==e.item.type?n("el-slider",{staticClass:"ML10 WP50 slider",attrs:{step:.1,max:1,height:"30","show-stops":"",marks:e.marks},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"vueJsonEditor"==e.item.type?n("vue-json-editor",{attrs:{lang:"zh"},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"jsonEditor"==e.item.type?n("json_editor",{model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"collection"==e.item.type?n("collection",{attrs:{"list-type":e.item.collectionlistType,"show-toolbar":e.item.showToolbar,"cf-form":e.item.collectionCfForm,cfElBtnAdd:e.item.cfElBtnAdd,dataSlot:e.item.dataSlot},scopedSlots:e._u([{key:e.item.dataSlot,fn:function(t){var n=t.doc;return[e.item.dataSlot?e._t(e.item.dataSlot,null,{doc:n}):e._e()]}}],null,!0),model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"upload"==e.item.type?n("upload_img",{attrs:{"upload-config":e.item.uploadConfig},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"editorTM"==e.item.type?n("tiny_mce",{attrs:{showToolbar:!0,pasteImage:e.item.pasteImage},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"editorTMNew"==e.item.type?n("tiny_mce_new",{attrs:{showToolbar:!0,pasteImage:e.item.pasteImage},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"editor"==e.item.type?n("quill_editor",{model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"input_find_vague"==e.item.type?n("input_find_vague",{on:{enterClick:function(t){return e.$emit("enterClick")}},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"password"==e.item.type?n("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):e.item.path?n("json_prop",{attrs:{prop:e.item.path},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"number"==e.item.type?n("el-input-number",{class:{"hide-btn":e.item.hideBtn},attrs:{"controls-position":e.item.controlsPosition||"right",min:e.item.min,max:e.item.max},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"numberRange"==e.item.type?[e.item.prop?n("number_range",e._b({model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}},"number_range",e.item,!1)):n("number_range",e._b({model:{value:e.formDataNeed,callback:function(t){e.formDataNeed=t},expression:"formDataNeed"}},"number_range",e.item,!1))]:"tag_list"==e.item.type?n("tag_list",{model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}):"text"==e.item.type?n("span",{staticClass:"PR5",style:e.item.style},[e._v(e._s(e.formDataNeed[e.item.prop]))]):"ajax_populate"==e.item.type?n("dm_ajax_populate",{attrs:{id:e.formDataNeed[e.item.prop],populateKey:e.$lodash.get(e.item,"cfAjaxPopulate.populateKey"),page:e.$lodash.get(e.item,"cfAjaxPopulate.page")}}):n("el-input",{attrs:{clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("enterClick")}},model:{value:e.formDataNeed[e.item.prop],callback:function(t){e.$set(e.formDataNeed,e.item.prop,t)},expression:"formDataNeed[item.prop]"}}),e._v(" "),e.item.frequency?[n("el-popover",{attrs:{placement:"bottom-start",width:"200",trigger:"hover","open-delay":0},model:{value:e.visibleFrequency[e.item.prop],callback:function(t){e.$set(e.visibleFrequency,e.item.prop,t)},expression:"visibleFrequency[item.prop]"}},[e._l(e.item.frequency.options,function(t,r){return n("i",{key:r,class:["frequency-option",{focus:e.formDataNeed[e.item.prop]==t.value}],style:e.item.frequency.sytle||{width:"48px"},on:{click:function(n){e.formDataNeed[e.item.prop]=t.value,e.visibleFrequency[e.item.prop]=!1}}},[e._v("\n        "+e._s(t.label||t.value)+"\n      ")])}),e._v(" "),n("a",{staticClass:"n-a",attrs:{href:"javascript:;"},on:{click:function(t){e.formDataNeed[e.item.prop]=null,e.visibleFrequency[e.item.prop]=!1}}},[e._v("清除")]),e._v(" "),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more"},slot:"reference"})],2)]:e._e()],2)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[e.isReadyFormData?e._e():n("dm_loading",{attrs:{height:"200"}}),e._v(" "),n("dm_debug_list",[n("dm_debug_item",{attrs:{text:"是否需要删除id"},model:{value:e.needDeleteId,callback:function(t){e.needDeleteId=t},expression:"needDeleteId"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"formDataNeed"},model:{value:e.formDataNeed,callback:function(t){e.formDataNeed=t},expression:"formDataNeed"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"value"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"配置"},model:{value:e.cf,callback:function(t){e.cf=t},expression:"cf"}})],1),e._v(" "),e.isReadyFormData?n("el-form",{ref:"form",attrs:{model:e.value,"label-width":e.cf.labelWidth||"120px",size:e.cf.size||"small",inline:e.cf.inline}},[n("el-row",[e._l(e.cf.formItems,function(t,r){return[e.satisfyTerm(t)?n("el-col",{key:t.prop+"_"+r,class:{clearall:e.clearall},style:e.getItemStyle(t),attrs:{span:t.col_span||e.cf.col_span}},[t.cfForm?n("div",{class:{"form-group-box":!0,"form-group-no-label":!t.label},style:t.style},[n("div",{staticClass:"FWB FS16"},[e._v(e._s(t.label))]),e._v(" "),t.prop?n("dm_dynamic_form",{attrs:{cf:t.cfForm},scopedSlots:e._u([e._l(t.cfForm.formItems,function(t){return{key:t.slot,fn:function(n){var r=n.formData;return[t.slot?e._t(t.slot,null,{formData:r}):e._e()]}}})],null,!0),model:{value:e.formDataNeed[t.prop],callback:function(n){e.$set(e.formDataNeed,t.prop,n)},expression:"formDataNeed[item.prop]"}}):n("dm_dynamic_form",{attrs:{cf:t.cfForm},scopedSlots:e._u([e._l(t.cfForm.formItems,function(t){return{key:t.slot,fn:function(n){var r=n.formData;return[t.slot?e._t(t.slot,null,{formData:r}):e._e()]}}})],null,!0),model:{value:e.formDataNeed,callback:function(t){e.formDataNeed=t},expression:"formDataNeed"}})],1):e._e(),e._v(" "),t.cfForm?e._e():n("el-form-item",{attrs:{prop:t.prop,rules:t.rules||[]}},[n("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n              "+e._s(t.label)+"\n              "),e._v(" "),t.tips?n("i",{staticClass:"el-icon-question",staticStyle:{color:"#999"},attrs:{title:t.tips}}):e._e()]),e._v(" "),n("form_item",{attrs:{cf:t},on:{enterClick:e.enterClick},scopedSlots:e._u([{key:t.slot,fn:function(n){n.formData;return[t.slot?e._t(t.slot,null,{formData:e.formDataNeed}):e._e()]}},{key:t.dataSlot,fn:function(n){var r=n.doc;return[t.dataSlot?e._t(t.dataSlot,null,{doc:r}):e._e()]}}],null,!0),model:{value:e.formDataNeed,callback:function(t){e.formDataNeed=t},expression:"formDataNeed"}})],1)],1):e._e()]}),e._v(" "),e.cf.btns&&e.cf.btns.length?[e.cf.inline?n("el-form-item",{staticStyle:{display:"inline-block"}},e._l(e.cf.btns,function(t,r){return n("el-button",{key:r,attrs:{type:t.type,size:"mini"},on:{click:function(n){return e.btnClick(t.event,t.validate)}}},[e._v(e._s(t.text))])}),1):n("div",{staticClass:"TAC LH50 clear"},e._l(e.cf.btns,function(t,r){return n("el-button",{key:r,attrs:{type:t.type,size:"normal"},on:{click:function(n){return e.btnClick(t.event,t.validate)}}},[e._v(e._s(t.text))])}),1)]:e._e()],2)],1):e._e()],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(134)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(29),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(170),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-70216da9",null);t.default=c.exports},function(e,t,n){var r=n(135);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("bbdacb42",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".icon-edit[data-v-70216da9]{position:absolute;right:3px;top:3px;color:#ccc}.list-data-box[data-v-70216da9] .n-table-head .cell,.list-data-box[data-v-70216da9] .n-table-row .cell{padding:0;font-weight:400}.search-form-box[data-v-70216da9]{border:1px solid #ebeef5;border-radius:5px;padding:15px 5px 0 12px}.cell .el-button+.el-button[data-v-70216da9]{margin-left:0}body .table-normal td[data-v-70216da9]{line-height:150%}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var a=n(169),s=n(2),l=s(o.a,a.a,!1,null,null,null);t.default=l.exports},function(e,t,n){"use strict";function r(e){n(138)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(168),l=n(2),u=r,c=l(i.a,s.a,!1,u,null,null);t.default=c.exports},function(e,t,n){var r=n(139);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("1165af19",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".tox-silver-sink{z-index:10000!important}",""])},function(e,t,n){(function(t){!function(n){"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function i(){function e(n,r){return t.push(n+" ")>Ze.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function a(e){return e[qt]=!0,e}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Wt)-(~e.sourceIndex||Wt);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return a(function(t){return t=+t,a(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function u(e){return e&&typeof e.getElementsByTagName!==Ut&&e}function c(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=It++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,l,u=[jt,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(l=t[qt]||(t[qt]={}),(s=l[r])&&s[0]===jt&&s[1]===i)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function p(e,t,n){for(var r=0,o=t.length;r<o;r++)wn(e,t[r],n);return n}function m(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function g(e,t,n,r,o,i){return r&&!r[qt]&&(r=g(r)),o&&!o[qt]&&(o=g(o,i)),a(function(i,a,s,l){var u,c,f,d=[],h=[],g=a.length,v=i||p(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?v:m(v,d,e,s,l),y=n?o||(i?e:g||r)?[]:a:b;if(n&&n(b,y,s,l),r)for(u=m(y,h),r(u,[],s,l),c=u.length;c--;)(f=u[c])&&(y[h[c]]=!(b[h[c]]=f));if(i){if(o||e){if(o){for(u=[],c=y.length;c--;)(f=y[c])&&u.push(b[c]=f);o(null,y=[],u,l)}for(c=y.length;c--;)(f=y[c])&&(u=o?Qt.call(i,f):d[c])>-1&&(i[u]=!(a[u]=f))}}else y=m(y===a?y.splice(g,y.length):y),o?o(null,a,y,l):Jt.apply(a,y)})}function v(e){for(var t,n,r,o=e.length,i=Ze.relative[e[0].type],a=i||Ze.relative[" "],s=i?1:0,l=d(function(e){return e===t},a,!0),u=d(function(e){return Qt.call(t,e)>-1},a,!0),c=[function(e,n,r){return!i&&(r||n!==ot)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];s<o;s++)if(n=Ze.relative[e[s].type])c=[d(h(c),n)];else{if(n=Ze.filter[e[s].type].apply(null,e[s].matches),n[qt]){for(r=++s;r<o&&!Ze.relative[e[r].type];r++);return g(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(on,"$1"),n,s<r&&v(e.slice(s,r)),r<o&&v(e=e.slice(r)),r<o&&f(e))}c.push(n)}return h(c)}function b(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,s,l){var u,c,f,d=0,h="0",p=o&&[],g=[],v=ot,b=o||r&&Ze.find.TAG("*",l),y=jt+=null==v?1:Math.random()||.1,w=b.length;for(l&&(ot=i!==lt&&i);h!==w&&null!=(u=b[h]);h++){if(r&&u){for(c=0;f=e[c++];)if(f(u,i,a)){s.push(u);break}l&&(jt=y)}n&&((u=!f&&u)&&d--,o&&p.push(u))}if(d+=h,n&&h!==d){for(c=0;f=t[c++];)f(p,g,i,a);if(o){if(d>0)for(;h--;)p[h]||g[h]||(g[h]=Yt.call(s));g=m(g)}Jt.apply(s,g),l&&!o&&g.length>0&&d+t.length>1&&wn.uniqueSort(s)}return l&&(jt=y,ot=v),p};return n?a(o):o}function y(e,t){void 0===t&&(t={});var r,o=0,i={};r=t.maxLoadTime||5e3;var a=function(t){e.getElementsByTagName("head")[0].appendChild(t)},s=function(s,l,u){var c,f,d,h,p=function(e){h.status=e,h.passed=[],h.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},m=function(){for(var e=h.passed,t=e.length;t--;)e[t]();p(2)},g=function(){for(var e=h.failed,t=e.length;t--;)e[t]();p(3)},v=function(e,t){e()||((new Date).getTime()-d<r?_t.setTimeout(t):g())},b=function(){v(function(){for(var t,n,r=e.styleSheets,o=r.length;o--;)if(t=r[o],(n=t.ownerNode?t.ownerNode:t.owningElement)&&n.id===c.id)return m(),!0},b)},y=function(){v(function(){try{var e=f.sheet.cssRules;return m(),!!e}catch(e){}},y)};if(s=Vn._addCacheSuffix(s),i[s]?h=i[s]:(h={passed:[],failed:[]},i[s]=h),l&&h.passed.push(l),u&&h.failed.push(u),1!==h.status){if(2===h.status)return void m();if(3===h.status)return void g();if(h.status=1,c=e.createElement("link"),c.rel="stylesheet",c.type="text/css",c.id="u"+o++,c.async=!1,c.defer=!1,d=(new Date).getTime(),t.contentCssCors&&(c.crossOrigin="anonymous"),"onload"in c&&!function(){var e=n.navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)}())c.onload=b,c.onerror=g;else{if(n.navigator.userAgent.indexOf("Firefox")>0)return f=e.createElement("style"),f.textContent='@import "'+s+'"',y(),void a(f);b()}a(c),c.href=s}},l=function(e){return Pi.nu(function(t){s(e,X(t,J(Ii.value(e))),X(t,J(Ii.error(e))))})},u=function(e){return e.fold(Z,Z)};return{load:s,loadAll:function(e,t,n){Ri(_e(e,l)).get(function(e){var r=Se(e,function(e){return e.isValue()});r.fail.length>0?n(r.fail.map(u)):t(r.pass.map(u))})}}}function w(e){var t,n,r,o,i,a,s,l,u,c,f,d,h,p={},m={},g=[],v={},b={},y=function(t,n,r){var o=e[t];return o?o=Za(o,/[, ]/,Za(o.toUpperCase(),/[, ]/)):(o=Xa[t])||(o=Za(n," ",Za(n.toUpperCase()," ")),o=es(o,r),Xa[t]=o),o};e=e||{},r=os(e.schema),!1===e.verify_html&&(e.valid_elements="*[*]"),t=is(e.valid_styles),n=is(e.invalid_styles,"map"),l=is(e.valid_classes,"map"),o=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),i=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=y("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=y("non_empty_elements","td th iframe video audio object script pre code",a),f=y("move_caret_before_on_enter_elements","table",c),d=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),u=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),h=y("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Qa((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){b[e]=new RegExp("</"+e+"[^>]*>","gi")});var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var t,n,r,o,i,a,s,l,u,c,f,d,h,m,v,b,y,x,C,k=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,_=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,E=/[*?+]/;if(e)for(e=rs(e,","),p["@"]&&(b=p["@"].attributes,y=p["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(i=k.exec(e[t])){if(m=i[1],u=i[2],v=i[3],l=i[5],d={},h=[],a={attributes:d,attributesOrder:h},"#"===m&&(a.paddEmpty=!0),"-"===m&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),b){for(x in b)d[x]=b[x];h.push.apply(h,y)}if(l)for(l=rs(l,"|"),r=0,o=l.length;r<o;r++)if(i=_.exec(l[r])){if(s={},f=i[1],c=i[2].replace(/[\\:]:/g,":"),m=i[3],C=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(c),s.required=!0),"-"===f){delete d[c],h.splice(ns(h,c),1);continue}m&&("="===m&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:c,value:C}),s.defaultValue=C),":"===m&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:c,value:C}),s.forcedValue=C),"<"===m&&(s.validValues=Za(C,"?"))),E.test(c)?(a.attributePatterns=a.attributePatterns||[],s.pattern=w(c),a.attributePatterns.push(s)):(d[c]||h.push(c),d[c]=s)}b||"@"!==u||(b=d,y=h),v&&(a.outputName=u,p[v]=a),E.test(u)?(a.pattern=w(u),g.push(a)):p[u]=a}},C=function(e){p={},g=[],x(e),Qa(r,function(e,t){m[t]=e.children})},k=function(e){var t=/^(~)?(.+)$/;e&&(Xa.text_block_elements=Xa.block_elements=null,Qa(rs(e,","),function(e){var n=t.exec(e),r="~"===n[1],o=r?"span":"div",i=n[2];if(m[i]=m[o],v[i]=o,r||(u[i.toUpperCase()]={},u[i]={}),!p[i]){var a=p[o];a=es({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,p[i]=a}Qa(m,function(e,t){e[o]&&(m[t]=e=es({},m[t]),e[i]=e[o])})}))},_=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Xa[e.schema]=null,t&&Qa(rs(t,","),function(e){var t,r,o=n.exec(e);o&&(r=o[1],t=r?m[o[2]]:m[o[2]]={"#comment":{}},t=m[o[2]],Qa(rs(o[3],"|"),function(e){"-"===r?delete t[e]:t[e]={}}))})},E=function(e){var t,n=p[e];if(n)return n;for(t=g.length;t--;)if(n=g[t],n.pattern.test(e))return n};e.valid_elements?C(e.valid_elements):(Qa(r,function(e,t){p[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},m[t]=e.children}),"html5"!==e.schema&&Qa(rs("strong/b em/i"),function(e){e=rs(e,"/"),p[e[1]].outputName=e[0]}),Qa(rs("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){p[e]&&(p[e].removeEmpty=!0)}),Qa(rs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){p[e].paddEmpty=!0}),Qa(rs("span"),function(e){p[e].removeEmptyAttrs=!0})),k(e.custom_elements),_(e.valid_children),x(e.extended_valid_elements),_("+ol[ul|ol],+ul[ul|ol]"),Qa({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){p[t]&&(p[t].parentsRequired=rs(e))}),e.invalid_elements&&Qa(ts(e.invalid_elements),function(e){p[e]&&delete p[e]}),E("span")||x("span[!data-mce-type|*]");var A=function(){return t},S=function(){return n},O=function(){return l},T=function(){return s},D=function(){return u},N=function(){return d},F=function(){return h};return{children:m,elements:p,getValidStyles:A,getValidClasses:O,getBlockElements:D,getInvalidStyles:S,getShortEndedElements:function(){return a},getTextBlockElements:N,getTextInlineElements:F,getBoolAttrs:T,getElementRule:E,getSelfClosingElements:function(){return i},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return f},getWhiteSpaceElements:function(){return o},getSpecialElements:function(){return b},isValidChild:function(e,t){var n=m[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,r,o=E(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return v},addValidElements:x,setValidElements:C,addCustomElements:k,addValidChildren:_}}function x(e,t){var r=this;void 0===t&&(t={});var o,i={},a=n.window,s={},l=0,u=y(e,{contentCssCors:t.contentCssCors}),c=[],f=t.schema?t.schema:w({}),d=ss({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),h=t.ownEvents?new Rt:Rt.Event,p=f.getBlockElements(),m=xr.overrideDefaults(function(){return{context:e,element:Te.getRoot()}}),g=function(e){if("string"==typeof e)return!!p[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!p[e.nodeName])}return!1},v=function(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t},b=function(e){return"string"==typeof e&&(e=v(e)),m(e)},C=function(e,t,n){var r,i,a=b(e);return a.length&&(r=o[t],i=r&&r.get?r.get(a,t):a.attr(t)),void 0===i&&(i=n||""),i},k=function(e){var t=v(e);return t?t.attributes:[]},_=function(e,n,r){var i,a;""===r&&(r=null);var s=b(e);i=s.attr(n),s.length&&(a=o[n],a&&a.set?a.set(s,r,n):s.attr(n,r),i!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:s,attrName:n,attrValue:r}))},E=function(t,n){if(!cs||1!==t.nodeType||n)return t.cloneNode(n);if(!n){var r=e.createElement(t.nodeName);return ls(k(t),function(e){_(r,e.nodeName,C(t,e.nodeName))}),r}return null},A=function(){return t.root_element||e.body},S=function(e){var t=e||a,n=t.document,r=n.documentElement;return{x:t.pageXOffset||r.scrollLeft,y:t.pageYOffset||r.scrollTop,w:t.innerWidth||r.clientWidth,h:t.innerHeight||r.clientHeight}},O=function(t,n){return wi.getPos(e.body,v(t),n)},T=function(e,n,r){var o=de(n)?b(e).css(n,r):b(e).css(n);t.update_styles&&ps(d,o)},D=function(e,n){var r=b(e).css(n);t.update_styles&&ps(d,r)},N=function(e,t,n){var r=b(e);return n?r.css(t):(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"===t&&(t=gt.ie&&gt.ie<12?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},F=function(e){var t,n;return e=v(e),t=N(e,"width"),n=N(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},L=function(e){var t,n;return e=v(e),t=O(e),n=F(e),{x:t.x,y:t.y,w:n.w,h:n.h}},P=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(fs.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return wn(t,i[0].ownerDocument||i[0],null,i).length>0},B=function(e,t,n,r){var o,i=[],a=v(e);for(r=void 0===r,n=n||("BODY"!==A().nodeName?A().parentNode:null),Vn.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return P(e,o)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},R=function(e,t,n){var r=B(e,t,n,!1);return r&&r.length>0?r[0]:null},q=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return P(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},M=function(e,t){return q(e,t,"nextSibling")},j=function(e,t){return q(e,t,"previousSibling")},I=function(n,r){return wn(n,v(r)||t.root_element||e,[])},$=function(e,t,n){var o,i="string"==typeof e?v(e):e;if(!i)return!1;if(Vn.isArray(i)&&(i.length||0===i.length))return o=[],ls(i,function(e,r){e&&("string"==typeof e&&(e=v(e)),o.push(t.call(n,e,r)))}),o;var a=n||r;return t.call(a,i)},z=function(e,t){b(e).each(function(e,n){ls(t,function(e,t){_(n,t,e)})})},H=function(e,t){var n=b(e);cs?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){xr("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},V=function(t,n,r,o,i){return $(t,function(t){var a="string"==typeof n?e.createElement(n):n;return z(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&H(a,o)),i?a:t.appendChild(a)})},U=function(t,n,r){return V(e.createElement(t),t,n,r,!0)},W=Ya.decode,K=Ya.encodeAllRaw,G=function(e,t,n){var r,o="";o+="<"+e;for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+K(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},Y=function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o},X=function(e,t){var n=b(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},J=function(e){return $(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},Z=function(e){return d.parse(e)},Q=function(e,t){return d.serialize(e,t)},ee=function(t){var r,o;if(Te!==x.DOM&&e===n.document){if(i[t])return;i[t]=!0}o=e.getElementById("mceDefaultStyles"),o||(o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css",r=e.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},te=function(r){var o;if(Te!==x.DOM&&e===n.document)return void x.DOM.loadCSS(r);r||(r=""),o=e.getElementsByTagName("head")[0],ls(r.split(","),function(e){var n;e=Vn._addCacheSuffix(e),s[e]||(s[e]=!0,n=U("link",Ue({rel:"stylesheet",type:"text/css",href:e},t.contentCssCors?{crossOrigin:"anonymous"}:{})),o.appendChild(n))})},ne=function(e,t,n){b(e).toggleClass(t,n).each(function(){""===this.className&&xr(this).attr("class",null)})},re=function(e,t){b(e).addClass(t)},oe=function(e,t){ne(e,t,!1)},ie=function(e,t){return b(e).hasClass(t)},ae=function(e){b(e).show()},se=function(e){b(e).hide()},le=function(e){return"none"===b(e).css("display")},ue=function(e){return(e||"mce_")+l++},ce=function(e){var t="string"==typeof e?v(e):e;return sa.isElement(t)?t.outerHTML:xr("<div></div>").append(xr(t).clone()).html()},fe=function(e,t){b(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}X(xr(this).html(t),!0)})},he=function(e,t){var n=v(t);return $(e,function(e){var t,r;return t=n.parentNode,r=n.nextSibling,r?t.insertBefore(e,r):t.appendChild(e),e})},pe=function(e,t,n){return $(t,function(t){return Vn.is(t,"array")&&(e=e.cloneNode(!0)),n&&ls(us(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},me=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=U(t),ls(k(e),function(t){_(n,t.nodeName,C(e,t.nodeName))}),pe(n,e,!0)),n||e},ge=function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},ve=function(e){return d.toHex(Vn.trim(e))},be=function(e,t){var n,r,o,i,a=0;if(e=e.firstChild){var s=new la(e,e.parentNode),l=f?f.getWhiteSpaceElements():{};t=t||(f?f.getNonEmptyElements():null);do{if(o=e.nodeType,sa.isElement(e)){var u=e.getAttribute("data-mce-bogus");if(u){e=s.next("all"===u);continue}if(i=e.nodeName.toLowerCase(),t&&t[i]){if("br"===i){a++,e=s.next();continue}return!1}for(r=k(e),n=r.length;n--;)if("name"===(i=r[n].nodeName)||"data-mce-bookmark"===i)return!1}if(8===o)return!1;if(3===o&&!ds.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&l[e.parentNode.nodeName]&&ds.test(e.nodeValue))return!1;e=s.next()}while(e)}return a<=1},ye=function(){return e.createRange()},we=function(e,t,n){var r,o,i,a=ye();if(e&&t)return a.setStart(e.parentNode,ms(e)),a.setEnd(t.parentNode,ms(t)),r=a.extractContents(),a=ye(),a.setStart(t.parentNode,ms(t)+1),a.setEnd(e.parentNode,ms(e)+1),o=a.extractContents(),i=e.parentNode,i.insertBefore(Pa.trimNode(Te,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(Pa.trimNode(Te,o),e),X(e),n||t},xe=function(n,r,o,i){if(Vn.isArray(n)){for(var s=n.length,l=[];s--;)l[s]=xe(n[s],r,o,i);return l}return!t.collect||n!==e&&n!==a||c.push([n,r,o,i]),h.bind(n,r,o,i||Te)},Ce=function(t,n,r){var o;if(Vn.isArray(t)){o=t.length;for(var i=[];o--;)i[o]=Ce(t[o],n,r);return i}if(c&&(t===e||t===a))for(o=c.length;o--;){var s=c[o];t!==s[0]||n&&n!==s[1]||r&&r!==s[2]||h.unbind(s[0],s[1],s[2])}return h.unbind(t,n,r)},ke=function(e,t,n){return h.fire(e,t,n)},_e=function(e){if(e&&sa.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Ee=function(e){for(var t=A(),n=null;e&&e!==t&&null===(n=_e(e));e=e.parentNode);return n},Ae=function(){if(c)for(var e=c.length;e--;){var t=c[e];h.unbind(t[0],t[1],t[2])}wn.setDocument&&wn.setDocument()},Se=function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},Oe=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Te={doc:e,settings:t,win:a,files:s,stdMode:!0,boxModel:!0,styleSheetLoader:u,boundEvents:c,styles:d,schema:f,events:h,isBlock:g,$:m,$$:b,root:null,clone:E,getRoot:A,getViewPort:S,getRect:L,getSize:F,getParent:R,getParents:B,get:v,getNext:M,getPrev:j,select:I,is:P,add:V,create:U,createHTML:G,createFragment:Y,remove:X,setStyle:T,getStyle:N,setStyles:D,removeAllAttribs:J,setAttrib:_,setAttribs:z,getAttrib:C,getPos:O,parseStyle:Z,serializeStyle:Q,addStyle:ee,loadCSS:te,addClass:re,removeClass:oe,hasClass:ie,toggleClass:ne,show:ae,hide:se,isHidden:le,uniqueId:ue,setHTML:H,getOuterHTML:ce,setOuterHTML:fe,decode:W,encode:K,insertAfter:he,replace:pe,rename:me,findCommonAncestor:ge,toHex:ve,run:$,getAttribs:k,isEmpty:be,createRng:ye,nodeIndex:ms,split:we,bind:xe,unbind:Ce,fire:ke,getContentEditable:_e,getContentEditableParent:Ee,destroy:Ae,isChildOf:Se,dumpRng:Oe};return o=hs(d,t,function(){return Te}),Te}function C(){var e=this,t=[],n={},r={},o=[],i=function(e){if(r[e])return r[e].instance},a=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},s=function(e,t){var r=Ls.getCode();if(r&&!1!==C.languageLoad){if(t)if(t=","+t+",",-1!==t.indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1===t.indexOf(","+r+","))return;ws.ScriptLoader.add(n[e]+"/langs/"+r+".js")}},l=function(e,n,i){t.push(n),r[e]={instance:n,dependencies:i};var a=Se(o,function(t){return t.name===e});return o=a.fail,Ps(a.pass,function(e){e.callback()}),n},u=function(e){delete n[e],delete r[e]},c=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},f=function(t,n){var r=e.urls[t];Ps(n,function(e){ws.ScriptLoader.add(r+"/"+e)})},d=function(e,t,n,r){var o=a(e);Ps(o,function(e){var n=c(t,e);h(n.resource,n,void 0,void 0)}),n&&(r?n.call(r):n.call(ws))},h=function(e,t,o,i,a){if(!n[e]){var s="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==s.indexOf("/")&&-1===s.indexOf("://")&&(s=C.baseURL+"/"+s),n[e]=s.substring(0,s.lastIndexOf("/")),r[e]?d(e,t,o,i):ws.ScriptLoader.add(s,function(){return d(e,t,o,i)},i,a)}};return{items:t,urls:n,lookup:r,_listeners:o,get:i,dependencies:a,requireLangPack:s,add:l,remove:u,createUrl:c,addComponents:f,load:h,waitFor:function(e,t){r.hasOwnProperty(e)?t():o.push({name:e,callback:t})}}}function k(e,t,n,r,o){return e(n,r)?ue.some(n):ve(o)&&o(n)?ue.none():t(n,r,o)}function _(e,t,n){var r=function(){return Pu(e),0===t},o=function(){return Pu(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var n;return n=Mu(e.ownerDocument),n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=Ku(_(e,t))),n},s=function(){return a().length>0},l=function(n){return n&&e===n.container()&&t===n.offset()},u=function(n){return qu(e,n?t-1:t)};return{container:J(e),offset:J(t),toRange:i,getClientRects:a,isVisible:s,isAtStart:r,isAtEnd:o,isEqual:l,getNode:u}}function E(e,t){void 0===t&&(t=w());var n=function(){};e=e||{},!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,a=e.start?e.start:n,s=e.end?e.end:n,l=e.pi?e.pi:n,u=e.doctype?e.doctype:n;return{parse:function(n){var c,f,d,h,p,m,g,v,b,y,w,x,C,k,_,E,A,S,O,T,D,N,F,L,P,B,R,q,M,j,I=0,$=[],z=0,H=Ya.decode,V=Vn.makeMap("src,href,data,background,formaction,poster,xlink:href"),U=/((java|vb)script|mhtml):/i,W=function(e){var t,n;for(t=$.length;t--&&$[t].name!==e;);if(t>=0){for(n=$.length-1;n>=t;n--)e=$[n],e.valid&&s(e.name);$.length=t}},K=function(t,n,r,o,i){var a,s,l=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=n in w?n:H(r||o||i||""),C&&!v&&!1===mh(n)){if(!(a=S[n])&&O){for(s=O.length;s--&&(a=O[s],!a.pattern.test(n)););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(V[n]&&!e.allow_script_urls){var u=r.replace(l,"");try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}if(U.test(u))return;if(vh(e,u))return}v&&(n in V||0===n.indexOf("on"))||(h.map[n]=r,h.push({name:n,value:r}))};for(B=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),R=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,y=t.getShortEndedElements(),P=e.self_closing_elements||t.getSelfClosingElements(),w=t.getBoolAttrs(),C=e.validate,b=e.remove_internals,j=e.fix_self_closing,q=t.getSpecialElements(),F=n+">";c=B.exec(F);){if(I<c.index&&i(H(n.substr(I,c.index-I))),f=c[6])f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),W(f);else if(f=c[7]){if(c.index+c[0].length>n.length){i(H(n.substr(c.index))),I=c.index+c[0].length;continue}f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),x=f in y,j&&P[f]&&$.length>0&&$[$.length-1].name===f&&W(f);var G=yh(R,c[8]);if(null!==G){if("all"===G){I=bh(t,n,B.lastIndex),B.lastIndex=I;continue}_=!1}if(!C||(k=t.getElementRule(f))){if(_=!0,C&&(S=k.attributes,O=k.attributePatterns),(A=c[8])?(v=-1!==A.indexOf("data-mce-type"),v&&b&&(_=!1),h=[],h.map={},A.replace(R,K)):(h=[],h.map={}),C&&!v){if(T=k.attributesRequired,D=k.attributesDefault,N=k.attributesForced,L=k.removeEmptyAttrs,L&&!h.length&&(_=!1),N)for(p=N.length;p--;)E=N[p],g=E.name,M=E.value,"{$uid}"===M&&(M="mce_"+z++),h.map[g]=M,h.push({name:g,value:M});if(D)for(p=D.length;p--;)E=D[p],(g=E.name)in h.map||(M=E.value,"{$uid}"===M&&(M="mce_"+z++),h.map[g]=M,h.push({name:g,value:M}));if(T){for(p=T.length;p--&&!(T[p]in h.map););-1===p&&(_=!1)}if(E=h.map["data-mce-bogus"]){if("all"===E){I=bh(t,n,B.lastIndex),B.lastIndex=I;continue}_=!1}}_&&a(f,h,x)}else _=!1;if(d=q[f]){d.lastIndex=I=c.index+c[0].length,(c=d.exec(n))?(_&&(m=n.substr(I,c.index-I)),I=c.index+c[0].length):(m=n.substr(I),I=n.length),_&&(m.length>0&&i(m,!0),s(f)),B.lastIndex=I;continue}x||(A&&A.indexOf("/")===A.length-1?_&&s(f):$.push({name:f,valid:_}))}else(f=c[1])?(">"===f.charAt(0)&&(f=" "+f),e.allow_conditional_comments||"[if"!==f.substr(0,3).toLowerCase()||(f=" "+f),r(f)):(f=c[2])?o(gh(f)):(f=c[3])?u(f):(f=c[4])&&l(f,c[5]);I=c.index+c[0].length}for(I<n.length&&i(H(n.substr(I))),p=$.length-1;p>=0;p--)f=$[p],f.valid&&s(f.name)}}}function A(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function S(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():A()},r=function(){return ue.from(t[0])},o=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},i=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},s=function(e){Fe(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},l=function(r){if(!e.removed&&Vg.isEditorAttachedToDom(e))return Ne(t,function(e){return o(n().getArgs(e),r)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(r,function(){s(t),i()});return a(t),i(),t})},u=function(){r().each(function(e){n().close(e),s(e),i()})},c=function(){return t};return function(e){e.on("SkinLoaded",function(){var t=e.settings.service_message;t&&l({text:t,type:"warn",timeout:0})}),e.on("ResizeEditor ResizeWindow NodeChange",function(){_t.requestAnimationFrame(i)}),e.on("remove",function(){Ee(t.slice(),function(e){n().close(e)})})}(e),{open:l,close:u,getNotifications:c}}function O(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}function T(e,t){var r={},o=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},i=function(e,r,i,a){var s,l;s=new n.XMLHttpRequest,s.open("POST",t.url),s.withCredentials=t.credentials,s.upload.onprogress=function(e){a(e.loaded/e.total*100)},s.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var e;return s.status<200||s.status>=300?void i("HTTP Error: "+s.status):(e=JSON.parse(s.responseText))&&"string"==typeof e.location?void r(o(t.basePath,e.location)):void i("Invalid JSON: "+s.responseText)},l=new n.FormData,l.append("file",e.blob(),e.filename()),s.send(l)},a=function(){return new vt(function(e){e([])})},s=function(e,t){return{url:t,blobInfo:e,status:!0}},l=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},u=function(e,t){Vn.each(r[e],function(e){e(t)}),delete r[e]},c=function(t,n,r){return e.markPending(t.blobUri()),new vt(function(o){var i,a,c=function(){};try{var f=function(){i&&(i.close(),a=c)},d=function(n){f(),e.markUploaded(t.blobUri(),n),u(t.blobUri(),s(t,n)),o(s(t,n))},h=function(n){f(),e.removeFailed(t.blobUri()),u(t.blobUri(),l(t,n)),o(l(t,n))};a=function(e){e<0||e>100||(i||(i=r()),i.progressBar.value(e))},n(t,d,h,a)}catch(e){o(l(t,e.message))}})},f=function(e){return e===i},d=function(e){var t=e.blobUri();return new vt(function(e){r[t]=r[t]||[],r[t].push(e)})},h=function(n,r){return n=Vn.grep(n,function(t){return!e.isUploaded(t.blobUri())}),vt.all(Vn.map(n,function(n){return e.isPending(n.blobUri())?d(n):c(n,t.handler,r)}))},p=function(e,n){return!t.url&&f(t.handler)?a():h(e,n)};return!1===ve(t.handler)&&(t.handler=i),{upload:p}}function D(e,t){var n={};return{findAll:function(r,o){var i;o||(o=J(!0)),i=Oe(gv(r),function(t){var n=t.src;return!!gt.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===gt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t)))))});var a=_e(i,function(e){if(n[e.src])return new vt(function(t){n[e.src].then(function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})})});var r=new vt(function(n,r){mv(t,e,n,r)}).then(function(e){return delete n[e.image.src],e}).catch(function(t){return delete n[e.src],t});return n[e.src]=r,r});return vt.all(a)}}}function N(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,r){e[n]=t(2,r)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}}function F(e){var t={},n=function(e){return e?t[e]:t},r=function(e){return _o(t,e)},o=function(e,n){e&&("string"!=typeof e?Vn.each(e,function(e,t){o(t,e)}):(pe(n)||(n=[n]),Vn.each(n,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),t[e]=n))},i=function(e){return e&&t[e]&&delete t[e],t};return o(pC.get(e.dom)),o(e.settings.formats),{get:n,has:r,register:o,unregister:i}}function L(e){return{getBookmark:r(Cd.getBookmark,e),moveToBookmark:r(Cd.moveToBookmark,e)}}function P(e,t){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},t.on("NodeChange",function(t){var o=t.element,i=e.getParents(o,null,e.getRoot()),a={};Vn.each(n,function(t,n){Vn.each(i,function(o){if(e.is(o,n))return r[n]||(Vn.each(t,function(e){e(!0,{node:o,selector:n,parents:i})}),r[n]=t),a[n]=t,!1})}),Vn.each(r,function(e,t){a[t]||(delete r[t],Vn.each(e,function(e){e(!1,{node:o,selector:t,parents:i})}))})})),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){xE(n,o,i),xE(r,o,i)}}}}}function B(e){return{walk:function(t,n){return eh.walk(e,t,n)},split:uw,normalize:function(t){return sE.normalize(e,t).fold(J(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}var R,q,M,j,I,$,z,H,V,U,W,K,G,Y=function(){},X=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},J=function(e){return function(){return e}},Z=function(e){return e},Q=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},ee=function(e){return function(){throw new Error(e)}},te=J(!1),ne=J(!0),re=te,oe=ne,ie=function(){return ae},ae=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},i=function(){},a={fold:function(e,t){return e()},is:re,isSome:re,isNone:oe,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:i,or:n,orThunk:t,map:ie,ap:ie,each:r,bind:ie,flatten:ie,exists:re,forall:oe,filter:ie,equals:e,equals_:e,toArray:function(){return[]},toString:J("none()")};return Object.freeze&&Object.freeze(a),a}(),se=function(e){var t=function(){return e},n=function(){return i},r=function(t){return se(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:oe,isNone:re,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(ie,function(t){return se(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:ae},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(re,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},le=function(e){return null===e||void 0===e?ae:se(e)},ue={some:se,none:ie,from:le},ce=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},fe=function(e){return function(t){return ce(t)===e}},de=fe("string"),he=fe("object"),pe=fe("array"),me=fe("null"),ge=fe("boolean"),ve=fe("function"),be=fe("number"),ye=Array.prototype.slice,we=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return Le(e,t)};return void 0===e?n:t}(),xe=function(e,t){var n=we(e,t);return-1===n?ue.none():ue.some(n)},Ce=function(e,t){return we(e,t)>-1},ke=function(e,t){return Fe(e,t).isSome()},_e=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},Ee=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},Ae=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},Se=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},Oe=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},Te=function(e,t,n){return Ae(e,function(e){n=t(n,e)}),n},De=function(e,t,n){return Ee(e,function(e){n=t(n,e)}),n},Ne=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return ue.some(o)}return ue.none()},Fe=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n,e))return ue.some(n)}return ue.none()},Le=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},Pe=Array.prototype.push,Be=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!pe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Pe.apply(t,e[n])}return t},Re=function(e,t){var n=_e(e,t);return Be(n)},qe=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},Me=function(e){var t=ye.call(e,0);return t.reverse(),t},je=function(e,t){return Oe(e,function(e){return!Ce(t,e)})},Ie=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},$e=function(e,t){var n=ye.call(e,0);return n.sort(t),n},ze=function(e){return 0===e.length?ue.none():ue.some(e[0])},He=function(e){return 0===e.length?ue.none():ue.some(e[e.length-1])},Ve=ve(Array.from)?Array.from:function(e){return ye.call(e)},Ue=function(){return Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ue.apply(this,arguments)},We=n.navigator,Ke=We.userAgent,Ge=function(e){return"matchMedia"in n.window&&n.matchMedia(e).matches};R=!1,V=/Android/.test(Ke),q=/WebKit/.test(Ke),M=!q&&!R&&/MSIE/gi.test(Ke)&&/Explorer/gi.test(We.appName),M=M&&/MSIE (\w+)\./.exec(Ke)[1],j=-1!==Ke.indexOf("Trident/")&&(-1!==Ke.indexOf("rv:")||-1!==We.appName.indexOf("Netscape"))&&11,I=-1!==Ke.indexOf("Edge/")&&!M&&!j&&12,M=M||j||I,$=!q&&!j&&/Gecko/.test(Ke),z=-1!==Ke.indexOf("Mac"),H=/(iPad|iPhone)/.test(Ke),U="FormData"in n.window&&"FileReader"in n.window&&"URL"in n.window&&!!n.URL.createObjectURL,W=Ge("only screen and (max-device-width: 480px)")&&(V||H),K=Ge("only screen and (min-width: 800px)")&&(V||H),G=-1!==Ke.indexOf("Windows Phone"),I&&(q=!1);var Ye,Xe,Je,Ze,Qe,et,tt,nt,rt,ot,it,at,st,lt,ut,ct,ft,dt,ht,pt,mt=!H||U||parseInt(Ke.match(/AppleWebKit\/(\d*)/)[1],10)>=534,gt={opera:R,webkit:q,ie:M,gecko:$,mac:z,iOS:H,android:V,contentEditable:mt,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==M,range:n.window.getSelection&&"Range"in n.window,documentMode:M&&!I?n.document.documentMode||7:10,fileApi:U,ceFalse:!1===M||M>8,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!1===M||M>11,desktop:!W&&!K,windowsPhone:G},vt=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(e){var t=this;if(null===this._state)return void this._deferreds.push(e);c(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(r,this),e(o,this))}this._state=!0,this._value=t,i.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,i.call(this)}function i(){for(var e=0,n=this._deferreds.length;e<n;e++)t.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function s(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(r,this),e(o,this))},c=u.immediateFn||"function"==typeof n.setImmediate&&n.setImmediate||function(e){n.setTimeout(e,1)};return u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,n){var r=this;return new u(function(o,i){t.call(r,new a(e,n,o,i))})},u.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new u(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(i,e)},n)}e[i]=a,0==--o&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},u.resolve=function(e){return e&&"object"==typeof e&&e.constructor===u?e:new u(function(t){t(e)})},u.reject=function(e){return new u(function(t,n){n(e)})},u.race=function(e){return new u(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},u}(),bt=function(e,t){var r,o=n.window.requestAnimationFrame,i=["ms","moz","webkit"],a=function(e){n.window.setTimeout(e,0)};for(r=0;r<i.length&&!o;r++)o=n.window[i[r]+"RequestAnimationFrame"];o||(o=a),o(e,t)},yt=function(e,t){return"number"!=typeof t&&(t=0),n.setTimeout(e,t)},wt=function(e,t){return"number"!=typeof t&&(t=1),n.setInterval(e,t)},xt=function(e){return n.clearTimeout(e)},Ct=function(e){return n.clearInterval(e)},kt=function(e,t){var r,o;return o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n.clearTimeout(r),r=yt(function(){e.apply(this,o)},t)},o.stop=function(){n.clearTimeout(r)},o},_t={requestAnimationFrame:function(e,t){if(Ye)return void Ye.then(e);Ye=new vt(function(e){t||(t=n.document.body),bt(e,t)}).then(e)},setTimeout:yt,setInterval:wt,setEditorTimeout:function(e,t,n){return yt(function(){e.removed||t()},n)},setEditorInterval:function(e,t,r){var o;return o=wt(function(){e.removed?n.clearInterval(o):t()},r)},debounce:kt,throttle:kt,clearInterval:Ct,clearTimeout:xt},Et="mce-data-",At=/^(?:mouse|contextmenu)|click/,St={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Ot=function(e){return e.isDefaultPrevented===Dt||e.isDefaultPrevented===Tt},Tt=function(){return!1},Dt=function(){return!0},Nt=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Ft=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Lt=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t},Pt=function(e,t){var r,o=t||{};for(r in e)St[r]||(o[r]=e[r]);if(o.target||(o.target=o.srcElement||n.document),gt.experimentalShadowDom&&(o.target=Lt(e,o.target)),e&&At.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var i=o.target.ownerDocument||n.document,a=i.documentElement,s=i.body;o.pageX=e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),o.pageY=e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=Dt,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=Dt,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=Dt,o.stopPropagation()},!1===Ot(o)&&(o.isDefaultPrevented=Tt,o.isPropagationStopped=Tt,o.isImmediatePropagationStopped=Tt),void 0===o.metaKey&&(o.metaKey=!1),o},Bt=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){Ft(e,"DOMContentLoaded",a),Ft(e,"load",a),n.domLoaded||(n.domLoaded=!0,t(o))},s=function(){i()&&(Ft(r,"readystatechange",s),a())},l=function(){try{r.documentElement.doScroll("left")}catch(e){return void _t.setTimeout(l)}a()};!r.addEventListener||gt.ie&&gt.ie<11?(Nt(r,"readystatechange",s),r.documentElement.doScroll&&e.self===e.top&&l()):i()?a():Nt(e,"DOMContentLoaded",a),Nt(e,"load",a)},Rt=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Et+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in n.document.documentElement,this.hasFocusIn="onfocusin"in n.document.documentElement,this.count=1}return e.prototype.bind=function(e,t,r,o){var i,a,s,l,u,c,f,d=this,h=n.window,p=function(e){d.executeHandlers(Pt(e||h.event),i)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[d.expando]?i=e[d.expando]:(i=d.count++,e[d.expando]=i,d.events[i]={}),o=o||e;var m=t.split(" ");for(s=m.length;s--;)l=m[s],c=p,u=f=!1,"DOMContentLoaded"===l&&(l="ready"),d.domLoaded&&"ready"===l&&"complete"===e.readyState?r.call(o,Pt({type:l})):(d.hasMouseEnterLeave||(u=d.mouseEnterLeave[l])&&(c=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=Pt(e||h.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,d.executeHandlers(e,i))}),d.hasFocusIn||"focusin"!==l&&"focusout"!==l||(f=!0,u="focusin"===l?"focus":"blur",c=function(e){e=Pt(e||h.event),e.type="focus"===e.type?"focusin":"focusout",d.executeHandlers(e,i)}),a=d.events[i][l],a?"ready"===l&&d.domLoaded?r(Pt({type:l})):a.push({func:r,scope:o}):(d.events[i][l]=a=[{func:r,scope:o}],a.fakeName=u,a.capture=f,a.nativeHandler=c,"ready"===l?Bt(e,c,d):Nt(e,u||l,c,f)));return e=a=0,r}},e.prototype.unbind=function(e,t,n){var r,o,i,a,s,l;if(!e||3===e.nodeType||8===e.nodeType)return this;if(r=e[this.expando]){if(l=this.events[r],t){var u=t.split(" ");for(i=u.length;i--;)if(s=u[i],o=l[s]){if(n)for(a=o.length;a--;)if(o[a].func===n){var c=o.nativeHandler,f=o.fakeName,d=o.capture;o=o.slice(0,a).concat(o.slice(a+1)),o.nativeHandler=c,o.fakeName=f,o.capture=d,l[s]=o}n&&0!==o.length||(delete l[s],Ft(e,o.fakeName||s,o.nativeHandler,o.capture))}}else{for(s in l)o=l[s],Ft(e,o.fakeName||s,o.nativeHandler,o.capture);l={}}for(s in l)return this;delete this.events[r];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=Pt(null,n);o.type=t,o.target=e;do{r=e[this.expando],r&&this.executeHandlers(o,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),n=e.getElementsByTagName("*"),t=n.length;t--;)e=n[t],e[this.expando]&&this.unbind(e);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n,r,o,i,a=this.events[t];if(n=a&&a[e.type])for(r=0,o=n.length;r<o;r++)if(i=n[r],i&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return},e.Event=new e,e}(),qt="sizzle"+-new Date,Mt=n.window.document,jt=0,It=0,$t=i(),zt=i(),Ht=i(),Vt=function(e,t){return e===t&&(at=!0),0},Ut="undefined",Wt=1<<31,Kt={}.hasOwnProperty,Gt=[],Yt=Gt.pop,Xt=Gt.push,Jt=Gt.push,Zt=Gt.slice,Qt=Gt.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},en="[\\x20\\t\\r\\n\\f]",tn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nn="\\["+en+"*("+tn+")(?:"+en+"*([*^$|!~]?=)"+en+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tn+"))|)"+en+"*\\]",rn=":("+tn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nn+")*)|.*)\\)|)",on=new RegExp("^"+en+"+|((?:^|[^\\\\])(?:\\\\.)*)"+en+"+$","g"),an=new RegExp("^"+en+"*,"+en+"*"),sn=new RegExp("^"+en+"*([>+~]|"+en+")"+en+"*"),ln=new RegExp("="+en+"*([^\\]'\"]*?)"+en+"*\\]","g"),un=new RegExp(rn),cn=new RegExp("^"+tn+"$"),fn={ID:new RegExp("^#("+tn+")"),CLASS:new RegExp("^\\.("+tn+")"),TAG:new RegExp("^("+tn+"|[*])"),ATTR:new RegExp("^"+nn),PSEUDO:new RegExp("^"+rn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+en+"*(even|odd|(([+-]|)(\\d*)n|)"+en+"*(?:([+-]|)"+en+"*(\\d+)|))"+en+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+en+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+en+"*((?:-\\d)?\\d*)"+en+"*\\)|)(?=[^-]|$)","i")},dn=/^(?:input|select|textarea|button)$/i,hn=/^h\d$/i,pn=/^[^{]+\{\s*\[native \w/,mn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gn=/[+~]/,vn=/'|\\/g,bn=new RegExp("\\\\([\\da-f]{1,6}"+en+"?|("+en+")|.)","ig"),yn=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Jt.apply(Gt=Zt.call(Mt.childNodes),Mt.childNodes),Gt[Mt.childNodes.length].nodeType}catch(e){Jt={apply:Gt.length?function(e,t){Xt.apply(e,Zt.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var wn=function(e,t,n,r){var o,i,a,s,l,c,d,h,p,m;if((t?t.ownerDocument||t:Mt)!==lt&&st(t),t=t||lt,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(ct&&!r){if(o=mn.exec(e))if(a=o[1]){if(9===s){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&pt(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Jt.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&Je.getElementsByClassName)return Jt.apply(n,t.getElementsByClassName(a)),n}if(Je.qsa&&(!ft||!ft.test(e))){if(h=d=qt,p=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=tt(e),(d=t.getAttribute("id"))?h=d.replace(vn,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+f(c[l]);p=gn.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Jt.apply(n,p.querySelectorAll(m)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return rt(e.replace(on,"$1"),t,n,r)};Je=wn.support={},et=wn.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},st=wn.setDocument=function(e){var t,n=e?e.ownerDocument||e:Mt,r=n.defaultView;return n!==lt&&9===n.nodeType&&n.documentElement?(lt=n,ut=n.documentElement,ct=!et(n),r&&r!==function(e){try{return e.top}catch(e){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",function(){st()},!1):r.attachEvent&&r.attachEvent("onunload",function(){st()})),Je.attributes=!0,Je.getElementsByTagName=!0,Je.getElementsByClassName=pn.test(n.getElementsByClassName),Je.getById=!0,Ze.find.ID=function(e,t){if(typeof t.getElementById!==Ut&&ct){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Ze.filter.ID=function(e){var t=e.replace(bn,yn);return function(e){return e.getAttribute("id")===t}},Ze.find.TAG=Je.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Ut)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},Ze.find.CLASS=Je.getElementsByClassName&&function(e,t){if(ct)return t.getElementsByClassName(e)},dt=[],ft=[],Je.disconnectedMatch=!0,ft=ft.length&&new RegExp(ft.join("|")),dt=dt.length&&new RegExp(dt.join("|")),t=pn.test(ut.compareDocumentPosition),pt=t||pn.test(ut.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Vt=t?function(e,t){if(e===t)return at=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!Je.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===Mt&&pt(Mt,e)?-1:t===n||t.ownerDocument===Mt&&pt(Mt,t)?1:it?Qt.call(it,e)-Qt.call(it,t):0:4&r?-1:1)}:function(e,t){if(e===t)return at=!0,0;var r,o=0,i=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!i||!a)return e===n?-1:t===n?1:i?-1:a?1:it?Qt.call(it,e)-Qt.call(it,t):0;if(i===a)return s(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;l[o]===u[o];)o++;return o?s(l[o],u[o]):l[o]===Mt?-1:u[o]===Mt?1:0},n):lt},wn.matches=function(e,t){return wn(e,null,null,t)},wn.matchesSelector=function(e,t){if((e.ownerDocument||e)!==lt&&st(e),t=t.replace(ln,"='$1']"),Je.matchesSelector&&ct&&(!dt||!dt.test(t))&&(!ft||!ft.test(t)))try{var n=ht.call(e,t);if(n||Je.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return wn(t,lt,null,[e]).length>0},wn.contains=function(e,t){return(e.ownerDocument||e)!==lt&&st(e),pt(e,t)},wn.attr=function(e,t){(e.ownerDocument||e)!==lt&&st(e);var n=Ze.attrHandle[t.toLowerCase()],r=n&&Kt.call(Ze.attrHandle,t.toLowerCase())?n(e,t,!ct):void 0;return void 0!==r?r:Je.attributes||!ct?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},wn.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},wn.uniqueSort=function(e){var t,n=[],r=0,o=0;if(at=!Je.detectDuplicates,it=!Je.sortStable&&e.slice(0),e.sort(Vt),at){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return it=null,e},Qe=wn.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Qe(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=Qe(t);return n},Ze=wn.selectors={cacheLength:50,createPseudo:a,match:fn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(bn,yn),e[3]=(e[3]||e[4]||e[5]||"").replace(bn,yn),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||wn.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&wn.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fn.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&un.test(n)&&(t=tt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(bn,yn).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$t[e+" "];return t||(t=new RegExp("(^|"+en+")"+e+"("+en+"|$)"))&&$t(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Ut&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=wn.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,h,p,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(i){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(c=g[qt]||(g[qt]={}),u=c[e]||[],h=u[0]===jt&&u[1],d=u[0]===jt&&u[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(d=h=0)||p.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[jt,h,d];break}}else if(b&&(u=(t[qt]||(t[qt]={}))[e])&&u[0]===jt)d=u[1];else for(;(f=++h&&f&&f[m]||(d=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[qt]||(f[qt]={}))[e]=[jt,d]),f!==t)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,t){var n,r=Ze.pseudos[e]||Ze.setFilters[e.toLowerCase()]||wn.error("unsupported pseudo: "+e);return r[qt]?r(t):r.length>1?(n=[e,e,"",t],Ze.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,n){for(var o,i=r(e,t),a=i.length;a--;)o=Qt.call(e,i[a]),e[o]=!(n[o]=i[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:a(function(e){var t=[],n=[],r=nt(e.replace(on,"$1"));return r[qt]?a(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}}),has:a(function(e){return function(t){return wn(e,t).length>0}}),contains:a(function(e){return e=e.replace(bn,yn),function(t){return(t.textContent||t.innerText||Qe(t)).indexOf(e)>-1}}),lang:a(function(e){return cn.test(e||"")||wn.error("unsupported lang: "+e),e=e.replace(bn,yn).toLowerCase(),function(t){var n;do{if(n=ct?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=n.window.location&&n.window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===ut},focus:function(e){return e===lt.activeElement&&(!lt.hasFocus||lt.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Ze.pseudos.empty(e)},header:function(e){return hn.test(e.nodeName)},input:function(e){return dn.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},Ze.pseudos.nth=Ze.pseudos.eq;for(Xe in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ze.pseudos[Xe]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(Xe);for(Xe in{submit:!0,reset:!0})Ze.pseudos[Xe]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(Xe);c.prototype=Ze.filters=Ze.pseudos,Ze.setFilters=new c,tt=wn.tokenize=function(e,t){var n,r,o,i,a,s,l,u=zt[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],l=Ze.preFilter;a;){n&&!(r=an.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=sn.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(on," ")}),a=a.slice(n.length));for(i in Ze.filter)Ze.filter.hasOwnProperty(i)&&(!(r=fn[i].exec(a))||l[i]&&!(r=l[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?wn.error(e):zt(e,s).slice(0)},nt=wn.compile=function(e,t){var n,r=[],o=[],i=Ht[e+" "];if(!i){for(t||(t=tt(e)),n=t.length;n--;)i=v(t[n]),i[qt]?r.push(i):o.push(i);i=Ht(e,b(o,r)),i.selector=e}return i},rt=wn.select=function(e,t,n,r){var o,i,a,s,l,c="function"==typeof e&&e,d=!r&&tt(e=c.selector||e);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&Je.getById&&9===t.nodeType&&ct&&Ze.relative[i[1].type]){if(!(t=(Ze.find.ID(a.matches[0].replace(bn,yn),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=fn.needsContext.test(e)?0:i.length;o--&&(a=i[o],!Ze.relative[s=a.type]);)if((l=Ze.find[s])&&(r=l(a.matches[0].replace(bn,yn),gn.test(i[0].type)&&u(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&f(i)))return Jt.apply(n,r),n;break}}return(c||nt(e,d))(r,t,!ct,n,gn.test(e)&&u(t.parentNode)||t),n},Je.sortStable=qt.split("").sort(Vt).join("")===qt,Je.detectDuplicates=!!at,st(),Je.sortDetached=!0;var xn=Array.isArray,Cn=function(e){var t,n,r=e;if(!xn(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},kn=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},_n=function(e,t){var n=[];return kn(e,function(r,o){n.push(t(r,o,e))}),n},En=function(e,t){var n=[];return kn(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},An=function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Sn=function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},On=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},Tn=function(e,t,n){var r=On(e,t,n);if(-1!==r)return e[r]},Dn=function(e){return e[e.length-1]},Nn={isArray:xn,toArray:Cn,each:kn,map:_n,filter:En,indexOf:An,reduce:Sn,findIndex:On,find:Tn,last:Dn},Fn=/^\s*|\s*$/g,Ln=function(e){return null===e||void 0===e?"":(""+e).replace(Fn,"")},Pn=function(e,t){return t?!("array"!==t||!Nn.isArray(e))||typeof e===t:void 0!==e},Bn=function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},Rn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},qn=function(e,t,n){var r,o,i,a,s,l=this,u=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],o=l.createNS(e[3].replace(/\.\w+$/,""),n),!o[i]){if("static"===e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},u=1),o[i]=t[i],l.extend(o[i].prototype,t),e[5]&&(r=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=o[i],o[i]=u?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},o[i].prototype[i]=o[i],l.each(r,function(e,t){o[i].prototype[t]=r[t]}),l.each(t,function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==i&&(o[i].prototype[t]=e)})),l.each(t.static,function(e,t){o[i][t]=e})}},Mn=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o,i,a,s,l=arguments;for(o=1,i=l.length;o<i;o++){t=l[o];for(a in t)t.hasOwnProperty(a)&&void 0!==(s=t[a])&&(e[a]=s)}return e},jn=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Nn.each(e,function(e,o){if(!1===t.call(r,e,o,n))return!1;jn(e,t,n,r)}))},In=function(e,t){var r,o;for(t=t||n.window,e=e.split("."),r=0;r<e.length;r++)o=e[r],t[o]||(t[o]={}),t=t[o];return t},$n=function(e,t){var r,o;for(t=t||n.window,e=e.split("."),r=0,o=e.length;r<o&&(t=t[e[r]]);r++);return t},zn=function(e,t){return!e||Pn(e,"array")?e:Nn.map(e.split(t||","),Ln)},Hn=function(e){var t=gt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},Vn={trim:Ln,isArray:Nn.isArray,is:Pn,toArray:Nn.toArray,makeMap:Bn,each:Nn.each,map:Nn.map,grep:Nn.filter,inArray:Nn.indexOf,hasOwn:Rn,extend:Mn,create:qn,walk:jn,createNS:In,resolve:$n,explode:zn,_addCacheSuffix:Hn},Un=n.document,Wn=Array.prototype.push,Kn=Array.prototype.slice,Gn=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Yn=Rt.Event,Xn=Vn.makeMap("children,contents,next,prev"),Jn=function(e){return void 0!==e},Zn=function(e){return"string"==typeof e},Qn=function(e){return e&&e===e.window},er=function(e,t){var n,r,o;for(t=t||Un,o=t.createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return n},tr=function(e,t,n,r){var o;if(Zn(t))t=er(t,gr(e[0]));else if(t.length&&!t.nodeType){if(t=xr.makeArray(t),r)for(o=t.length-1;o>=0;o--)tr(e,t[o],n,r);else for(o=0;o<t.length;o++)tr(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},nr=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},rr=function(e,t,n){var r,o;return t=xr(t)[0],e.each(function(){var e=this;n&&r===e.parentNode?o.appendChild(e):(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e),o.appendChild(e))}),e},or=Vn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ir=Vn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),ar={for:"htmlFor",class:"className",readonly:"readOnly"},sr={float:"cssFloat"},lr={},ur={},cr=function(e,t){return new xr.fn.init(e,t)},fr=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},dr=/^\s*|\s*$/g,hr=function(e){return null===e||void 0===e?"":(""+e).replace(dr,"")},pr=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},mr=function(e,t){var n=[];return pr(e,function(e,r){t(r,e)&&n.push(r)}),n},gr=function(e){return e?9===e.nodeType?e:e.ownerDocument:Un};cr.fn=cr.prototype={constructor:cr,selector:"",context:null,length:0,init:function(e,t){var r,o,i=this;if(!e)return i;if(e.nodeType)return i.context=i[0]=e,i.length=1,i;if(t&&t.nodeType)i.context=t;else{if(t)return xr(e).attr(t);i.context=t=n.document}if(Zn(e)){if(i.selector=e,!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Gn.exec(e)))return xr(t).find(e);if(r[1])for(o=er(e,gr(t)).firstChild;o;)Wn.call(i,o),o=o.nextSibling;else{if(!(o=gr(t).getElementById(r[2])))return i;if(o.id!==r[2])return i.find(e);i.length=1,i[0]=o}}else this.add(e,!1);return i},toArray:function(){return Vn.toArray(this)},add:function(e,t){var n,r,o=this;if(Zn(e))return o.add(xr(e));if(!1!==t)for(n=xr.unique(o.toArray().concat(xr.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Wn.apply(o,xr.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)pr(e,function(e,t){r.attr(e,t)});else{if(!Jn(t)){if(r[0]&&1===r[0].nodeType){if((n=lr[e])&&n.get)return n.get(r[0],e);if(ir[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=lr[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=ar[e]||e))pr(e,function(e,t){n.prop(e,t)});else{if(!Jn(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)pr(e,function(e,t){o.css(e,t)});else if(Jn(t))e=i(e),"number"!=typeof t||or[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if((r=ur[e])&&r.set)return void r.set(this,t);try{this.style[sr[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))});else{if(n=o[0],(r=ur[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}}return o},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],Yn.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(Jn(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){xr(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Jn(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return tr(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return tr(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?tr(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?tr(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return xr(e).append(this),this},prependTo:function(e){return xr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return rr(this,e)},wrapAll:function(e){return rr(this,e,!0)},wrapInner:function(e){return this.each(function(){xr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){xr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),xr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?pr(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o,i;(i=nr(r,e))!==t&&(o=r.className,i?r.className=hr((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)}),n)},hasClass:function(e){return nr(this[0],e)},each:function(e){return pr(this,e)},on:function(e,t){return this.each(function(){Yn.bind(this,e,t)})},off:function(e,t){return this.each(function(){Yn.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Yn.fire(this,e.type,e):Yn.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new xr(Kn.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)xr.find(e,this[t],r);return xr(r)},filter:function(e){return xr("function"==typeof e?mr(this.toArray(),function(t,n){return e(n,t)}):xr.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof xr&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&xr(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),xr(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Wn,sort:Array.prototype.sort,splice:Array.prototype.splice},Vn.extend(cr,{extend:Vn.extend,makeArray:function(e){return Qn(e)||e.nodeType?[e]:Vn.toArray(e)},inArray:fr,isArray:Vn.isArray,each:pr,trim:hr,grep:mr,find:wn,expr:wn.selectors,unique:wn.uniqueSort,text:wn.getText,contains:wn.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?xr.find.matchesSelector(t[0],e)?[t[0]]:[]:xr.find.matches(e,t)}});var vr=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof xr&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&xr(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},br=function(e,t,n,r){var o=[];for(r instanceof xr&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&xr(e).is(r))break}o.push(e)}return o},yr=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};pr({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return vr(e,"parentNode")},next:function(e){return yr(e,"nextSibling",1)},prev:function(e){return yr(e,"previousSibling",1)},children:function(e){return br(e.firstChild,"nextSibling",1)},contents:function(e){return Vn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){cr.fn[e]=function(n){var r=this,o=[];r.each(function(){var e=t.call(o,this,n,o);e&&(xr.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(Xn[e]||(o=xr.unique(o)),0===e.indexOf("parents")&&(o=o.reverse()));var i=xr(o);return n?i.filter(n):i}}),pr({parentsUntil:function(e,t){return vr(e,"parentNode",t)},nextUntil:function(e,t){return br(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return br(e,"previousSibling",1,t).slice(1)}},function(e,t){cr.fn[e]=function(n,r){var o=this,i=[];o.each(function(){var e=t.call(i,this,n,i);e&&(xr.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(i=xr.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse()));var a=xr(i);return r?a.filter(r):a}}),cr.fn.is=function(e){return!!e&&this.filter(e).length>0},cr.fn.init.prototype=cr.fn,cr.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return xr.extend(n,this),n};var wr=function(e,t,n){pr(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})};gt.ie&&gt.ie<8&&(wr(lr,"get",{maxlength:function(e){var t=e.maxLength;if(2147483647!==t)return t},size:function(e){var t=e.size;if(20!==t)return t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;if(0!==t.length)return t}}),wr(lr,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),gt.ie&&gt.ie<9&&(sr.float="styleFloat",wr(ur,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),cr.attrHooks=lr,cr.cssHooks=ur;var xr=cr,Cr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},kr=function(e,t){var n=Cr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ar(r(1),r(2))},_r=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Er():kr(e,n)},Er=function(){return Ar(0,0)},Ar=function(e,t){return{major:e,minor:t}},Sr={nu:Ar,detect:_r,unknown:Er},Or=function(e,t){return function(){return t===e}},Tr=function(){return Dr({current:void 0,version:Sr.unknown()})},Dr=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Or("Edge",t),isChrome:Or("Chrome",t),isIE:Or("IE",t),isOpera:Or("Opera",t),isFirefox:Or("Firefox",t),isSafari:Or("Safari",t)}},Nr={unknown:Tr,nu:Dr,edge:J("Edge"),chrome:J("Chrome"),ie:J("IE"),opera:J("Opera"),firefox:J("Firefox"),safari:J("Safari")},Fr=function(e,t){return function(){return t===e}},Lr=function(){return Pr({current:void 0,version:Sr.unknown()})},Pr=function(e){var t=e.current;return{current:t,version:e.version,isWindows:Fr("Windows",t),isiOS:Fr("iOS",t),isAndroid:Fr("Android",t),isOSX:Fr("OSX",t),isLinux:Fr("Linux",t),isSolaris:Fr("Solaris",t),isFreeBSD:Fr("FreeBSD",t)}},Br={unknown:Lr,nu:Pr,windows:J("Windows"),ios:J("iOS"),android:J("Android"),linux:J("Linux"),osx:J("OSX"),solaris:J("Solaris"),freebsd:J("FreeBSD")},Rr=function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||i||a&&!0===/mobile/i.test(n),l=e.isiOS()||e.isAndroid(),u=l&&!s,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:J(r),isiPhone:J(o),isTablet:J(s),isPhone:J(u),isTouch:J(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:J(c)}},qr=function(e,t){var n=String(t).toLowerCase();return Ne(e,function(e){return e.search(n)})},Mr=function(e,t){return qr(e,t).map(function(e){var n=Sr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},jr=function(e,t){return qr(e,t).map(function(e){var n=Sr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Ir={detectBrowser:Mr,detectOs:jr},$r=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},zr=function(e,t){return-1!==e.indexOf(t)},Hr=function(e,t){return $r(e,t,0)},Vr=function(e){return e.replace(/^\s+|\s+$/g,"")},Ur=function(e){return e.replace(/^\s+/g,"")},Wr=function(e){return e.replace(/\s+$/g,"")},Kr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Gr=function(e){return function(t){return zr(t,e)}},Yr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return zr(e,"edge/")&&zr(e,"chrome")&&zr(e,"safari")&&zr(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Kr],search:function(e){return zr(e,"chrome")&&!zr(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return zr(e,"msie")||zr(e,"trident")}},{name:"Opera",versionRegexes:[Kr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Gr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Gr("firefox")},{name:"Safari",versionRegexes:[Kr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(zr(e,"safari")||zr(e,"mobile/"))&&zr(e,"applewebkit")}}],Xr=[{name:"Windows",search:Gr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return zr(e,"iphone")||zr(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Gr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Gr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Gr("linux"),versionRegexes:[]},{name:"Solaris",search:Gr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Gr("freebsd"),versionRegexes:[]}],Jr={browsers:J(Yr),oses:J(Xr)},Zr=function(e){var t=Jr.browsers(),n=Jr.oses(),r=Ir.detectBrowser(t,e).fold(Nr.unknown,Nr.nu),o=Ir.detectOs(n,e).fold(Br.unknown,Br.nu);return{browser:r,os:o,deviceType:Rr(o,r,e)}},Qr={detect:Zr},eo=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}(function(){var e=n.navigator.userAgent;return Qr.detect(e)}),to={detect:eo},no=function(e,t){var r=t||n.document,o=r.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw n.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return io(o.childNodes[0])},ro=function(e,t){var r=t||n.document,o=r.createElement(e);return io(o)},oo=function(e,t){var r=t||n.document,o=r.createTextNode(e);return io(o)},io=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:J(e)}},ao=function(e,t,n){var r=e.dom();return ue.from(r.elementFromPoint(t,n)).map(io)},so={fromHtml:no,fromTag:ro,fromText:oo,fromDom:io,fromPoint:ao},lo=(n.Node.ATTRIBUTE_NODE,n.Node.CDATA_SECTION_NODE,n.Node.COMMENT_NODE,n.Node.DOCUMENT_NODE),uo=(n.Node.DOCUMENT_TYPE_NODE,n.Node.DOCUMENT_FRAGMENT_NODE,n.Node.ELEMENT_NODE),co=n.Node.TEXT_NODE,fo=(n.Node.PROCESSING_INSTRUCTION_NODE,n.Node.ENTITY_REFERENCE_NODE,n.Node.ENTITY_NODE,n.Node.NOTATION_NODE,void 0!==n.window?n.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),ho=function(e){return e.dom().nodeType},po=function(e){return function(t){return ho(t)===e}},mo=po(uo),go=po(co),vo=Object.keys,bo=Object.hasOwnProperty,yo=function(e,t){for(var n=vo(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},wo=function(e,t){return xo(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},xo=function(e,t){var n={};return yo(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},Co=function(e,t){var n={},r={};return yo(e,function(e,o){(t(e,o)?n:r)[o]=e}),{t:n,f:r}},ko=function(e,t){return _o(e,t)?ue.from(e[t]):ue.none()},_o=function(e,t){return bo.call(e,t)},Eo=function(e){return void 0!==e.style&&ve(e.style.getPropertyValue)},Ao=function(e){var t=go(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},So=function(e,t,r){if(!(de(r)||ge(r)||be(r)))throw n.console.error("Invalid call to Attr.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},Oo=function(e,t,n){So(e.dom(),t,n)},To=function(e,t){var n=e.dom();yo(t,function(e,t){So(n,t,e)})},Do=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},No=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Fo=function(e,t){e.dom().removeAttribute(t)},Lo=function(e,t){var r=e.dom(),o=n.window.getComputedStyle(r),i=o.getPropertyValue(t),a=""!==i||Ao(e)?i:Po(r,t);return null===a?void 0:a},Po=function(e,t){return Eo(e)?e.style.getPropertyValue(t):""},Bo=function(e,t){var n=e.dom(),r=Po(n,t);return ue.from(r).filter(function(e){return e.length>0})},Ro=function(e){return e.dom().offsetWidth},qo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return Ee(e,function(e,n){r[e]=J(t[n])}),r}},Mo=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},jo={toArray:Mo},Io=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},$o=function(e,t){return Io(e,t,n.Node.DOCUMENT_POSITION_PRECEDING)},zo=function(e,t){return Io(e,t,n.Node.DOCUMENT_POSITION_CONTAINED_BY)},Ho={documentPositionPreceding:$o,documentPositionContainedBy:zo},Vo=uo,Uo=lo,Wo=function(e,t){var n=e.dom();if(n.nodeType!==Vo)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Ko=function(e){return e.nodeType!==Vo&&e.nodeType!==Uo||0===e.childElementCount},Go=function(e,t){var r=void 0===t?n.document:t.dom();return Ko(r)?[]:_e(r.querySelectorAll(e),so.fromDom)},Yo=function(e,t){var r=void 0===t?n.document:t.dom();return Ko(r)?ue.none():ue.from(r.querySelector(e)).map(so.fromDom)},Xo=function(e,t){return e.dom()===t.dom()},Jo=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Zo=function(e,t){return Ho.documentPositionContainedBy(e.dom(),t.dom())},Qo=to.detect().browser,ei=Qo.isIE()?Zo:Jo,ti=function(e){return so.fromDom(e.dom().ownerDocument)},ni=function(e){return so.fromDom(e.dom().ownerDocument.documentElement)},ri=function(e){return so.fromDom(e.dom().ownerDocument.defaultView)},oi=function(e){return ue.from(e.dom().parentNode).map(so.fromDom)},ii=function(e,t){for(var n=ve(t)?t:te,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=so.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},ai=function(e){return ue.from(e.dom().previousSibling).map(so.fromDom)},si=function(e){return ue.from(e.dom().nextSibling).map(so.fromDom)},li=function(e){return Me(jo.toArray(e,ai))},ui=function(e){return jo.toArray(e,si)},ci=function(e){return _e(e.dom().childNodes,so.fromDom)},fi=function(e,t){var n=e.dom().childNodes;return ue.from(n[t]).map(so.fromDom)},di=function(e){return fi(e,0)},hi=function(e){return fi(e,e.dom().childNodes.length-1)},pi=function(e){return e.dom().childNodes.length},mi=(qo("element","offset"),to.detect().browser),gi=function(e){return Ne(e,mo)},vi=function(e){return mi.isFirefox()&&"table"===fo(e)?gi(ci(e)).filter(function(e){return"caption"===fo(e)}).bind(function(e){return gi(ui(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0})}).getOr(0):0},bi=function(e,t){return e.children&&Ce(e.children,t)},yi=function(e,t,n){var r,o,i=0,a=0,s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Lo(so.fromDom(e),"position"))return o=t.getBoundingClientRect(),i=o.left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,a=o.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop,{x:i,y:a};for(r=t;r&&r!==n&&r.nodeType&&!bi(r,n);)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType&&!bi(r,n);)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=vi(so.fromDom(t))}return{x:i,y:a}},wi={getPos:yi},xi={},Ci={exports:xi};!function(e,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{var i;i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof o&&o;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){return i(t[s][1][e]||e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&p&&(g=!1,p.length?m=p.concat(m):v=-1,m.length&&l())}function l(){if(!g){var e=i(s);g=!0;for(var t=m.length;t;){for(p=m,m=[];++v<t;)p&&p[v].run();v=-1,t=m.length}p=null,g=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var f,d,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var p,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||g||i(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:l)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void l(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,u(e)}catch(t){l(e,t)}}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,l(t,e))})}catch(e){if(n)return;n=!0,l(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new c(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,i(function(){l[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,xi,Ci,void 0);var ki,_i,Ei,Ai=Ci.exports.boltExport,Si=function(e){var t=ue.none(),r=[],o=function(e){return Si(function(t){i(function(n){t(e(n))})})},i=function(e){s()?u(e):r.push(e)},a=function(e){t=ue.some(e),l(r),r=[]},s=function(){return t.isSome()},l=function(e){Ee(e,u)},u=function(e){t.each(function(t){n.setTimeout(function(){e(t)},0)})};return e(a),{get:i,map:o,isReady:s}},Oi=function(e){return Si(function(t){t(e)})},Ti={nu:Si,pure:Oi},Di=function(e){n.setTimeout(function(){throw e},0)},Ni=function(e){var t=function(t){e().then(t,Di)};return{map:function(t){return Ni(function(){return e().then(t)})},bind:function(t){return Ni(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return Ni(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return Ti.nu(t)},toCached:function(){var t=null;return Ni(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},Fi=function(e){return Ni(function(){return new Ai(e)})},Li=function(e){return Ni(function(){return Ai.resolve(e)})},Pi={nu:Fi,pure:Li},Bi=function(e,t){return t(function(t){var n=[],r=0,o=function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}};0===e.length?t([]):Ee(e,function(e,t){e.get(o(t))})})},Ri=function(e){return Bi(e,Pi.nu)},qi=function(e){var t=function(t){return e===t},n=function(t){return qi(e)},r=function(t){return qi(e)},o=function(t){return qi(t(e))},i=function(t){return qi(e)},a=function(t){t(e)},s=function(t){return t(e)},l=function(t,n){return n(e)},u=function(t){return t(e)},c=function(t){return t(e)},f=function(){return ue.some(e)};return{is:t,isValue:ne,isError:te,getOr:J(e),getOrThunk:J(e),getOrDie:J(e),or:n,orThunk:r,fold:l,map:o,mapError:i,each:a,bind:s,exists:u,forall:c,toOption:f}},Mi=function(e){var t=function(e){return e()},n=function(){return ee(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return Mi(e)},a=function(t){return Mi(t(e))},s=function(t){return Mi(e)};return{is:te,isValue:te,isError:ne,getOr:Z,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:Y,bind:s,exists:te,forall:ne,toOption:ue.none}},ji=function(e,t){return e.fold(function(){return Mi(t)},qi)},Ii={value:qi,error:Mi,fromOption:ji},$i=function(e){return function(t){return!!t&&t.nodeType===e}},zi=function(e){return!!e&&!Object.getPrototypeOf(e)},Hi=$i(1),Vi=function(e){var t=e.map(function(e){return e.toLowerCase()});return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return Ce(t,n)}return!1}},Ui=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(Hi(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},Wi=function(e,t){return function(n){return Hi(n)&&n[e]===t}},Ki=function(e,t){return function(t){return Hi(t)&&t.hasAttribute(e)}},Gi=function(e,t){return function(n){return Hi(n)&&n.getAttribute(e)===t}},Yi=function(e){return Hi(e)&&e.hasAttribute("data-mce-bogus")},Xi=function(e){return Hi(e)&&"all"===e.getAttribute("data-mce-bogus")},Ji=function(e){return Hi(e)&&"TABLE"===e.tagName},Zi=function(e){return function(t){if(Hi(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Qi=Vi(["textarea","input"]),ea=$i(3),ta=$i(8),na=$i(9),ra=$i(11),oa=Vi(["br"]),ia=Zi("true"),aa=Zi("false"),sa={isText:ea,isElement:Hi,isComment:ta,isDocument:na,isDocumentFragment:ra,isBr:oa,isContentEditableTrue:ia,isContentEditableFalse:aa,isRestrictedNode:zi,matchNodeNames:Vi,hasPropValue:Wi,hasAttribute:Ki,hasAttributeValue:Gi,matchStyleValues:Ui,isBogus:Yi,isBogusAll:Xi,isTable:Ji,isTextareaOrInput:Qi},la=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},e.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==this.rootNode)return i}},e}(),ua=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],ca=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],fa=["td","th"],da=["thead","tbody","tfoot"],ha=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],pa=["h1","h2","h3","h4","h5","h6"],ma=["li","dd","dt"],ga=["ul","ol","dl"],va=["pre","script","textarea","style"],ba=function(e){var t;return function(n){return t=t||Ie(e,J(!0)),t.hasOwnProperty(fo(n))}},ya=ba(pa),wa=ba(ua),xa=function(e){return"table"===fo(e)},Ca=function(e){return mo(e)&&!wa(e)},ka=function(e){return mo(e)&&"br"===fo(e)},_a=ba(ha),Ea=ba(ga),Aa=ba(ma),Sa=ba(ca),Oa=ba(da),Ta=ba(fa),Da=ba(va),Na=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},Fa=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},La=function(e,t){var n,r=t.childNodes;if(!sa.isElement(t)||!Fa(t)){for(n=r.length-1;n>=0;n--)La(e,r[n]);if(!1===sa.isDocument(t)){if(sa.isText(t)&&t.nodeValue.length>0){var o=Vn.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||o>0)return;if(0===o&&Na(t))return}else if(sa.isElement(t)&&(r=t.childNodes,1===r.length&&Fa(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||Sa(so.fromDom(t))))return;e.remove(t)}return t}},Pa={trimNode:La},Ba=Vn.makeMap,Ra=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qa=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ma=/[<>&\"\']/g,ja=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Ia={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};_i={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ei={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var $a=function(e){var t;return t=so.fromTag("div").dom(),t.innerHTML=e,t.textContent||t.innerText||e},za=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),_i[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}};ki=za("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Ha=function(e,t){return e.replace(t?Ra:qa,function(e){return _i[e]||e})},Va=function(e){return(""+e).replace(Ma,function(e){return _i[e]||e})},Ua=function(e,t){return e.replace(t?Ra:qa,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":_i[e]||"&#"+e.charCodeAt(0)+";"})},Wa=function(e,t,n){return n=n||ki,e.replace(t?Ra:qa,function(e){return _i[e]||n[e]||e})},Ka=function(e,t){var n=za(t)||ki,r=function(e,t){return e.replace(t?Ra:qa,function(e){return void 0!==_i[e]?_i[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},o=function(e,t){return Wa(e,t,n)},i=Ba(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?o:Wa:i.numeric?Ua:Ha},Ga=function(e){return e.replace(ja,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Ia[t]||String.fromCharCode(t)):Ei[e]||ki[e]||$a(e)})},Ya={encodeRaw:Ha,encodeAllRaw:Va,encodeNumeric:Ua,encodeNamed:Wa,getEncodeFunc:Ka,decode:Ga},Xa={},Ja={},Za=Vn.makeMap,Qa=Vn.each,es=Vn.extend,ts=Vn.explode,ns=Vn.inArray,rs=function(e,t){return e=Vn.trim(e),e?e.split(t||" "):[]},os=function(e){var t,n,r,o,i,a,s={},l=function(e,n,r){var o,i,a,l=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(r=r||[],n=n||"","string"==typeof r&&(r=rs(r)),e=rs(e),o=e.length;o--;)i=rs([t,n].join(" ")),a={attributes:l(i),attributesOrder:i,children:l(r,Ja)},s[e[o]]=a},u=function(e,t){var n,r,o,i;for(e=rs(e),n=e.length,t=rs(t);n--;)for(r=s[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return Xa[e]?Xa[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),Qa(rs(a),function(e){l(e,"",r)}),i="center dir isindex noframes",n=[n,i].join(" "),o=[n,r].join(" "),Qa(rs(i),function(e){l(e,"",o)})),o=o||[n,r].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),l("address dt dd div caption","",o),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),l("blockquote","cite",o),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",o),l("dl","","dt dd"),l("a","href target rel media hreflang type",r),l("q","cite",r),l("ins del","cite datetime",o),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",o),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),l("param","name value"),l("map","name",[o,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",o),l("th","colspan rowspan headers scope abbr",o),l("form","accept-charset action autocomplete enctype method name novalidate target",o),l("fieldset","disabled form name",[o,"legend"].join(" ")),l("label","form for",r),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[o,"li"].join(" ")),l("noscript","",o),"html4"!==e&&(l("wbr"),l("ruby","",[r,"rt rp"].join(" ")),l("figcaption","",o),l("mark rt rp summary bdi","",r),l("canvas","width height",o),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[r,"option"].join(" ")),l("article section nav aside main header footer","",o),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[o,"figcaption"].join(" ")),l("time","datetime",r),l("dialog","open",o),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",r),l("progress","value max",r),l("meter","value min max low high optimum",r),l("details","open",[o,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select","onchange"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==e&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("iframe","sandbox seamless allowfullscreen")),Qa(rs("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e]}),delete s.caption.children.table,delete s.script,Xa[e]=s,s)},is=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Qa(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?Za(e,/[, ]/):ts(e,/[, ]/)})),n},as=function(e,t,n,r){var o=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},ss=function(e,t){var n,r,o,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,c={};for(e=e||{},t&&(o=t.getValidStyles(),i=t.getInvalidStyles()),r="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<r.length;n++)c[r[n]]="\ufeff"+n,c["\ufeff"+n]=r[n];return{toHex:function(e){return e.replace(a,as)},parse:function(t){var r,o,i,f,d={},h=e.url_converter,p=e.url_converter_scope||this,m=function(e,t,r){var o,i,a,s;if((o=d[e+"-top"+t])&&(i=d[e+"-right"+t])&&(a=d[e+"-bottom"+t])&&(s=d[e+"-left"+t])){var l=[o,i,a,s];for(n=l.length-1;n--&&l[n]===l[n+1];);n>-1&&r||(d[e+t]=-1===n?l[0]:l.join(" "),delete d[e+"-top"+t],delete d[e+"-right"+t],delete d[e+"-bottom"+t],delete d[e+"-left"+t])}},g=function(e){var t,n=d[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return d[e]=n[0],!0}},v=function(e){return f=!0,c[e]},b=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return c[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},y=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},w=function(e){return e.replace(/\\[0-9a-f]+/gi,y)},x=function(t,n,r,o,i,a){if(i=i||a)return i=b(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=b(n||r||o),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return h&&(n=h.call(p,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,v)});r=l.exec(t);)if(l.lastIndex=r.index+r[0].length,o=r[1].replace(u,"").toLowerCase(),i=r[2].replace(u,""),o&&i){if(o=w(o),i=w(i),-1!==o.indexOf("\ufeff")||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===o&&"700"===i?i="bold":"color"!==o&&"background-color"!==o||(i=i.toLowerCase()),i=i.replace(a,as),i=i.replace(s,x),d[o]=f?b(i,!0):i}m("border","",!0),m("border","-width"),m("border","-color"),m("border","-style"),m("padding",""),m("margin",""),function(e,t,n,r){g(t)&&g(n)&&g(r)&&(d[e]=d[t]+" "+d[n]+" "+d[r],delete d[t],delete d[n],delete d[r])}("border","border-width","border-style","border-color"),"medium none"===d.border&&delete d.border,"none"===d["border-image"]&&delete d["border-image"]}return d},serialize:function(e,t){var n,r,a="",s=function(t){var n,r,i,s;if(n=o[t])for(r=0,i=n.length;r<i;r++)t=n[r],(s=e[t])&&(a+=(a.length>0?" ":"")+t+": "+s+";")};if(t&&o)s("*"),s(t);else for(n in e)!(r=e[n])||i&&!function(e,t){var n;return(!(n=i["*"])||!n[e])&&(!(n=i[t])||!n[e])}(n,t)||(a+=(a.length>0?" ":"")+n+": "+r+";");return a}}},ls=Vn.each,us=Vn.grep,cs=gt.ie,fs=/^([a-z0-9],?)+$/i,ds=/^[ \t\r\n]*$/,hs=function(e,t,n){var r=t.keep_values,o={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(e,t){if(null!==t&&"object"==typeof t)return void e.css(t);r&&e.attr("data-mce-style",t),e.attr("style",t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}};return r&&(i.href=i.src=o),i},ps=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},ms=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};!function(e){e.DOM=e(n.document),e.nodeIndex=ms}(x||(x={}));var gs=x,vs=gs.DOM,bs=Vn.each,ys=Vn.grep,ws=function(){function e(){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0}return e.prototype.loadScript=function(e,t,r){var o,i,a=vs,s=function(){a.remove(i),o&&(o.onreadystatechange=o.onload=o=null),t()},l=function(){ve(r)?r():void 0!==n.console&&n.console.log&&n.console.log("Failed to load script: "+e)};i=a.uniqueId(),o=n.document.createElement("script"),o.id=i,o.type="text/javascript",o.src=Vn._addCacheSuffix(e),o.onload=s,o.onerror=l,(n.document.getElementsByTagName("head")[0]||n.document.body).appendChild(o)},e.prototype.isDone=function(e){return 2===this.states[e]},e.prototype.markDone=function(e){this.states[e]=2},e.prototype.add=function(e,t,n,r){void 0===this.states[e]&&(this.queue.push(e),this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var o,i=this,a=[],s=function(e,t){bs(i.scriptLoadedCallbacks[t],function(t){ve(t[e])&&t[e].call(t.scope)}),i.scriptLoadedCallbacks[t]=void 0};i.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this}),(o=function(){var t=ys(e);if(e.length=0,bs(t,function(e){return 2===i.states[e]?void s("success",e):3===i.states[e]?void s("failure",e):void(1!==i.states[e]&&(i.states[e]=1,i.loading++,i.loadScript(e,function(){i.states[e]=2,i.loading--,s("success",e),o()},function(){i.states[e]=3,i.loading--,a.push(e),s("failure",e),o()})))}),!i.loading){var n=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,bs(n,function(e){0===a.length?ve(e.success)&&e.success.call(e.scope):ve(e.failure)&&e.failure.call(e.scope,a)})}})()},e.ScriptLoader=new e,e}(),xs=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return xs(n())}}},Cs=function(e){return he(e)&&_o(e,"raw")},ks=function(e){return pe(e)&&e.length>1},_s={},Es=xs("en"),As=function(){return wo(_s,function(e){return Ue({},e)})},Ss=function(e){e&&Es.set(e)},Os=function(){return Es.get()},Ts=function(e,t){var n=_s[e];n||(_s[e]=n={});for(var r in t)n[r.toLowerCase()]=t[r]},Ds=function(e){var t=_s[Es.get()]||{},n=function(e){return ve(e)?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||void 0===e},o=function(e){var r=n(e),o=r.toLowerCase();return _o(t,o)?n(t[o]):r},i=function(e){return e.replace(/{context:\w+}$/,"")},a=function(e){return e};if(r(e))return a("");if(Cs(e))return a(n(e.raw));if(ks(e)){var s=e.slice(1);return a(i(o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return _o(s,t)?n(s[t]):e})))}return a(i(o(e)))},Ns=function(){return ko(_s,Es.get()).bind(function(e){return ko(e,"_dir")}).exists(function(e){return"rtl"===e})},Fs=function(e){return _o(_s,e)},Ls={getData:As,setCode:Ss,getCode:Os,add:Ts,translate:Ds,isRtl:Ns,hasCode:Fs},Ps=Vn.each;!function(e){e.PluginManager=e(),e.ThemeManager=e()}(C||(C={}));var Bs=C,Rs=function(e,t){oi(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},qs=function(e,t){si(e).fold(function(){oi(e).each(function(e){js(e,t)})},function(e){Rs(e,t)})},Ms=function(e,t){di(e).fold(function(){js(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},js=function(e,t){e.dom().appendChild(t.dom())},Is=function(e,t){Rs(e,t),js(t,e)},$s=function(e,t){Ee(t,function(t){Rs(e,t)})},zs=function(e,t){Ee(t,function(t){js(e,t)})},Hs=function(e){e.dom().textContent="",Ee(ci(e),function(e){Vs(e)})},Vs=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Us=function(e){var t=ci(e);t.length>0&&$s(e,t),Vs(e)},Ws=function(e,t){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=n.setTimeout(function(){e.apply(null,o),r=null},t))}}},Ks=function(e,t){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&n.clearTimeout(r),r=n.setTimeout(function(){e.apply(null,o),r=null},t)}}},Gs=function(e,t){var n=Do(e,t);return void 0===n||""===n?[]:n.split(" ")},Ys=function(e,t,n){var r=Gs(e,t),o=r.concat([n]);return Oo(e,t,o.join(" ")),!0},Xs=function(e,t,n){var r=Oe(Gs(e,t),function(e){return e!==n});return r.length>0?Oo(e,t,r.join(" ")):Fo(e,t),!1},Js=function(e){return void 0!==e.dom().classList},Zs=function(e){return Gs(e,"class")},Qs=function(e,t){return Ys(e,"class",t)},el=function(e,t){return Xs(e,"class",t)},tl=function(e,t){Js(e)?e.dom().classList.add(t):Qs(e,t)},nl=function(e){0===(Js(e)?e.dom().classList:Zs(e)).length&&Fo(e,"class")},rl=function(e,t){if(Js(e)){e.dom().classList.remove(t)}else el(e,t);nl(e)},ol=function(e,t){return Js(e)&&e.dom().classList.contains(t)},il=function(e,t){var n=[];return Ee(ci(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(il(e,t))}),n},al=function(e,t){return Go(t,e)},sl=function(e,t,n){for(var r=e.dom(),o=ve(n)?n:J(!1);r.parentNode;){r=r.parentNode;var i=so.fromDom(r);if(t(i))return ue.some(i);if(o(i))break}return ue.none()},ll=function(e,t,n){return k(function(e,t){return t(e)},sl,e,t,n)},ul=function(e,t,n){return sl(e,function(e){return Wo(e,t)},n)},cl=function(e,t){return Yo(t,e)},fl=function(e,t,n){return k(Wo,ul,e,t,n)},dl=J("mce-annotation"),hl=J("data-mce-annotation"),pl=J("data-mce-annotation-uid"),ml=function(e,t){var n=e.selection.getRng(),r=so.fromDom(n.startContainer),o=so.fromDom(e.getBody()),i=t.fold(function(){return"."+dl()},function(e){return"["+hl()+'="'+e+'"]'}),a=fi(r,n.startOffset).getOr(r),s=fl(a,i,function(e){return Xo(e,o)}),l=function(e,t){return No(e,t)?ue.some(Do(e,t)):ue.none()};return s.bind(function(t){return l(t,""+pl()).bind(function(n){return l(t,""+hl()).map(function(t){var r=vl(e,n);return{uid:n,name:t,elements:r}})})})},gl=function(e){return mo(e)&&ol(e,dl())},vl=function(e,t){var n=so.fromDom(e.getBody());return al(n,"["+pl()+'="'+t+'"]')},bl=function(e,t){var n=so.fromDom(e.getBody()),r=al(n,"["+hl()+'="'+t+'"]'),o={};return Ee(r,function(e){var t=Do(e,pl()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])}),o},yl=function(e,t){var n=xs({}),r=function(){return{listeners:[],previous:xs(ue.none())}},o=function(e,t){i(e,function(e){return t(e),e})},i=function(e,t){var o=n.get(),i=o.hasOwnProperty(e)?o[e]:r(),a=t(i);o[e]=a,n.set(o)},a=function(e,t,n){o(e,function(r){Ee(r.listeners,function(r){return r(!0,e,{uid:t,nodes:_e(n,function(e){return e.dom()})})})})},s=function(e){o(e,function(t){Ee(t.listeners,function(t){return t(!1,e)})})},l=Ks(function(){var t=n.get(),r=$e(vo(t));Ee(r,function(t){i(t,function(n){var r=n.previous.get();return ml(e,ue.some(t)).fold(function(){r.isSome()&&(s(t),n.previous.set(ue.none()))},function(e){var t=e.uid,o=e.name,i=e.elements;r.is(t)||(a(o,t,i),n.previous.set(ue.some(t)))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on("remove",function(){l.cancel()}),e.on("NodeChange",function(){l.throttle()}),{addListener:function(e,t){i(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},wl=function(e,t){var n=function(e){return ue.from(e.attr(hl())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(e){Ee(e,function(e){n(e).each(function(t){!1===t.persistent&&e.unwrap()})})})})},xl=function(){var e={};return{register:function(t,n){e[t]={name:t,settings:n}},lookup:function(t){return e.hasOwnProperty(t)?ue.from(e[t]).map(function(e){return e.settings}):ue.none()}}},Cl=0,kl=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Cl++,e+"_"+r+Cl+String(n)},_l=function(e,t){Ee(t,function(t){tl(e,t)})},El=function(e,t){return so.fromDom(e.dom().cloneNode(t))},Al=function(e){return El(e,!1)},Sl=function(e){return El(e,!0)},Ol=function(e,t){var r=t||n.document,o=r.createElement("div");return o.innerHTML=e,ci(so.fromDom(o))},Tl=function(e){return e.dom().innerHTML},Dl=function(e,t){var n=ti(e),r=n.dom(),o=so.fromDom(r.createDocumentFragment()),i=Ol(t,r);zs(o,i),Hs(e),js(e,o)},Nl=function(e){return"\ufeff"===e},Fl=function(e){return e.replace(new RegExp("\ufeff","g"),"")},Ll={isZwsp:Nl,ZWSP:"\ufeff",trim:Fl},Pl=sa.isElement,Bl=sa.isText,Rl=function(e){return Bl(e)&&(e=e.parentNode),Pl(e)&&e.hasAttribute("data-mce-caret")},ql=function(e){return Bl(e)&&Ll.isZwsp(e.data)},Ml=function(e){return Rl(e)||ql(e)},jl=function(e){return e.firstChild!==e.lastChild||!sa.isBr(e.firstChild)},Il=function(e,t){var n,r,o,i;if(n=e.ownerDocument,o=n.createTextNode(Ll.ZWSP),i=e.parentNode,t){if(r=e.previousSibling,Bl(r)){if(Ml(r))return r;if(Wl(r))return r.splitText(r.data.length-1)}i.insertBefore(o,e)}else{if(r=e.nextSibling,Bl(r)){if(Ml(r))return r;if(Ul(r))return r.splitText(1),r}e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o)}return o},$l=function(e){var t=e.container();return!(!e||!sa.isText(t))&&(t.data.charAt(e.offset())===Ll.ZWSP||e.isAtStart()&&ql(t.previousSibling))},zl=function(e){var t=e.container();return!(!e||!sa.isText(t))&&(t.data.charAt(e.offset()-1)===Ll.ZWSP||e.isAtEnd()&&ql(t.nextSibling))},Hl=function(){var e=n.document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Vl=function(e,t,n){var r,o,i;return r=t.ownerDocument,o=r.createElement(e),o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Hl()),i=t.parentNode,n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},Ul=function(e){return Bl(e)&&e.data[0]===Ll.ZWSP},Wl=function(e){return Bl(e)&&e.data[e.data.length-1]===Ll.ZWSP},Kl=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];sa.isBogus(n)&&n.parentNode.removeChild(n)},Gl=function(e){return e&&e.hasAttribute("data-mce-caret")?(Kl(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Yl=function(e){return Rl(e.startContainer)},Xl=sa.isContentEditableTrue,Jl=sa.isContentEditableFalse,Zl=sa.isBr,Ql=sa.isText,eu=sa.matchNodeNames(["script","style","textarea"]),tu=sa.matchNodeNames(["img","input","textarea","hr","iframe","video","audio","object"]),nu=sa.matchNodeNames(["table"]),ru=Ml,ou=function(e){return!ru(e)&&(Ql(e)?!eu(e.parentNode):tu(e)||Zl(e)||nu(e)||au(e))},iu=function(e){return sa.isElement(e)&&"true"===e.getAttribute("unselectable")},au=function(e){return!1===iu(e)&&Jl(e)},su=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(au(e))return!1;if(Xl(e))return!0}return!0},lu=function(e){return!!au(e)&&!0!==De(Ve(e.getElementsByTagName("*")),function(e,t){return e||Xl(t)},!1)},uu=function(e){return tu(e)||lu(e)},cu=function(e,t){return ou(e)&&su(e,t)},fu=Math.round,du=function(e){return e?{left:fu(e.left),top:fu(e.top),bottom:fu(e.bottom),right:fu(e.right),width:fu(e.width),height:fu(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},hu=function(e,t){return e=du(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},pu=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},mu=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},gu=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&mu(t.top-e.bottom,e,t)},vu=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&mu(t.bottom-e.top,e,t)},bu=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},yu=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},wu=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},xu=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Cu=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&xu.test(e)},ku=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return ue.none();n.push(o.getOrDie())}return ue.some(t.apply(null,n))},_u=[].slice,Eu=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_u.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},Au=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_u.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},Su={and:Au,or:Eu},Ou=sa.isElement,Tu=ou,Du=sa.matchStyleValues("display","block table"),Nu=sa.matchStyleValues("float","left right"),Fu=Su.and(Ou,Tu,Q(Nu)),Lu=Q(sa.matchStyleValues("white-space","pre pre-line pre-wrap")),Pu=sa.isText,Bu=sa.isBr,Ru=gs.nodeIndex,qu=wu,Mu=function(e){return"createRange"in e?e.createRange():gs.DOM.createRng()},ju=function(e){return e&&/[\r\n\t ]/.test(e)},Iu=function(e){return!!e.setStart&&!!e.setEnd},$u=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(ju(e.toString())&&Lu(n.parentNode)&&sa.isText(n)&&(t=n.data,ju(t[r-1])||ju(t[r+1])))},zu=function(e){var t,n=e.ownerDocument,r=Mu(n),o=n.createTextNode(" "),i=e.parentNode;return i.insertBefore(o,e),r.setStart(o,0),r.setEnd(o,1),t=du(r.getBoundingClientRect()),i.removeChild(o),t},Hu=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&sa.isText(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),Uu(i)}return null},Vu=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Uu=function(e){var t,n;return n=e.getClientRects(),t=du(n.length>0?n[0]:e.getBoundingClientRect()),!Iu(e)&&Bu(e)&&Vu(t)?zu(e):Vu(t)&&Iu(e)?Hu(e):t},Wu=function(e,t){var n=hu(e,t);return n.width=1,n.right=n.left+1,n},Ku=function(e){var t,n,r=[],o=function(e){0!==e.height&&(r.length>0&&pu(e,r[r.length-1])||r.push(e))},i=function(e,t){var n=Mu(e.ownerDocument);if(t<e.data.length){if(Cu(e.data[t]))return r;if(Cu(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!$u(n)))return o(Wu(Uu(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),$u(n)||o(Wu(Uu(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),$u(n)||o(Wu(Uu(n),!0)))};if(Pu(e.container()))return i(e.container(),e.offset()),r;if(Ou(e.container()))if(e.isAtEnd())n=qu(e.container(),e.offset()),Pu(n)&&i(n,n.data.length),Fu(n)&&!Bu(n)&&o(Wu(Uu(n),!1));else{if(n=qu(e.container(),e.offset()),Pu(n)&&i(n,0),Fu(n)&&e.isAtEnd())return o(Wu(Uu(n),!1)),r;t=qu(e.container(),e.offset()-1),Fu(t)&&!Bu(t)&&(Du(t)||Du(n)||!Fu(n))&&o(Wu(Uu(t),!1)),Fu(n)&&o(Wu(Uu(n),!0))}return r};!function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,Ru(t)+1)},e.before=function(t){return e(t.parentNode,Ru(t))},e.isAbove=function(e,t){return ku([ze(t.getClientRects()),He(e.getClientRects())],gu).getOr(!1)},e.isBelow=function(e,t){return ku([He(t.getClientRects()),ze(e.getClientRects())],vu).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&sa.isText(e.container())},e.isElementPosition=function(t){return!1===e.isTextPosition(t)}}(_||(_={}));var Gu,Yu=_,Xu=sa.isText,Ju=sa.isBogus,Zu=gs.nodeIndex,Qu=function(e){var t=e.parentNode;return Ju(t)?Qu(t):t},ec=function(e){return e?Nn.reduce(e.childNodes,function(e,t){return Ju(t)&&"BR"!==t.nodeName?e=e.concat(ec(t)):e.push(t),e},[]):[]},tc=function(e,t){for(;(e=e.previousSibling)&&Xu(e);)t+=e.data.length;return t},nc=function(e){return function(t){return e===t}},rc=function(e){var t,n,r;return t=ec(Qu(e)),n=Nn.findIndex(t,nc(e),e),t=t.slice(0,n+1),r=Nn.reduce(t,function(e,n,r){return Xu(n)&&Xu(t[r-1])&&e++,e},0),t=Nn.filter(t,sa.matchNodeNames([e.nodeName])),(n=Nn.findIndex(t,nc(e),e))-r},oc=function(e){return(Xu(e)?"text()":e.nodeName.toLowerCase())+"["+rc(e)+"]"},ic=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r},ac=function(e,t){var n,r,o,i,a,s=[];return n=t.container(),r=t.offset(),Xu(n)?o=tc(n,r):(i=n.childNodes,r>=i.length?(o="after",r=i.length-1):o="before",n=i[r]),s.push(oc(n)),a=ic(e,n),a=Nn.filter(a,Q(sa.isBogus)),s=s.concat(Nn.map(a,function(e){return oc(e)})),s.reverse().join("/")+","+o},sc=function(e,t,n){var r=ec(e);return r=Nn.filter(r,function(e,t){return!Xu(e)||!Xu(r[t-1])}),r=Nn.filter(r,sa.matchNodeNames([t])),r[n]},lc=function(e,t){for(var n,r=e,o=0;Xu(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!Xu(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Xu(e)&&t>e.data.length&&(t=e.data.length),Yu(e,t)},uc=function(e,t){var n,r,o;return t?(n=t.split(","),t=n[0].split("/"),o=n.length>1?n[1]:"before",r=Nn.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),sc(e,t[1],parseInt(t[2],10))):null},e),r?Xu(r)?lc(r,parseInt(o,10)):(o="after"===o?Zu(r)+1:Zu(r),Yu(r.parentNode,o)):null):null},cc=function(e,t){sa.isText(t)&&0===t.data.length&&e.remove(t)},fc=function(e,t,n){t.insertNode(n),cc(e,n.previousSibling),cc(e,n.nextSibling)},dc=function(e,t,n){var r=ue.from(n.firstChild),o=ue.from(n.lastChild);t.insertNode(n),r.each(function(t){return cc(e,t.previousSibling)}),o.each(function(t){return cc(e,t.nextSibling)})},hc=function(e,t,n){sa.isDocumentFragment(n)?dc(e,t,n):fc(e,t,n)},pc=sa.isContentEditableFalse,mc=function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&sa.isText(r);r=r.previousSibling)o+=e(r.data).length;return o},gc=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],l=[],u=0,c=e.getRoot();for(sa.isText(a)?l.push(n?mc(t,a,s):s):(i=a.childNodes,s>=i.length&&i.length&&(u=1,s=Math.max(0,i.length-1)),l.push(e.nodeIndex(i[s],n)+u));a&&a!==c;a=a.parentNode)l.push(e.nodeIndex(a,n));return l},vc=function(e,t,n,r){var o=t.dom,i={};return i.start=gc(o,e,n,r,!0),t.isCollapsed()||(i.end=gc(o,e,n,r,!1)),i},bc=function(e,t,n){var r=0;return Vn.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},yc=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],sa.isElement(n)&&"TR"===n.nodeName&&(o=n.childNodes,(n=o[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},wc=function(e){return yc(e,!0),yc(e,!1),e},xc=function(e,t){var n;if(sa.isElement(e)&&(e=wu(e,t),pc(e)))return e;if(Ml(e)){if(sa.isText(e)&&Rl(e)&&(e=e.parentNode),n=e.previousSibling,pc(n))return n;if(n=e.nextSibling,pc(n))return n}},Cc=function(e){return xc(e.startContainer,e.startOffset)||xc(e.endContainer,e.endOffset)},kc=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(pc(r)||"IMG"===o)return{name:o,index:bc(n.dom,o,r)};var a=Cc(i);return a?(o=a.tagName,{name:o,index:bc(n.dom,o,a)}):vc(e,n,t,i)},_c=function(e){var t=e.getRng();return{start:ac(e.dom.getRoot(),Yu.fromRangeStart(t)),end:ac(e.dom.getRoot(),Yu.fromRangeEnd(t))}},Ec=function(e){return{rng:e.getRng()}},Ac=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Sc=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:bc(n,s,a)};var l=wc(r.cloneRange());if(!i){l.collapse(!1);var u=Ac(n,o+"_end",t);hc(n,l,u)}r=wc(r),r.collapse(!0);var c=Ac(n,o+"_start",t);return hc(n,r,c),e.moveToBookmark({id:o,keep:1}),{id:o}},Oc=function(e,t,n){return 2===t?kc(Ll.trim,n,e):3===t?_c(e):t?Ec(e):Sc(e,!1)},Tc={getBookmark:Oc,getUndoBookmark:r(kc,Z,!0),getPersistentBookmark:Sc},Dc=function(e){return sa.isElement(e)&&"_mce_caret"===e.id},Nc=function(e,t){for(;t&&t!==e;){if("_mce_caret"===t.id)return t;t=t.parentNode}return null},Fc=sa.isElement,Lc=sa.isText,Pc=function(e){var t=e.parentNode;t&&t.removeChild(e)},Bc=function(e){try{return e.nodeValue}catch(e){return""}},Rc=function(e,t){0===t.length?Pc(e):e.nodeValue=t},qc=function(e){var t=Ll.trim(e);return{count:e.length-t.length,text:t}},Mc=function(e,t){return Vc(e),t},jc=function(e,t){var n=qc(e.data.substr(0,t.offset())),r=qc(e.data.substr(t.offset())),o=n.text+r.text;return o.length>0?(Rc(e,o),Yu(e,t.offset()-n.count)):t},Ic=function(e,t){var n=t.container(),r=xe(Ve(n.childNodes),e).map(function(e){return e<t.offset()?Yu(n,t.offset()-1):t}).getOr(t);return Vc(e),r},$c=function(e,t){return Lc(e)&&t.container()===e?jc(e,t):Mc(e,t)},zc=function(e,t){return t.container()===e.parentNode?Ic(e,t):Mc(e,t)},Hc=function(e,t){return Yu.isTextPosition(t)?$c(e,t):zc(e,t)},Vc=function(e){if(Fc(e)&&Ml(e)&&(jl(e)?e.removeAttribute("data-mce-caret"):Pc(e)),Lc(e)){var t=Ll.trim(Bc(e));Rc(e,t)}},Uc={removeAndReposition:Hc,remove:Vc},Wc=to.detect().browser,Kc=sa.isContentEditableFalse,Gc=function(e){return sa.isElement(e)&&/^(TD|TH)$/i.test(e.tagName)},Yc=function(e,t,n){var r,o,i,a,s,l=hu(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(s=e.getBoundingClientRect(),o=e.scrollLeft-s.left,i=e.scrollTop-s.top),l.left+=o,l.right+=o,l.top+=i,l.bottom+=i,l.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),l.left+=a,l.right+=a),l},Xc=function(e){var t,n,r,o,i;for(t=xr("*[contentEditable=false]",e),o=0;o<t.length;o++)n=t[o],r=n.previousSibling,Wl(r)&&(i=r.data,1===i.length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,Ul(r)&&(i=r.data,1===i.length?r.parentNode.removeChild(r):r.deleteData(0,1))},Jc=function(e,t,n){var r,o,i=xs(ue.none()),a=function(n,r){var a,u;if(s(),Gc(r))return null;if(!t(r))return o=Il(r,n),u=r.ownerDocument.createRange(),Kc(o.nextSibling)?(u.setStart(o,0),u.setEnd(o,0)):(u.setStart(o,1),u.setEnd(o,1)),u;o=Vl("p",r,n),a=Yc(e,r,n),xr(o).css("top",a.top);var c=xr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(a).appendTo(e)[0];return i.set(ue.some({caret:c,element:r,before:n})),i.get().each(function(e){n&&xr(e.caret).addClass("mce-visual-caret-before")}),l(),u=r.ownerDocument.createRange(),u.setStart(o,0),u.setEnd(o,0),u},s=function(){Xc(e),o&&(Uc.remove(o),o=null),i.get().each(function(e){xr(e.caret).remove(),i.set(ue.none())}),_t.clearInterval(r)},l=function(){r=_t.setInterval(function(){n()?xr("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):xr("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},u=function(){i.get().each(function(t){var n=Yc(e,t.element,t.before);xr(t.caret).css(Ue({},n))})},c=function(){return _t.clearInterval(r)};return{show:a,hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:u,destroy:c}},Zc=function(){return Wc.isIE()||Wc.isEdge()||Wc.isFirefox()},Qc=function(e){return Kc(e)||sa.isTable(e)&&Zc()},ef=sa.isContentEditableFalse,tf=sa.matchStyleValues("display","block table table-cell table-caption list-item"),nf=Ml,rf=Rl,of=sa.isElement,af=ou,sf=function(e){return e>0},lf=function(e){return e<0},uf=function(e,t){for(var n;n=e(t);)if(!rf(n))return n;return null},cf=function(e,t,n,r,o){var i=new la(e,r);if(lf(t)){if((ef(e)||rf(e))&&(e=uf(i.prev,!0),n(e)))return e;for(;e=uf(i.prev,o);)if(n(e))return e}if(sf(t)){if((ef(e)||rf(e))&&(e=uf(i.next,!0),n(e)))return e;for(;e=uf(i.next,o);)if(n(e))return e}return null},ff=function(e,t){for(;e&&e!==t;){if(tf(e))return e;e=e.parentNode}return null},df=function(e,t,n){return ff(e.container(),n)===ff(t.container(),n)},hf=function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),of(n)?n.childNodes[r+e]:null):null},pf=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},mf=function(e,t,n){return ff(t,e)===ff(n,e)},gf=function(e,t,n){var r,o;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],nf(r)&&(r=r[o]),ef(r)){if(mf(t,r,n))return r;break}if(af(r))break;n=n.parentNode}return null},vf=r(pf,!0),bf=r(pf,!1),yf=function(e,t,n){var o,i,a,s,l=r(gf,!0,t),u=r(gf,!1,t);if(i=n.startContainer,a=n.startOffset,Rl(i)){if(of(i)||(i=i.parentNode),"before"===(s=i.getAttribute("data-mce-caret"))&&(o=i.nextSibling,Qc(o)))return vf(o);if("after"===s&&(o=i.previousSibling,Qc(o)))return bf(o)}if(!n.collapsed)return n;if(sa.isText(i)){if(nf(i)){if(1===e){if(o=u(i))return vf(o);if(o=l(i))return bf(o)}if(-1===e){if(o=l(i))return bf(o);if(o=u(i))return vf(o)}return n}if(Wl(i)&&a>=i.data.length-1)return 1===e&&(o=u(i))?vf(o):n;if(Ul(i)&&a<=1)return-1===e&&(o=l(i))?bf(o):n;if(a===i.data.length)return o=u(i),o?vf(o):n;if(0===a)return o=l(i),o?bf(o):n}return n},wf=function(e,t){return ue.from(hf(e?0:-1,t)).filter(ef)},xf=function(e,t,n){var r=yf(e,t,n);return-1===e?_.fromRangeStart(r):_.fromRangeEnd(r)},Cf=function(e){return ue.from(e.getNode()).map(so.fromDom)},kf=function(e){return ue.from(e.getNode(!0)).map(so.fromDom)},_f=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Ef=function(e,t){var n=df(e,t);return!(n||!sa.isBr(e.getNode()))||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Gu||(Gu={}));var Af=sa.isContentEditableFalse,Sf=sa.isText,Of=sa.isElement,Tf=sa.isBr,Df=ou,Nf=uu,Ff=cu,Lf=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},Pf=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Bf=function(e,t){if(sf(e)){if(Df(t.previousSibling)&&!Sf(t.previousSibling))return Yu.before(t);if(Sf(t))return Yu(t,0)}if(lf(e)){if(Df(t.nextSibling)&&!Sf(t.nextSibling))return Yu.after(t);if(Sf(t))return Yu(t,t.data.length)}return lf(e)?Tf(t)?Yu.before(t):Yu.after(t):Yu.before(t)},Rf=function(e,t){var n=t.nextSibling;return n&&Df(n)?Sf(n)?Yu(n,0):Yu.before(n):qf(Gu.Forwards,Yu.after(t),e)},qf=function(e,t,n){var r,o,i,a,s;if(!Of(n)||!t)return null;if(t.isEqual(Yu.after(n))&&n.lastChild){if(s=Yu.after(n.lastChild),lf(e)&&Df(n.lastChild)&&Of(n.lastChild))return Tf(n.lastChild)?Yu.before(n.lastChild):s}else s=t;var l=s.container(),u=s.offset();if(Sf(l)){if(lf(e)&&u>0)return Yu(l,--u);if(sf(e)&&u<l.length)return Yu(l,++u);r=l}else{if(lf(e)&&u>0&&(o=Pf(l,u-1),Df(o)))return!Nf(o)&&(i=cf(o,e,Ff,o))?Sf(i)?Yu(i,i.data.length):Yu.after(i):Sf(o)?Yu(o,o.data.length):Yu.before(o);if(sf(e)&&u<l.childNodes.length&&(o=Pf(l,u),Df(o)))return Tf(o)?Rf(n,o):!Nf(o)&&(i=cf(o,e,Ff,o))?Sf(i)?Yu(i,0):Yu.before(i):Sf(o)?Yu(o,0):Yu.after(o);r=o||s.getNode()}return(sf(e)&&s.isAtEnd()||lf(e)&&s.isAtStart())&&(r=cf(r,e,J(!0),n,!0),Ff(r,n))?Bf(e,r):(o=cf(r,e,Ff,n),a=Nn.last(Oe(Lf(l,n),Af)),!a||o&&a.contains(o)?o?Bf(e,o):null:s=sf(e)?Yu.after(a):Yu.before(a))},Mf=function(e){return{next:function(t){return qf(Gu.Forwards,t,e)},prev:function(t){return qf(Gu.Backwards,t,e)}}},jf=function(e,t,n){var r=e?Yu.before(n):Yu.after(n);return Wf(e,t,r)},If=function(e){return sa.isBr(e)?Yu.before(e):Yu.after(e)},$f=function(e){return Yu.isTextPosition(e)?0===e.offset():ou(e.getNode())},zf=function(e){if(Yu.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return ou(e.getNode(!0))},Hf=function(e,t){return!Yu.isTextPosition(e)&&!Yu.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Vf=function(e){return!Yu.isTextPosition(e)&&sa.isBr(e.getNode())},Uf=function(e,t,n){return e?!Hf(t,n)&&!Vf(t)&&zf(t)&&$f(n):!Hf(n,t)&&$f(t)&&zf(n)},Wf=function(e,t,n){var r=Mf(t);return ue.from(e?r.next(n):r.prev(n))},Kf=function(e,t,n){return Wf(e,t,n).bind(function(r){return df(n,r,t)&&Uf(e,n,r)?Wf(e,t,r):ue.some(r)})},Gf=function(e,t,n,r){return Kf(e,t,n).bind(function(n){return r(n)?Gf(e,t,n,r):ue.some(n)})},Yf=function(e,t){var n=e?t.firstChild:t.lastChild;return sa.isText(n)?ue.some(Yu(n,e?0:n.data.length)):n?ou(n)?ue.some(e?Yu.before(n):If(n)):jf(e,t,n):ue.none()},Xf=r(Wf,!0),Jf=r(Wf,!1),Zf={fromPosition:Wf,nextPosition:Xf,prevPosition:Jf,navigate:Kf,navigateIgnore:Gf,positionIn:Yf,firstPositionIn:r(Yf,!0),lastPositionIn:r(Yf,!1)},Qf=function(e){return"string"==typeof e.start},ed=function(e){return e.hasOwnProperty("rng")},td=function(e){return e.hasOwnProperty("id")},nd=function(e){return e.hasOwnProperty("name")},rd=function(e){return Vn.isArray(e.start)},od=function(e,t){return!e.isBlock(t)||t.innerHTML||gt.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},id=function(e,t){var n,r;return n=e.createRng(),r=uc(e.getRoot(),t.start),n.setStart(r.container(),r.offset()),r=uc(e.getRoot(),t.end),n.setEnd(r.container(),r.offset()),n},ad=function(e,t){var n=e.ownerDocument.createTextNode(Ll.ZWSP);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},sd=function(e){return!1===e.hasChildNodes()},ld=function(e,t){return Zf.lastPositionIn(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},ud=function(e,t,n){return!(!sd(t)||!Nc(e,t))&&(ad(t,n),!0)},cd=function(e,t,n,r){var o,i,a,s,l=n[t?"start":"end"],u=e.getRoot();if(l){for(a=l[0],i=u,o=l.length-1;o>=1;o--){if(s=i.childNodes,ud(u,i,r))return!0;if(l[o]>s.length-1)return!!ud(u,i,r)||ld(i,r);i=s[l[o]]}3===i.nodeType&&(a=Math.min(l[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(l[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},fd=function(e){return sa.isText(e)&&e.data.length>0},dd=function(e,t,n){var r,o,i,a,s,l,u=e.get(n.id+"_"+t),c=n.keep;if(u){if(r=u.parentNode,"start"===t?(c?u.hasChildNodes()?(r=u.firstChild,o=1):fd(u.nextSibling)?(r=u.nextSibling,o=0):fd(u.previousSibling)?(r=u.previousSibling,o=u.previousSibling.data.length):(r=u.parentNode,o=e.nodeIndex(u)+1):o=e.nodeIndex(u),s=r,l=o):(c?u.hasChildNodes()?(r=u.firstChild,o=1):fd(u.previousSibling)?(r=u.previousSibling,o=u.previousSibling.data.length):(r=u.parentNode,o=e.nodeIndex(u)):o=e.nodeIndex(u),s=r,l=o),!c){for(a=u.previousSibling,i=u.nextSibling,Vn.each(Vn.grep(u.childNodes),function(e){sa.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});u=e.get(n.id+"_"+t);)e.remove(u,!0);a&&i&&a.nodeType===i.nodeType&&sa.isText(a)&&!gt.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),s=a,l=o)}return ue.some(Yu(s,l))}return ue.none()},hd=function(e,t){return e.isSome()?e:t},pd=function(e,t){var n=e.createRng();return cd(e,!0,t,n)&&cd(e,!1,t,n)?ue.some(n):ue.none()},md=function(e,t){var n=dd(e,"start",t),r=dd(e,"end",t);return ku([n,hd(r,n)],function(t,n){var r=e.createRng();return r.setStart(od(e,t.container()),t.offset()),r.setEnd(od(e,n.container()),n.offset()),r})},gd=function(e,t){return ue.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},vd=function(e,t){var n=e.dom;if(t){if(rd(t))return pd(n,t);if(Qf(t))return ue.some(id(n,t));if(td(t))return md(n,t);if(nd(t))return gd(n,t);if(ed(t))return ue.some(t.rng)}return ue.none()},bd={resolve:vd},yd=function(e,t,n){return Tc.getBookmark(e,t,n)},wd=function(e,t){bd.resolve(e,t).each(function(t){e.setRng(t)})},xd=function(e){return sa.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Cd={getBookmark:yd,moveToBookmark:wd,isBookmarkNode:xd},kd=function(e){return e&&/^(IMG)$/.test(e.nodeName)},_d=function(e,t,n){var r,o,i,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!kd(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(i=s.childNodes,a<i.length?(s=i[a],r=new la(s,e.getParent(s,e.isBlock))):(s=i[i.length-1],r=new la(s,e.getParent(s,e.isBlock)),r.next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!Od(o))return n.setStart(o,0),void t.setRng(n)},Ed=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!Od(e))return e},Ad=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Sd=function(e,t,n){return e.schema.isValidChild(t,n)},Od=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},Td=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},Dd=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Nd=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Fd=function(e,t,n){return Nd(e,e.getStyle(t,n),n)},Ld=function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},Pd=function(e,t,n){return e.getParents(t,n,e.getRoot())},Bd={isInlineBlock:kd,moveStart:_d,getNonWhiteSpaceSibling:Ed,isTextBlock:Ad,isValid:Sd,isWhiteSpaceNode:Od,replaceVars:Td,isEq:Dd,normalizeStyleValue:Nd,getStyle:Fd,getTextDecoration:Ld,getParents:Pd},Rd=Cd.isBookmarkNode,qd=Bd.getParents,Md=Bd.isWhiteSpaceNode,jd=Bd.isTextBlock,Id=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},$d=function(e,t){var n=Id(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Id(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node,e.splitText(n.offset-1))}return e},zd=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Hd=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Vd=function(e,t,n,r){var o,i,a=n.nodeValue;return void 0===r&&(r=e?a.length:0),e?(o=a.lastIndexOf(" ",r),i=a.lastIndexOf(" ",r),-1!==(o=o>i?o:i)&&!t&&(o<r||!e)&&o<=a.length&&o++):(o=a.indexOf(" ",r),i=a.indexOf(" ",r),o=-1!==o&&(-1===i||o<i)?o:i),o},Ud=function(e,t,n,r,o,i){var a,s,l;if(3===n.nodeType){if(-1!==(s=Vd(o,i,n,r)))return{container:n,offset:s};l=n}for(var u=new la(n,e.getParent(n,e.isBlock)||t);a=u[o?"prev":"next"]();)if(3!==a.nodeType||Rd(a.parentNode)){if(e.isBlock(a)||Bd.isEq(a,"BR"))break}else if(l=a,-1!==(s=Vd(o,i,a)))return{container:a,offset:s};if(l)return r=o?0:l.length,{container:l,offset:r}},Wd=function(e,t,n,r,o){var i,a,s,l;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),i=qd(e,r),a=0;a<i.length;a++)for(s=0;s<t.length;s++)if(!("collapsed"in(l=t[s])&&l.collapsed!==n.collapsed)&&e.is(i[a],l.selector))return i[a];return r},Kd=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var s=i.getParent(n,"LI,TD,TH");o=i.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==a&&jd(e,t)},s)}if(o&&t[0].wrapper&&(o=qd(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!Bd.isEq(o,"br")););return o||n},Gd=function(e,t,n,r,o,i,a){var s,l,u,c,f;if(s=l=a?n:o,c=a?"previousSibling":"nextSibling",f=e.getRoot(),3===s.nodeType&&!Md(s)&&(a?r>0:i<s.nodeValue.length))return s;for(;;){if(!t[0].block_expand&&e.isBlock(l))return l;for(u=l[c];u;u=u[c])if(!Rd(u)&&!Md(u)&&!zd(u))return l;if(l===f||l.parentNode===f){s=l;break}l=l.parentNode}return s},Yd=function(e,t,n,r){var o,i=t.startContainer,a=t.startOffset,s=t.endContainer,l=t.endOffset,u=e.dom;return 1===i.nodeType&&i.hasChildNodes()&&(i=wu(i,a),3===i.nodeType&&(a=0)),1===s.nodeType&&s.hasChildNodes()&&(s=wu(s,t.collapsed?l:l-1),3===s.nodeType&&(l=s.nodeValue.length)),i=Hd(u,i),s=Hd(u,s),(Rd(i.parentNode)||Rd(i))&&(i=Rd(i)?i:i.parentNode,i=t.collapsed?i.previousSibling||i:i.nextSibling||i,3===i.nodeType&&(a=t.collapsed?i.length:0)),(Rd(s.parentNode)||Rd(s))&&(s=Rd(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,3===s.nodeType&&(l=t.collapsed?0:s.length)),t.collapsed&&(o=Ud(u,e.getBody(),i,a,!0,r),o&&(i=o.container,a=o.offset),(o=Ud(u,e.getBody(),s,l,!1,r))&&(s=o.container,l=o.offset)),n[0].inline&&(s=r?s:$d(s,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===i.nodeType&&0!==a||(i=Gd(u,n,i,a,s,l,!0)),n[0].inline&&3===s.nodeType&&l!==s.nodeValue.length||(s=Gd(u,n,i,a,s,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(i=Wd(u,n,t,i,"previousSibling"),s=Wd(u,n,t,s,"nextSibling")),(n[0].block||n[0].selector)&&(i=Kd(e,n,i,"previousSibling"),s=Kd(e,n,s,"nextSibling"),n[0].block&&(u.isBlock(i)||(i=Gd(u,n,i,a,s,l,!0)),u.isBlock(s)||(s=Gd(u,n,i,a,s,l,!1)))),1===i.nodeType&&(a=u.nodeIndex(i),i=i.parentNode),1===s.nodeType&&(l=u.nodeIndex(s)+1,s=s.parentNode),{startContainer:i,startOffset:a,endContainer:s,endOffset:l}},Xd={expandRng:Yd},Jd=Vn.each,Zd=function(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e},Qd=function(e,t,n){var r,o,i,a,s,l,u,c=t.startContainer,f=t.startOffset,d=t.endContainer,h=t.endOffset;if(u=e.select("td[data-mce-selected],th[data-mce-selected]"),u.length>0)return void Jd(u,function(e){n([e])});var p=function(e){var t;return t=e[0],3===t.nodeType&&t===c&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===h&&e.length>0&&t===d&&3===t.nodeType&&e.splice(e.length-1,1),e},m=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},g=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},v=function(e,t,r){var o=r?"nextSibling":"previousSibling";for(a=e,s=a.parentNode;a&&a!==t;a=s)s=a.parentNode,l=m(a===e?a:a[o],o),l.length&&(r||l.reverse(),n(p(l)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(d=Zd(d,h)),c===d)return n(p([c]));for(r=e.findCommonAncestor(c,d),a=c;a;a=a.parentNode){if(a===d)return v(c,r,!0);if(a===r)break}for(a=d;a;a=a.parentNode){if(a===c)return v(d,r);if(a===r)break}o=g(c,r)||c,i=g(d,r)||d,v(c,o,!0),l=m(o===c?o:o.nextSibling,"nextSibling",i===d?i.nextSibling:i),l.length&&n(p(l)),v(d,i)},eh={walk:Qd},th=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?ue.from(t.dom().nodeValue):ue.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(go,"text"),nh=function(e){return th.get(e)},rh=function(e){return go(e)&&"\ufeff"===nh(e)},oh=function(e,t,n,r){return oi(t).fold(function(){return"skipping"},function(o){return"br"===r||rh(t)?"valid":gl(t)?"existing":Dc(t)?"caret":Bd.isValid(e,n,r)&&Bd.isValid(e,fo(o),n)?"valid":"invalid-child"})},ih=function(e){return 3===e.startContainer.nodeType&&e.startContainer.nodeValue.length>=e.startOffset&&" "===e.startContainer.nodeValue[e.startOffset]},ah=function(e,t){var n=Xd.expandRng(e,t,[{inline:!0}],ih(t));t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},sh=function(e,t,n,r){var i=t.uid,a=void 0===i?kl("mce-annotation"):i,s=o(t,["uid"]),l=so.fromTag("span",e);tl(l,dl()),Oo(l,""+pl(),a),Oo(l,""+hl(),n);var u=r(a,s),c=u.attributes,f=void 0===c?{}:c,d=u.classes,h=void 0===d?[]:d;return To(l,f),_l(l,h),l},lh=function(e,t,n,r,o){var i=[],a=sh(e.getDoc(),o,n,r),s=xs(ue.none()),l=function(){s.set(ue.none())},u=function(){return s.get().getOrThunk(function(){var e=Al(a);return i.push(e),s.set(ue.some(e)),e})},c=function(e){Ee(e,f)},f=function(t){switch(oh(e,t,"span",fo(t))){case"invalid-child":l();var n=ci(t);c(n),l();break;case"valid":var r=u();Is(t,r)}},d=function(e){var t=_e(e,so.fromDom);c(t)};return eh.walk(e.dom,t,function(e){l(),d(e)}),i},uh=function(e,t,n,r){e.undoManager.transact(function(){var o=e.selection.getRng();if(o.collapsed&&ah(e,o),e.selection.getRng().collapsed){var i=sh(e.getDoc(),r,t,n.decorate);Dl(i," "),e.selection.getRng().insertNode(i.dom()),e.selection.select(i.dom())}else{var a=Tc.getPersistentBookmark(e.selection,!1),s=e.selection.getRng();lh(e,s,t,n.decorate,r),e.selection.moveToBookmark(a)}})},ch=function(e){var t=xl();wl(e,t);var n=yl(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each(function(t){uh(e,n,t,r)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){ml(e,ue.some(t)).each(function(e){var t=e.elements;Ee(t,Us)})},getAll:function(t){var n=bl(e,t);return wo(n,function(e){return _e(e,function(e){return e.dom()})})}}},fh=/^[ \t\r\n]*$/,dh={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},hh=function(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}},ph=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,dh[t]||1);if(n)for(var o in n)r.attr(o,n[o]);return r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e){for(var o in e)r.attr(o,e[o]);return r}if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];for(var i=n.length;i--;)if(n[i].name===e)return n.splice(i,1),r}return r}if(e in n.map){for(var i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var o=[];o.map={};for(var i=0,a=t.length;i<a;i++){var s=t[i];"id"!==s.name&&(o[o.length]={name:s.name,value:s.value},o.map[s.name]=s.value)}r.attributes=o}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=this,n=[],r=t.firstChild;r;r=hh(r,t))r.name===e&&n.push(r);return n},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=hh(n,e))t.push(n);for(var r=t.length;r--;){var n=t[r];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,o=r.firstChild;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(e[o.name])return!1;for(var i=o.attributes.length;i--;){var a=o.attributes[i].name;if("name"===a||0===a.indexOf("data-mce-bookmark"))return!1}}if(8===o.type)return!1;if(3===o.type&&!fh.test(o.value))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&fh.test(o.value))return!1;if(n&&n(o))return!1}while(o=hh(o,r));return!0},e.prototype.walk=function(e){return hh(this,null,e)},e}(),mh=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},gh=function(e){return e.replace(/<!--|-->/g,"")},vh=function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?!1===e.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},bh=function(e,t,n){var r,o,i,a,s=1;for(a=e.getShortEndedElements(),i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,i.lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])s--;else if(!o[1]){if(o[2]in a)continue;s++}if(0===s)break}return r},yh=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};!function(e){e.findEndTag=bh}(E||(E={}));var wh,xh,Ch=E,kh=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},_h=function(e,t){var n,r,o,i,a,s=t,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=e.schema;for(s=kh(e.getTempAttrs(),s),a=u.getShortEndedElements();i=l.exec(s);)r=l.lastIndex,o=i[0].length,n=a[i[1]]?r:Ch.findEndTag(u,s,r),s=s.substring(0,r-o)+s.substring(n),l.lastIndex=r-o;return Ll.trim(s)},Eh=_h,Ah={trimExternal:Eh,trimInternal:_h},Sh=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},Oh=function(e){return e.getParam("iframe_attrs",{})},Th=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Dh=function(e){return e.getParam("document_base_url","")},Nh=function(e){return Sh(e,"body_id","tinymce")},Fh=function(e){return Sh(e,"body_class","")},Lh=function(e){return e.getParam("content_security_policy","")},Ph=function(e){return e.getParam("br_in_pre",!0)},Bh=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Rh=function(e){return e.getParam("forced_root_block_attrs",{})},qh=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Mh=function(e){return e.getParam("no_newline_selector","")},jh=function(e){return e.getParam("keep_styles",!0)},Ih=function(e){return e.getParam("end_container_on_empty_block",!1)},$h=function(e){return Vn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},zh=function(e){return Vn.explode(e.getParam("font_size_classes",""))},Hh=function(e){return e.getParam("images_dataimg_filter",J(!0),"function")},Vh=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Uh=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Wh=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Kh=function(e){return e.getParam("icons","","string")},Gh=function(e){return e.getParam("icons_url","","string")},Yh=function(e){return e.getParam("images_upload_url","","string")},Xh=function(e){return e.getParam("images_upload_base_path","","string")},Jh=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Zh=function(e){return e.getParam("images_upload_handler",null,"function")},Qh=function(e){return e.getParam("content_css_cors",!1,"boolean")},ep=function(e){return e.getParam("language","en","string")},tp=function(e){return e.getParam("language_url","","string")},np=function(e){return e.getParam("indent_use_margin",!1)},rp=function(e){return e.getParam("indentation","40px","string")},op=function(e){var t=e.settings.content_css;return de(t)?_e(t.split(","),Vr):pe(t)?t:!1===t||e.inline?[]:["default"]},ip=function(e){return e.getParam("directionality",Ls.isRtl()?"rtl":void 0)},ap=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},sp={getIframeAttrs:Oh,getDocType:Th,getDocumentBaseUrl:Dh,getBodyId:Nh,getBodyClass:Fh,getContentSecurityPolicy:Lh,shouldPutBrInPre:Ph,getForcedRootBlock:Bh,getForcedRootBlockAttrs:Rh,getBrNewLineSelector:qh,getNoNewLineSelector:Mh,shouldKeepStyles:jh,shouldEndContainerOnEmptyBlock:Ih,getFontStyleValues:$h,getFontSizeClasses:zh,getIconPackName:Kh,getIconsUrl:Gh,getImagesDataImgFilter:Hh,isAutomaticUploadsEnabled:Vh,shouldReuseFileName:Uh,shouldReplaceBlobUris:Wh,getImageUploadUrl:Yh,getImageUploadBasePath:Xh,getImagesUploadCredentials:Jh,getImagesUploadHandler:Zh,shouldUseContentCssCors:Qh,getLanguageCode:ep,getLanguageUrl:tp,shouldIndentUseMargin:np,getIndentation:rp,getContentCss:op,getDirectionality:ip,getInlineBoundarySelector:ap},lp=function(e,t){var n=sp.getForcedRootBlock(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},up=function(e,t,n){var r;if(t.format=t.format?t.format:"html",t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)r=Vn.trim(Ah.trimExternal(e.serializer,n.innerHTML));else if("text"===t.format)r=Ll.trim(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);r=lp(e,e.serializer.serialize(n,t))}return"text"===t.format||Da(so.fromDom(n))?t.content=r:t.content=Vn.trim(r),t.no_events||e.fire("GetContent",t),t.content},cp=function(e,t){return void 0===t&&(t={}),ue.from(e.getBody()).fold(J("tree"===t.format?new ph("body",11):""),function(n){return up(e,t,n)})},fp=Vn.makeMap,dp=function(e){var t,n,r,o,i,a=[];return e=e||{},t=e.indent,n=fp(e.indent_before||""),r=fp(e.indent_after||""),o=Ya.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="html"===e.element_format,{start:function(e,s,l){var u,c,f,d;if(t&&n[e]&&a.length>0&&(d=a[a.length-1],d.length>0&&"\n"!==d&&a.push("\n")),a.push("<",e),s)for(u=0,c=s.length;u<c;u++)f=s[u],a.push(" ",f.name,'="',o(f.value,!0),'"');a[a.length]=!l||i?">":" />",l&&t&&r[e]&&a.length>0&&(d=a[a.length-1],d.length>0&&"\n"!==d&&a.push("\n"))},end:function(e){var n;a.push("</",e,">"),t&&r[e]&&a.length>0&&(n=a[a.length-1],n.length>0&&"\n"!==n&&a.push("\n"))},text:function(e,t){e.length>0&&(a[a.length]=t?e:o(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?a.push("<?",e," ",o(n),"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}},hp=function(e,t){void 0===t&&(t=w());var n=dp(e);return e=e||{},e.validate=!("validate"in e)||e.validate,{serialize:function(r){var o,i;i=e.validate,o={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}},n.reset();var a=function(e){var r,s,l,u,c,f,d,h,p,m=o[e.type];if(m)m(e);else{if(r=e.name,s=e.shortEnded,l=e.attributes,i&&l&&l.length>1&&(f=[],f.map={},p=t.getElementRule(e.name))){for(d=0,h=p.attributesOrder.length;d<h;d++)(u=p.attributesOrder[d])in l.map&&(c=l.map[u],f.map[u]=c,f.push({name:u,value:c}));for(d=0,h=l.length;d<h;d++)(u=l[d].name)in f.map||(c=l.map[u],f.map[u]=c,f.push({name:u,value:c}));l=f}if(n.start(e.name,l,s),!s){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?o[11](r):a(r),n.getContent()}}},pp=function(e,t){t(e),e.firstChild&&pp(e.firstChild,t),e.next&&pp(e.next,t)},mp=function(e,t,n){var r={},o={},i=[];n.firstChild&&pp(n.firstChild,function(n){Ee(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),Ee(t,function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})});for(var a in r)r.hasOwnProperty(a)&&i.push(r[a]);for(var a in o)o.hasOwnProperty(a)&&i.push(o[a]);return i},gp=function(e,t,n){var r=mp(e,t,n);Ee(r,function(e){Ee(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},vp=function(e){var t=ti(e).dom();return e.dom()===t.activeElement},bp=function(e){var t=void 0!==e?e.dom():n.document;return ue.from(t.activeElement).map(so.fromDom)},yp=function(e){return bp(ti(e)).filter(function(t){return e.dom().contains(t.dom())})},wp=function(e){if(!pe(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],r={};return Ee(e,function(o,i){var a=vo(o);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!pe(l))throw new Error("case arguments must be an array");t.push(s),r[s]=function(){var r=arguments.length;if(r!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var u=function(e){var n=vo(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!qe(t,function(e){return Ce(n,e)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:u,log:function(e){n.console.log(e,{constructors:t,constructor:s,params:o})}}}}),r},xp={generate:wp},Cp=qo("start","soffset","finish","foffset"),kp={create:Cp},_p=xp.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ep=function(e,t,n,r){return e.fold(t,n,r)},Ap=function(e){return e.fold(Z,Z,Z)},Sp=_p.before,Op=_p.on,Tp=_p.after,Dp={before:Sp,on:Op,after:Tp,cata:Ep,getStart:Ap},Np=xp.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Fp=function(e){return Np.exact(e.start(),e.soffset(),e.finish(),e.foffset())},Lp=function(e){return e.match({domRange:function(e){return so.fromDom(e.startContainer)},relative:function(e,t){return Dp.getStart(e)},exact:function(e,t,n,r){return e}})},Pp=Np.domRange,Bp=Np.relative,Rp=Np.exact,qp=function(e){var t=Lp(e);return ri(t)},Mp=kp.create,jp={domRange:Pp,relative:Bp,exact:Rp,exactFromRange:Fp,getWin:qp,range:Mp},Ip=to.detect().browser,$p=function(e,t){var n=go(t)?nh(t).length:ci(t).length+1;return e>n?n:e<0?0:e},zp=function(e){return jp.range(e.start(),$p(e.soffset(),e.start()),e.finish(),$p(e.foffset(),e.finish()))},Hp=function(e,t){return!sa.isRestrictedNode(t.dom())&&(ei(e,t)||Xo(e,t))},Vp=function(e){return function(t){return Hp(e,t.start())&&Hp(e,t.finish())}},Up=function(e){return!0===e.inline||Ip.isIE()},Wp=function(e){return jp.range(so.fromDom(e.startContainer),e.startOffset,so.fromDom(e.endContainer),e.endOffset)},Kp=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?ue.from(t.getRangeAt(0)):ue.none()).map(Wp)},Gp=function(e){var t=ri(e);return Kp(t.dom()).filter(Vp(e))},Yp=function(e,t){return ue.from(t).filter(Vp(e)).map(zp)},Xp=function(e){var t=n.document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),ue.some(t)}catch(e){return ue.none()}},Jp=function(e){var t=Up(e)?Gp(so.fromDom(e.getBody())):ue.none();e.bookmark=t.isSome()?t:e.bookmark},Zp=function(e,t){var n=so.fromDom(e.getBody()),r=Up(e)?ue.from(t):ue.none(),o=r.map(Wp).filter(Vp(n));e.bookmark=o.isSome()?o:e.bookmark},Qp=function(e){return(e.bookmark?e.bookmark:ue.none()).bind(r(Yp,so.fromDom(e.getBody()))).bind(Xp)},em=function(e){Qp(e).each(function(t){e.selection.setRng(t)})},tm={store:Jp,storeNative:Zp,readRange:Kp,restore:em,getRng:Qp,getBookmark:Gp,validate:Yp},nm=function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")},rm={isEditorUIElement:nm},om=function(e){return"nodechange"===e.type&&e.selectionChange},im=function(e,t){var r=function(){t.throttle()};gs.DOM.bind(n.document,"mouseup",r),e.on("remove",function(){gs.DOM.unbind(n.document,"mouseup",r)})},am=function(e){e.on("focusout",function(){tm.store(e)})},sm=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},lm=function(e,t){to.detect().browser.isIE()?am(e):sm(e,t),e.on("keyup NodeChange",function(t){om(t)||tm.store(e)})},um=function(e){var t=Ws(function(){tm.store(e)},0);e.on("init",function(){e.inline&&im(e,t),lm(e,t)}),e.on("remove",function(){t.cancel()})},cm={register:um},fm=gs.DOM,dm=function(e){return rm.isEditorUIElement(e)},hm=function(e){var t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},pm=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==fm.getParent(t,function(t){return dm(t)||!!n&&e.dom.is(t,n)})},mm=function(){try{return n.document.activeElement}catch(e){return n.document.body}},gm=function(e,t){var r=t.editor;cm.register(r),r.on("focusin",function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))}),r.on("focusout",function(){var t=this;_t.setEditorTimeout(t,function(){var n=e.focusedEditor;pm(t,mm())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),wh||(wh=function(t){var r,o=e.activeEditor;r=t.target,o&&r.ownerDocument===n.document&&(r===n.document.body||pm(o,r)||e.focusedEditor!==o||(o.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},fm.bind(n.document,"focusin",wh))},vm=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(fm.unbind(n.document,"focusin",wh),wh=null)},bm=function(e){e.on("AddEditor",r(gm,e)),e.on("RemoveEditor",r(vm,e))},ym={setup:bm,isEditorUIElement:dm,isEditorContentAreaElement:hm,isUIElement:pm},wm=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},xm=function(e){return e.collapsed?ue.from(wu(e.startContainer,e.startOffset)).map(so.fromDom):ue.none()},Cm=function(e,t){return xm(t).bind(function(t){return Oa(t)?ue.some(t):!1===ei(e,t)?ue.some(e):ue.none()})},km=function(e,t){Cm(so.fromDom(e.getBody()),t).bind(function(e){return Zf.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},_m=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Em=function(e){return vp(e)||yp(e).isSome()},Am=function(e){return e.iframeElement&&vp(so.fromDom(e.iframeElement))},Sm=function(e){var t=e.getBody();return t&&Em(so.fromDom(t))},Om=function(e){return bp().filter(function(t){return!ym.isEditorContentAreaElement(t.dom())&&ym.isUIElement(e,t.dom())}).isSome()},Tm=function(e){return e.inline?Sm(e):Am(e)},Dm=function(e){return Tm(e)||Om(e)},Nm=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===Tm(e)&&tm.getRng(e).each(function(t){e.selection.setRng(t),r=t});var o=wm(e,t.getNode());if(e.$.contains(n,o))return _m(o),km(e,r),void Fm(e);e.inline||(gt.opera||_m(n),e.getWin().focus()),(gt.gecko||e.inline)&&(_m(n),km(e,r)),Fm(e)},Fm=function(e){return e.editorManager.setActive(e)},Lm=function(e,t){e.removed||(t?Fm(e):Nm(e))},Pm={focus:Lm,hasFocus:Tm,hasEditorOrUiFocus:Dm},Bm=function(e){return e instanceof ph},Rm=function(e){Pm.hasFocus(e)&&Zf.firstPositionIn(e.getBody()).each(function(t){var n=t.getNode(),r=sa.isTable(n)?Zf.firstPositionIn(n).getOr(t):t;e.selection.setRng(r.toRange())})},qm=function(e,t){e.dom.setHTML(e.getBody(),t),Rm(e)},Mm=function(e,t,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),o=sp.getForcedRootBlock(e),o&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=e.dom.createHTML(o,e.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),qm(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=hp({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=Da(so.fromDom(t))?n:Vn.trim(n),qm(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},jm=function(e,t,n,r){gp(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=hp({validate:e.validate},e.schema).serialize(n);return r.content=Da(so.fromDom(t))?o:Vn.trim(o),qm(e,r.content),r.no_events||e.fire("SetContent",r),n},Im=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=Bm(t)?"":t,Bm(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),ue.from(e.getBody()).fold(J(t),function(r){return Bm(t)?jm(e,r,t,n):Mm(e,r,t,n)})},$m=function(e,t){return e.fire("PreProcess",t)},zm=function(e,t){return e.fire("PostProcess",t)},Hm=function(e){return e.fire("remove")},Vm=function(e){return e.fire("detach")},Um=function(e,t){return e.fire("SwitchMode",{mode:t})},Wm=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},Km=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},Gm={firePreProcess:$m,firePostProcess:zm,fireRemove:Hm,fireDetach:Vm,fireSwitchMode:Um,fireObjectResizeStart:Wm,fireObjectResized:Km},Ym=gs.DOM,Xm=function(e){Ym.setStyle(e.id,"display",e.orgDisplay)},Jm=function(e){return ue.from(e).each(function(e){return e.destroy()})},Zm=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},Qm=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),Ym.unbind(t,"submit reset",e.formEventDelegate))},eg=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&Ym.remove(o.nextSibling),Gm.fireRemove(e),e.editorManager.remove(e),!e.inline&&r&&Xm(e),Gm.fireDetach(e),Ym.remove(e.getContainer()),Jm(t),Jm(n),e.destroy()}},tg=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed)return void e.remove();t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Jm(n),Jm(r)),Qm(e),Zm(e),e.destroyed=!0}},ng=Object.prototype.hasOwnProperty,rg=function(e,t){return t},og=function(e,t){return he(e)&&he(t)?ag(e,t):t},ig=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)ng.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},ag=ig(og),sg=ig(rg),lg=qo("sections","settings"),ug=to.detect(),cg=ug.deviceType.isTouch(),fg=ug.deviceType.isPhone(),dg=["lists","autolink","autosave"],hg={theme:"mobile"},pg=function(e){var t=pe(e)?e.join(" "):e,n=_e(de(t)?t.split(" "):[],Vr);return Oe(n,function(e){return e.length>0})},mg=function(e){return Oe(e,r(Ce,dg))},gg=function(e,t){var n=Co(t,function(t,n){return Ce(e,n)});return lg(n.t,n.f)},vg=function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return Vn.extend({},n,o)},bg=function(e,t){return e.sections().hasOwnProperty(t)},yg=function(e,t,n){var r=e.sections();return bg(e,t)&&r[t].theme===n},wg=function(e,t){return bg(e,t)?e.sections()[t]:{}},xg=function(e,t,n){return{id:e,theme:"silver",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n}},Cg=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?Vn.extend({},e.external_plugins,n):n},kg=function(e,t){return[].concat(pg(e)).concat(pg(t))},_g=function(e,t,n,r){var o=pg(n.forced_plugins),i=pg(r.plugins),a=wg(t,"mobile"),s=a.plugins?pg(a.plugins):i,l=e&&yg(t,"mobile","mobile")?mg(s):e&&bg(t,"mobile")?s:i,u=kg(o,l);return Vn.extend(r,{plugins:u.join(" ")})},Eg=function(e,t){var n=t.settings().inline;return e&&bg(t,"mobile")&&!n},Ag=function(e,t,n,r,o){var i=t?{mobile:hg}:{},a=gg(["mobile"],ag(i,o)),s=Vn.extend(n,r,a.settings(),Eg(e,a)?vg(a,"mobile"):{},{validate:!0,external_plugins:Cg(r,a.settings())});return _g(e,a,r,s)},Sg=function(e,t,n,r,o){var i=xg(t,n,e);return Ag(cg,fg,i,r,o)},Og=function(e,t,n){return ue.from(t.settings[n]).filter(e)},Tg=function(e){var t={};return"string"==typeof e?Ee(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var n=e.split("=");n.length>1?t[Vn.trim(n[0])]=Vn.trim(n[1]):t[Vn.trim(n[0])]=Vn.trim(n[0])}):t=e,t},Dg=function(e){return function(t){return pe(t)&&qe(t,e)}},Ng=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;return"hash"===r?Tg(o):"string"===r?Og(de,e,t).getOr(n):"number"===r?Og(be,e,t).getOr(n):"boolean"===r?Og(ge,e,t).getOr(n):"object"===r?Og(he,e,t).getOr(n):"array"===r?Og(pe,e,t).getOr(n):"string[]"===r?Og(Dg(de),e,t).getOr(n):"function"===r?Og(ve,e,t).getOr(n):o},Fg=function(e,t){return t.dom()[e]},Lg=function(e,t){return parseInt(Lo(t,e),10)},Pg=r(Fg,"clientWidth"),Bg=r(Fg,"clientHeight"),Rg=r(Lg,"margin-top"),qg=r(Lg,"margin-left"),Mg=function(e){return e.dom().getBoundingClientRect()},jg=function(e,t,n){var r=Pg(e),o=Bg(e);return t>=0&&n>=0&&t<=r&&n<=o},Ig=function(e,t,n,r){var o=Mg(t);return{x:n-(e?o.left+t.dom().clientLeft+qg(t):0),y:r-(e?o.top+t.dom().clientTop+Rg(t):0)}},$g=function(e,t,n){var r=so.fromDom(e.getBody()),o=e.inline?r:ni(r),i=Ig(e.inline,o,t,n);return jg(o,i.x,i.y)},zg=function(e){return ue.from(e).map(so.fromDom)},Hg=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return zg(t).map(function(e){return ei(ti(e),e)}).getOr(!1)},Vg={isXYInContentArea:$g,isEditorAttachedToDom:Hg},Ug=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():O()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(t){e.fire("OpenWindow",{dialog:t})},i=function(t){e.fire("CloseWindow",{dialog:t})},a=function(e){t.push(e),o(e)},s=function(n){i(n),t=Oe(t,function(e){return e!==n}),0===t.length&&e.focus()},l=function(){return ue.from(t[t.length-1])},u=function(t){e.editorManager.setActive(e),tm.store(e);var n=t();return a(n),n},c=function(e,t){return u(function(){return n().open(e,t,s)})},f=function(e){return u(function(){return n().openUrl(e,s)})},d=function(e,t,o){n().alert(e,r(o||this,t))},h=function(e,t,o){n().confirm(e,r(o||this,t))},p=function(){l().each(function(e){n().close(e),s(e)})};return e.on("remove",function(){Ee(t,function(e){n().close(e)})}),{open:c,openUrl:f,alert:d,confirm:h,close:p}},Wg=function(e,t){e.notificationManager.open({type:"error",text:t})},Kg=function(e,t){e._skinLoaded?Wg(e,t):e.on("SkinLoaded",function(){Wg(e,t)})},Gg=function(e,t){Kg(e,Ls.translate(["Failed to upload image: {0}",t]))},Yg=function(e){n.console.error(e)},Xg=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},Jg=function(e,t){Yg(Xg("plugin",e,t))},Zg=function(e,t){Yg(Xg("icons",e,t))},Qg=function(e,t){Yg(Xg("language",e,t))},ev=function(e,t,n){var r=Ls.translate(["Failed to initialize plugin: {0}",t]);tv(r,n),Kg(e,r)},tv=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=n.window.console;o&&(o.error?o.error.apply(o,arguments):o.log.apply(o,arguments))},nv={pluginLoadError:Jg,iconsLoadError:Zg,languageLoadError:Qg,pluginInitError:ev,uploadError:Gg,displayError:Kg,initError:tv},rv=function(){return{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="#000" stroke-width="2"><path d="M12 5v14M5 12h14"/></g></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><path d="M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z" fill-rule="nonzero"/></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z" opacity=".2"/><path d="M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path d="M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z" fill-rule="evenodd"/></svg>',"table-delete-row":'<svg width="24" height="24"><path d="M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z" fill-rule="evenodd"/></svg>',"table-delete-table":'<svg width="24" height="26"><path d="M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z" fill-rule="evenodd"/></svg>',"table-insert-column-after":'<svg width="24" height="24"><path d="M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z" fill-rule="evenodd"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path d="M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path d="M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z" fill-rule="evenodd"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path d="M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z" fill-rule="evenodd"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z" fill-rule="evenodd"/></svg>',"table-row-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-split-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z" fill-rule="evenodd"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z" fill-rule="evenodd"/></svg>',table:'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'}},ov=function(){var e={};return{add:function(t,n){e[t]=n},get:function(t){return e[t]?e[t]:{icons:{}}},has:function(t){return _o(e,t)}}}(),iv=Bs.PluginManager,av=Bs.ThemeManager,sv=function(e){return new vt(function(t,r){var o=function(){r("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new n.XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200===this.status?t(this.response):o()},i.onerror=o,i.send()}catch(e){o()}})},lv=function(e){var t,n,r=decodeURIComponent(e).split(",");return n=/data:([^;]+)/.exec(r[0]),n&&(t=n[1]),{type:t,data:r[1]}},uv=function(e){return new vt(function(t){var r,o,i,a=lv(e);try{r=n.atob(a.data)}catch(e){return void t(new n.Blob([]))}for(o=new Uint8Array(r.length),i=0;i<o.length;i++)o[i]=r.charCodeAt(i);t(new n.Blob([o],{type:a.type}))})},cv=function(e){return 0===e.indexOf("blob:")?sv(e):0===e.indexOf("data:")?uv(e):null},fv=function(e){return new vt(function(t){var r=new n.FileReader;r.onloadend=function(){t(r.result)},r.readAsDataURL(e)})},dv={uriToBlob:cv,blobToDataUri:fv,parseDataUri:lv},hv=0,pv=function(e){return(e||"blobid")+hv++},mv=function(e,t,n,r){var o,i;if(0===t.src.indexOf("blob:"))return i=e.getByUri(t.src),void(i?n({image:t,blobInfo:i}):dv.uriToBlob(t.src).then(function(r){dv.blobToDataUri(r).then(function(a){o=dv.parseDataUri(a).data,i=e.create(pv(),r,o),e.add(i),n({image:t,blobInfo:i})})},function(e){r(e)}));o=dv.parseDataUri(t.src).data,i=e.findFirst(function(e){return e.base64()===o}),i?n({image:t,blobInfo:i}):dv.uriToBlob(t.src).then(function(r){i=e.create(pv(),r,o),e.add(i),n({image:t,blobInfo:i})},function(e){r(e)})},gv=function(e){return e?Ve(e.getElementsByTagName("img")):[]},vv=0,bv=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()},yv=function(e){return e+vv+++bv()},wv={uuid:yv},xv=function(){var e=[],t=function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.toLowerCase()]||"dat"},r=function(e,t,n,r){if(de(e)){return o({id:e,name:r,blob:t,base64:n})}if(he(e))return o(e);throw new Error("Unknown input type")},o=function(e){var r,o;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return r=e.id||wv.uuid("blobid"),o=e.name||r,{id:J(r),name:J(o),filename:J(o+"."+t(e.blob.type)),blob:J(e.blob),base64:J(e.base64),blobUri:J(e.blobUri||n.URL.createObjectURL(e.blob)),uri:J(e.uri)}},i=function(t){a(t.id())||e.push(t)},a=function(e){return s(function(t){return t.id()===e})},s=function(t){return Oe(e,t)[0]};return{create:r,add:i,get:a,getByUri:function(e){return s(function(t){return t.blobUri()===e})},findFirst:s,removeByUri:function(t){e=Oe(e,function(e){return e.blobUri()!==t||(n.URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){Ee(e,function(e){n.URL.revokeObjectURL(e.blobUri())}),e=[]}}},Cv=function(e){var t,n,r=xv(),o=N(),i=[],a=function(t){return function(n){return e.selection?t(n):[]}},s=function(){return"?"+(new Date).getTime()},l=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},u=function(e,t,n){return e=l(e,'src="'+t+'"','src="'+n+'"'),e=l(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},c=function(t,n){Ee(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=_e(e.fragments,function(e){return u(e,t,n)}):e.content=u(e.content,t,n)})},f=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},d=function(t,n){r.removeByUri(t.src),c(t.src,n),e.$(t).attr({src:sp.shouldReuseFileName(e)?n+s():n,"data-mce-src":e.convertURL(n,"src")})},h=function(n){return t||(t=T(o,{url:sp.getImageUploadUrl(e),basePath:sp.getImageUploadBasePath(e),credentials:sp.getImagesUploadCredentials(e),handler:sp.getImagesUploadHandler(e)})),v().then(a(function(r){var o;return o=_e(r,function(e){return e.blobInfo}),t.upload(o,f).then(a(function(t){var o=_e(t,function(t,n){var o=r[n].image;return t.status&&sp.shouldReplaceBlobUris(e)?d(o,t.url):t.error&&nv.uploadError(e,t.error),{element:o,status:t.status}});return n&&n(o),o}))}))},p=function(t){if(sp.isAutomaticUploadsEnabled(e))return h(t)},m=function(t){if(!1===qe(i,function(e){return e(t)}))return!1;if(0===t.getAttribute("src").indexOf("data:")){return sp.getImagesDataImgFilter(e)(t)}return!0},g=function(e){i.push(e)},v=function(){return n||(n=D(o,r)),n.findAll(e.getBody(),m).then(a(function(t){return t=Oe(t,function(t){return"string"!=typeof t||(nv.displayError(e,t),!1)}),Ee(t,function(e){c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},b=function(){r.destroy(),o.destroy(),n=t=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);if(a||(a=De(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),a){return'src="data:'+a.blob().type+";base64,"+a.base64()+'"'}return t})};return e.on("SetContent",function(){sp.isAutomaticUploadsEnabled(e)?p():v()}),e.on("RawSaveContent",function(e){e.content=y(e.content)}),e.on("GetContent",function(e){e.source_view||"raw"===e.format||(e.content=y(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){Ee(e,function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:r,addFilter:g,uploadImages:h,uploadImagesAuto:p,scanForImages:v,destroy:b}},kv=function(e){return e.slice(0,-1)},_v=function(e,t,n){return ei(t,e)?kv(ii(e,function(e){return n(e)||Xo(e,t)})):[]},Ev=function(e,t){return _v(e,t,J(!1))},Av=function(e,t){return[e].concat(Ev(e,t))},Sv={parentsUntil:_v,parents:Ev,parentsAndSelf:Av},Ov=function(e,t){return e.hasOwnProperty(t.nodeName)},Tv=function(e,t){return!!sa.isText(t)||!!sa.isElement(t)&&(!Ov(e,t)&&!Cd.isBookmarkNode(t))},Dv=function(e,t,n){return ke(Sv.parents(so.fromDom(n),so.fromDom(t)),function(t){return Ov(e,t.dom())})},Nv=function(e,t){if(sa.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Ov(e,t.nextSibling)))return!0}return!1},Fv=function(e){var t,n,r,o,i,a,s,l,u,c,f=e.dom,d=e.selection,h=e.schema,p=h.getBlockElements(),m=d.getStart(),g=e.getBody(),v=sp.getForcedRootBlock(e);if(m&&sa.isElement(m)&&v&&(c=g.nodeName.toLowerCase(),h.isValidChild(c,v.toLowerCase())&&!Dv(p,g,m))){for(t=d.getRng(),n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,u=Pm.hasFocus(e),m=g.firstChild;m;)if(Tv(p,m)){if(Nv(p,m)){s=m,m=m.nextSibling,f.remove(s);continue}a||(a=f.create(v,sp.getForcedRootBlockAttrs(e)),m.parentNode.insertBefore(a,m),l=!0),s=m,m=m.nextSibling,a.appendChild(s)}else a=null,m=m.nextSibling;l&&u&&(t.setStart(n,r),t.setEnd(o,i),d.setRng(t),e.nodeChanged())}},Lv=function(e){sp.getForcedRootBlock(e)&&e.on("NodeChange",r(Fv,e))},Pv={setup:Lv},Bv=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Rv={isEq:Bv},qv=function(e){var t=e.startContainer,n=e.startOffset;return sa.isText(t)?0===n?ue.some(so.fromDom(t)):ue.none():ue.from(t.childNodes[n]).map(so.fromDom)},Mv=function(e){var t=e.endContainer,n=e.endOffset;return sa.isText(t)?n===t.data.length?ue.some(so.fromDom(t)):ue.none():ue.from(t.childNodes[n-1]).map(so.fromDom)},jv=function(e){return di(e).fold(J([e]),function(t){return[e].concat(jv(t))})},Iv=function(e){return hi(e).fold(J([e]),function(t){return"br"===fo(t)?ai(t).map(function(t){return[e].concat(Iv(t))}).getOr([]):[e].concat(Iv(t))})},$v=function(e,t){return ku([qv(t),Mv(t)],function(t,n){var o=Ne(jv(e),r(Xo,t)),i=Ne(Iv(e),r(Xo,n));return o.isSome()&&i.isSome()}).getOr(!1)},zv=function(e,t,n,r){var o=n,i=new la(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Vn.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(gt.ie&&gt.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Hv=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},Vv=function(){function e(e){this.lastPath=[],this.editor=e;var t,n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",function(n){var r,o;r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&Rv.isEq(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!gt.range&&e.selection.isCollapsed()||Hv(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",function(t){!t.isDefaultPrevented()&&Hv(e)&&("IMG"===e.selection.getNode().nodeName?_t.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())})}return e.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.settings.disable_nodechange&&!this.editor.readonly&&(r=this.editor.getBody(),t=o.getStart(!0)||r,t.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,function(e){if(e===r)return!0;n.push(e)}),e=e||{},e.element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n;if(n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e),n.length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),Uv=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},Wv=function(e){return e.inline?Uv(e.getBody()):{left:0,top:0}},Kv=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},Gv=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o},Yv=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Uv(e.getContentAreaContainer()),r=Gv(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},Xv=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},Jv=function(e,t){return Xv(Wv(e),Kv(e),Yv(e,t))},Zv={calc:Jv},Qv=sa.isContentEditableFalse,eb=sa.isContentEditableTrue,tb=function(e,t){return Qv(t)&&t!==e},nb=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!Qv(t)},rb=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},ob=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i},ib=function(e,t){e.parentNode!==t&&t.appendChild(e)},ab=function(e,t,n,r,o,i){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(s=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-s+"px"},sb=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},lb=function(e){return 0===e.button},ub=function(e){return e.element},cb=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},fb=function(e,t){return function(n){if(lb(n)){var r=Ne(t.dom.getParents(n.target),Su.or(Qv,eb)).getOr(null);if(tb(t.getBody(),r)){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?i.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?i.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=ob(t,r,e.width,e.height)}}}},db=function(e,t){var n=_t.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(ub(e)&&!e.dragging&&o>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var i=cb(e,Zv.calc(t,r));ib(e.ghost,t.getBody()),ab(e.ghost,i,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},hb=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},pb=function(e,t){return function(n){if(e.dragging&&nb(t,hb(t.selection),e.element)){var r=rb(e.element),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact(function(){sb(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}gb(e)}},mb=function(e,t){return function(){e.dragging&&t.fire("dragend"),gb(e)}},gb=function(e){e.dragging=!1,e.element=null,sb(e.ghost)},vb=function(e){var t,r,o,i,a,s,l={};t=gs.DOM,s=n.document,r=fb(l,e),o=db(l,e),i=pb(l,e),a=mb(l,e),e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",i),t.bind(s,"mousemove",o),t.bind(s,"mouseup",a),e.on("remove",function(){t.unbind(s,"mousemove",o),t.unbind(s,"mouseup",a)})},bb=function(e){e.on("drop",function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(Qv(n)||Qv(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},yb=function(e){vb(e),bb(e)},wb={init:yb},xb=function(e){var t=function(t){return _e(t,function(t){return t=du(t),t.node=e,t})};if(sa.isElement(e))return t(e.getClientRects());if(sa.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},Cb=function(e){return De(e,function(e,t){return e.concat(xb(t))},[])};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(xh||(xh={}));var kb=function(e,t,n,r){for(;r=cf(r,e,cu,t);)if(n(r))return},_b=function(e,t,n,r,o,i){var a,s,l=0,u=[],c=function(r){var i,a,c;for(c=Cb([r]),-1===e&&(c=c.reverse()),i=0;i<c.length;i++)if(a=c[i],!n(a,s)){if(u.length>0&&t(a,Nn.last(u))&&l++,a.line=l,o(a))return!0;u.push(a)}};return(s=Nn.last(i.getClientRects()))?(a=i.getNode(),c(a),kb(e,r,c,a),u):u},Eb=function(e,t){return t.line>e},Ab=function(e,t){return t.line===e},Sb=r(_b,xh.Up,gu,vu),Ob=r(_b,xh.Down,vu,gu),Tb=function(e,t,n,r){var o,i,a,s,l,u,c=Mf(t),f=[],d=0,h=function(e){return Nn.last(e.getClientRects())};1===e?(o=c.next,i=vu,a=gu,s=Yu.after(r)):(o=c.prev,i=gu,a=vu,s=Yu.before(r)),u=h(s);do{if(s.isVisible()&&(l=h(s),!a(l,u))){if(f.length>0&&i(l,Nn.last(f))&&d++,l=du(l),l.position=s,l.line=d,n(l))return f;f.push(l)}}while(s=o(s));return f},Db=function(e){return function(t){return Eb(e,t)}},Nb=function(e){return function(t){return Ab(e,t)}},Fb=sa.isContentEditableFalse,Lb=cf,Pb=function(e,t){return Math.abs(e.left-t)},Bb=function(e,t){return Math.abs(e.right-t)},Rb=function(e,t){return e>=t.left&&e<=t.right},qb=function(e,t){return Nn.reduce(e,function(e,n){var r,o;return r=Math.min(Pb(e,t),Bb(e,t)),o=Math.min(Pb(n,t),Bb(n,t)),Rb(t,n)?n:Rb(t,e)?e:o===r&&Fb(n.node)?n:o<r?n:e})},Mb=function(e,t,n,r){for(;r=Lb(r,e,cu,t);)if(n(r))return},jb=function(e,t){var n=[],o=function(e,r){var o;return o=Oe(Cb([r]),function(n){return!e(n,t)}),n=n.concat(o),0===o.length};return n.push(t),Mb(xh.Up,e,r(o,gu),t.node),Mb(xh.Down,e,r(o,vu),t.node),n},Ib=function(e){return Oe(Ve(e.getElementsByTagName("*")),Qc)},$b=function(e,t){return{node:e.node,before:Pb(e,t)<Bb(e,t)}},zb=function(e,t,n){var r,o=Cb(Ib(e)),i=Oe(o,function(e){return n>=e.top&&n<=e.bottom});return r=qb(i,t),r&&(r=qb(jb(e,r),t))&&Qc(r.node)?$b(r,t):null},Hb=function(e,t,n){if(n.collapsed)return!1;if(gt.ie&&gt.ie<=11&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(sa.isElement(r))return ke(r.getClientRects(),function(n){return bu(n,e,t)})}return ke(n.getClientRects(),function(n){return bu(n,e,t)})},Vb={isXYWithinRange:Hb},Ub=sa.isContentEditableTrue,Wb=sa.isContentEditableFalse,Kb=function(e,t,n,r,o){return t._selectionOverrides.showCaret(e,n,r,o)},Gb=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},Yb=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:Gb(t)},Xb=function(e,t,n){var r=yf(1,e.getBody(),t),o=Yu.fromRangeStart(r),i=o.getNode();if(Wb(i))return Kb(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(Wb(a))return Kb(1,e,a,!1,!1);var s=e.dom.getParent(o.getNode(),function(e){return Wb(e)||Ub(e)});return Wb(s)?Kb(1,e,s,!1,n):null},Jb=function(e,t,n){if(!t||!t.collapsed)return t;var r=Xb(e,t,n);return r||t},Zb=function(e){var t=Ws(function(){if(!e.removed&&e.getBody().contains(n.document.activeElement)){if(e.selection.getRng().collapsed){var t=Jb(e,e.selection.getRng(),!1);e.selection.setRng(t)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},Qb={setup:Zb},ey={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return gt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},ty=function(e){return function(t){return e===t}}(" "),ny=function(e){return/^[\r\n\t ]$/.test(e)},ry=function(e){return!ny(e)&&!ty(e)},oy=function(e,t,n){return ue.from(n.container()).filter(sa.isText).exists(function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))})},iy=r(oy,!0,ny),ay=r(oy,!1,ny),sy=function(e){var t=e.container();return sa.isText(t)&&0===t.data.length},ly=function(e,t){return function(n){return ue.from(hf(e?0:-1,n)).filter(t).isSome()}},uy=function(e){return"IMG"===e.nodeName&&"block"===Lo(so.fromDom(e),"display")},cy=function(e){return sa.isContentEditableFalse(e)&&!sa.isBogusAll(e)},fy=ly(!0,uy),dy=ly(!1,uy),hy=ly(!0,sa.isTable),py=ly(!1,sa.isTable),my=ly(!0,cy),gy=ly(!1,cy),vy=sa.isContentEditableTrue,by=sa.isContentEditableFalse,yy=function(e,t){for(var n=e.getBody();t&&t!==n;){if(vy(t)||by(t))return t;t=t.parentNode}return null},wy=function(e){var t,n=function(t){return e.dom.isBlock(t)},r=e.getBody(),o=Jc(e.getBody(),n,function(){return Pm.hasFocus(e)}),i="sel-"+e.dom.uniqueId(),a=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},s=function(){var t=e.dom.get(i);return t?t.getElementsByTagName("*")[0]:t},l=function(t){t&&e.selection.setRng(t)},u=function(){return e.selection.getRng()},c=function(t,n,r,i){void 0===i&&(i=!0);var a;return a=e.fire("ShowCaret",{target:n,direction:t,before:r}),a.isDefaultPrevented()?null:(i&&e.selection.scrollIntoView(n,-1===t),o.show(r,n))},f=function(e,t){return t=yf(e,r,t),-1===e?Yu.fromRangeStart(t):Yu.fromRangeEnd(t)},d=function(t){t.hasAttribute("data-mce-caret")&&(Gl(t),l(u()),e.selection.scrollIntoView(t[0]))},h=function(e){return Ml(e)||Ul(e)||Wl(e)},p=function(e){return h(e.startContainer)||h(e.endContainer)},m=function(n,r){var o,a,s,l,u,d,h,m,g,v,y=e.$,w=e.dom;if(!n)return null;if(n.collapsed){if(!p(n))if(!1===r){if(m=f(-1,n),Qc(m.getNode(!0)))return c(-1,m.getNode(!0),!1,!1);if(Qc(m.getNode()))return c(-1,m.getNode(),!m.isAtEnd(),!1)}else{if(m=f(1,n),Qc(m.getNode()))return c(1,m.getNode(),!m.isAtEnd(),!1);if(Qc(m.getNode(!0)))return c(1,m.getNode(!0),!1,!1)}return null}return l=n.startContainer,u=n.startOffset,d=n.endOffset,3===l.nodeType&&0===u&&by(l.parentNode)&&(l=l.parentNode,u=w.nodeIndex(l),l=l.parentNode),1!==l.nodeType?null:(d===u+1&&l===n.endContainer&&(o=l.childNodes[u]),by(o)?(g=v=o.cloneNode(!0),h=e.fire("ObjectSelected",{target:o,targetClone:g}),h.isDefaultPrevented()?null:(a=cl(so.fromDom(e.getBody()),"#"+i).fold(function(){return y([])},function(e){return y([e.dom()])}),g=h.targetClone,0===a.length&&(a=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i),a.appendTo(e.getBody())),n=e.dom.createRng(),g===v&&gt.ie?(a.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(g),n.setStartAfter(a[0].firstChild.firstChild),n.setEndAfter(g)):(a.empty().append(" ").append(g).append(" "),n.setStart(a[0].firstChild,1),n.setEnd(a[0].lastChild,0)),a.css({top:w.getPos(o,e.getBody()).y}),a[0].focus(),s=e.selection.getSel(),s.removeAllRanges(),s.addRange(n),Ee(al(so.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){Fo(e,"data-mce-selected")}),o.setAttribute("data-mce-selected","1"),t=o,b(),n)):null)},g=function(){t&&(t.removeAttribute("data-mce-selected"),cl(so.fromDom(e.getBody()),"#"+i).each(Vs),t=null),cl(so.fromDom(e.getBody()),"#"+i).each(Vs),t=null},v=function(){o.destroy(),t=null},b=function(){o.hide()};return gt.ceFalse&&function(){e.on("mouseup",function(t){var n=u();n.collapsed&&Vg.isXYInContentArea(e,t.clientX,t.clientY)&&l(Xb(e,n,!1))}),e.on("click",function(t){var n;(n=yy(e,t.target))&&(by(n)&&(t.preventDefault(),e.focus()),vy(n)&&e.dom.isChildOf(n,e.selection.getNode())&&g())}),e.on("blur NewBlock",function(){g()}),e.on("ResizeWindow FullscreenStateChanged",function(){return o.reposition()});var n=function(e){var t=Mf(e);if(!e.firstChild)return!1;var n=Yu.before(e.firstChild),r=t.next(n);return r&&!my(r)&&!gy(r)},i=function(t,n){return e.dom.getParent(t,e.dom.isBlock)===e.dom.getParent(n,e.dom.isBlock)},f=function(t,r){var o=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(r,e.dom.isBlock);return!(!o||!e.dom.isChildOf(o,a)||!1!==by(yy(e,o)))||o&&!i(o,a)&&n(o)};!function(e){var t=!1;e.on("touchstart",function(){t=!1}),e.on("touchmove",function(){t=!0}),e.on("touchend",function(n){var r=yy(e,n.target);by(r)&&(t||(n.preventDefault(),m(Yb(e,r))))})}(e),e.on("mousedown",function(t){var n,o=t.target;if((o===r||"HTML"===o.nodeName||e.dom.isChildOf(o,r))&&!1!==Vg.isXYInContentArea(e,t.clientX,t.clientY))if(n=yy(e,o))by(n)?(t.preventDefault(),m(Yb(e,n))):(g(),vy(n)&&t.shiftKey||Vb.isXYWithinRange(t.clientX,t.clientY,e.selection.getRng())||(b(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===Qc(o)){g(),b();var i=zb(r,t.clientX,t.clientY);if(i&&!f(t.target,i.node)){t.preventDefault();var a=c(1,i.node,i.before,!1);e.getBody().focus(),l(a)}}}),e.on("keypress",function(t){ey.modifierPressed(t)||(t.keyCode,by(e.selection.getNode())&&t.preventDefault())}),e.on("GetSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}}),e.on("SetSelectionRange",function(e){var t;(t=m(e.range,e.forward))&&(e.range=t)});var d=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",function(e){var t=e.range;p(t)||d(t.startContainer.parentNode)||b(),a(t.startContainer.parentNode)||g()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!gt.ie){var n=s();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),wb.init(e),Qb.setup(e)}(),{showCaret:c,showBlockCaretContainer:d,hideFakeCaret:b,destroy:v}},xy=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,o,i,s){var u=l(n,r,o,i);if(null===u||u.start===r&&u.diag===r-i||u.end===n&&u.diag===n-o)for(var c=n,f=o;c<r||f<i;)c<r&&f<i&&e[c]===t[f]?(s.push([0,e[c]]),++c,++f):r-n>i-o?(s.push([2,e[c]]),++c):(s.push([1,t[f]]),++f);else{a(n,u.start,o,u.start-u.diag,s);for(var d=u.start;d<u.end;++d)s.push([0,e[d]]);a(u.end,r,u.end-u.diag,i,s)}},s=function(n,r,o,a){for(var s=n;s-r<a&&s<o&&e[s]===t[s-r];)++s;return i(n,s,r)},l=function(n,i,a,l){var u=i-n,c=l-a;if(0===u||0===c)return null;var f=u-c,d=c+u,h=(d%2==0?d:d+1)/2;r[1+h]=n,o[1+h]=i+1;var p,m,g,v,b;for(p=0;p<=h;++p){for(m=-p;m<=p;m+=2){for(g=m+h,m===-p||m!==p&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1,v=r[g],b=v-n+a-m;v<i&&b<l&&e[v]===t[b];)r[g]=++v,++b;if(f%2!=0&&f-p<=m&&m<=f+p&&o[g-f]<=r[g])return s(o[g-f],m+n-a,i,l)}for(m=f-p;m<=f+p;m+=2){for(g=m+h-f,m===f-p||m!==f+p&&o[g+1]<=o[g-1]?o[g]=o[g+1]-1:o[g]=o[g-1],v=o[g]-1,b=v-n+a-m;v>=n&&b>=a&&e[v]===t[b];)o[g]=v--,b--;if(f%2==0&&-p<=m&&m<=p&&o[g]<=r[g+f])return s(o[g],m+n-a,i,l)}}},u=[];return a(0,e.length,0,t.length,u),u},Cy={KEEP:0,DELETE:2,INSERT:1,diff:xy},ky=function(e){return sa.isElement(e)?e.outerHTML:sa.isText(e)?Ya.encodeRaw(e.data,!1):sa.isComment(e)?"\x3c!--"+e.data+"--\x3e":""},_y=function(e){var t,r,o;for(o=n.document.createElement("div"),t=n.document.createDocumentFragment(),e&&(o.innerHTML=e);r=o.firstChild;)t.appendChild(r);return t},Ey=function(e,t,n){var r=_y(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},Ay=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},Sy=function(e,t){var n=0;Ee(e,function(e){e[0]===Cy.KEEP?n++:e[0]===Cy.INSERT?(Ey(t,e[1],n),n++):e[0]===Cy.DELETE&&Ay(t,n)})},Oy=function(e){return Oe(_e(Ve(e.childNodes),ky),function(e){return e.length>0})},Ty=function(e,t){var n=_e(Ve(t.childNodes),ky);return Sy(Cy.diff(n,e),t),t},Dy={read:Oy,write:Ty},Ny=xs(ue.none()),Fy=function(){return Ny.get().getOrThunk(function(){var e=n.document.implementation.createHTMLDocument("undo");return Ny.set(ue.some(e)),e})},Ly=function(e){return-1!==e.indexOf("</iframe>")},Py=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},By=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Ry=function(e){var t,n,r;return t=Dy.read(e.getBody()),r=Re(t,function(t){var n=Ah.trimInternal(e.serializer,t);return n.length>0?[n]:[]}),n=r.join(""),Ly(n)?Py(r):By(n)},qy=function(e,t,n){"fragmented"===t.type?Dy.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},My=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},jy=function(e){var t=so.fromTag("body",Fy());return Dl(t,My(e)),Ee(al(t,"*[data-mce-bogus]"),Us),Tl(t)},Iy=function(e,t){return My(e)===My(t)},$y=function(e,t){return jy(e)===jy(t)},zy=function(e,t){return!(!e||!t)&&(!!Iy(e,t)||$y(e,t))},Hy={createFragmentedLevel:Py,createCompleteLevel:By,createFromEditor:Ry,applyToEditor:qy,isEq:zy},Vy=function(e){var t,n,r=this,o=0,i=[],a=0,s=function(){return 0===a},l=function(e){s()&&(r.typing=e)},u=function(t){e.setDirty(t)},c=function(e){l(!1),r.add({},e)},f=function(){r.typing&&(l(!1),r.add())};e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(f(),r.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&c(e)}),e.on("ObjectResizeStart cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(c(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),n&&r.typing&&!1===Hy.isEq(Hy.createFromEditor(e),i[0])&&(!1===e.isDirty()&&(u(!0),e.fire("change",{level:i[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))}),e.on("keydown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(r.typing&&c(e));var o=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||r.typing||o||(r.beforeChange(),l(!0),r.add({},e),n=!0)}}),e.on("mousedown",function(e){r.typing&&c(e)});var d=function(e){return"insertReplacementText"===e.inputType},h=function(e){return"insertText"===e.inputType&&null===e.data};return e.on("input",function(e){e.inputType&&(d(e)||h(e))&&c(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),r={data:i,typing:!1,beforeChange:function(){s()&&(t=Tc.getUndoBookmark(e.selection))},add:function(n,r){var a,l,c,f=e.settings;if(c=Hy.createFromEditor(e),n=n||{},n=Vn.extend(n,c),!1===s()||e.removed)return null;if(l=i[o],e.fire("BeforeAddUndo",{level:n,lastLevel:l,originalEvent:r}).isDefaultPrevented())return null;if(l&&Hy.isEq(l,n))return null;if(i[o]&&(i[o].beforeBookmark=t),f.custom_undo_redo_levels&&i.length>f.custom_undo_redo_levels){for(a=0;a<i.length-1;a++)i[a]=i[a+1];i.length--,o=i.length}n.bookmark=Tc.getUndoBookmark(e.selection),o<i.length-1&&(i.length=o+1),i.push(n),o=i.length-1;var d={level:n,lastLevel:l,originalEvent:r};return e.fire("AddUndo",d),o>0&&(u(!0),e.fire("change",d)),n},undo:function(){var t;return r.typing&&(r.add(),r.typing=!1,l(!1)),o>0&&(t=i[--o],Hy.applyToEditor(e,t,!0),u(!0),e.fire("Undo",{level:t})),t},redo:function(){var t;return o<i.length-1&&(t=i[++o],Hy.applyToEditor(e,t,!1),u(!0),e.fire("Redo",{level:t})),t},clear:function(){i=[],o=0,r.typing=!1,r.data=i,e.fire("ClearUndos")},reset:function(){r.clear(),r.add()},hasUndo:function(){return o>0||r.typing&&i[0]&&!Hy.isEq(Hy.createFromEditor(e),i[0])},hasRedo:function(){return o<i.length-1&&!r.typing},transact:function(e){return f(),r.beforeChange(),r.ignore(e),r.add()},ignore:function(e){try{a++,e()}finally{a--}},extra:function(t,n){var a,s;r.transact(t)&&(s=i[o].bookmark,a=i[o-1],Hy.applyToEditor(e,a,!0),r.transact(n)&&(i[o-1].beforeBookmark=s))}}},Uy=function(e){for(var t=[],n=e.dom();n;)t.push(so.fromDom(n)),n=n.lastChild;return t},Wy=function(e){var t=al(e,"br"),n=Oe(Uy(e).slice(-1),ka);t.length===n.length&&Ee(n,Vs)},Ky=function(e){Hs(e),js(e,so.fromHtml('<br data-mce-bogus="1">'))},Gy=function(e){return go(e)?" "===nh(e):ka(e)},Yy=function(e){return 1===Oe(ci(e),Gy).length},Xy=function(e){hi(e).each(function(t){ai(t).each(function(n){wa(e)&&ka(t)&&wa(n)&&Vs(t)})})},Jy={removeTrailingBr:Wy,fillWithPaddingBr:Ky,isPaddedElement:Yy,trimBlockTrailingBr:Xy},Zy=Bd.isEq,Qy=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},ew=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!Qy(e,t,n)||(t.parentNode===o||!!rw(e,t,n,r,!0))}),rw(e,t,n,r))},tw=function(e,t,n){return!!Zy(t,n.inline)||(!!Zy(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},nw=function(e,t,n,r,o,i){var a,s,l,u=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(u)if(void 0===u.length){for(a in u)if(u.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):Bd.getStyle(e,t,a),o&&!s&&!n.exact)return;if((!o||n.exact)&&!Zy(s,Bd.normalizeStyleValue(e,Bd.replaceVars(u[a],i),a)))return}}else for(l=0;l<u.length;l++)if("attributes"===r?e.getAttrib(t,u[l]):Bd.getStyle(e,t,u[l]))return n;return n},rw=function(e,t,n,r,o){var i,a,s,l,u=e.formatter.get(n),c=e.dom;if(u&&t)for(a=0;a<u.length;a++)if(i=u[a],tw(e.dom,t,i)&&nw(c,t,i,"attributes",o,r)&&nw(c,t,i,"styles",o,r)){if(l=i.classes)for(s=0;s<l.length;s++)if(!e.dom.hasClass(t,l[s]))return;return i}},ow=function(e,t,n,r){var o;return r?ew(e,r,t,n):(r=e.selection.getNode(),!!ew(e,r,t,n)||!((o=e.selection.getStart())===r||!ew(e,o,t,n)))},iw=function(e,t,n){var r,o=[],i={};return r=e.selection.getStart(),e.dom.getParent(r,function(r){var a,s;for(a=0;a<t.length;a++)s=t[a],!i[s]&&rw(e,r,s,n)&&(i[s]=!0,o.push(s))},e.dom.getRoot()),o},aw=function(e,t){var n,r,o,i,a,s=e.formatter.get(t),l=e.dom;if(s)for(n=e.selection.getStart(),r=Bd.getParents(l,n),i=s.length-1;i>=0;i--){if(!(a=s[i].selector)||s[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(l.is(r[o],a))return!0}return!1},sw={matchNode:rw,matchName:tw,match:ow,matchAll:iw,canApply:aw,matchesUnInheritedFormatSelector:Qy},lw=function(e,t){return e.splitText(t)},uw=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&sa.isText(t)?n>0&&n<t.nodeValue.length&&(r=lw(t,n),t=r.previousSibling,o>n?(o-=n,t=r=lw(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(sa.isText(t)&&n>0&&n<t.nodeValue.length&&(t=lw(t,n),n=0),sa.isText(r)&&o>0&&o<r.nodeValue.length&&(r=lw(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},cw=function(e){return-1!==" \f\n\r\t\v".indexOf(e)},fw=function(e,t,n){return De(e,function(r,o){return cw(o)||" "===o?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+" "}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}},{previousCharIsSpace:!1,str:""}).str},dw=function(e,t,n){if(0!==n){var r=e.data.slice(t,t+n),o=t+n>=e.data.length,i=0===t;e.replaceData(t,n,fw(r,i,o))}},hw=function(e,t){var n=e.data.slice(t),r=n.length-Ur(n).length;return dw(e,t,r)},pw=function(e,t){var n=e.data.slice(0,t),r=n.length-Wr(n).length;return dw(e,t-r,r)},mw=function(e,t,n){var r=Wr(e.data).length;return e.appendData(t.data),Vs(so.fromDom(t)),n&&hw(e,r),e},gw=function(e,t,n){return ul(e,t,n).isSome()},vw=function(e,t){var n=so.fromDom(e),o=so.fromDom(t);return gw(o,"pre,code",r(Xo,n))},bw=function(e,t){return sa.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===vw(e,t)},yw=function(e){return sa.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")},ww=function(e,t){return ou(t)&&!1===bw(e,t)||yw(t)||xw(t)},xw=sa.hasAttribute("data-mce-bookmark"),Cw=sa.hasAttribute("data-mce-bogus"),kw=sa.hasAttributeValue("data-mce-bogus","all"),_w=function(e){var t,n=0;if(ww(e,e))return!1;if(!(t=e.firstChild))return!0;var r=new la(t,e);do{if(kw(t))t=r.next(!0);else if(Cw(t))t=r.next();else if(sa.isBr(t))n++,t=r.next();else{if(ww(e,t))return!1;t=r.next()}}while(t);return n<=1},Ew=function(e){return _w(e.dom())},Aw={isEmpty:Ew},Sw=function(e,t){var n=e.container(),r=e.offset();return!1===Yu.isTextPosition(e)&&n===t.parentNode&&r>Yu.before(t).offset()},Ow=function(e,t){return Sw(t,e)?Yu(t.container(),t.offset()-1):t},Tw=function(e){return sa.isText(e)?Yu(e,0):Yu.before(e)},Dw=function(e){return sa.isText(e)?Yu(e,e.data.length):Yu.after(e)},Nw=function(e){return ou(e.previousSibling)?ue.some(Dw(e.previousSibling)):e.previousSibling?Zf.lastPositionIn(e.previousSibling):ue.none()},Fw=function(e){return ou(e.nextSibling)?ue.some(Tw(e.nextSibling)):e.nextSibling?Zf.firstPositionIn(e.nextSibling):ue.none()},Lw=function(e,t){var n=Yu.before(t.previousSibling?t.previousSibling:t.parentNode);return Zf.prevPosition(e,n).fold(function(){return Zf.nextPosition(e,Yu.after(t))},ue.some)},Pw=function(e,t){return Zf.nextPosition(e,Yu.after(t)).fold(function(){return Zf.prevPosition(e,Yu.before(t))},ue.some)},Bw=function(e,t){return Nw(t).orThunk(function(){return Fw(t)}).orThunk(function(){return Lw(e,t)})},Rw=function(e,t){return Fw(t).orThunk(function(){return Nw(t)}).orThunk(function(){return Pw(e,t)})},qw=function(e,t,n){return e?Rw(t,n):Bw(t,n)},Mw=function(e,t,n){return qw(e,t,n).map(r(Ow,n))},jw=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},Iw=function(e){return function(t){return t.dom()===e}},$w=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(fo(t))},zw=function(e){if(Aw.isEmpty(e)){var t=so.fromHtml('<br data-mce-bogus="1">');return Hs(e),js(e,t),ue.some(Yu.before(t.dom()))}return ue.none()},Hw=function(e,t,n){var r=ai(e).filter(go),o=si(e).filter(go);return Vs(e),ku([r,o,t],function(e,t,r){var o=e.dom(),i=t.dom(),a=o.data.length;return mw(o,i,n),r.container()===i?Yu(o,a):r}).orThunk(function(){return n&&(r.each(function(e){return pw(e.dom(),e.dom().length)}),o.each(function(e){return hw(e.dom(),0)})),t})},Vw=function(e,t){return _o(e.schema.getTextInlineElements(),fo(t))},Uw=function(e,t,n,o){void 0===o&&(o=!0);var i=Mw(t,e.getBody(),n.dom()),a=sl(n,r($w,e),Iw(e.getBody())),s=Hw(n,i,Vw(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(zw).fold(function(){o&&jw(e,t,s)},function(n){o&&jw(e,t,ue.some(n))})},Ww={deleteElement:Uw},Kw=Ll.ZWSP,Gw=function(e,t){return e.importNode(t,!0)},Yw=function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Kw||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},Xw=function(e){return Yw(e).length>0},Jw=function(e){if(e){var t=new la(e,e);for(e=t.current();e;e=t.next())if(3===e.nodeType)return e}return null},Zw=function(e){var t=so.fromTag("span");return To(t,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&js(t,so.fromText(Kw)),t},Qw=function(e){var t=Jw(e);return t&&t.nodeValue.charAt(0)===Kw&&t.deleteData(0,1),t},ex=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(Xw(t))Ww.deleteElement(e,!1,so.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),s=Qw(t);i.startContainer===s&&i.startOffset>0&&i.setStart(s,i.startOffset-1),i.endContainer===s&&i.endOffset>0&&i.setEnd(s,i.endOffset-1),r.remove(t,!0),a&&r.isEmpty(a)&&Jy.fillWithPaddingBr(so.fromDom(a)),o.setRng(i)}},tx=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)ex(e,t,n);else if(!(t=Nc(e.getBody(),o.getStart())))for(;t=r.get("_mce_caret");)ex(e,t,!1)},nx=function(e,t,n){var o=e.dom,i=o.getParent(n,r(Bd.isTextBlock,e));i&&o.isEmpty(i)?n.parentNode.replaceChild(t,n):(Jy.removeTrailingBr(so.fromDom(n)),o.isEmpty(n)?n.parentNode.replaceChild(t,n):o.insertAfter(t,n))},rx=function(e,t){return e.appendChild(t),t},ox=function(e,t){var n=Te(e,function(e,t){return rx(e,t.cloneNode(!1))},t);return rx(n,n.ownerDocument.createTextNode(Kw))},ix=function(e,t,n){var r,o,i,a,s,l,u,c=e.selection;r=c.getRng(),a=r.startOffset,l=r.startContainer,u=l.nodeValue,(o=Nc(e.getBody(),c.getStart()))&&(i=Jw(o));var f=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&a>0&&a<u.length&&f.test(u.charAt(a))&&f.test(u.charAt(a-1))?(s=c.getBookmark(),r.collapse(!0),r=Xd.expandRng(e,r,e.formatter.get(t)),r=uw(r),e.formatter.apply(t,n,r),c.moveToBookmark(s)):(o&&i.nodeValue===Kw?e.formatter.apply(t,n,o):(o=Gw(e.getDoc(),Zw(!0).dom()),i=o.firstChild,r.insertNode(o),a=1,e.formatter.apply(t,n,o)),c.setCursorLocation(i,a))},ax=function(e,t,n,r){var o,i,a,s,l,u,c,f=e.dom,d=e.selection,h=[],p=d.getRng();for(o=p.startContainer,i=p.startOffset,l=o,3===o.nodeType&&(i!==o.nodeValue.length&&(s=!0),l=l.parentNode);l;){if(sw.matchNode(e,l,t,n,r)){u=l;break}l.nextSibling&&(s=!0),h.push(l),l=l.parentNode}if(u)if(s){a=d.getBookmark(),p.collapse(!0);var m=Xd.expandRng(e,p,e.formatter.get(t),!0);m=uw(m),e.formatter.remove(t,n,m),d.moveToBookmark(a)}else{c=Nc(e.getBody(),u);var g=Zw(!1).dom(),v=ox(h,g);c?nx(e,g,c):nx(e,g,u),ex(e,c,!1),d.setCursorLocation(v,1),f.isEmpty(u)&&f.remove(u)}},sx=function(e,t){var n=e.selection,r=e.getBody();tx(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Kw||tx(e,Nc(r,n.getStart())),37!==t&&39!==t||tx(e,Nc(r,n.getStart()))},lx=function(e){e.on("mouseup keydown",function(t){sx(e,t.keyCode)})},ux=function(e,t){var n=Zw(!1),r=ox(t,n.dom());return Rs(so.fromDom(e),n),Vs(so.fromDom(e)),Yu(r,0)},cx=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(fo(t))&&!Dc(t.dom())&&!sa.isBogus(t.dom())},fx=function(e){return Dc(e.dom())&&Xw(e.dom())},dx={},hx=Nn.filter,px=Nn.each,mx=function(e,t){px(dx[e],function(e){e(t)})};!function(e,t){var n=dx[e];n||(dx[e]=n=[]),dx[e].push(t)}("pre",function(e){var t,n,r=e.selection.getRng(),o=function(e){return t(e.previousSibling)&&-1!==Nn.indexOf(n,e.previousSibling)},i=function(e,t){xr(t).remove(),xr(e).append("<br><br>").append(t.childNodes)};t=sa.matchNodeNames(["pre"]),r.collapsed||(n=e.selection.getSelectedBlocks(),px(hx(hx(n,t),o),function(e){i(e.previousSibling,e)}))});var gx={postProcess:mx},vx=Vn.each,bx=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return vx(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!Cd.isBookmarkNode(t)&&!Cd.isBookmarkNode(n)))}},yx=/^(src|href|style)$/,wx=Vn.each,xx=Bd.isEq,Cx=function(e){return/^(TH|TD)$/.test(e.nodeName)},kx=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},_x=function(e,t,n){var r,o,i;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],sa.isElement(r)&&(i=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>i?i:o]),sa.isText(r)&&n&&o>=r.nodeValue.length&&(r=new la(r,e.getBody()).next()||r),sa.isText(r)&&!n&&0===o&&(r=new la(r,e.getBody()).prev()||r),r},Ex=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},Ax=function(e,t,n,r,o){var i=so.fromDom(t),a=so.fromDom(e.create(r,o)),s=n?ui(i):li(i);return zs(a,s),n?(Rs(i,a),Ms(a,i)):(qs(i,a),js(a,i)),a.dom()},Sx=function(e,t,n){return!!xx(t,n.inline)||(!!xx(t,n.block)||(n.selector?sa.isElement(t)&&e.is(t,n.selector):void 0))},Ox=function(e,t){return t.links&&"A"===e.tagName},Tx=function(e,t,n,r){return!(t=Bd.getNonWhiteSpaceSibling(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},Dx=function(e,t,n){var r,o=t.parentNode,i=e.dom,a=sp.getForcedRootBlock(e);n.block&&(a?o===i.getRoot()&&(n.list_block&&xx(t,n.list_block)||wx(Vn.grep(t.childNodes),function(t){Bd.isValid(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=Ex(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):i.isBlock(t)&&!i.isBlock(o)&&(Tx(i,t,!1)||Tx(i,t.firstChild,!0,1)||t.insertBefore(i.create("br"),t.firstChild),Tx(i,t,!0)||Tx(i,t.lastChild,!1,1)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!xx(n.inline,t)||i.remove(t,1)},Nx=function(e,t,n,r,o){var i,a,s,l=e.dom;if(!Sx(l,r,t)&&!Ox(r,t))return!1;if("all"!==t.remove)for(wx(t.styles,function(e,i){e=Bd.normalizeStyleValue(l,Bd.replaceVars(e,n),i),"number"==typeof i&&(i=e,o=0),(t.remove_similar||!o||xx(Bd.getStyle(l,o,i),e))&&l.setStyle(r,i,""),s=1}),s&&""===l.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),wx(t.attributes,function(e,i){var a;if(e=Bd.replaceVars(e,n),"number"==typeof i&&(i=e,o=0),t.remove_similar||!o||xx(l.getAttrib(o,i),e)){if("class"===i&&(e=l.getAttrib(r,i))&&(a="",wx(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(a+=(a?" ":"")+e)}),a))return void l.setAttrib(r,i,a);"class"===i&&r.removeAttribute("className"),yx.test(i)&&r.removeAttribute("data-mce-"+i),r.removeAttribute(i)}}),wx(t.classes,function(e){e=Bd.replaceVars(e,n),o&&!l.hasClass(o,e)||l.removeClass(r,e)}),a=l.getAttribs(r),i=0;i<a.length;i++){var u=a[i].nodeName;if(0!==u.indexOf("_")&&0!==u.indexOf("data-"))return!1}return"none"!==t.remove?(Dx(e,r,t),!0):void 0},Fx=function(e,t,n,r,o){var i;return wx(Bd.getParents(e.dom,t.parentNode).reverse(),function(t){var a;i||"_start"===t.id||"_end"===t.id||(a=sw.matchNode(e,t,n,r,o))&&!1!==a.split&&(i=t)}),i},Lx=function(e,t,n,r,o,i,a,s){var l,u,c,f,d,h,p=e.dom;if(n){for(h=n.parentNode,l=r.parentNode;l&&l!==h;l=l.parentNode){for(u=p.clone(l,!1),d=0;d<t.length;d++)if(Nx(e,t[d],s,u,u)){u=0;break}u&&(c&&u.appendChild(c),f||(f=u),c=u)}!i||a.mixed&&p.isBlock(n)||(r=p.split(n,r)),c&&(o.parentNode.insertBefore(c,o),f.appendChild(o))}return r},Px=function(e,t,n,r,o){var i,a,s=e.formatter.get(t),l=s[0],u=!0,c=e.dom,f=e.selection,d=function(r){var i=Fx(e,r,t,n,o);return Lx(e,s,i,r,r,!0,l,n)},h=function(e){return Cd.isBookmarkNode(e)&&sa.isElement(e)&&("_start"===e.id||"_end"===e.id)},p=function(t){var r,o,i,a,f;if(sa.isElement(t)&&c.getContentEditable(t)&&(a=u,u="true"===c.getContentEditable(t),f=!0),r=Vn.grep(t.childNodes),u&&!f)for(o=0,i=s.length;o<i&&!Nx(e,s[o],n,t,t);o++);if(l.deep&&r.length){for(o=0,i=r.length;o<i;o++)p(r[o]);f&&(u=a)}},m=function(e){var t=c.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return h(n)&&(n=n[e?"firstChild":"lastChild"]),sa.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),c.remove(t,!0),n},g=function(t){var n,r,o=t.commonAncestorContainer;if(t=Xd.expandRng(e,t,s,!0),l.split){if(t=uw(t),n=_x(e,t,!0),r=_x(e,t),n!==r){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&Cx(r)&&r.firstChild&&(r=r.firstChild||r),kx(c,n,r)){var i=ue.from(n.firstChild).getOr(n);return d(Ax(c,i,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void m(!0)}if(kx(c,r,n)){var i=ue.from(r.lastChild).getOr(r);return d(Ax(c,i,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void m(!1)}n=Ex(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=Ex(c,r,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(r),n=m(!0),r=m()}else n=r=d(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=c.nodeIndex(n),t.endContainer=r.parentNode?r.parentNode:r,t.endOffset=c.nodeIndex(r)+1}eh.walk(c,t,function(t){wx(t,function(t){p(t),sa.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===Bd.getTextDecoration(c,t.parentNode)&&Nx(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(r)return void(r.nodeType?(a=c.createRng(),a.setStartBefore(r),a.setEndAfter(r),g(a)):g(r));if("false"!==c.getContentEditable(f.getNode()))f.isCollapsed()&&l.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?ax(e,t,n,o):(i=Tc.getPersistentBookmark(e.selection,!0),g(f.getRng()),f.moveToBookmark(i),l.inline&&sw.match(e,t,n,f.getStart())&&Bd.moveStart(c,f,f.getRng()),e.nodeChanged());else{r=f.getNode();for(var v=0,b=s.length;v<b&&(!s[v].ceFalseOverride||!Nx(e,s[v],n,r,r));v++);}},Bx={removeFormat:Nx,remove:Px},Rx=Vn.each,qx=function(e){return e&&1===e.nodeType&&!Cd.isBookmarkNode(e)&&!Dc(e)&&!sa.isBogus(e)},Mx=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!Cd.isBookmarkNode(n))return n}return e},jx=function(e,t,n){var r,o,i=new bx(e);if(t&&n&&(t=Mx(t,"previousSibling"),n=Mx(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),Vn.each(Vn.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},Ix=function(e,t,n){Rx(e.childNodes,function(e){qx(e)&&(t(e)&&n(e),e.hasChildNodes()&&Ix(e,t,n))})},$x=function(e,t){return r(function(t,n){return!(!n||!Bd.getStyle(e,n,t))},t)},zx=function(e,t,n){return r(function(t,n,r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),Hx(e,r)},t,n)},Hx=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Vx=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=Bd.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},Ux=function(e,t,n,o){(t.styles.color||t.styles.textDecoration)&&(Vn.walk(o,r(Vx,e),"childNodes"),Vx(e,o))},Wx=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Ix(r,$x(e,"fontSize"),zx(e,"backgroundColor",Bd.replaceVars(t.styles.backgroundColor,n)))},Kx=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(Ix(r,$x(e,"fontSize"),zx(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},Gx=function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=jx(e,Bd.getNonWhiteSpaceSibling(r),r),r=jx(e,r,Bd.getNonWhiteSpaceSibling(r,!0)))},Yx=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";Rx(e.select(r,n),function(n){qx(n)&&Rx(t.styles,function(t,r){e.setStyle(n,r,"")})})}},Xx=function(e,t,n,r){Rx(t,function(t){Rx(e.dom.select(t.inline,r),function(r){qx(r)&&Bx.removeFormat(e,t,n,r,t.exact?r:null)}),Yx(e.dom,t,r)})},Jx=function(e,t,n,r,o){sw.matchNode(e,o.parentNode,n,r)&&Bx.removeFormat(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(i){if(sw.matchNode(e,i,n,r))return Bx.removeFormat(e,t,r,o),!0})},Zx={mergeWithChildren:Xx,mergeUnderlineAndColor:Ux,mergeBackgroundColorAndFontSize:Wx,mergeSubSup:Kx,mergeSiblings:Gx,mergeWithParents:Jx},Qx=function(e,t,r,o){var i=n.document.createRange();return i.setStart(e,t),i.setEnd(r,o),i},eC=function(e){var t=Yu.fromRangeStart(e),n=Yu.fromRangeEnd(e),r=e.commonAncestorContainer;return Zf.fromPosition(!1,r,n).map(function(o){return!df(t,n,r)&&df(t,o,r)?Qx(t.container(),t.offset(),o.container(),o.offset()):e}).getOr(e)},tC=function(e){return e.collapsed?e:eC(e)},nC={normalize:tC},rC=Vn.each,oC=function(e){return e&&1===e.nodeType&&!Cd.isBookmarkNode(e)&&!Dc(e)&&!sa.isBogus(e)},iC=function(e,t,n,r){var o,i,a=e.formatter.get(t),s=a[0],l=!r&&e.selection.isCollapsed(),u=e.dom,c=e.selection,f=function(e,t){if(t=t||s,e){if(t.onformat&&t.onformat(e,t,n,r),rC(t.styles,function(t,r){u.setStyle(e,r,Bd.replaceVars(t,n))}),t.styles){var o=u.getAttrib(e,"style");o&&e.setAttribute("data-mce-style",o)}rC(t.attributes,function(t,r){u.setAttrib(e,r,Bd.replaceVars(t,n))}),rC(t.classes,function(t){t=Bd.replaceVars(t,n),u.hasClass(e,t)||u.addClass(e,t)})}},d=function(e,t){var n=!1;return!!s.selector&&(rC(e,function(e){if(!("collapsed"in e&&e.collapsed!==l))return u.is(t,e.selector)&&!Dc(t)?(f(t,e),n=!0,!1):void 0}),n)},h=function(r,o,i,l){var u,c,h=[],p=!0;u=s.inline||s.block,c=r.create(u),f(c),eh.walk(r,o,function(o){var i,m=function(o){var g,v,b,y;if(y=p,g=o.nodeName.toLowerCase(),v=o.parentNode.nodeName.toLowerCase(),1===o.nodeType&&r.getContentEditable(o)&&(y=p,p="true"===r.getContentEditable(o),b=!0),Bd.isEq(g,"br"))return i=0,void(s.block&&r.remove(o));if(s.wrapper&&sw.matchNode(e,o,t,n))return void(i=0);if(p&&!b&&s.block&&!s.wrapper&&Bd.isTextBlock(e,g)&&Bd.isValid(e,v,u))return o=r.rename(o,u),f(o),h.push(o),void(i=0);if(s.selector){var w=d(a,o);if(!s.inline||w)return void(i=0)}!p||b||!Bd.isValid(e,u,g)||!Bd.isValid(e,v,u)||!l&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Dc(o)||s.inline&&r.isBlock(o)?(i=0,rC(Vn.grep(o.childNodes),m),b&&(p=y),i=0):(i||(i=r.clone(c,!1),o.parentNode.insertBefore(i,o),h.push(i)),i.appendChild(o))};rC(o,m)}),!0===s.links&&rC(h,function(e){var t=function(e){"A"===e.nodeName&&f(e,s),rC(Vn.grep(e.childNodes),t)};t(e)}),rC(h,function(o){var i,l=function(e){var t=!1;return rC(e.childNodes,function(e){if(oC(e))return t=e,!1}),t};if(i=function(e){var t=0;return rC(e.childNodes,function(e){Bd.isWhiteSpaceNode(e)||Cd.isBookmarkNode(e)||t++}),t}(o),(h.length>1||!r.isBlock(o))&&0===i)return void r.remove(o,1);(s.inline||s.wrapper)&&(s.exact||1!==i||(o=function(e){var t,n;return t=l(e),t&&!Cd.isBookmarkNode(t)&&sw.matchName(r,t,s)&&(n=r.clone(t,!1),f(n),r.replace(n,e,!0),r.remove(t,1)),n||e}(o)),Zx.mergeWithChildren(e,a,n,o),Zx.mergeWithParents(e,s,t,n,o),Zx.mergeBackgroundColorAndFontSize(r,s,n,o),Zx.mergeSubSup(r,s,n,o),Zx.mergeSiblings(r,s,n,o))})};if("false"!==u.getContentEditable(c.getNode())){if(s){if(r)r.nodeType?d(a,r)||(i=u.createRng(),i.setStartBefore(r),i.setEndAfter(r),h(u,Xd.expandRng(e,i,a),0,!0)):h(u,r,0,!0);else if(l&&s.inline&&!u.select("td[data-mce-selected],th[data-mce-selected]").length)ix(e,t,n);else{var p=e.selection.getNode();e.settings.forced_root_block||!a[0].defaultBlock||u.getParent(p,u.isBlock)||iC(e,a[0].defaultBlock),e.selection.setRng(nC.normalize(e.selection.getRng())),o=Tc.getPersistentBookmark(e.selection,!0),h(u,Xd.expandRng(e,c.getRng(),a)),s.styles&&Zx.mergeUnderlineAndColor(u,s,n,p),c.moveToBookmark(o),Bd.moveStart(u,c,c.getRng()),e.nodeChanged()}gx.postProcess(t,e)}}else{r=c.getNode();for(var m=0,g=a.length;m<g;m++)if(a[m].ceFalseOverride&&u.is(r,a[m].selector))return void f(r,a[m])}},aC={applyFormat:iC},sC=function(e,t){var n=xs({});e.set({}),t.on("NodeChange",function(r){lC(t,r.element,n,e.get())})},lC=function(e,t,n,r){var o=vo(n.get()),i={},a={},s=Oe(Bd.getParents(e.dom,t),function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")});yo(r,function(t,n){Vn.each(s,function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===o.indexOf(n)&&(Ee(t.callbacks,function(e){e(!0,{node:r,format:n,parents:s})}),i[n]=t.callbacks),a[n]=t.callbacks,!1):!sw.matchesUnInheritedFormatSelector(e,r,n)&&void 0})});var l=uC(n.get(),a,t,s);n.set(Ue({},i,l))},uC=function(e,t,n,r){return Co(e,function(e,o){return!!_o(t,o)||(Ee(e,function(e){e(!1,{node:n,format:o,parents:r})}),!1)}).t},cC=function(e,t,n,r){var o=e.get();Ee(t.split(","),function(e){o[e]||(o[e]={similar:r,callbacks:[]}),o[e].callbacks.push(n)}),e.set(o)},fC=function(e,t,n){var r=e.get();Ee(t.split(","),function(e){r[e].callbacks=Oe(r[e].callbacks,function(e){return e!==n}),0===r[e].callbacks.length&&delete r[e]}),e.set(r)},dC=function(e,t,n,r,o){return null===t.get()&&sC(t,e),cC(t,n,r,o),{unbind:function(){return fC(t,n,r)}}},hC=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){Vn.each(r,function(n,r){e.setAttrib(t,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Vn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},pC={get:hC},mC=Vn.each,gC=gs.DOM,vC=function(e,t){var n,r,o,i=t&&t.schema||w({}),a=function(e,t){t.classes.length&&gC.addClass(e,t.classes.join(" ")),gC.setAttribs(e,t.attrs)},s=function(e){var t;return r="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=gC.create(r.name),a(t,r),t},l=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&-1!==Vn.inArray(o,t)?t:o[0])},u=function(e,t,n){var r,o,i,a=t.length>0&&t[0],c=a&&a.name;if(i=l(e,c))c===i?(o=t[0],t=t.slice(1)):o=i;else if(a)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=s(o),r.appendChild(e)),n&&(r||(r=gC.create("div"),r.appendChild(e)),Vn.each(n,function(t){var n=s(t);r.insertBefore(n,e)})),u(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=s(r),o=gC.create("div"),o.appendChild(u(n,e.slice(1),r.siblings)),o):""},bC=function(e,t){return vC(wC(e),t)},yC=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=Vn.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Vn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},wC=function(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Vn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=Vn.map(e.split(/(?:~\+|~|\+)/),yC),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},xC=function(e,t){var n,r,o,i,a,s,l="";if(!1===(s=e.settings.preview_styles))return"";"string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var u=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(s=t.preview)?"":(n=t.block||t.inline||"span",i=wC(t.selector),i.length?(i[0].name||(i[0].name=n),n=t.selector,r=vC(i,e)):r=vC([n],e),o=gC.select(n,r)[0]||r.firstChild,mC(t.styles,function(e,t){(e=u(e))&&gC.setStyle(o,t,e)}),mC(t.attributes,function(e,t){(e=u(e))&&gC.setAttrib(o,t,e)}),mC(t.classes,function(e){e=u(e),gC.hasClass(o,e)||gC.addClass(o,e)}),e.fire("PreviewFormats"),gC.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),a=gC.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,mC(s.split(" "),function(t){var n=gC.getStyle(o,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=gC.getStyle(e.getBody(),t,!0),"#ffffff"===gC.toHex(n).toLowerCase())||"color"===t&&"#000000"===gC.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*a+"px"}"border"===t&&n&&(l+="padding:0 2px;"),l+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),gC.remove(r),l)},CC={getCssText:xC,parseSelector:wC,selectorToHtml:bC},kC=function(e,t,n,r,o){var i=t.get(n);!sw.match(e,n,r,o)||"toggle"in i[0]&&!i[0].toggle?aC.applyFormat(e,n,r,o):Bx.remove(e,n,r,o)},_C={toggle:kC},EC=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},AC={setup:EC},SC=function(e){var t=F(e),n=xs(null);return AC.setup(e),lx(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:r(aC.applyFormat,e),remove:r(Bx.remove,e),toggle:r(_C.toggle,e,t),match:r(sw.match,e),matchAll:r(sw.matchAll,e),matchNode:r(sw.matchNode,e),canApply:r(sw.canApply,e),formatChanged:r(dC,e,n),getCssText:r(CC.getCssText,e)}},OC=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,r){for(var o,i,a=e.length,s="data-mce-"+r,l=t.url_converter,u=t.url_converter_scope;a--;)o=e[a],i=o.attr(s),void 0!==i?(o.attr(r,i.length>0?i:null),o.attr(s,null)):(i=o.attr(r),"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):l&&(i=l.call(u,i,r,o.name)),o.attr(r,i.length>0?i:null))}),e.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],(n=t.attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)if(r=e[o],"bookmark"===r.attr("data-mce-type")&&!n.cleanup){var i=ue.from(r.firstChild).exists(function(e){return!Ll.isZwsp(e.value)});i?r.unwrap():r.remove()}}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=Ya.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var r,o,i,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=e[a],o=r.firstChild?r.firstChild.value:"","script"===n?(i=r.attr("type"),i&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+s(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+s(o)+"\n--\x3e")}),e.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){Ee(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},TC=function(e){var t,n,r=function(e){return e&&"br"===e.name};t=e.lastChild,r(t)&&(n=t.prev,r(n)&&(t.remove(),n.remove()))},DC={register:OC,trimTrailingBr:TC},NC=function(e,t,r){var o,i,a,s=e.dom;return t=t.cloneNode(!0),o=n.document.implementation,o.createHTMLDocument&&(i=o.createHTMLDocument(""),Vn.each("BODY"===t.nodeName?t.childNodes:[t],function(e){i.body.appendChild(i.importNode(e,!0))}),t="BODY"!==t.nodeName?i.body.firstChild:i.body,a=s.doc,s.doc=i),Gm.firePreProcess(e,sg(r,{node:t})),a&&(s.doc=a),t},FC=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},LC=function(e,t,n){return FC(e,n)?NC(e,t,n):t},PC={process:LC},BC=function(e,t){Ee(t,function(t){e.attr(t,null)})},RC=function(e,t,n){e.addNodeFilter("font",function(e){Ee(e,function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),BC(e,["color","face","size"])})})},qC=function(e,t){e.addNodeFilter("strike",function(e){Ee(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},MC=function(e,t){var n=ss();t.convert_fonts_to_spans&&RC(e,n,Vn.explode(t.font_size_legacy_values)),qC(e,n)},jC=function(e,t){t.inline_styles&&MC(e,t)},IC={register:jC},$C=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new ph("br",1)).shortEnded=!0:r.empty().append(new ph("#text",3)).value=" "},zC=function(e){return HC(e,"#text")&&" "===e.firstChild.value},HC=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},VC=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},UC=function(e,t,n,r){return r.isEmpty(t,n,function(t){return VC(e,t)})},WC=function(e,t){return e&&(t[e.name]||"br"===e.name)},KC=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var i,a,s,l,u,c,f,d,h=e.length,p=Vn.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(p.body=1,i=0;i<h;i++)if(a=e[i],s=a.parent,p[a.parent.name]&&a===s.lastChild){for(u=a.prev;u;){if("span"!==(c=u.name)||"bookmark"!==u.attr("data-mce-type")){if("br"!==c)break;if("br"===c){a=null;break}}u=u.prev}a&&(a.remove(),UC(n,m,g,s)&&(f=n.getElementRule(s.name))&&(f.removeEmpty?s.remove():f.paddEmpty&&$C(t,o,p,s)))}else{for(l=a;s&&s.firstChild===l&&s.lastChild===l&&(l=s,!p[s.name]);)s=s.parent;l===s&&!0!==t.padd_empty_with_br&&(d=new ph("#text",3),d.value=" ",a.replace(d))}}),e.addAttributeFilter("href",function(e){var n,r=e.length,o=function(e){return e.split(" ").filter(function(e){return e.length>0}).concat(["noopener"]).sort().join(" ")};if(!t.allow_unsafe_link_target)for(;r--;)n=e[r],"a"===n.name&&"_blank"===n.attr("target")&&n.attr("rel",function(e){var t=e?Vn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:o(t)}(n.attr("rel")))}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new ph("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,r,o,i,a,s,l,u=e.length,c=n.getValidClasses();u--;){for(t=e[u],r=t.attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],l=!1,s=c["*"],s&&s[i]&&(l=!0),s=c[t.name],!l&&s&&s[i]&&(l=!0),l&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}})},GC=Vn.makeMap,YC=Vn.each,XC=Vn.explode,JC=Vn.extend,ZC=function(e,t){void 0===t&&(t=w());var n={},r=[],o={},i={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var n,r,o,i,a,l,u,c,f,d,h,p,m,g,v,b;for(p=GC("tr,td,th,tbody,thead,tfoot,table"),d=t.getNonEmptyElements(),h=t.getWhiteSpaceElements(),m=t.getTextBlockElements(),g=t.getSpecialElements(),n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(m[r.name]&&"li"===r.parent.name){for(v=r.next;v&&m[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!p[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),a=l=s(i[0].clone()),f=0;f<i.length-1;f++){for(t.isValidChild(l.name,i[f].name)?(u=s(i[f].clone()),l.append(u)):u=l,c=i[f].firstChild;c&&c!==i[f+1];)b=c.next,u.append(c),c=b;l=u}UC(t,d,h,a)?o.insert(r,i[0],!0):(o.insert(a,i[0],!0),o.insert(r,a)),o=i[0],(UC(t,d,h,o)||HC(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((v=r.prev)&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if((v=r.next)&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(s(new ph("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(s(new ph("div",1))):g[r.name]?r.empty().remove():r.unwrap()}}},s=function(e){var t,a,s;a=e.name,a in n&&(s=o[a],s?s.push(e):o[a]=[e]),t=r.length;for(;t--;)(a=r[t].name)in e.attributes.map&&(s=i[a],s?s.push(e):i[a]=[e]);return e},l=function(e,t){YC(XC(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},u=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},c=function(e,t){YC(XC(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},f=function(){return[].concat(r)},d=function(s,l){var u,c,f,d,h,p,m,g,v,b,y,w=[];l=l||{},o={},i={},v=JC(GC("script,style,head,html,body,title,meta,param"),t.getBlockElements());var x=t.getNonEmptyElements(),C=t.children,k=e.validate,_="forced_root_block"in l?l.forced_root_block:e.forced_root_block,E=function(e){return!1===e?"":!0===e?"p":e}(_),A=t.getWhiteSpaceElements(),S=/^[ \t\r\n]+/,O=/[ \t\r\n]+$/,T=/[ \t\r\n]+/g,D=/^[ \t\r\n]+$/;b=A.hasOwnProperty(l.context)||A.hasOwnProperty(e.root_name);var N=function(e,t){var r,i=new ph(e,t);return e in n&&(r=o[e],r?r.push(i):o[e]=[i]),i},F=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(o=n.value.replace(O,""),o.length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}};u=Ch({validate:k,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){y.append(N("#cdata",4)).value=e},text:function(e,t){var n;b||(e=e.replace(T," "),WC(y.lastChild,v)&&(e=e.replace(S,""))),0!==e.length&&(n=N("#text",3),n.raw=!!t,y.append(n).value=e)},comment:function(e){y.append(N("#comment",8)).value=e},pi:function(e,t){y.append(N(e,7)).value=t,F(y)},doctype:function(e){var t;t=y.append(N("#doctype",10)),t.value=e,F(y)},start:function(e,n,o){var a,s,l,u,c;if(l=k?t.getElementRule(e):{}){for(a=N(l.outputName||e,1),a.attributes=n,a.shortEnded=o,y.append(a),c=C[y.name],c&&C[a.name]&&!c[a.name]&&w.push(a),s=r.length;s--;)(u=r[s].name)in n.map&&(m=i[u],m?m.push(a):i[u]=[a]);v[e]&&F(a),o||(y=a),!b&&A[e]&&(b=!0)}},end:function(n){var r,o,i,a,s;if(o=k?t.getElementRule(n):{}){if(v[n]&&!b){if((r=y.firstChild)&&3===r.type)if(i=r.value.replace(S,""),i.length>0)r.value=i,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.next,(0===i.length||D.test(i))&&(r.remove(),r=a),r=a;if((r=y.lastChild)&&3===r.type)if(i=r.value.replace(O,""),i.length>0)r.value=i,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.prev,(0===i.length||D.test(i))&&(r.remove(),r=a),r=a}if(b&&A[n]&&(b=!1),o.removeEmpty&&UC(t,x,A,y)&&!y.attr("name")&&!y.attr("id"))return s=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=s);o.paddEmpty&&(zC(y)||UC(t,x,A,y))&&$C(e,l,v,y),y=y.parent}}},t);var L=y=new ph(l.context||e.root_name,11);if(u.parse(s),k&&w.length&&(l.context?l.invalid=!0:a(w)),E&&("body"===L.name||l.isRootContent)&&function(){var n,r,o=L.firstChild,i=function(e){e&&(o=e.firstChild,o&&3===o.type&&(o.value=o.value.replace(S,"")),(o=e.lastChild)&&3===o.type&&(o.value=o.value.replace(O,"")))};if(t.isValidChild(L.name,E.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!v[o.name]&&!o.attr("data-mce-type")?r?r.append(o):(r=N(E,1),r.attr(e.forced_root_block_attrs),L.insert(r,o),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!l.invalid){for(g in o)if(o.hasOwnProperty(g)){for(m=n[g],c=o[g],h=c.length;h--;)c[h].parent||c.splice(h,1);for(f=0,d=m.length;f<d;f++)m[f](c,g,l)}for(f=0,d=r.length;f<d;f++)if(m=r[f],m.name in i){for(c=i[m.name],h=c.length;h--;)c[h].parent||c.splice(h,1);for(h=0,p=m.callbacks.length;h<p;h++)m.callbacks[h](c,m.name,l)}}return L},h={schema:t,addAttributeFilter:c,getAttributeFilters:f,addNodeFilter:l,getNodeFilters:u,filterNode:s,parse:d};return KC(h,e),IC.register(h,e),h},QC=function(e,t,n){-1===Vn.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},ek=function(e,t,n){if(!t.no_events&&e){return Gm.firePostProcess(e,sg(t,{content:n})).content}return n},tk=function(e,t,n){var r=Ll.trim(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Da(so.fromDom(t))?r:Vn.trim(r)},nk=function(e,t,n){var r=n.selection?sg({forced_root_block:!1},n):n,o=e.parse(t,r);return DC.trimTrailingBr(o),o},rk=function(e,t,n){return hp(e,t).serialize(n)},ok=function(e,t,n,r,o){var i=rk(t,n,r);return ek(e,o,i)},ik=function(e,t){var n,o,i,a=["data-mce-selected"];n=t&&t.dom?t.dom:gs.DOM,o=t&&t.schema?t.schema:w(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,i=ZC(e,o),DC.register(i,e,n);var s=function(r,a){var s=sg({format:"html"},a||{}),l=PC.process(t,r,s),u=tk(n,l,s),c=nk(i,u,s);return"tree"===s.format?c:ok(t,e,o,c,s)};return{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:s,addRules:function(e){o.addValidElements(e)},setRules:function(e){o.setValidElements(e)},addTempAttr:r(QC,i,a),getTempAttrs:function(){return a}}},ak=function(e,t){var n=ik(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}};!function(e){e.isBookmarkNode=Cd.isBookmarkNode}(L||(L={}));var sk,lk=L,uk=sa.isContentEditableFalse,ck=sa.isContentEditableTrue,fk=function(e,t){for(;t&&t!==e;){if(ck(t)||uk(t))return t;t=t.parentNode}return null},dk=function(e,t){var r,o,i,a,s,l,u,c,f,d,h,p,m,g,v,b,y,w=t.dom,x=Vn.each,C=t.getDoc(),k=n.document,_=Math.abs,E=Math.round,A=t.getBody();a={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var S=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},O=function(e,t){return S(e.target)&&!Vb.isXYWithinRange(e.clientX,e.clientY,t)},T=function(e){var n=e.target;O(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},D=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},N=function(e){var n=t.settings.object_resizing;return!1!==n&&!gt.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&Wo(so.fromDom(e),n)))},F=function(e){var n,a,x,C,k;n=e.screenX-l,a=e.screenY-u,g=n*s[2]+d,v=a*s[3]+h,g=g<5?5:g,v=v<5?5:v,x=S(r)&&!1!==t.settings.resize_img_proportional?!ey.modifierPressed(e):ey.modifierPressed(e)||S(r)&&s[2]*s[3]!=0,x&&(_(n)>_(a)?(v=E(g*p),g=E(v/p)):(g=E(v/p),v=E(g*p))),w.setStyles(D(o),{width:g,height:v}),C=s.startPos.x+n,k=s.startPos.y+a,C=C>0?C:0,k=k>0?k:0,w.setStyles(i,{left:C,top:k,display:"block"}),i.innerHTML=g+" &times; "+v,s[2]<0&&o.clientWidth<=g&&w.setStyle(o,"left",c+(d-g)),s[3]<0&&o.clientHeight<=v&&w.setStyle(o,"top",f+(h-v)),n=A.scrollWidth-b,a=A.scrollHeight-y,n+a!==0&&w.setStyles(i,{left:C-n,top:k-a}),m||(Gm.fireObjectResizeStart(t,r,d,h),m=!0)},L=function(){m=!1;var e=function(e,n){n&&(r.style[e]||!t.schema.isValid(r.nodeName.toLowerCase(),e)?w.setStyle(D(r),e,n):w.setAttrib(D(r),e,n))};e("width",g),e("height",v),w.unbind(C,"mousemove",F),w.unbind(C,"mouseup",L),k!==C&&(w.unbind(k,"mousemove",F),w.unbind(k,"mouseup",L)),w.remove(o),w.remove(i),P(r),Gm.fireObjectResized(t,r,g,v),w.setAttrib(r,"style",w.getAttrib(r,"style")),t.nodeChanged()},P=function(e){var n,m,_,E,S;B(),M(),n=w.getPos(e,A),c=n.x,f=n.y,S=e.getBoundingClientRect(),m=S.width||S.right-S.left,_=S.height||S.bottom-S.top,r!==e&&(r=e,g=v=0),E=t.fire("ObjectSelected",{target:e}),N(e)&&!E.isDefaultPrevented()?x(a,function(e,t){var n,a=function(t){l=t.screenX,u=t.screenY,d=D(r).clientWidth,h=D(r).clientHeight,p=h/d,s=e,e.startPos={x:m*e[0]+c,y:_*e[1]+f},b=A.scrollWidth,y=A.scrollHeight,o=r.cloneNode(!0),w.addClass(o,"mce-clonedresizable"),w.setAttrib(o,"data-mce-bogus","all"),o.contentEditable=!1,o.unSelectabe=!0,w.setStyles(o,{left:c,top:f,margin:0}),o.removeAttribute("data-mce-selected"),A.appendChild(o),w.bind(C,"mousemove",F),w.bind(C,"mouseup",L),k!==C&&(w.bind(k,"mousemove",F),w.bind(k,"mouseup",L)),i=w.add(A,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+h)};n=w.get("mceResizeHandle"+t),n&&w.remove(n),n=w.add(A,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===gt.ie&&(n.contentEditable=!1),w.bind(n,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),a(e)}),e.elm=n,w.setStyles(n,{left:m*e[0]+c-n.offsetWidth/2,top:_*e[1]+f-n.offsetHeight/2})}):B(),r.setAttribute("data-mce-selected","1")},B=function(){var e,t;M(),r&&r.removeAttribute("data-mce-selected");for(e in a)(t=w.get("mceResizeHandle"+e))&&(w.unbind(t),w.remove(t))},R=function(n){var r,o,i=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};if(!m&&!t.removed){if(x(w.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),o="mousedown"===n.type?n.target:e.getNode(),o=w.$(o).closest("table,img,figure.image,hr")[0],i(o,A)&&(j(),r=e.getStart(!0),i(r,o)&&i(e.getEnd(!0),o)))return void P(o);B()}},q=function(e){return uk(fk(t.getBody(),e))},M=function(){for(var e in a){var t=a[e];t.elm&&(w.unbind(t.elm),delete t.elm)}},j=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return t.on("init",function(){j(),gt.ie&&gt.ie>=11&&(t.on("mousedown click",function(e){var n=e.target,r=n.nodeName;m||!/^(TABLE|IMG|HR)$/.test(r)||q(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}),t.dom.bind(A,"mscontrolselect",function(e){var n=function(e){_t.setEditorTimeout(t,function(){t.selection.select(e)})};if(q(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))}));var e=_t.throttle(function(e){t.composing||R(e)});t.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),t.on("keyup compositionend",function(t){r&&"TABLE"===r.nodeName&&e(t)}),t.on("hide blur",B),t.on("contextmenu",T,!0)}),t.on("remove",M),{isResizable:N,showResizeRect:P,hideResizeRect:B,updateResizeRect:R,destroy:function(){r=o=null}}},hk=function(e,t){var n=function(t,n){if(!be(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Eo(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=Lo(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return De(t,function(t,n){var r=Lo(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}("height",function(e){var t=e.dom();return Ao(e)?t.getBoundingClientRect().height:t.offsetHeight}),pk=function(e){return hk.get(e)},mk=function(e,t){var n=function(n,r){return mk(e+n,t+r)};return{left:J(e),top:J(t),translate:n}},gk=mk,vk=function(e){var t=e.getBoundingClientRect();return gk(t.left,t.top)},bk=function(e,t){return void 0!==e?e:void 0!==t?t:0},yk=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement,i=bk(r.pageYOffset,o.scrollTop),a=bk(r.pageXOffset,o.scrollLeft),s=bk(o.clientTop,n.clientTop),l=bk(o.clientLeft,n.clientLeft);return wk(e).translate(a-l,i-s)},wk=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?gk(r.offsetLeft,r.offsetTop):Ao(e)?vk(t):gk(0,0)},xk=to.detect().browser.isSafari(),Ck=function(e){var t=void 0!==e?e.dom():n.document,r=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return gk(r,o)},kk=function(e,t,r){(void 0!==r?r.dom():n.document).defaultView.scrollTo(e,t)},_k=function(e,t){xk&&ve(e.dom().scrollIntoViewIfNeeded)?e.dom().scrollIntoViewIfNeeded(!1):e.dom().scrollIntoView(t)},Ek=function(e,t){return e.view(t).fold(J([]),function(t){var n=e.owner(t);return[t].concat(Ek(e,n))})},Ak=function(e,t){var n=t.owner(e);return Ek(t,n)},Sk=function(e){return(e.dom()===n.document?ue.none():ue.from(e.dom().defaultView.frameElement)).map(so.fromDom)},Ok=function(e){return ti(e)},Tk=Object.freeze({view:Sk,owner:Ok}),Dk=function(e){var t=so.fromDom(n.document),r=Ck(t),o=Ak(e,Tk),i=wk(e),a=Te(o,function(e,t){var n=wk(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return gk(a.left+i.left()+r.left(),a.top+i.top()+r.top())},Nk=function(e){return"textarea"===fo(e)},Fk=function(e,t){var n=ci(e);if(0===n.length||Nk(e))return{element:e,offset:t};if(t<n.length&&!Nk(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return Nk(r)?{element:e,offset:t}:"img"===fo(r)?{element:r,offset:1}:go(r)?{element:r,offset:nh(r).length}:{element:r,offset:ci(r).length}},Lk=function(e,t){var n=yk(e),r=pk(e);return{element:e,bottom:n.top()+r,pos:n,cleanup:t}},Pk=function(e,t){var n=Fk(e,t),r=so.fromHtml('<span data-mce-bogus="all">'+Ll.ZWSP+"</span>");return Rs(n.element,r),Lk(r,function(){return Vs(r)})},Bk=function(e){return Lk(so.fromDom(e),Y)},Rk=function(e,t,n,r){jk(e,function(o,i){return qk(e,t,n,r)},n)},qk=function(e,t,n,r){var o=so.fromDom(e.getBody()),i=so.fromDom(e.getDoc());Ro(o);var a=Ck(i).top(),s=Pk(so.fromDom(n.startContainer),n.startOffset);t(i,a,s,r),s.cleanup()},Mk=function(e,t,n,r){var o=so.fromDom(e.getDoc());n(o,Ck(o).top(),t,r)},jk=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(so.fromDom(r),so.fromDom(i));var s=e.dom.createRng();s.setStart(r,o),s.setEnd(i,a),e.selection.setRng(n)},Ik=function(e,t,n){return e.fire("ScrollIntoView",{elm:t,alignToTop:n}).isDefaultPrevented()},$k=function(e,t,n,r){var o=e.pos;if(n)kk(o.left(),o.top(),r);else{var i=o.top()-t+(e.bottom-o.top());kk(o.left(),i,r)}},zk=function(e,t,n,r,o){r.pos.top()<t?$k(r,n,!1!==o,e):r.bottom>n+t&&$k(r,n,!0===o,e)},Hk=function(e,t,n,r){var o=e.dom().defaultView.innerHeight;zk(e,t,o,n,r)},Vk=function(e,t,r,o,i){var a=t.dom().defaultView.innerHeight;zk(t,r,a,o,i);var s=Dk(o.element),l=Ck().top(),u=n.window.innerHeight+l;s.top()<l?_k(o.element,!1!==i):s.top()>u&&_k(o.element,!0===i)},Uk=function(e,t,n){return Rk(e,r(Hk),t,n)},Wk=function(e,t,n){return Mk(e,Bk(t),r(Hk),n)},Kk=function(e,t,n){return Rk(e,r(Vk,e),t,n)},Gk=function(e,t,n){return Mk(e,Bk(t),r(Vk,e),n)},Yk=function(e,t,n){if(!Ik(e,t,n)){(e.inline?Wk:Gk)(e,t,n)}},Xk=function(e,t,n){(e.inline?Uk:Kk)(e,t,n)},Jk={scrollElementIntoView:Yk,scrollRangeIntoView:Xk},Zk=function(e){return sa.isContentEditableTrue(e)||sa.isContentEditableFalse(e)},Qk=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},e_=function(e,t,n){var r,o,i;if(r=n.elementFromPoint(e,t),o=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),i=Vn.toArray(o.getClientRects()),i=i.sort(function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n}),i.length>0){t=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(e){}}return null},t_=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return sa.isContentEditableFalse(Qk(n,t,Zk))?null:e},n_=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=e_(e,t,n)}return t_(r,n.body)}return r},r_={fromPoint:n_},o_=function(e,t){return _e(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},i_={processRanges:o_},a_=function(e,t){var r=t||n.document,o=r.createDocumentFragment();return Ee(e,function(e){o.appendChild(e.dom())}),so.fromDom(o)},s_=qo("element","width","rows"),l_=qo("element","cells"),u_=qo("x","y"),c_=function(e,t){var n=parseInt(Do(e,t),10);return isNaN(n)?1:n},f_=function(e,t,n,r,o){for(var i=c_(o,"rowspan"),a=c_(o,"colspan"),s=e.rows(),l=n;l<n+i;l++){s[l]||(s[l]=l_(Sl(r),[]));for(var u=t;u<t+a;u++){s[l].cells()[u]=l===n&&u===t?o:Al(o)}}},d_=function(e,t,n){var r=e.rows();return!!(r[n]?r[n].cells():[])[t]},h_=function(e,t,n){for(;d_(e,t,n);)t++;return t},p_=function(e){return De(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},m_=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(Xo(o[i],t))return ue.some(u_(i,r));return ue.none()},g_=function(e,t,n,r,o){for(var i=[],a=e.rows(),s=n;s<=o;s++){var l=a[s].cells(),u=t<r?l.slice(t,r+1):l.slice(r,t+1);i.push(l_(a[s].element(),u))}return i},v_=function(e,t,n){var r=t.x(),o=t.y(),i=n.x(),a=n.y(),s=o<a?g_(e,r,o,i,a):g_(e,r,a,i,o);return s_(e.element(),p_(s),s)},b_=function(e,t){var n=Al(e.element()),r=so.fromTag("tbody");return zs(r,t),js(n,r),n},y_=function(e){return _e(e.rows(),function(e){var t=_e(e.cells(),function(e){var t=Sl(e);return Fo(t,"colspan"),Fo(t,"rowspan"),t}),n=Al(e.element());return zs(n,t),n})},w_=function(e){var t=s_(Al(e),0,[]);return Ee(al(e,"tr"),function(e,n){Ee(al(e,"td,th"),function(r,o){f_(t,h_(t,o,n),n,e,r)})}),s_(t.element(),p_(t.rows()),t.rows())},x_=function(e){return b_(e,y_(e))},C_=function(e,t,n){return m_(e,t).bind(function(t){return m_(e,n).map(function(n){return v_(e,t,n)})})},k_={fromDom:w_,toDom:x_,subsection:C_},__=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},E_=function(e){return Re(e,function(e){var t=yu(e);return t?[so.fromDom(t)]:[]})},A_=function(e){return __(e).length>1},S_={getRanges:__,getSelectedNodes:E_,hasMultipleRanges:A_},O_=function(e){return Oe(S_.getSelectedNodes(e),Ta)},T_=function(e){return al(e,"td[data-mce-selected],th[data-mce-selected]")},D_=function(e,t){var n=T_(t),r=O_(e);return n.length>0?n:r},N_=function(e){return D_(S_.getRanges(e.selection.getSel()),so.fromDom(e.getBody()))},F_={getCellsFromRanges:O_,getCellsFromElement:T_,getCellsFromElementOrRanges:D_,getCellsFromEditor:N_},L_=function(e){return Ne(e,function(e){return"ul"===fo(e)||"ol"===fo(e)})},P_=function(e,t){return Ne(e,function(e){return"li"===fo(e)&&$v(e,t)}).fold(J([]),function(t){return L_(e).map(function(e){return[so.fromTag("li"),so.fromTag(fo(e))]}).getOr([])})},B_=function(e,t){var n=De(t,function(e,t){return js(t,e),t},e);return t.length>0?a_([n]):n},R_=function(e){return Aa(e)?oi(e).filter(Ea).fold(J([]),function(t){return[e,t]}):Ea(e)?[e]:[]},q_=function(e,t){var n=so.fromDom(t.commonAncestorContainer),r=Sv.parentsAndSelf(n,e),o=Oe(r,function(e){return Ca(e)||ya(e)}),i=P_(r,t),a=o.concat(i.length?i:R_(n));return _e(a,Al)},M_=function(){return a_([])},j_=function(e,t){return B_(so.fromDom(t.cloneContents()),q_(e,t))},I_=function(e,t){return ul(t,"table",r(Xo,e))},$_=function(e,t){return I_(e,t[0]).bind(function(e){var n=t[0],r=t[t.length-1],o=k_.fromDom(e);return k_.subsection(o,n,r).map(function(e){return a_([k_.toDom(e)])})}).getOrThunk(M_)},z_=function(e,t){return t.length>0&&t[0].collapsed?M_():j_(e,t[0])},H_=function(e,t){var n=F_.getCellsFromElementOrRanges(t,e);return n.length>0?$_(e,n):z_(e,t)},V_={read:H_},U_=function(e){return ue.from(e.selection.getRng()).map(function(t){var n=e.dom.add(e.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),r=Ll.trim(n.innerText);return e.dom.remove(n),r}).getOr("")},W_=function(e,t){var n,r=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),a=i_.processRanges(e,S_.getRanges(i));return n=t.contextual?V_.read(so.fromDom(e.getBody()),a).dom():r.cloneContents(),n&&o.appendChild(n),e.selection.serializer.serialize(o,t)},K_=function(e,t){if(void 0===t&&(t={}),t.get=!0,t.format=t.format||"html",t.selection=!0,t=e.fire("BeforeGetContent",t),t.isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return U_(e);t.getInner=!0;var n=W_(e,t);return"tree"===t.format?n:(t.content=e.selection.isCollapsed()?"":n,e.fire("GetContent",t),t.content)},G_={getContent:K_},Y_=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},X_=function(e,t,n){return null!==Y_(e,t,n)},J_=function(e,t,n){return X_(e,t,function(e){return e.nodeName===n})},Z_=function(e){return e&&"TABLE"===e.nodeName},Q_=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},eE=function(e,t){return Ml(e)&&!1===X_(e,t,Dc)},tE=function(e,t,n){for(var r=new la(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(sa.isBr(t))return!0},nE=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},rE=function(e,t){for(;t&&t!==e;){if(sa.isContentEditableFalse(t))return!0;t=t.parentNode}return!1},oE=function(e,t,n,r,o){var i,a,s=e.getRoot(),l=e.schema.getNonEmptyElements(),u=e.getParent(o.parentNode,e.isBlock)||s;if(r&&sa.isBr(o)&&t&&e.isEmpty(u))return ue.some(_(o.parentNode,e.nodeIndex(o)));for(var c=new la(o,u);a=c[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||eE(a,s))return ue.none();if(sa.isText(a)&&a.nodeValue.length>0)return!1===J_(a,s,"A")?ue.some(_(a,r?a.nodeValue.length:0)):ue.none();if(e.isBlock(a)||l[a.nodeName.toLowerCase()])return ue.none();i=a}return n&&i?ue.some(_(i,0)):ue.none()},iE=function(e,t,n,r){var o,i,a,s,l,u,c=e.getRoot(),f=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],u=sa.isElement(o)&&i===o.childNodes.length,s=e.schema.getNonEmptyElements(),l=n,Ml(o))return ue.none();if(sa.isElement(o)&&i>o.childNodes.length-1&&(l=!1),sa.isDocument(o)&&(o=c,i=0),o===c){if(l&&(a=o.childNodes[i>0?i-1:0])){if(Ml(a))return ue.none();if(s[a.nodeName]||Z_(a))return ue.none()}if(o.hasChildNodes()){if(i=Math.min(!l&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=sa.isText(o)&&u?o.data.length:0,!t&&o===c.lastChild&&Z_(o))return ue.none();if(rE(c,o)||Ml(o))return ue.none();if(o.hasChildNodes()&&!1===Z_(o)){a=o;var d=new la(o,c);do{if(sa.isContentEditableFalse(a)||Ml(a)){f=!1;break}if(sa.isText(a)&&a.nodeValue.length>0){i=l?0:a.nodeValue.length,o=a,f=!0;break}if(s[a.nodeName.toLowerCase()]&&!Q_(a)){i=e.nodeIndex(a),o=a.parentNode,l||i++,f=!0;break}}while(a=l?d.next():d.prev())}}}return t&&(sa.isText(o)&&0===i&&oE(e,u,t,!0,o).each(function(e){o=e.container(),i=e.offset(),f=!0}),sa.isElement(o)&&(a=o.childNodes[i],a||(a=o.childNodes[i-1]),!a||!sa.isBr(a)||nE(a,"A")||tE(e,a,!1)||tE(e,a,!0)||oE(e,u,t,!0,a).each(function(e){o=e.container(),i=e.offset(),f=!0}))),l&&!t&&sa.isText(o)&&i===o.nodeValue.length&&oE(e,u,t,!1,o).each(function(e){o=e.container(),i=e.offset(),f=!0}),f?ue.some(_(o,i)):ue.none()},aE=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=_.fromRangeStart(t);return iE(e,n,!0,r).each(function(e){n&&_.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||iE(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),Rv.isEq(t,r)?ue.none():ue.some(r)},sE={normalize:aE},lE=function(e,t){e.insertData(0,t)},uE=function(e){return 0===e.dom().length?(Vs(e),ue.none()):ue.some(e)},cE=function(e,t){var n=ue.from(t.firstChild).map(so.fromDom),r=ue.from(t.lastChild).map(so.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(ai).filter(go).bind(uE),i=r.bind(si).filter(go).bind(uE);ku([o,n.filter(go)],function(e,t){lE(t.dom(),e.dom().data),Vs(e)}),ku([i,r.filter(go)],function(t,n){var r=n.dom().length;n.dom().appendData(t.dom().data),e.setEnd(n.dom(),r),Vs(t)}),e.collapse(!1)},fE=function(e,t){return e=e||{format:"html"},e.set=!0,e.selection=!0,e.content=t,e},dE=function(e,t,n){if(n=fE(n,t),!n.no_events&&(n=e.fire("BeforeSetContent",n),n.isDefaultPrevented()))return void e.fire("SetContent",n);var r=e.selection.getRng();cE(r,r.createContextualFragment(n.content)),e.selection.setRng(r),Jk.scrollRangeIntoView(e,r),n.no_events||e.fire("SetContent",n)},hE={setContent:dE},pE=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return ue.from(i).map(so.fromDom).map(function(e){return r&&t.collapsed?e:fi(e,o(e,a)).getOr(e)}).bind(function(e){return mo(e)?ue.some(e):oi(e)}).map(function(e){return e.dom()}).getOr(e)},mE=function(e,t,n){return pE(e,t,!0,n,function(e,t){return Math.min(pi(e),t)})},gE=function(e,t,n){return pE(e,t,!1,n,function(e,t){return t>0?t-1:t})},vE=function(e,t){for(var n=e;e&&sa.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},bE=function(e,t){var n,r,o,i,a;return t?(r=t.startContainer,o=t.endContainer,i=t.startOffset,a=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?vE(r.nextSibling,!0):r.parentNode,o=0===a?vE(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e},yE=function(e,t,n,r){var o,i,a=[];if(i=e.getRoot(),n=e.getParent(n||mE(i,t,t.collapsed),e.isBlock),r=e.getParent(r||gE(i,t,t.collapsed),e.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r){o=n;for(var s=new la(n,i);(o=s.next())&&o!==r;)e.isBlock(o)&&a.push(o)}return r&&n!==r&&r!==i&&a.push(r),a},wE=function(e,t,n){return ue.from(t).map(function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(zv(e,o,t,!0),zv(e,o,t,!1)),o})},xE=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=Oe(e[t],function(e){return e!==n});0===r.length?delete e[t]:e[t]=r}},CE=function(e){return!!e.select},kE=function(e){return!(!e||!e.ownerDocument)&&ei(so.fromDom(e.ownerDocument),so.fromDom(e))},_E=function(e){return!!e&&(!!CE(e)||kE(e.startContainer)&&kE(e.endContainer))},EE=function(e,t,n,r){var o,i,a,s,l=P(e,r).selectorChangedWithUnbind,u=function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),x(o),b(!1)):(zv(e,o,r.getBody(),!0),x(o))},c=function(e){return G_.getContent(r,e)},f=function(e,t){return hE.setContent(r,e,t)},d=function(e){return mE(r.getBody(),w(),e)},h=function(e){return gE(r.getBody(),w(),e)},p=function(e,t){return o.getBookmark(e,t)},m=function(e){return o.moveToBookmark(e)},g=function(t,n){return wE(e,t,n).each(x),t},v=function(){var e=w(),t=y();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},b=function(e){var t=w();t.collapse(!!e),x(t)},y=function(){return t.getSelection?t.getSelection():t.document.selection},w=function(){var n,o,i,l,u=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;if(void 0===(l=t.document)||null===l)return null;if(void 0!==r.bookmark&&!1===Pm.hasFocus(r)){var c=tm.getRng(r);if(c.isSome())return c.map(function(e){return i_.processRanges(r,[e])[0]}).getOr(l.createRange())}try{(n=y())&&!sa.isRestrictedNode(n.anchorNode)&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():l.createRange())}catch(e){}return o=i_.processRanges(r,[o])[0],o||(o=l.createRange?l.createRange():l.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(i=e.getRoot(),o.setStart(i,0),o.setEnd(i,0)),a&&s&&(0===u(o.START_TO_START,o,a)&&0===u(o.END_TO_END,o,a)?o=s:(a=null,s=null)),o},x=function(e,t){var n,o,i;if(_E(e)){var l=CE(e)?e:null;if(l){s=null;try{l.select()}catch(e){}}else{if(n=y(),i=r.fire("SetSelectionRange",{range:e,forward:t}),e=i.range,n){s=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),a=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||gt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(o=e.startContainer.childNodes[e.startOffset])&&"IMG"===o.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(o,0,o,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},C=function(t){return f(e.getOuterHTML(t)),t},k=function(){return bE(r.getBody(),w())},_=function(t,n){return yE(e,w(),t,n)},E=function(){var t,n,r=y();return!(r&&r.anchorNode&&r.focusNode)||(t=e.createRng(),t.setStart(r.anchorNode,r.anchorOffset),t.collapse(!0),n=e.createRng(),n.setStart(r.focusNode,r.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},A=function(){var t=w(),n=y();if(!S_.hasMultipleRanges(n)&&Hv(r)){var o=sE.normalize(e,t);return o.each(function(e){x(e,E())}),o.getOr(t)}return t},S=function(e,t){return l(e,t),L},O=function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},T=function(e,t){return Jk.scrollElementIntoView(r,e,t)},D=function(e,t){return x(r_.fromPoint(e,t,r.getDoc()))},N=function(){var e=w();return e.collapsed?Yu.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},F=function(){t=a=s=null,i.destroy()},L={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:b,setCursorLocation:u,getContent:c,setContent:f,getBookmark:p,moveToBookmark:m,select:g,isCollapsed:v,isForward:E,setNode:C,getNode:k,getSel:y,setRng:x,getRng:w,getStart:d,getEnd:h,getSelectedBlocks:_,normalize:A,selectorChanged:S,selectorChangedWithUnbind:l,getScrollContainer:O,scrollIntoView:T,placeCaretAt:D,getBoundingClientRect:N,destroy:F};return o=lk(L),i=dk(L,r),L.bookmarkManager=o,L.controlSelection=i,L},AE=sa.isText,SE=function(e){return AE(e)&&e.data[0]===Ll.ZWSP},OE=function(e){return AE(e)&&e.data[e.data.length-1]===Ll.ZWSP},TE=function(e){return e.ownerDocument.createTextNode(Ll.ZWSP)},DE=function(e){if(AE(e.previousSibling))return OE(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(Ll.ZWSP),e.previousSibling);if(AE(e))return SE(e)?e:(e.insertData(0,Ll.ZWSP),e);var t=TE(e);return e.parentNode.insertBefore(t,e),t},NE=function(e){if(AE(e.nextSibling))return SE(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,Ll.ZWSP),e.nextSibling);if(AE(e))return OE(e)?e:(e.appendData(Ll.ZWSP),e);var t=TE(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},FE=function(e,t){return e?DE(t):NE(t)},LE=r(FE,!0),PE=r(FE,!1),BE=function(e,t){return sa.isText(e.container())?FE(t,e.container()):FE(t,e.getNode())},RE=function(e,t){var n=t.get();return n&&e.container()===n&&ql(n)},qE=function(e,t){return t.fold(function(t){Uc.remove(e.get());var n=LE(t);return e.set(n),ue.some(Yu(n,n.length-1))},function(t){return Zf.firstPositionIn(t).map(function(t){if(RE(t,e))return Yu(e.get(),1);Uc.remove(e.get());var n=BE(t,!0);return e.set(n),Yu(n,1)})},function(t){return Zf.lastPositionIn(t).map(function(t){if(RE(t,e))return Yu(e.get(),e.get().length-1);Uc.remove(e.get());var n=BE(t,!1);return e.set(n),Yu(n,n.length-1)})},function(t){Uc.remove(e.get());var n=PE(t);return e.set(n),ue.some(Yu(n,1))})},ME={renderCaret:qE},jE=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,IE=function(e){return jE.test(e)},$E=function(e,t){return Wo(so.fromDom(t),sp.getInlineBoundarySelector(e))},zE=function(e){return"rtl"===gs.DOM.getStyle(e,"direction",!0)||IE(e.textContent)},HE=function(e,t,n){return Oe(gs.DOM.getParents(n.container(),"*",t),e)},VE=function(e,t,n){var r=HE(e,t,n);return ue.from(r[r.length-1])},UE=function(e,t,n){var r=ff(t,e),o=ff(n,e);return r&&r===o},WE=function(e){return $l(e)||zl(e)},KE=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?ql(n)?sa.isText(n.nextSibling)?Yu(n.nextSibling,0):Yu.after(n):$l(t)?Yu(n,r+1):t:ql(n)?sa.isText(n.previousSibling)?Yu(n.previousSibling,n.previousSibling.data.length):Yu.before(n):zl(t)?Yu(n,r-1):t},GE=r(KE,!0),YE=r(KE,!1),XE={isInlineTarget:$E,findRootInline:VE,isRtl:zE,isAtZwsp:WE,normalizePosition:KE,normalizeForwards:GE,normalizeBackwards:YE,hasSameParentBlock:UE},JE=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return ue.none()},ZE={evaluateUntil:JE},QE=xp.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),eA=function(e,t){var n=ff(t,e);return n||e},tA=function(e,t,n){var o=XE.normalizeForwards(n),i=eA(t,o.container());return XE.findRootInline(e,i,o).fold(function(){return Zf.nextPosition(i,o).bind(r(XE.findRootInline,e,i)).map(function(e){return QE.before(e)})},ue.none)},nA=function(e,t){return null===Nc(e,t)},rA=function(e,t,n){return XE.findRootInline(e,t,n).filter(r(nA,t))},oA=function(e,t,n){var r=XE.normalizeBackwards(n);return rA(e,t,r).bind(function(e){return Zf.prevPosition(e,r).isNone()?ue.some(QE.start(e)):ue.none()})},iA=function(e,t,n){var r=XE.normalizeForwards(n);return rA(e,t,r).bind(function(e){return Zf.nextPosition(e,r).isNone()?ue.some(QE.end(e)):ue.none()})},aA=function(e,t,n){var o=XE.normalizeBackwards(n),i=eA(t,o.container());return XE.findRootInline(e,i,o).fold(function(){return Zf.prevPosition(i,o).bind(r(XE.findRootInline,e,i)).map(function(e){return QE.after(e)})},ue.none)},sA=function(e){return!1===XE.isRtl(uA(e))},lA=function(e,t,n){return ZE.evaluateUntil([tA,oA,iA,aA],[e,t,n]).filter(sA)},uA=function(e){return e.fold(Z,Z,Z,Z)},cA=function(e){return e.fold(J("before"),J("start"),J("end"),J("after"))},fA=function(e){return e.fold(QE.before,QE.before,QE.after,QE.after)},dA=function(e){return e.fold(QE.start,QE.start,QE.end,QE.end)},hA=function(e,t){return cA(e)===cA(t)&&uA(e)===uA(t)},pA=function(e,t,n,r,o,i){return ku([XE.findRootInline(t,n,r),XE.findRootInline(t,n,o)],function(t,r){return t!==r&&XE.hasSameParentBlock(n,t,r)?QE.after(e?t:r):i}).getOr(i)},mA=function(e,t){return e.fold(J(!0),function(e){return!hA(e,t)})},gA=function(e,t,n,o,i){var a=XE.normalizePosition(e,i);return Zf.fromPosition(e,n,a).map(r(XE.normalizePosition,e)).fold(function(){return o.map(fA)},function(i){return lA(t,n,i).map(r(pA,e,t,n,a,i)).filter(r(mA,o))}).filter(sA)},vA=function(e,t){return e?t.fold(X(ue.some,QE.start),ue.none,X(ue.some,QE.after),ue.none):t.fold(ue.none,X(ue.some,QE.before),ue.none,X(ue.some,QE.end))},bA=function(e,t,n,o){var i=XE.normalizePosition(e,o),a=lA(t,n,i);return lA(t,n,i).bind(r(vA,e)).orThunk(function(){return gA(e,t,n,a,o)})},yA={readLocation:lA,findLocation:bA,prevLocation:r(bA,!1),nextLocation:r(bA,!0),getElement:uA,outside:fA,inside:dA},wA=function(e){return ve(e.selection.getSel().modify)},xA=function(e,t,n){var r=e?1:-1;return t.setRng(Yu(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},CA=function(e,t){var n=t.selection.getRng(),r=e?Yu.fromRangeEnd(n):Yu.fromRangeStart(n);return!!wA(t)&&(e&&$l(r)?xA(!0,t.selection,r):!(e||!zl(r))&&xA(!1,t.selection,r))},kA={hasSelectionModifyApi:wA,moveByWord:CA},_A=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},EA=function(e){return!1!==e.settings.inline_boundaries},AA=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},SA=function(e,t,n){return ME.renderCaret(t,n).map(function(t){return _A(e,t),n})},OA=function(e,t,n){var o=e.getBody(),i=Yu.fromRangeStart(e.selection.getRng()),a=r(XE.isInlineTarget,e);return yA.findLocation(n,a,o,i).bind(function(n){return SA(e,t,n)})},TA=function(e,t,n){var o=Oe(t.select('*[data-mce-selected="inline-boundary"]'),e),i=Oe(n,e);Ee(je(o,i),r(AA,!1)),Ee(je(i,o),r(AA,!0))},DA=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Yu.fromRangeStart(e.selection.getRng());Yu.isTextPosition(n)&&!1===XE.isAtZwsp(n)&&(_A(e,Uc.removeAndReposition(t.get(),n)),t.set(null))}},NA=function(e,t,n,r){if(t.selection.isCollapsed()){var o=Oe(r,e);Ee(o,function(r){var o=Yu.fromRangeStart(t.selection.getRng());yA.readLocation(e,t.getBody(),o).bind(function(e){return SA(t,n,e)})})}},FA=function(e,t,n){return function(){return!!EA(e)&&OA(e,t,n).isSome()}},LA=function(e,t,n){return function(){return!!EA(t)&&kA.moveByWord(e,t)}},PA=function(e){var t=xs(null),n=r(XE.isInlineTarget,e);return e.on("NodeChange",function(r){EA(e)&&(TA(n,e.dom,r.parents),DA(e,t),NA(n,e,t,r.parents))}),t},BA=r(LA,!0),RA=r(LA,!1),qA={move:FA,moveNextWord:BA,movePrevWord:RA,setupSelectedState:PA,setCaretPosition:_A};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(sk||(sk={}));var MA,jA,IA=function(e,t){return e===Gu.Backwards?t.reverse():t},$A=function(e,t,n){return e===Gu.Forwards?t.next(n):t.prev(n)},zA=function(e,t,n,r){return sa.isBr(r.getNode(t===Gu.Forwards))?sk.Br:!1===df(n,r)?sk.Block:sk.Wrap},HA=function(e,t,n,r){for(var o,i=Mf(n),a=r,s=[];a&&(o=$A(t,i,a));){if(sa.isBr(o.getNode(!1)))return t===Gu.Forwards?{positions:IA(t,s).concat([o]),breakType:sk.Br,breakAt:ue.some(o)}:{positions:IA(t,s),breakType:sk.Br,breakAt:ue.some(o)};if(o.isVisible()){if(e(a,o)){var l=zA(0,t,a,o);return{positions:IA(t,s),breakType:l,breakAt:ue.some(o)}}s.push(o),a=o}else a=o}return{positions:IA(t,s),breakType:sk.Eol,breakAt:ue.none()}},VA=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===Gu.Backwards?o.concat(r):[r].concat(o)}).getOr([])},UA=function(e,t){return De(e,function(e,n){return e.fold(function(){return ue.some(n)},function(r){return ku([ze(r.getClientRects()),ze(n.getClientRects())],function(e,o){var i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r}).or(e)})},ue.none())},WA=function(e,t){return ze(t.getClientRects()).bind(function(t){return UA(e,t.left)})},KA=r(HA,_.isAbove,-1),GA=r(HA,_.isBelow,1),YA=function(e,t){return KA(e,t).breakAt.isNone()},XA=function(e,t){return GA(e,t).breakAt.isNone()},JA=r(VA,-1,KA),ZA=r(VA,1,GA),QA=function(e){return Zf.firstPositionIn(e).map(function(t){return[t].concat(GA(e,t).positions)}).getOr([])},eS=function(e){return Zf.lastPositionIn(e).map(function(t){return KA(e,t).positions.concat(t)}).getOr([])},tS=sa.isContentEditableFalse,nS=yu,rS=function(e,t,n,r){var o=e===Gu.Forwards,i=o?my:gy;if(!r.collapsed){var a=nS(r);if(tS(a))return Kb(e,t,a,e===Gu.Backwards,!0)}var s=Yl(r),l=xf(e,t.getBody(),r);if(i(l))return Yb(t,l.getNode(!o));var u=XE.normalizePosition(o,n(l));if(!u)return s?r:null;if(i(u))return Kb(e,t,u.getNode(!o),o,!0);var c=n(u);return c&&i(c)&&Ef(u,c)?Kb(e,t,c.getNode(!o),o,!0):s?Jb(t,u.toRange(),!0):null},oS=function(e,t,n,r){var o,i,a,s,l,u,c,f,d;if(d=nS(r),o=xf(e,t.getBody(),r),i=n(t.getBody(),Db(1),o),a=Oe(i,Nb(1)),l=Nn.last(o.getClientRects()),(my(o)||hy(o))&&(d=o.getNode()),(gy(o)||py(o))&&(d=o.getNode(!0)),!l)return null;if(u=l.left,(s=qb(a,u))&&tS(s.node))return c=Math.abs(u-s.left),f=Math.abs(u-s.right),Kb(e,t,s.node,c<f,!0);if(d){var h=Tb(e,t.getBody(),Db(1),d);if(s=qb(Oe(h,Nb(1)),u))return Jb(t,s.position.toRange(),!0);if(s=Nn.last(Oe(h,Nb(0))))return Jb(t,s.position.toRange(),!0)}},iS=function(e){var t=e.dom.create(sp.getForcedRootBlock(e));return(!gt.ie||gt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},aS=function(e,t,n){var o,i,a,s=Mf(e.getBody()),l=r(_f,s.next),u=r(_f,s.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(o=e.dom.getParent(n.startContainer,"PRE")))return;i=1===t?l(Yu.fromRangeStart(n)):u(Yu.fromRangeStart(n)),i||(a=iS(e),1===t?e.$(o).after(a):e.$(o).before(a),e.selection.select(a,!0),e.selection.collapse())}},sS=function(e,t){var n,o=Mf(e.getBody()),i=r(_f,o.next),a=r(_f,o.prev),s=t?Gu.Forwards:Gu.Backwards,l=t?i:a,u=e.selection.getRng();return(n=rS(s,e,l,u))?n:(n=aS(e,s,u))||null},lS=function(e,t){var n,r=t?1:-1,o=t?Ob:Sb,i=e.selection.getRng();return(n=oS(r,e,o,i))?n:(n=aS(e,r,i))||null},uS=function(e,t){return function(){var n=sS(e,t);return!!n&&(e.selection.setRng(n),!0)}},cS=function(e,t){return function(){var n=lS(e,t);return!!n&&(e.selection.setRng(n),!0)}},fS=function(e){return function(t){return e?gy(t):my(t)}},dS=function(e,t){return function(){var n=t?Yu.fromRangeEnd(e.selection.getRng()):Yu.fromRangeStart(e.selection.getRng()),r=t?GA(e.getBody(),n):KA(e.getBody(),n);return(t?He(r.positions):ze(r.positions)).filter(fS(t)).fold(J(!1),function(t){return e.selection.setRng(t.toRange()),!0})}},hS=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},pS=function(e,t){return Re(t,function(t){var n=hS(du(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},mS=function(e,t,n){return De(e,function(e,r){return e.fold(function(){return ue.some(r)},function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return ue.some(i<o?r:e)})},ue.none())},gS=function(e,t,n,r,o){var i=al(so.fromDom(n),"td,th,caption").map(function(e){return e.dom()}),a=Oe(pS(e,i),function(e){return t(e,o)});return mS(a,r,o).map(function(e){return e.cell})},vS=function(e){return e.bottom},bS=function(e){return e.top},yS=function(e,t){return e.y<t},wS=function(e,t){return e.y>t},xS=r(gS,vS,yS),CS=r(gS,bS,wS),kS=function(e,t){return ze(t.getClientRects()).bind(function(t){return xS(e,t.left,t.top)}).bind(function(e){return WA(eS(e),t)})},_S=function(e,t){return He(t.getClientRects()).bind(function(t){return CS(e,t.left,t.top)}).bind(function(e){return WA(QA(e),t)})},ES=function(e,t){e.selection.setRng(t),Jk.scrollRangeIntoView(e,t)},AS=function(e,t,n){return n.breakAt.map(function(n){return e(t,n).breakAt.isSome()}).getOr(!1)},SS=function(e){return e.breakType===sk.Wrap&&0===e.positions.length},OS=function(e){return e.breakType===sk.Br&&1===e.positions.length},TS=function(e,t,n){var r=e(t,n);return SS(r)||!sa.isBr(n.getNode())&&OS(r)?!AS(e,t,r):r.breakAt.isNone()},DS=r(TS,KA),NS=r(TS,GA),FS=function(e,t,n){var r=Yu.fromRangeStart(t);return Zf.positionIn(!e,n).map(function(e){return e.isEqual(r)}).getOr(!1)},LS=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;if(Zc()&&FS(t,o,n)){var a=Kb(i,e,n,!t,!0);return ES(e,a),!0}return!1},PS=function(e,t,n){return kS(t,n).orThunk(function(){return ze(n.getClientRects()).bind(function(n){return UA(JA(e,Yu.before(t)),n.left)})}).getOr(Yu.before(t))},BS=function(e,t,n){return _S(t,n).orThunk(function(){return ze(n.getClientRects()).bind(function(n){return UA(ZA(e,Yu.after(t)),n.left)})}).getOr(Yu.after(t))},RS=function(e,t){var n=t.getNode(e);return sa.isElement(n)&&"TABLE"===n.nodeName?ue.some(n):ue.none()},qS=function(e,t,n,r){var o=sp.getForcedRootBlock(t);o?t.undoManager.transact(function(){var r=so.fromTag(o);To(r,sp.getForcedRootBlockAttrs(t)),js(r,so.fromTag("br")),e?qs(so.fromDom(n),r):Rs(so.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom(),0),i.setEnd(r.dom(),0),ES(t,i)}):ES(t,r.toRange())},MS=function(e,t,n){var r=!1===t;(t?RS(!0,n):RS(!1,n)).fold(function(){return ES(e,n.toRange())},function(o){return Zf.positionIn(r,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return ES(e,n.toRange())},function(r){return qS(t,e,o,n)})})},jS=function(e,t,n,r){var o=e.selection.getRng(),i=Yu.fromRangeStart(o),a=e.getBody();if(!t&&DS(r,i)){var s=PS(a,n,i);return MS(e,t,s),!0}if(t&&NS(r,i)){var s=BS(a,n,i);return MS(e,t,s),!0}return!1},IS=function(e,t){return function(){return ue.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return ue.from(e.dom.getParent(n,"table")).map(function(n){return LS(e,t,n)})}).getOr(!1)}},$S=function(e,t){return function(){return ue.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return ue.from(e.dom.getParent(n,"table")).map(function(r){return jS(e,t,r,n)})}).getOr(!1)}},zS=function(e){return Ce(["figcaption"],fo(e))},HS=function(e){var t=n.document.createRange();return t.setStartBefore(e.dom()),t.setEndBefore(e.dom()),t},VS=function(e,t,n){n?js(e,t):Ms(e,t)},US=function(e,t){var n=so.fromTag("br");return VS(e,n,t),HS(n)},WS=function(e,t,n,r){var o=so.fromTag(n),i=so.fromTag("br");return To(o,r),js(o,i),VS(e,o,t),HS(i)},KS=function(e,t,n,r){return""===t?US(e,r):WS(e,r,t,n)},GS=function(e,t){var n=r(Xo,t);return ll(so.fromDom(e.container()),wa,n).filter(zS)},YS=function(e,t,n){return t?XA(e.dom(),n):YA(e.dom(),n)},XS=function(e,t){var n=so.fromDom(e.getBody()),r=Yu.fromRangeStart(e.selection.getRng()),o=sp.getForcedRootBlock(e),i=sp.getForcedRootBlockAttrs(e);return GS(r,n).exists(function(){if(YS(n,t,r)){var a=KS(n,o,i,t);return e.selection.setRng(a),!0}return!1})},JS=function(e,t){return function(){return!!e.selection.isCollapsed()&&XS(e,t)}},ZS=function(e){return _e(e,function(e){return sg({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Y},e)})},QS=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},eO=function(e,t){return Re(ZS(e),function(e){return QS(e,t)?[e]:[]})},tO=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},nO=function(e,t){return Ne(eO(e,t),function(e){return e.action()})},rO={match:eO,action:tO,execute:nO},oO=function(e,t,n){var r=to.detect().os;rO.execute([{keyCode:ey.RIGHT,action:uS(e,!0)},{keyCode:ey.LEFT,action:uS(e,!1)},{keyCode:ey.UP,action:cS(e,!1)},{keyCode:ey.DOWN,action:cS(e,!0)},{keyCode:ey.RIGHT,action:IS(e,!0)},{keyCode:ey.LEFT,action:IS(e,!1)},{keyCode:ey.UP,action:$S(e,!1)},{keyCode:ey.DOWN,action:$S(e,!0)},{keyCode:ey.RIGHT,action:qA.move(e,t,!0)},{keyCode:ey.LEFT,action:qA.move(e,t,!1)},{keyCode:ey.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:qA.moveNextWord(e,t)},{keyCode:ey.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:qA.movePrevWord(e,t)},{keyCode:ey.UP,action:JS(e,!1)},{keyCode:ey.DOWN,action:JS(e,!0)}],n).each(function(e){n.preventDefault()})},iO=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&oO(e,t,n)})},aO={setup:iO},sO=function(e){return function(t){return Xo(e,so.fromDom(t.dom().parentNode))}},lO=function(e,t){return ei(e,t)?ll(t,function(e){return _a(e)||Aa(e)},sO(e)):ue.none()},uO=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},cO=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),uO(e))},fO=function(e,t,n){return ku([Zf.firstPositionIn(n),Zf.lastPositionIn(n)],function(r,o){var i=XE.normalizePosition(!0,r),a=XE.normalizePosition(!1,o),s=XE.normalizePosition(!1,t);return e?Zf.nextPosition(n,s).map(function(e){return e.isEqual(a)&&t.isEqual(i)}).getOr(!1):Zf.prevPosition(n,s).map(function(e){return e.isEqual(i)&&t.isEqual(a)}).getOr(!1)}).getOr(!0)},dO={getParentBlock:lO,paddEmptyBody:cO,willDeleteLastPositionInElement:fO},hO=qo("block","position"),pO=qo("from","to"),mO=function(e,t){var n=so.fromDom(e),r=so.fromDom(t.container());return dO.getParentBlock(n,r).map(function(e){return hO(e,t)})},gO=function(e){return!1===Xo(e.from().block(),e.to().block())},vO=function(e){return oi(e.from().block()).bind(function(t){return oi(e.to().block()).filter(function(e){return Xo(t,e)})}).isSome()},bO=function(e){return!1===sa.isContentEditableFalse(e.from().block())&&!1===sa.isContentEditableFalse(e.to().block())},yO=function(e,t,n){return sa.isBr(n.position().getNode())&&!1===Aw.isEmpty(n.block())?Zf.positionIn(!1,n.block().dom()).bind(function(r){return r.isEqual(n.position())?Zf.fromPosition(t,e,r).bind(function(t){return mO(e,t)}):ue.some(n)}).getOr(n):n},wO=function(e,t,n){var r=mO(e,Yu.fromRangeStart(n)),o=r.bind(function(n){return Zf.fromPosition(t,e,n.position()).bind(function(n){return mO(e,n).map(function(n){return yO(e,t,n)})})});return ku([r,o],pO).filter(function(e){return gO(e)&&vO(e)&&bO(e)})},xO=function(e,t,n){return n.collapsed?wO(e,t,n):ue.none()},CO={read:xO},kO=function(e){var t=ci(e);return Fe(t,wa).fold(function(){return t},function(e){return t.slice(0,e)})},_O=function(e){var t=kO(e);return Ee(t,Vs),t},EO=function(e,t){var n=Sv.parentsAndSelf(t,e);return Ne(n.reverse(),Aw.isEmpty).each(Vs)},AO=function(e){return 0===Oe(li(e),function(e){return!Aw.isEmpty(e)}).length},SO=function(e,t,n,r){if(Aw.isEmpty(n))return Jy.fillWithPaddingBr(n),Zf.firstPositionIn(n.dom());AO(r)&&Aw.isEmpty(t)&&Rs(r,so.fromTag("br"));var o=Zf.prevPosition(n.dom(),Yu.before(r.dom()));return Ee(_O(t),function(e){Rs(r,e)}),EO(e,t),o},OO=function(e,t,n){if(Aw.isEmpty(n))return Vs(n),Aw.isEmpty(t)&&Jy.fillWithPaddingBr(t),Zf.firstPositionIn(t.dom());var r=Zf.lastPositionIn(n.dom());return Ee(_O(t),function(e){js(n,e)}),EO(e,t),r},TO=function(e,t){var n=Sv.parentsAndSelf(t,e);return ue.from(n[n.length-1])},DO=function(e,t){return ei(t,e)?TO(t,e):ue.none()},NO=function(e,t){Zf.positionIn(e,t.dom()).map(function(e){return e.getNode()}).map(so.fromDom).filter(ka).each(Vs)},FO=function(e,t,n){return NO(!0,t),NO(!1,n),DO(t,n).fold(r(OO,e,t,n),r(SO,e,t,n))},LO=function(e,t,n,r){return t?FO(e,r,n):FO(e,n,r)},PO={mergeBlocks:LO},BO=function(e,t){var n,r=so.fromDom(e.getBody());return n=CO.read(r.dom(),t,e.selection.getRng()).bind(function(e){return PO.mergeBlocks(r,t,e.from().block(),e.to().block())}),n.each(function(t){e.selection.setRng(t.toRange())}),n.isSome()},RO={backspaceDelete:BO},qO=function(e,t){var n=t.getRng();return ku([dO.getParentBlock(e,so.fromDom(n.startContainer)),dO.getParentBlock(e,so.fromDom(n.endContainer))],function(r,o){return!1===Xo(r,o)&&(n.deleteContents(),PO.mergeBlocks(e,!0,r,o).each(function(e){t.setRng(e.toRange())}),!0)}).getOr(!1)},MO=function(e,t){var n=so.fromDom(t),o=r(Xo,e);return sl(n,Ta,o).isSome()},jO=function(e,t){return MO(e,t.startContainer)||MO(e,t.endContainer)},IO=function(e,t){var n=Zf.prevPosition(e.dom(),Yu.fromRangeStart(t)).isNone(),r=Zf.nextPosition(e.dom(),Yu.fromRangeEnd(t)).isNone();return!jO(e,t)&&n&&r},$O=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},zO=function(e){var t=so.fromDom(e.getBody()),n=e.selection.getRng();return IO(t,n)?$O(e):qO(t,e.selection)},HO=function(e,t){return!e.selection.isCollapsed()&&zO(e)},VO={backspaceDelete:HO},UO=function(e){return Cf(e).exists(ka)},WO=function(e,t,n){var r=Oe(Sv.parentsAndSelf(so.fromDom(n.container()),t),wa),o=ze(r).getOr(t);return Zf.fromPosition(e,o.dom(),n).filter(UO)},KO=function(e,t){return Cf(t).exists(ka)||WO(!0,e,t).isSome()},GO=function(e,t){return kf(t).exists(ka)||WO(!1,e,t).isSome()},YO=r(WO,!1),XO=r(WO,!0),JO=function(e){return Ta(so.fromDom(e))||Aa(so.fromDom(e))},ZO=xp.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),QO=function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return sa.isElement(n)&&n.getAttribute("data-mce-caret")===r},eT=function(e,t,n,r){var o=function(t){return Ca(so.fromDom(t))&&!df(n,r,e)};return wf(!t,n).fold(function(){return wf(t,r).fold(J(!1),o)},o)},tT=function(e,t,n,r){var o=r.getNode(!1===t);return dO.getParentBlock(so.fromDom(e),so.fromDom(n.getNode())).map(function(e){return Aw.isEmpty(e)?ZO.remove(e.dom()):ZO.moveToElement(o)}).orThunk(function(){return ue.some(ZO.moveToElement(o))})},nT=function(e,t,n){return Zf.fromPosition(t,e,n).bind(function(r){return JO(r.getNode())?ue.none():eT(e,t,n,r)?ue.none():t&&sa.isContentEditableFalse(r.getNode())?tT(e,t,n,r):!1===t&&sa.isContentEditableFalse(r.getNode(!0))?tT(e,t,n,r):t&&gy(n)?ue.some(ZO.moveToPosition(r)):!1===t&&my(n)?ue.some(ZO.moveToPosition(r)):ue.none()})},rT=function(e,t){return e&&sa.isContentEditableFalse(t.nextSibling)?ue.some(ZO.moveToElement(t.nextSibling)):!1===e&&sa.isContentEditableFalse(t.previousSibling)?ue.some(ZO.moveToElement(t.previousSibling)):ue.none()},oT=function(e,t,n){return n.fold(function(e){return ue.some(ZO.remove(e))},function(e){return ue.some(ZO.moveToElement(e))},function(n){return df(t,n,e)?ue.none():ue.some(ZO.moveToPosition(n))})},iT=function(e,t,n){return QO(t,n)?rT(t,n.getNode(!1===t)).fold(function(){return nT(e,t,n)},ue.some):nT(e,t,n).bind(function(t){return oT(e,n,t)})},aT=function(e,t,n){var r=yf(t?1:-1,e,n),o=Yu.fromRangeStart(r),i=so.fromDom(e);return!1===t&&gy(o)?ue.some(ZO.remove(o.getNode(!0))):t&&my(o)?ue.some(ZO.remove(o.getNode())):!1===t&&my(o)&&GO(i,o)?YO(i,o).map(function(e){return ZO.remove(e.getNode())}):t&&gy(o)&&KO(i,o)?XO(i,o).map(function(e){return ZO.remove(e.getNode())}):iT(e,t,o)},sT=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Ww.deleteElement(e,t,so.fromDom(n)),!0}},lT=function(e,t){return function(n){var r=t?Yu.before(n):Yu.after(n);return e.selection.setRng(r.toRange()),!0}},uT=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},cT=function(e,t){return ue.from(pT(e.getBody(),t))},fT=function(e,t){var n=e.selection.getNode();return cT(e,n).filter(sa.isContentEditableFalse).fold(function(){return aT(e.getBody(),t,e.selection.getRng()).map(function(n){return n.fold(sT(e,t),lT(e,t),uT(e))}).getOr(!1)},function(){return!0})},dT=function(e){Ee(al(e,".mce-offscreen-selection"),Vs)},hT=function(e,t){var n=e.selection.getNode();if(sa.isContentEditableFalse(n)){return cT(e,n.parentNode).filter(sa.isContentEditableFalse).fold(function(){return dT(so.fromDom(e.getBody())),Ww.deleteElement(e,t,so.fromDom(e.selection.getNode())),dO.paddEmptyBody(e),!0},function(){return!0})}return!1},pT=function(e,t){for(;t&&t!==e;){if(sa.isContentEditableTrue(t)||sa.isContentEditableFalse(t))return t;t=t.parentNode}return null},mT=function(e){var t,n=pT(e.getBody(),e.selection.getNode());return sa.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(Yu.before(t).toRange())),!0},gT=function(e,t){return e.selection.isCollapsed()?fT(e,t):hT(e,t)},vT={backspaceDelete:gT,paddEmptyElement:mT},bT=function(e,t){sa.isText(t)&&0===t.data.length&&e.remove(t)},yT=function(e,t,n,r,o,i){var a=Kb(r,e,i.getNode(!o),o,!0);if(t.collapsed){var s=t.cloneRange();o?s.setEnd(a.startContainer,a.startOffset):s.setStart(a.endContainer,a.endOffset),s.deleteContents()}else t.deleteContents();return e.selection.setRng(a),bT(e.dom,n),!0},wT=function(e,t){var n=e.selection.getRng();if(!sa.isText(n.commonAncestorContainer))return!1;var o=t?Gu.Forwards:Gu.Backwards,i=Mf(e.getBody()),a=r(_f,i.next),s=r(_f,i.prev),l=t?a:s,u=t?my:gy,c=xf(o,e.getBody(),n),f=XE.normalizePosition(t,l(c));if(!f)return!1;if(u(f))return yT(e,n,c.getNode(),o,t,f);var d=l(f);return!!(d&&u(d)&&Ef(f,d))&&yT(e,n,c.getNode(),o,t,d)},xT=function(e,t){return wT(e,t)},CT={backspaceDelete:xT},kT=function(e){return!1!==e.settings.inline_boundaries},_T=function(e,t){var r=n.document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r},ET=function(e){return ku([Zf.firstPositionIn(e),Zf.lastPositionIn(e)],function(t,n){var r=XE.normalizePosition(!0,t),o=XE.normalizePosition(!1,n);return Zf.nextPosition(e,r).map(function(e){return e.isEqual(o)}).getOr(!0)}).getOr(!0)},AT=function(e,t){return function(n){return ME.renderCaret(t,n).map(function(t){return qA.setCaretPosition(e,t),!0}).getOr(!1)}},ST=function(e,t,n,o){var i=e.getBody(),a=r(XE.isInlineTarget,e);e.undoManager.ignore(function(){e.selection.setRng(_T(n,o)),e.execCommand("Delete"),yA.readLocation(a,i,Yu.fromRangeStart(e.selection.getRng())).map(yA.inside).map(AT(e,t))}),e.nodeChanged()},OT=function(e,t){var n=ff(t,e);return n||e},TT=function(e,t,n,o){var i=OT(e.getBody(),o.container()),a=r(XE.isInlineTarget,e),s=yA.readLocation(a,i,o);return s.bind(function(e){return n?e.fold(J(ue.some(yA.inside(e))),ue.none,J(ue.some(yA.outside(e))),ue.none):e.fold(ue.none,J(ue.some(yA.outside(e))),ue.none,J(ue.some(yA.inside(e))))}).map(AT(e,t)).getOrThunk(function(){var r=Zf.navigate(n,i,o),l=r.bind(function(e){return yA.readLocation(a,i,e)});return s.isSome()&&l.isSome()?XE.findRootInline(a,i,o).map(function(t){return!!ET(t)&&(Ww.deleteElement(e,n,so.fromDom(t)),!0)}).getOr(!1):l.bind(function(i){return r.map(function(r){return n?ST(e,t,o,r):ST(e,t,r,o),!0})}).getOr(!1)})},DT=function(e,t,n){if(e.selection.isCollapsed()&&kT(e)){var r=Yu.fromRangeStart(e.selection.getRng());return TT(e,t,n,r)}return!1},NT={backspaceDelete:DT},FT=function(e,t){var n=Sv.parentsAndSelf(t,e);return Fe(n,wa).fold(J(n),function(e){return n.slice(0,e)})},LT=function(e){return 1===ci(e).length},PT=function(e,t,n,o){var i=r(cx,t),a=_e(Oe(o,i),function(e){return e.dom()});if(0===a.length)Ww.deleteElement(t,e,n);else{var s=ux(n.dom(),a);t.selection.setRng(s.toRange())}},BT=function(e,t){var n=so.fromDom(e.getBody()),r=so.fromDom(e.selection.getStart()),o=Oe(FT(n,r),LT);return He(o).map(function(n){var r=Yu.fromRangeStart(e.selection.getRng());return!(!dO.willDeleteLastPositionInElement(t,r,n.dom())||fx(n))&&(PT(t,e,n,o),!0)}).getOr(!1)},RT=function(e,t){return!!e.selection.isCollapsed()&&BT(e,t)},qT={backspaceDelete:RT},MT=qo("start","end"),jT=qo("rng","table","cells"),IT=xp.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),$T=function(e){return r(Xo,e)},zT=function(e,t){return fl(so.fromDom(e),"td,th",t)},HT=function(e,t){return ul(e,"table",t)},VT=function(e){return!1===Xo(e.start(),e.end())},UT=function(e,t){return HT(e.start(),t).bind(function(n){return HT(e.end(),t).bind(function(e){return Xo(n,e)?ue.some(n):ue.none()})})},WT=function(e){return al(e,"td,th")},KT=function(e,t){return HT(e.start(),t).bind(function(t){return He(WT(t)).map(function(t){return MT(e.start(),t)})})},GT=function(e,t){var n=zT(t.startContainer,e),r=zT(t.endContainer,e);return t.collapsed?ue.none():ku([n,r],MT).fold(function(){return n.fold(function(){return r.bind(function(t){return HT(t,e).bind(function(e){return ze(WT(e)).map(function(e){return MT(e,t)})})})},function(t){return HT(t,e).bind(function(e){return He(WT(e)).map(function(e){return MT(t,e)})})})},function(t){return YT(e,t)?ue.none():KT(t,e)})},YT=function(e,t){return UT(t,e).isSome()},XT=function(e,t){var n=zT(e.startContainer,t),r=zT(e.endContainer,t);return ku([n,r],MT).filter(VT).filter(function(e){return YT(t,e)}).orThunk(function(){return GT(t,e)})},JT=function(e,t){return UT(e,t).map(function(t){return jT(e,t,WT(t))})},ZT=function(e,t){var n=$T(e);return XT(t,n).bind(function(e){return JT(e,n)})},QT=function(e,t){return Fe(e,function(e){return Xo(e,t)})},eD=function(e){return ku([QT(e.cells(),e.rng().start()),QT(e.cells(),e.rng().end())],function(t,n){return e.cells().slice(t,n+1)})},tD=function(e){return eD(e).map(function(t){var n=e.cells();return t.length===n.length?IT.removeTable(e.table()):IT.emptyCells(t)})},nD=function(e){return IT.emptyCells(e)},rD=function(e,t){return ZT(e,t).bind(tD)},oD={getActionFromRange:rD,getActionFromCells:nD},iD=function(e,t){return Ee(t,Jy.fillWithPaddingBr),e.selection.setCursorLocation(t[0].dom(),0),!0},aD=function(e,t){return Ww.deleteElement(e,!1,t),!0},sD=function(e,t,n){return oD.getActionFromRange(t,n).map(function(t){return t.fold(r(aD,e),r(iD,e))})},lD=function(e,t){return pD(e,t)},uD=function(e,t,n,r){return dD(t,r).fold(function(){return sD(e,t,n)},function(t){return lD(e,t)}).getOr(!1)},cD=function(e,t){var n=so.fromDom(e.getBody()),r=e.selection.getRng(),o=F_.getCellsFromEditor(e);return 0!==o.length?iD(e,o):uD(e,n,r,t)},fD=function(e,t){return Ne(Sv.parentsAndSelf(t,e),Ta)},dD=function(e,t){return Ne(Sv.parentsAndSelf(t,e),function(e){return"caption"===fo(e)})},hD=function(e,t,n,r,o){return Zf.navigate(n,e.getBody(),o).bind(function(e){return fD(t,so.fromDom(e.getNode())).map(function(e){return!1===Xo(e,r)})})},pD=function(e,t){return Jy.fillWithPaddingBr(t),e.selection.setCursorLocation(t.dom(),0),ue.some(!0)},mD=function(e,t,n,r){return Zf.firstPositionIn(e.dom()).bind(function(o){return Zf.lastPositionIn(e.dom()).map(function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)})}).getOr(!0)},gD=function(e,t){return pD(e,t)},vD=function(e,t,n){return dD(e,so.fromDom(n.getNode())).map(function(e){return!1===Xo(e,t)})},bD=function(e,t,n,r,o){return Zf.navigate(n,e.getBody(),o).bind(function(i){return mD(r,n,o,i)?gD(e,r):vD(t,r,i)}).or(ue.some(!0))},yD=function(e,t,n,r){var o=Yu.fromRangeStart(e.selection.getRng());return fD(n,r).bind(function(r){return Aw.isEmpty(r)?pD(e,r):hD(e,n,t,r,o)}).getOr(!1)},wD=function(e,t,n,r){var o=Yu.fromRangeStart(e.selection.getRng());return Aw.isEmpty(r)?pD(e,r):bD(e,n,t,r,o)},xD=function(e,t){return e?hy(t):py(t)},CD=function(e,t){var n=Yu.fromRangeStart(e.selection.getRng());return xD(t,n)||Zf.fromPosition(t,e.getBody(),n).map(function(e){return xD(t,e)}).getOr(!1)},kD=function(e,t,n){var r=so.fromDom(e.getBody());return dD(r,n).fold(function(){return yD(e,t,r,n)||CD(e,t)},function(n){return wD(e,t,r,n).getOr(!1)})},_D=function(e,t){var n=so.fromDom(e.selection.getStart(!0)),r=F_.getCellsFromEditor(e);return e.selection.isCollapsed()&&0===r.length?kD(e,t,n):cD(e,n)},ED={backspaceDelete:_D},AD=function(e,t){var n=Yu.fromRangeStart(e.selection.getRng());return Zf.fromPosition(t,e.getBody(),n).filter(function(e){return t?fy(e):dy(e)}).bind(function(e){return ue.from(hf(t?0:-1,e))}).map(function(t){return e.selection.select(t),!0}).getOr(!1)},SD=function(e,t){return!!e.selection.isCollapsed()&&AD(e,t)},OD={backspaceDelete:SD},TD=function(e){return ll(e,function(e){return sa.isContentEditableTrue(e.dom())||sa.isContentEditableFalse(e.dom())}).exists(function(e){return sa.isContentEditableTrue(e.dom())})},DD=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},ND=function(e,t){return(e||xa(t)?"margin":"padding")+("rtl"===Lo(t,"direction")?"-right":"-left")},FD=function(e,t,n,r,o,i){var a=ND(n,so.fromDom(i));if("outdent"===t){var s=Math.max(0,DD(i.style[a])-r);e.setStyle(i,a,s?s+o:"")}else{var s=DD(i.style[a])+r+o;e.setStyle(i,a,s)}},LD=function(e,t){return qe(t,function(t){var n=ND(sp.shouldIndentUseMargin(e),t),r=Bo(t,n).map(DD).getOr(0);return"false"!==e.dom.getContentEditable(t.dom())&&r>0})},PD=function(e){var t=qD(e);return!0!==e.readonly&&(t.length>1||LD(e,t))},BD=function(e){return Ea(e)||Aa(e)},RD=function(e){return oi(e).map(BD).getOr(!1)},qD=function(e){return Oe(_e(e.selection.getSelectedBlocks(),so.fromDom),function(e){return!BD(e)&&!RD(e)&&TD(e)})},MD=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=sp.getIndentation(e),a=/[a-z%]+$/i.exec(i)[0],s=parseInt(i,10),l=sp.shouldIndentUseMargin(e),u=sp.getForcedRootBlock(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==u||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),Ee(qD(e),function(e){FD(n,t,l,s,a,e.dom())})},jD=function(e,t,n){return Zf.navigateIgnore(e,t,n,sy)},ID=function(e,t){return Ne(Sv.parentsAndSelf(so.fromDom(t.container()),e),wa)},$D=function(e,t,n){return jD(e,t.dom(),n).forall(function(e){return ID(t,n).fold(function(){return!1===df(e,n,t.dom())},function(r){return!1===df(e,n,t.dom())&&ei(r,so.fromDom(e.container()))})})},zD=function(e,t,n){return ID(t,n).fold(function(){return jD(e,t.dom(),n).forall(function(e){return!1===df(e,n,t.dom())})},function(t){return jD(e,t.dom(),n).isNone()})},HD=r(zD,!1),VD=r(zD,!0),UD=r($D,!1),WD=r($D,!0),KD=function(e,t,n){if(e.selection.isCollapsed()&&PD(e)){var r=e.dom,o=e.selection.getRng(),i=Yu.fromRangeStart(o),a=so.fromDom(r.getParent(o.startContainer,r.isBlock));if(HD(a,i))return MD(e,"outdent"),!0}return!1},GD={backspaceDelete:KD},YD=function(e,t,n){rO.execute([{keyCode:ey.BACKSPACE,action:rO.action(GD.backspaceDelete,e,!1)},{keyCode:ey.BACKSPACE,action:rO.action(vT.backspaceDelete,e,!1)},{keyCode:ey.DELETE,action:rO.action(vT.backspaceDelete,e,!0)},{keyCode:ey.BACKSPACE,action:rO.action(CT.backspaceDelete,e,!1)},{keyCode:ey.DELETE,action:rO.action(CT.backspaceDelete,e,!0)},{keyCode:ey.BACKSPACE,action:rO.action(NT.backspaceDelete,e,t,!1)},{keyCode:ey.DELETE,action:rO.action(NT.backspaceDelete,e,t,!0)},{keyCode:ey.BACKSPACE,action:rO.action(ED.backspaceDelete,e,!1)},{keyCode:ey.DELETE,action:rO.action(ED.backspaceDelete,e,!0)},{keyCode:ey.BACKSPACE,action:rO.action(OD.backspaceDelete,e,!1)},{keyCode:ey.DELETE,action:rO.action(OD.backspaceDelete,e,!0)},{keyCode:ey.BACKSPACE,action:rO.action(VO.backspaceDelete,e,!1)},{keyCode:ey.DELETE,action:rO.action(VO.backspaceDelete,e,!0)},{keyCode:ey.BACKSPACE,action:rO.action(RO.backspaceDelete,e,!1)},{keyCode:ey.DELETE,action:rO.action(RO.backspaceDelete,e,!0)},{keyCode:ey.BACKSPACE,action:rO.action(qT.backspaceDelete,e,!1)},{keyCode:ey.DELETE,action:rO.action(qT.backspaceDelete,e,!0)}],n).each(function(e){n.preventDefault()})},XD=function(e,t){rO.execute([{keyCode:ey.BACKSPACE,action:rO.action(vT.paddEmptyElement,e)},{keyCode:ey.DELETE,action:rO.action(vT.paddEmptyElement,e)}],t)},JD=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&YD(e,t,n)}),e.on("keyup",function(t){!1===t.isDefaultPrevented()&&XD(e,t)})},ZD={setup:JD},QD=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},eN=function(e,t){var n,r,o=t,i=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var s=QD(t.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&t.insertBefore(i.doc.createTextNode(" "),t.firstChild)}if(r=i.createRng(),t.normalize(),t.hasChildNodes()){for(var l=new la(t,t);n=l.current();){if(sa.isText(n)){r.setStart(n,0),r.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}o=n,n=l.next()}n||(r.setStart(o,0),r.setEnd(o,0))}else sa.isBr(t)?t.nextSibling&&i.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),e.selection.scrollIntoView(t)}},tN=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},nN=function(e){return ue.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},rN=function(e){return nN(e).fold(J(""),function(e){return e.nodeName.toUpperCase()})},oN=function(e){return nN(e).filter(function(e){return Aa(so.fromDom(e))}).isSome()},iN={moveToCaretPosition:eN,getEditableRoot:tN,getParentBlock:nN,getParentBlockName:rN,isListItemParentBlock:oN},aN=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},sN=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},lN=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},uN=function(e){return lN(e)&&lN(e.parentNode)},cN=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},fN=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!sa.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},dN=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){uN(n)&&(o="LI");var s=o?t(o):i.create("BR");if(fN(n,r,!0)&&fN(n,r,!1))sN(n,"LI")?i.insertAfter(s,cN(n)):i.replace(s,n);else if(fN(n,r,!0))sN(n,"LI")?(i.insertAfter(s,cN(n)),s.appendChild(i.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n);else if(fN(n,r,!1))i.insertAfter(s,cN(n));else{n=cN(n);var l=a.cloneRange();l.setStartAfter(r),l.setEndAfter(n);var u=l.extractContents();"LI"===o&&aN(u,"LI")?(s=u.firstChild,i.insertAfter(u,n)):(i.insertAfter(u,n),i.insertAfter(s,n))}i.remove(r),iN.moveToCaretPosition(e,s)}},hN={insert:dN},pN=function(e){Ee(il(so.fromDom(e),go),function(e){var t=e.dom();t.nodeValue=Ll.trim(t.nodeValue)})},mN=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},gN=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},vN=function(e){e.innerHTML='<br data-mce-bogus="1">'},bN=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},yN=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},wN=function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;sa.isElement(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)o=i[r],!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):mN(e,o)&&e.remove(o)}},xN=function(e,t,n){return!1===sa.isText(t)?n:e?1===n&&t.data.charAt(n-1)===Ll.ZWSP?0:n:n===t.data.length-1&&t.data.charAt(n)===Ll.ZWSP?t.data.length:n},CN=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,xN(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,xN(!1,e.endContainer,e.endOffset)),t},kN=function(e){do{sa.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},_N=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},EN=function(e,t){var n=sp.getForcedRootBlock(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,sp.getForcedRootBlockAttrs(e))},AN=function(e,t,n,r,o){var i,a,s,l,u,c,f=t||"P",d=e.dom,h=_N(d,r);if(!(a=d.getParent(r,d.isBlock))||!yN(d,a)){if(a=a||h,c=a===e.getBody()||gN(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),EN(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(l=r;l.parentNode!==a;)l=l.parentNode;for(;l&&!d.isBlock(l);)s=l,l=l.previousSibling;if(s&&e.schema.isValidChild(c,f.toLowerCase())){for(i=d.create(f),EN(e,i),s.parentNode.insertBefore(i,s),l=s;l&&!d.isBlock(l);)u=l.nextSibling,i.appendChild(l),l=u;n.setStart(r,o),n.setEnd(r,o)}}return r},SN=function(e,t){var n;t.normalize(),(n=t.lastChild)&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},ON=function(e,t){var n,r,o,i,a,s,l,u,c,f,d,h,p,m=e.dom,g=e.schema,v=g.getNonEmptyElements(),b=e.selection.getRng(),y=function(t){var n,i,s,l=o,u=g.getTextInlineElements();if(t||"TABLE"===f||"HR"===f?(n=m.create(t||h),EN(e,n)):n=a.cloneNode(!1),s=n,!1===sp.shouldKeepStyles(e))m.setAttrib(n,"style",null),m.setAttrib(n,"class",null);else do{if(u[l.nodeName]){if(Dc(l)||Cd.isBookmarkNode(l))continue;i=l.cloneNode(!1),m.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(s=i,n.appendChild(i))}}while((l=l.parentNode)&&l!==r);return vN(s),n},w=function(e){var t,n,r=xN(e,o,i);if(sa.isText(o)&&(e?r>0:r<o.nodeValue.length))return!1;if(o.parentNode===a&&p&&!e)return!0;if(e&&sa.isElement(o)&&o===a.firstChild)return!0;if(bN(o,"TABLE")||bN(o,"HR"))return p&&!e||!p&&e;var s=new la(o,a);for(sa.isText(o)&&(e&&0===r?s.prev():e||r!==o.nodeValue.length||s.next());t=s.current();){if(sa.isElement(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),v[n]&&"br"!==n))return!1}else if(sa.isText(t)&&!/^[ \t\r\n]*$/.test(t.nodeValue))return!1;e?s.prev():s.next()}return!0},x=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?y(h):y(),sp.shouldEndContainerOnEmptyBlock(e)&&yN(m,c)&&m.isEmpty(a)?l=m.split(c,a):m.insertAfter(l,a),iN.moveToCaretPosition(e,l)};sE.normalize(m,b).each(function(e){b.setStart(e.startContainer,e.startOffset),b.setEnd(e.endContainer,e.endOffset)}),o=b.startContainer,i=b.startOffset,h=sp.getForcedRootBlock(e),s=!(!t||!t.shiftKey);var C=!(!t||!t.ctrlKey);if(sa.isElement(o)&&o.hasChildNodes()&&(p=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,i=p&&sa.isText(o)?o.nodeValue.length:0),r=_N(m,o)){if((h&&!s||!h&&s)&&(o=AN(e,h,b,o,i)),a=m.getParent(o,m.isBlock),c=a?m.getParent(a.parentNode,m.isBlock):null,f=a?a.nodeName.toUpperCase():"",d=c?c.nodeName.toUpperCase():"","LI"!==d||C||(a=c,c=c.parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&m.isEmpty(a))return void hN.insert(e,y,c,a,h);h&&a===e.getBody()||(h=h||"P",Rl(a)?(l=Gl(a),m.isEmpty(a)&&vN(a),iN.moveToCaretPosition(e,l)):w()?x():w(!0)?(l=a.parentNode.insertBefore(y(),a),iN.moveToCaretPosition(e,bN(a,"HR")?l:a)):(n=CN(b).cloneRange(),n.setEndAfter(a),u=n.extractContents(),pN(u),kN(u),l=u.firstChild,m.insertAfter(u,a),wN(m,v,l),SN(m,a),m.isEmpty(a)&&vN(a),l.normalize(),m.isEmpty(l)?(m.remove(l),x()):iN.moveToCaretPosition(e,l)),m.setAttrib(l,"id",""),e.fire("NewBlock",{newBlock:l}))}},TN={insert:ON},DN=function(e,t,n){for(var r,o=new la(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},NN=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},FN=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},LN=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();sE.normalize(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var s=a.startOffset,l=a.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=u&&3===l.nodeType?l.nodeValue.length:0}var c=i.getParent(l,i.isBlock),f=c?i.getParent(c.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==d||h||(c=f),l&&3===l.nodeType&&s>=l.nodeValue.length&&(DN(e.schema,l,c)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),hc(i,a,n),NN(i,o,n),FN(i,o,n,r),e.undoManager.add()},PN=function(e,t){var n=so.fromTag("br");Rs(so.fromDom(t),n),e.undoManager.add()},BN=function(e,t){qN(e.getBody(),t)||qs(so.fromDom(t),so.fromTag("br"));var n=so.fromTag("br");qs(so.fromDom(t),n),NN(e.dom,e.selection,n.dom()),FN(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},RN=function(e){return sa.isBr(e.getNode())},qN=function(e,t){return!!RN(Yu.after(t))||Zf.nextPosition(e,Yu.after(t)).map(function(e){return sa.isBr(e.getNode())}).getOr(!1)},MN=function(e){return e&&"A"===e.nodeName&&"href"in e},jN=function(e){return e.fold(J(!1),MN,MN,J(!1))},IN=function(e){var t=r(XE.isInlineTarget,e),n=Yu.fromRangeStart(e.selection.getRng());return yA.readLocation(t,e.getBody(),n).filter(jN)},$N=function(e,t){t.fold(Y,r(PN,e),r(BN,e),Y)},zN=function(e,t){var n=IN(e);n.isSome()?n.each(r($N,e)):LN(e,t)},HN={insert:zN},VN=function(e,t){return iN.getParentBlock(e).filter(function(e){return t.length>0&&Wo(so.fromDom(e),t)}).isSome()},UN=function(e){return VN(e,sp.getBrNewLineSelector(e))},WN=function(e){return VN(e,sp.getNoNewLineSelector(e))},KN={shouldInsertBr:UN,shouldBlockNewLine:WN},GN=xp.generate([{br:[]},{block:[]},{none:[]}]),YN=function(e,t){return KN.shouldBlockNewLine(e)},XN=function(e){return function(t,n){return""===sp.getForcedRootBlock(t)===e}},JN=function(e){return function(t,n){return iN.isListItemParentBlock(t)===e}},ZN=function(e,t){return function(n,r){return iN.getParentBlockName(n)===e.toUpperCase()===t}},QN=function(e){return ZN("pre",e)},eF=function(){return ZN("summary",!0)},tF=function(e){return function(t,n){return sp.shouldPutBrInPre(t)===e}},nF=function(e,t){return KN.shouldInsertBr(e)},rF=function(e,t){return t},oF=function(e){var t=sp.getForcedRootBlock(e),n=iN.getEditableRoot(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},iF=function(e,t){return function(n,r){return De(e,function(e,t){return e&&t(n,r)},!0)?ue.some(t):ue.none()}},aF=function(e,t){return ZE.evaluateUntil([iF([YN],GN.none()),iF([eF()],GN.br()),iF([QN(!0),tF(!1),rF],GN.br()),iF([QN(!0),tF(!1)],GN.block()),iF([QN(!0),tF(!0),rF],GN.block()),iF([QN(!0),tF(!0)],GN.br()),iF([JN(!0),rF],GN.br()),iF([JN(!0)],GN.block()),iF([XN(!0),rF,oF],GN.block()),iF([XN(!0)],GN.br()),iF([nF],GN.br()),iF([XN(!1),rF],GN.br()),iF([oF],GN.block())],[e,!(!t||!t.shiftKey)]).getOr(GN.none())},sF={getAction:aF},lF=function(e,t){sF.getAction(e,t).fold(function(){HN.insert(e,t)},function(){TN.insert(e,t)},Y)},uF={insert:lF},cF=function(e){e.typing&&(e.typing=!1,e.add())},fF=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),cF(e.undoManager),e.undoManager.transact(function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),uF.insert(e,t)}))},dF=function(e){e.on("keydown",function(t){t.keyCode===ey.ENTER&&fF(e,t)})},hF={setup:dF},pF=function(e,t){var n=t.container(),r=t.offset();return sa.isText(n)?(n.insertData(r,e),ue.some(_(n,r+e.length))):Cf(t).map(function(n){var r=so.fromText(e);return t.isAtEnd()?qs(n,r):Rs(n,r),_(r.dom(),e.length)})},mF=r(pF," "),gF=r(pF," "),vF=function(e){return _.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},bF=function(e,t){var n=Oe(Sv.parentsAndSelf(so.fromDom(t.container()),e),wa);return ze(n).getOr(e)},yF=function(e,t){return vF(t)?ay(t):ay(t)||Zf.prevPosition(bF(e,t).dom(),t).exists(ay)},wF=function(e,t){return vF(t)?iy(t):iy(t)||Zf.nextPosition(bF(e,t).dom(),t).exists(iy)},xF=function(e){return Ce(["pre","pre-wrap"],e)},CF=function(e){return Cf(e).bind(function(e){return ll(e,mo)}).exists(function(e){return xF(Lo(e,"white-space"))})},kF=function(e,t){return Zf.prevPosition(e.dom(),t).isNone()},_F=function(e,t){return Zf.nextPosition(e.dom(),t).isNone()},EF=function(e,t){return kF(e,t)||_F(e,t)||HD(e,t)||VD(e,t)||GO(e,t)||KO(e,t)},AF=function(e,t){return!CF(t)&&(EF(e,t)||yF(e,t)||wF(e,t))},SF=function(e,t){return!CF(t)&&(HD(e,t)||UD(e,t)||GO(e,t)||yF(e,t))},OF=function(e){var t=e.container(),n=e.offset();return sa.isText(t)&&n<t.data.length?_(t,n+1):e},TF=function(e,t){var n=OF(t);return!CF(n)&&(VD(e,n)||WD(e,n)||KO(e,n)||wF(e,n))},DF=function(e,t){return SF(e,t)||TF(e,t)},NF=function(e,t){return ty(e.charAt(t))},FF=function(e){var t=e.container();return sa.isText(t)&&zr(t.data," ")},LF=function(e){return _e(e.split(""),function(e,t,n){return ty(e)&&t>0&&t<n.length-1&&ry(n[t-1])&&ry(n[t+1])?" ":e}).join("")},PF=function(e,t){var n=t.data,r=_(t,0);return!(!NF(n,0)||DF(e,r))&&(t.data=" "+n.slice(1),!0)},BF=function(e){var t=e.data,n=LF(t);return n!==t&&(e.data=n,!0)},RF=function(e,t){var n=t.data,r=_(t,n.length-1);return!(!NF(n,n.length-1)||DF(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},qF=function(e,t){return ue.some(t).filter(FF).bind(function(t){var n=t.container();return PF(e,n)||BF(n)||RF(e,n)?ue.some(t):ue.none()})},MF=function(e){var t=so.fromDom(e.getBody());e.selection.isCollapsed()&&qF(t,_.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},jF=function(e){return function(t){return t.fold(function(t){return Zf.prevPosition(e.dom(),Yu.before(t))},function(e){return Zf.firstPositionIn(e)},function(e){return Zf.lastPositionIn(e)},function(t){return Zf.nextPosition(e.dom(),Yu.after(t))})}},IF=function(e,t){return function(n){return AF(e,n)?mF(t):gF(t)}},$F=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},zF=function(e){var t=Yu.fromRangeStart(e.selection.getRng()),n=so.fromDom(e.getBody());if(e.selection.isCollapsed()){var o=r(XE.isInlineTarget,e),i=Yu.fromRangeStart(e.selection.getRng());return yA.readLocation(o,e.getBody(),i).bind(jF(n)).bind(IF(n,t)).exists($F(e))}return!1},HF=function(e,t){rO.execute([{keyCode:ey.SPACEBAR,action:rO.action(zF,e)}],t).each(function(e){t.preventDefault()})},VF=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&HF(e,t)})},UF={setup:VF},WF=function(e){return cl(so.fromDom(e.getBody()),"*[data-mce-caret]").fold(J(null),function(e){return e.dom()})},KF=function(e){e.selection.setRng(e.selection.getRng())},GF=function(e,t){t.hasAttribute("data-mce-caret")&&(Gl(t),KF(e),e.selection.scrollIntoView(t))},YF=function(e,t){var n=WF(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void GF(e,n)):void(jl(n)&&(GF(e,n),e.undoManager.add()))},XF=function(e){e.on("keyup compositionstart",r(YF,e))},JF={setup:XF},ZF=to.detect().browser,QF=function(e){var t=Ws(function(){e.composing||MF(e)},0);ZF.isIE()&&(e.on("keypress",function(e){t.throttle()}),e.on("remove",function(e){t.cancel()}))},eL=function(e){QF(e),e.on("input",function(t){!1===t.isComposing&&MF(e)})},tL=function(e,t){rO.execute([{keyCode:ey.END,action:dS(e,!0)},{keyCode:ey.HOME,action:dS(e,!1)}],t).each(function(e){t.preventDefault()})},nL=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&tL(e,t)})},rL={setup:nL},oL=function(e){var t=qA.setupSelectedState(e);JF.setup(e),aO.setup(e,t),ZD.setup(e,t),hF.setup(e),UF.setup(e),eL(e),rL.setup(e)},iL={setup:oL},aL=function(e){var t=Vn.each,r=ey.BACKSPACE,o=ey.DELETE,i=e.dom,a=e.selection,s=e.settings,l=e.parser,u=gt.gecko,c=gt.ie,f=gt.webkit,d=c?"Text":"URL",h=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},p=function(e){return e.isDefaultPrevented()},m=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&a.select(t.target),n=e.selection.getContent(),n.length>0&&(r="data:text/mce-internal,"+escape(e.id)+","+escape(n),t.dataTransfer.setData(d,r)))},g=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(d))&&t.indexOf("data:text/mce-internal,")>=0?(t=t.substr("data:text/mce-internal,".length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},v=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},b=function(){e.shortcuts.add("meta+a",null,"SelectAll")},y=function(){e.on("keydown",function(e){if(!p(e)&&e.keyCode===r&&a.isCollapsed()&&0===a.getRng().startOffset){var t=a.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},w=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(gt.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))},x=function(){},C=function(){var t;return!(!u||e.removed)&&(!(t=e.selection.getSel())||!t.rangeCount||0===t.rangeCount)};return function(){e.on("keydown",function(t){var n,r,o,s,l;if(!p(t)&&t.keyCode===ey.BACKSPACE&&(n=a.getRng(),r=n.startContainer,o=n.startOffset,s=i.getRoot(),l=r,n.collapsed&&0===o)){for(;l&&l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==s;)l=l.parentNode;"BLOCKQUOTE"===l.tagName&&(e.formatter.toggle("blockquote",null,l),n=i.createRng(),n.setStart(r,0),n.setEnd(r,0),a.setRng(n))}})}(),function(){var t=function(e){var t=i.create("body"),n=e.cloneContents();return t.appendChild(n),a.serializer.serialize(t,{format:"html"})},n=function(n){var r=t(n),o=i.createRng();return o.selectNode(e.getBody()),r===t(o)};e.on("keydown",function(t){var a,s,l=t.keyCode;if(!p(t)&&(l===o||l===r)){if(a=e.selection.isCollapsed(),s=e.getBody(),a&&!i.isEmpty(s))return;if(!a&&!n(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),s.firstChild&&i.isBlock(s.firstChild)?e.selection.setCursorLocation(s.firstChild,0):e.selection.setCursorLocation(s,0),e.nodeChanged()}})}(),gt.windowsPhone||function(){e.on("keyup focusin mouseup",function(e){ey.modifierPressed(e)||a.normalize()},!0)}(),f&&(function(){e.inline||i.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=a.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Ml(n.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(n)})}(),function(){e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==i.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&i.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),a.select(n))})}(),function(){s.forced_root_block&&e.on("init",function(){h("DefaultParagraphSeparator",sp.getForcedRootBlock(e))})}(),function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})})}(),y(),function(){l.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})}(),gt.iOS?(function(){e.inline||e.on("keydown",function(){n.document.activeElement===n.document.body&&e.getWin().focus()})}(),w(),function(){e.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):b()),gt.ie>=11&&(w(),y()),gt.ie&&(b(),function(){h("AutoUrlDetect",!1)}(),function(){e.on("dragstart",function(e){m(e)}),e.on("drop",function(t){if(!p(t)){var n=g(t);if(n&&n.id!==e.id){t.preventDefault();var r=r_.fromPoint(t.x,t.y,e.getDoc());a.setRng(r),v(n.html,!0)}}})}()),u&&(!function(){e.on("keydown",function(t){if(!p(t)&&t.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){var n=a.getNode(),o=n.previousSibling;if("HR"===n.nodeName)return i.remove(n),void t.preventDefault();o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(i.remove(o),t.preventDefault())}}})}(),function(){n.Range.prototype.getClientRects||e.on("mousedown",function(t){if(!p(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),_t.setEditorTimeout(e,function(){n.focus()})}})}(),function(){var n=function(){var n=i.getAttribs(a.getStart().cloneNode(!1));return function(){var r=a.getStart();r!==e.getBody()&&(i.setAttrib(r,"style",null),t(n,function(e){r.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!a.isCollapsed()&&i.getParent(a.getStart(),i.isBlock)!==i.getParent(a.getEnd(),i.isBlock)};e.on("keypress",function(t){var o;if(!p(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1}),i.bind(e.getDoc(),"cut",function(t){var o;!p(t)&&r()&&(o=n(),_t.setEditorTimeout(e,function(){o()}))})}(),function(){var t=function(){h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),s.object_resizing||h("enableObjectResizing",!1)};s.readonly||e.on("BeforeExecCommand mousedown",t)}(),function(){var n=function(){t(i.select("a"),function(e){var t=e.parentNode,n=i.getRoot();if(t.lastChild===e){for(;t&&!i.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}i.add(t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()})}(),function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function(){gt.mac&&e.on("keydown",function(t){if(ey.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary")}})}(),y()),{refreshContentEditable:x,isHidden:C}},sL=function(e){return sa.isElement(e)&&_a(so.fromDom(e))},lL=function(e){var t=e.selection.getRng(),n=_.fromRangeStart(t),r=_.fromRangeEnd(t);if(_.isElementPosition(n)){var o=n.container();sL(o)&&Zf.firstPositionIn(o).each(function(e){return t.setStart(e.container(),e.offset())})}if(_.isElementPosition(r)){var o=n.container();sL(o)&&Zf.lastPositionIn(o).each(function(e){return t.setEnd(e.container(),e.offset())})}e.selection.setRng(nC.normalize(t))},uL=function(e){e.on("click",function(t){t.detail>=3&&lL(e)})},cL=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},fL=function(e){e.parser.addNodeFilter("details",function(e){Ee(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){Ee(e,function(e){var t=e.attr("data-mce-open");e.attr("open",de(t)?t:null),e.attr("data-mce-open",null)})})},dL=function(e){cL(e),fL(e)},hL=gs.DOM,pL=function(e,t){var n=so.fromDom(e.getDoc().head),r=so.fromTag("style");Oo(r,"type","text/css"),js(r,so.fromText(t)),js(n,r)},mL=function(e){var t=ZC(e.settings,e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var r,o,i,a=t.length,s=e.dom;a--;)if(r=t[a],o=r.attr(n),i="data-mce-"+n,!r.attr(i)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=s.serializeStyle(s.parseStyle(o),r.name),o.length||(o=null),r.attr(i,o),r.attr(n,o)):"tabindex"===n?(r.attr(i,o),r.attr(n,null)):r.attr(i,e.convertURL(o,n,r.name))}}),t.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("type")||"no/type",0!==n.indexOf("mce-")&&t.attr("type","mce-"+n)}),t.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n,r=t.length,o=e.schema.getNonEmptyElements();r--;)n=t[r],n.isEmpty(o)&&0===n.getAll("br").length&&(n.append(new ph("br",1)).shortEnded=!0)}),t},gL=function(e){e.settings.auto_focus&&_t.setEditorTimeout(e,function(){var t;t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},vL=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),gL(e)},bL=function(e){return e.inline?hL.styleSheetLoader:e.dom.styleSheetLoader},yL=function(e,t){var r,o,i=e.settings,a=e.getElement(),s=e.getDoc();i.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(s.open(),s.write(e.iframeHTML),s.close()),e.inline&&(e.on("remove",function(){var e=this.getBody();hL.removeClass(e,"mce-content-body"),hL.removeClass(e,"mce-edit-focus"),hL.setAttrib(e,"contentEditable",null)}),hL.addClass(a,"mce-content-body"),e.contentDocument=s=n.document,e.contentWindow=n.window,e.bodyElement=a,e.contentAreaContainer=a,i.root_name=a.nodeName.toLowerCase()),r=e.getBody(),r.disabled=!0,e.readonly=i.readonly,e.readonly||(e.inline&&"static"===hL.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable=e.getParam("content_editable_state",!0)),r.disabled=!1,e.editorUpload=Cv(e),e.schema=w(i),e.dom=gs(s,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:i.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:sp.shouldUseContentCssCors(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=mL(e),e.serializer=ak(i,e),e.selection=EE(e.dom,e.getWin(),e.serializer,e),e.annotator=ch(e),e.formatter=SC(e),e.undoManager=Vy(e),e._nodeChangeDispatcher=new Vv(e),e._selectionOverrides=wy(e),dL(e),uL(e),iL.setup(e),Pv.setup(e),e.fire("PreInit"),i.browser_spellcheck||i.gecko_spellcheck||(s.body.spellcheck=!1,hL.setAttrib(r,"spellcheck","false")),e.quirks=aL(e),e.fire("PostRender");var l=sp.getDirectionality(e);void 0!==l&&(r.dir=l),i.protect&&e.on("BeforeSetContent",function(e){Vn.each(i.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),e.contentStyles.length>0&&(o="",Vn.each(e.contentStyles,function(e){o+=e+"\r\n"}),e.dom.addStyle(o)),bL(e).loadAll(e.contentCSS,function(t){vL(e)},function(t){vL(e)}),i.content_style&&pL(e,i.content_style)},wL={initContentBody:yL},xL=gs.DOM,CL=function(e,t){if(n.document.domain!==n.window.location.hostname&&gt.ie&&gt.ie<12){var r=wv.uuid("mce");e[r]=function(){wL.initContentBody(e)};var o='javascript:(function(){document.open();document.domain="'+n.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return xL.setAttrib(t,"src",o),!0}return!1},kL=function(e,t,n,r){var o=so.fromTag("iframe");return To(o,r),To(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),tl(o,"tox-edit-area__iframe"),o},_L=function(e){var t,n,r;return r=sp.getDocType(e)+"<html><head>",sp.getDocumentBaseUrl(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',t=sp.getBodyId(e),n=sp.getBodyClass(e),sp.getContentSecurityPolicy(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+sp.getContentSecurityPolicy(e)+'" />'),r+='</head><body id="'+t+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'},EL=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=kL(e.id,n,t.height,sp.getIframeAttrs(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var o=CL(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=_L(e),xL.add(t.iframeContainer,r),o},AL=function(e,t){var n=EL(e,t);t.editorContainer&&(xL.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=xL.isHidden(t.editorContainer)),e.getElement().style.display="none",xL.setAttrib(e.id,"aria-hidden","true"),n||wL.initContentBody(e)},SL={init:AL},OL=function(e){return/^[a-z0-9\-]+$/i.test(e)},TL=function(e){var t=sp.getContentCss(e),n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,o="content"+r+".css",i=!0===e.inline;return _e(t,function(t){return OL(t)&&!i?n+"/"+t+"/"+o:e.documentBaseURI.toAbsolute(t)})},DL=function(e){e.contentCSS=e.contentCSS.concat(TL(e))},NL=gs.DOM,FL=function(e,t,n){var r=iv.get(n),o=iv.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Vn.trim(n),r&&-1===Vn.inArray(t,n)){if(Vn.each(iv.dependencies(n),function(n){FL(e,t,n)}),e.plugins[n])return;try{var i=new r(e,o,e.$);e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}catch(t){nv.pluginInitError(e,n,t)}}},LL=function(e){return e.replace(/^\-/,"")},PL=function(e){var t=[];Vn.each(e.settings.plugins.split(/[ ,]/),function(n){FL(e,t,LL(n))})},BL=function(e){var t=Vn.trim(e.settings.icons),n=e.ui.registry.getAll().icons,r=rv(),o=Ue({},r,ov.get(t).icons);yo(o,function(t,r){_o(n,r)||e.ui.registry.addIcon(r,t)})},RL=function(e){var t=e.settings.theme;if(de(t)){e.settings.theme=LL(t);var n=av.get(t);e.theme=new n(e,av.urls[t]),e.theme.init&&e.theme.init(e,av.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},qL=function(e){return e.theme.renderUI()},ML=function(e){var t=e.getElement(),n=e.settings.theme,r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},jL=function(e){return{editorContainer:e,iframeContainer:e}},IL=function(e){var t=NL.create("div");return NL.insertAfter(t,e),jL(t)},$L=function(e){var t=e.getElement();return e.inline?jL(null):IL(t)},zL=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,de(e.settings.theme)?qL(e):ve(e.settings.theme)?ML(e):$L(e)},HL=function(e){e.fire("ScriptsLoaded"),BL(e),RL(e),PL(e);var t=zL(e);return e.editorContainer=t.editorContainer?t.editorContainer:null,DL(e),e.inline?wL.initContentBody(e):SL.init(e,t)},VL={init:HL},UL=gs.DOM,WL=function(e){return"-"===e.charAt(0)},KL=function(e,t){var n=sp.getLanguageCode(t),r=sp.getLanguageUrl(t);if(!1===Ls.hasCode(n)&&"en"!==n){var o=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(o,Y,void 0,function(){nv.languageLoadError(o,n)})}},GL=function(e,t,n,r){var o=t.settings,i=o.theme;if(de(i)){if(!WL(i)&&!av.urls.hasOwnProperty(i)){var a=o.theme_url;a?av.load(i,t.documentBaseURI.toAbsolute(a)):av.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue(function(){av.waitFor(i,r)})}else r()},YL=function(e){return ue.from(sp.getIconsUrl(e)).filter(function(e){return e.length>0}).map(function(e){return{url:e,name:ue.none()}})},XL=function(e){return ue.from(sp.getIconPackName(e)).filter(function(e){return e.length>0&&!ov.has(e)}).map(function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons.js",name:ue.some(t)}})},JL=function(e,t){YL(t).orThunk(function(){return XL(t)}).each(function(t){e.add(t.url,Y,void 0,function(){nv.iconsLoadError(t.url,t.name.getOrUndefined())})})},ZL=function(e,t){pe(e.plugins)&&(e.plugins=e.plugins.join(" ")),Vn.each(e.external_plugins,function(t,n){iv.load(n,t,Y,void 0,function(){nv.pluginLoadError(n,t)}),e.plugins+=" "+n}),Vn.each(e.plugins.split(/[ ,]/),function(e){if((e=Vn.trim(e))&&!iv.urls[e])if(WL(e)){e=e.substr(1,e.length);var n=iv.dependencies(e);Vn.each(n,function(e){var n={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};e=iv.createUrl(n,e),iv.load(e.resource,e,Y,void 0,function(){nv.pluginLoadError(e.prefix+e.resource+e.suffix,e.resource)})})}else{var r={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};iv.load(e,r,Y,void 0,function(){nv.pluginLoadError(r.prefix+r.resource+r.suffix,e)})}})},QL=function(e,t){var n=ws.ScriptLoader;GL(n,e,t,function(){KL(n,e),JL(n,e),ZL(e.settings,t),n.loadQueue(function(){e.removed||VL.init(e)},e,function(){e.removed||VL.init(e)})})},eP=function(e){var t=e.settings,r=e.id;Ls.setCode(sp.getLanguageCode(e));var o=function(){UL.unbind(n.window,"ready",o),e.render()};if(!Rt.Event.domLoaded)return void UL.bind(n.window,"ready",o);if(e.getElement()&&gt.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||UL.getParent(r,"form");i&&(e.formElement=i,t.hidden_input&&!sa.isTextareaOrInput(e.getElement())&&(UL.insertAfter(UL.create("input",{type:"hidden",name:r}),r),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},UL.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),!t.submit_patch||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=Ug(e),e.notificationManager=S(e),"xml"===t.encoding&&e.on("GetContent",function(e){e.save&&(e.content=UL.encode(e.content))}),t.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),QL(e,e.suffix)}},tP={render:eP},nP=function(e,t,n){ol(e,t)&&!1===n?rl(e,t):n&&tl(e,t)},rP=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},oP=function(e,t){e.dom().contentEditable=t?"true":"false"},iP=function(e){Ee(al(e,'*[contenteditable="true"]'),function(e){Oo(e,"data-mce-contenteditable","true"),oP(e,!1)})},aP=function(e){Ee(al(e,'*[data-mce-contenteditable="true"]'),function(e){Fo(e,"data-mce-contenteditable"),oP(e,!0)})},sP=function(e){ue.from(e.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")})},lP=function(e){e.selection.setRng(e.selection.getRng())},uP=function(e,t){var n=so.fromDom(e.getBody());nP(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),sP(e),e.readonly=!0,oP(n,!1),iP(n)):(e.readonly=!1,oP(n,!0),aP(n),rP(e,"StyleWithCSS",!1),rP(e,"enableInlineTableEditing",!1),rP(e,"enableObjectResizing",!1),Pm.hasEditorOrUiFocus(e)&&e.focus(),lP(e),e.nodeChanged())},cP=function(e){return!0===e.readonly},fP=function(e){e.parser.addAttributeFilter("contenteditable",function(t){cP(e)&&Ee(t,function(e){e.attr("data-mce-contenteditable",e.attr("contenteditable")),e.attr("contenteditable","false")})}),e.serializer.addAttributeFilter("data-mce-contenteditable",function(t){cP(e)&&Ee(t,function(e){e.attr("contenteditable",e.attr("data-mce-contenteditable"))})}),e.serializer.addTempAttr("data-mce-contenteditable")},dP=function(e){e.serializer?fP(e):e.on("PreInit",function(){fP(e)})},hP=function(e){var t=e.target;"click"===e.type&&"A"===t.tagName&&e.preventDefault()},pP=function(e){e.on("ShowCaret",function(t){cP(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){cP(e)&&t.preventDefault()})},mP=["design","readonly"],gP=function(e,t,r,o){var i=r[t.get()],a=r[o];try{a.activate()}catch(e){return void n.console.error("problem while activating editor mode "+o+":",e)}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&uP(e,a.editorReadOnly),t.set(o),Gm.fireSwitchMode(e,o)},vP=function(e,t,n,r){if(r!==n.get()){if(!_o(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?gP(e,n,t,r):e.on("init",function(){return gP(e,n,t,r)})}},bP=function(e,t,r){var o;if(Ce(mP,t))throw new Error("Cannot override default mode "+t);return Ue({},e,(o={},o[t]=Ue({},r,{deactivate:function(){try{r.deactivate()}catch(e){n.console.error("problem while deactivating editor mode "+t+":",e)}}}),o))},yP=function(e){var t=xs("design"),n=xs({design:{activate:Y,deactivate:Y,editorReadOnly:!1},readonly:{activate:Y,deactivate:Y,editorReadOnly:!0}});return dP(e),pP(e),{isReadOnly:function(){return cP(e)},set:function(r){return vP(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(bP(n.get(),e,t))}}},wP=function(e){return e.firstChild&&e.firstChild===e.lastChild},xP=function(e){return"br"===e.name||" "===e.value},CP=function(e,t){return e.getBlockElements()[t.name]&&wP(t)&&xP(t.firstChild)},kP=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||CP(e,t))},_P=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),kP(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},EP=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},AP=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return EP(o)},SP=function(e){return Vn.grep(e.childNodes,function(e){return"LI"===e.nodeName})},OP=function(e){return" "===e.data||sa.isBr(e)},TP=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&OP(e.firstChild)},DP=function(e){return!e.firstChild||TP(e)},NP=function(e){return e.length>0&&DP(e[e.length-1])?e.slice(0,-1):e},FP=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},LP=function(e,t){return!!FP(e,t)},PP=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},BP=function(e,t){var n=Yu.before(e),r=Mf(t),o=r.next(n);return o?o.toRange():null},RP=function(e,t){var n=Yu.after(e),r=Mf(t),o=r.prev(n);return o?o.toRange():null},qP=function(e,t,n,r){var o=PP(e,r),i=e.parentNode;return i.insertBefore(o[0],e),Vn.each(t,function(t){i.insertBefore(t,e)}),i.insertBefore(o[1],e),i.removeChild(e),RP(t[t.length-1],n)},MP=function(e,t,n){var r=e.parentNode;return Vn.each(t,function(t){r.insertBefore(t,e)}),BP(e,n)},jP=function(e,t,n,r){return r.insertAfter(t.reverse(),e),RP(t[0],n)},IP=function(e,t,n,r){var o=AP(t,e,r),i=FP(t,n.startContainer),a=NP(SP(o.firstChild)),s=t.getRoot(),l=function(e){var r=Yu.fromRangeStart(n),o=Mf(t.getRoot()),a=1===e?o.prev(r):o.next(r);return!a||FP(t,a.getNode())!==i};return l(1)?MP(i,a,s):l(2)?jP(i,a,s,t):qP(i,a,s,n)},$P={isListFragment:_P,insertAtCaret:IP,isParentBlockLi:LP,trimListItems:NP,listItems:SP},zP=function(e,t){return sa.isText(e)&&" "===e.nodeValue[t-1]},HP=function(e,t){var n,r;n=e.startContainer,r=e.startOffset;var o=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(r>0?t=t.replace(/^&nbsp;/," "):o("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},VP=function(e,t){var n,r;return n=e.startContainer,r=e.startOffset,3===n.nodeType&&e.collapsed&&(" "===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):" "===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t},UP=sa.matchNodeNames(["td","th"]),WP=function(e,t){var n=e.selection.getRng(),r=n.startContainer,o=n.startOffset;n.collapsed&&zP(r,o)&&sa.isText(r)&&(r.insertData(o-1," "),r.deleteData(o,1),n.setStart(r,o),n.setEnd(r,o),e.selection.setRng(n)),e.selection.setContent(t)},KP=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):WP(e,t)}},GP=function(e,t){ue.from(e.getParent(t,"td,th")).map(so.fromDom).each(Jy.trimBlockTrailingBr)},YP=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=new bx(r);Vn.each(r.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==o;t=t.parentNode)n[e.nodeName.toLowerCase()]&&i.compare(t,e)&&r.remove(e,!0)})}},XP=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},JP=function(e){Vn.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},ZP=function(e){return!!e.getAttribute("data-mce-fragment")},QP=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},eB=function(e,t){var n,r,o,i,a,s=e.dom,l=e.selection;if(t){if(e.selection.scrollIntoView(t),n=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t))return s.remove(t),void l.select(n);var u=s.createRng();i=t.previousSibling,i&&3===i.nodeType?(u.setStart(i,i.nodeValue.length),gt.ie||(a=t.nextSibling)&&3===a.nodeType&&(i.appendData(a.data),a.parentNode.removeChild(a))):(u.setStartBefore(t),u.setEndBefore(t));r=s.getParent(t,s.isBlock),s.remove(t),r&&s.isEmpty(r)&&(e.$(r).empty(),u.setStart(r,0),u.setEnd(r,0),UP(r)||ZP(r)||!(o=function(t){var n=Yu.fromRangeStart(t);if(n=Mf(e.getBody()).next(n))return n.toRange()}(u))?s.add(r,s.create("br",{"data-mce-bogus":"1"})):(u=o,s.remove(r))),l.setRng(u)}},tB=function(e,t,n){var r,o,i,a,s,l,u,c,f,d,h,p=e.selection,m=e.dom;if(/^ | $/.test(t)&&(t=HP(p.getRng(),t)),r=e.parser,h=n.merge,o=hp({validate:e.settings.validate},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:t,format:"html",selection:!0,paste:n.paste},l=e.fire("BeforeSetContent",l),l.isDefaultPrevented())return void e.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});t=l.content,-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d),c=p.getRng();var g=c.startContainer||(c.parentElement?c.parentElement():null),v=e.getBody();g===v&&p.isCollapsed()&&m.isBlock(v.firstChild)&&QP(e,v.firstChild)&&m.isEmpty(v.firstChild)&&(c=m.createRng(),c.setStart(v.firstChild,0),c.setEnd(v.firstChild,0),p.setRng(c)),p.isCollapsed()||(e.selection.setRng(nC.normalize(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),t=VP(e.selection.getRng(),t)),i=p.getNode();var b={context:i.nodeName.toLowerCase(),data:n.data,insert:!0};if(s=r.parse(t,b),!0===n.paste&&$P.isListFragment(e.schema,s)&&$P.isParentBlockLi(m,i))return c=$P.insertAtCaret(o,m,e.selection.getRng(),s),e.selection.setRng(c),void e.fire("SetContent",l);if(XP(s),f=s.lastChild,"mce_marker"===f.attr("id"))for(u=f,f=f.prev;f;f=f.walk(!0))if(3===f.type||!m.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(u,f,"br"===f.name);break}if(e._selectionOverrides.showBlockCaretContainer(i),b.invalid){for(WP(e,d),i=p.getNode(),a=e.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;)i=f,f=f.parentNode;t=i===a?a.innerHTML:m.getOuterHTML(i),t=o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return o.serialize(s)}))),i===a?m.setHTML(a,t):m.setOuterHTML(i,t)}else t=o.serialize(s),KP(e,t,i);YP(e,h),eB(e,m.get("mce_marker")),JP(e.getBody()),GP(e.dom,e.selection.getStart()),e.fire("SetContent",l),e.addVisual()},nB=function(e){var t;return"string"!=typeof e?(t=Vn.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},rB=function(e,t){var n=nB(t);tB(e,n.content,n.details)},oB={insertAtCaret:rB},iB=function(e,t){e.getDoc().execCommand(t,!1,null)},aB=function(e){GD.backspaceDelete(e,!1)||vT.backspaceDelete(e,!1)||CT.backspaceDelete(e,!1)||NT.backspaceDelete(e,!1)||RO.backspaceDelete(e,!1)||ED.backspaceDelete(e)||VO.backspaceDelete(e,!1)||qT.backspaceDelete(e,!1)||(iB(e,"Delete"),dO.paddEmptyBody(e))},sB=function(e){vT.backspaceDelete(e,!0)||CT.backspaceDelete(e,!0)||NT.backspaceDelete(e,!0)||RO.backspaceDelete(e,!0)||ED.backspaceDelete(e)||VO.backspaceDelete(e,!0)||qT.backspaceDelete(e,!0)||iB(e,"ForwardDelete")},lB={deleteCommand:aB,forwardDeleteCommand:sB},uB=function(e,t,n){var r=function(t){return Bo(t,e)},o=function(e){return Xo(so.fromDom(t),e)};return ll(so.fromDom(n),function(e){return r(e).isSome()},o).bind(r)},cB=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},fB=function(e,t){return/[0-9.]+px$/.test(e)?cB(72*parseInt(e,10)/96,t||0)+"pt":e},dB=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},hB=function(e,t){return ue.from(gs.DOM.getStyle(t,e,!0))},pB=function(e){return function(t,n){return ue.from(n).map(so.fromDom).filter(mo).bind(function(n){return uB(e,t,n.dom()).or(hB(e,n.dom()))}).getOr("")}},mB={getFontSize:pB("font-size"),getFontFamily:X(dB,pB("font-family")),toPt:fB},gB=function(e){return Zf.firstPositionIn(e.getBody()).map(function(e){var t=e.container();return sa.isText(t)?t.parentNode:t})},vB=function(e,t){return e.startContainer===t&&0===e.startOffset},bB=function(e){return ue.from(e.selection.getRng()).bind(function(t){var n=e.getBody();return vB(t,n)?ue.none():ue.from(e.selection.getStart(!0))})},yB=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=sp.getFontStyleValues(e),o=sp.getFontSizeClasses(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},wB=function(e){var t=e.split(/\s*,\s*/);return _e(t,function(e){return-1===e.indexOf(" ")||Hr(e,'"')||Hr(e,"'")?e:'"'+e+'"'}).join(",")},xB=function(e,t){var n=yB(e,t);e.formatter.toggle("fontname",{value:wB(n)}),e.nodeChanged()},CB=function(e){return bB(e).fold(function(){return gB(e).map(function(t){return mB.getFontFamily(e.getBody(),t)}).getOr("")},function(t){return mB.getFontFamily(e.getBody(),t)})},kB=function(e,t){e.formatter.toggle("fontsize",{value:yB(e,t)}),e.nodeChanged()},_B=function(e){return bB(e).fold(function(){return gB(e).map(function(t){return mB.getFontSize(e.getBody(),t)}).getOr("")},function(t){return mB.getFontSize(e.getBody(),t)})},EB=Vn.each,AB=Vn.map,SB=Vn.inArray,OB=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var o,i,a=!1,s=this;if(!s.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?tm.restore(s.editor):s.editor.focus(),r=s.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n}),r.isDefaultPrevented())return!1;if(i=e.toLowerCase(),o=s.commands.exec[i])return o(i,t,n),s.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(EB(this.editor.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n))return s.editor.fire("ExecCommand",{command:e,ui:t,value:n}),a=!0,!1}),a)return a;if(s.editor.theme&&s.editor.theme.execCommand&&s.editor.theme.execCommand(e,t,n))return s.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{a=s.editor.getDoc().execCommand(e,t,n)}catch(e){}return!!a&&(s.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},e.prototype.addCommands=function(e,t){var n=this;t=t||"exec",EB(e,function(e,r){EB(r.toLowerCase().split(","),function(r){n.commands[t][r]=e})})},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=e.getDoc();try{t.execNativeCommand(n)}catch(e){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");gt.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),EB("left,center,right,justify".split(","),function(t){r!==t&&e.formatter.remove("align"+t)}),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r,o;t.execNativeCommand(n),(r=e.dom.getParent(e.selection.getNode(),"ol,ul"))&&(o=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)&&(t.storeSelection(),e.dom.split(o,r),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){xB(e,r)},FontSize:function(t,n,r){kB(e,r)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var i=o||e.selection.getNode();i!==e.getBody()&&(t.storeSelection(),e.dom.remove(i,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1},e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){oB.insertAtCaret(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceInsertNewLine:function(t,n,r){uF.insert(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){MD(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){var o;"string"==typeof r&&(r={href:r}),o=e.dom.getParent(e.selection.getNode(),"a"),r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),sa.isContentEditableTrue);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},delete:function(){lB.deleteCommand(e)},forwardDelete:function(){lB.forwardDeleteCommand(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return HN.insert(e,r),!0}});var n=function(t){return function(){var n=e.selection.isCollapsed()?[e.dom.getParent(e.selection.getNode(),e.dom.isBlock)]:e.selection.getSelectedBlocks(),r=AB(n,function(n){return!!e.formatter.matchNode(n,t)});return-1!==SB(r,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return PD(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",function(){return CB(e)},this),t.addQueryValueHandler("FontSize",function(){return _B(e)},this)},e}(),TB=Vn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),DB=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||te}return e.isNative=function(e){return!!TB[e.toLowerCase()]},e.prototype.fire=function(e,t){var n,r,o,i;if(e=e.toLowerCase(),t=t||{},t.type=e,t.target||(t.target=this.scope),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=ne},t.stopPropagation=function(){t.isPropagationStopped=ne},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=ne},t.isDefaultPrevented=te,t.isPropagationStopped=te,t.isImmediatePropagationStopped=te),this.settings.beforeFire&&this.settings.beforeFire(t),n=this.bindings[e])for(r=0,o=n.length;r<o;r++){if(i=n[r],i.once&&this.off(e,i.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===i.func.call(this.scope,t))return t.preventDefault(),t}return t},e.prototype.on=function(e,t,n,r){var o,i,a;if(!1===t&&(t=te),t){var s={func:t};for(r&&Vn.extend(s,r),i=e.toLowerCase().split(" "),a=i.length;a--;)e=i[a],o=this.bindings[e],o||(o=this.bindings[e]=[],this.toggleEvent(e,!0)),n?o.unshift(s):o.push(s)}return this},e.prototype.off=function(e,t){var n,r,o,i,a;if(e)for(i=e.toLowerCase().split(" "),n=i.length;n--;){if(e=i[n],r=this.bindings[e],!e){for(o in this.bindings)this.toggleEvent(o,!1),delete this.bindings[o];return this}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),this.bindings[e]=r);else r.length=0;r.length||(this.toggleEvent(e,!1),delete this.bindings[e])}}else{for(e in this.bindings)this.toggleEvent(e,!1);this.bindings={}}return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),NB=function(e){return e._eventDispatcher||(e._eventDispatcher=new DB({scope:e,toggleEvent:function(t,n){DB.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},FB={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;var o=NB(r).fire(e,t);if(!1!==n&&r.parent)for(var i=r.parent();i&&!o.isPropagationStopped();)i.fire(e,o,!1),i=i.parent();return o},on:function(e,t,n){return NB(this).on(e,t,n)},off:function(e,t){return NB(this).off(e,t)},once:function(e,t){return NB(this).once(e,t)},hasEventListeners:function(e){return NB(this).has(e)}},LB=gs.DOM,PB=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=LB.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},BB=function(e){return!e.hidden&&!cP(e)},RB=function(e,t,n){BB(e)?e.fire(t,n):cP(e)&&hP(n)},qB=function(e,t){var n,r;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=PB(e,t),e.settings.event_root){if(MA||(MA={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&MA){for(t in MA)e.dom.unbind(PB(e,t));MA=null}})),MA[t])return;r=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||LB.isChildOf(r,a))&&RB(o[i],t,n)}},MA[t]=r,LB.bind(n,t,r)}else r=function(n){RB(e,t,n)},LB.bind(n,t,r),e.delegates[t]=r},MB=Ue({},FB,{bindPendingEventDelegates:function(){var e=this;Vn.each(e._pendingNativeEvents,function(t){qB(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?qB(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(PB(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),r=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(PB(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()))}}),jB=Vn.each,IB=Vn.explode,$B={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},zB=Vn.makeMap("alt,ctrl,shift,meta,access"),HB=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(jB(t.shortcuts,function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}return e.prototype.add=function(e,t,n,r){var o,i=this;return o=n,"string"==typeof n?n=function(){i.editor.execCommand(o,!1,null)}:Vn.isArray(o)&&(n=function(){i.editor.execCommand(o[0],o[1],o[2])}),jB(IB(Vn.trim(e)),function(e){var o=i.createShortcut(e,t,n,r);i.shortcuts[o.id]=o}),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.parseShortcut=function(e){var t,n,r={};jB(IB(e.toLowerCase(),"+"),function(e){e in zB?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=$B[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode];for(n in zB)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,gt.mac?r.ctrl=!0:r.shift=!0),r.meta&&(gt.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},e.prototype.createShortcut=function(e,t,n,r){var o;return o=Vn.map(IB(e,">"),this.parseShortcut),o[o.length-1]=Vn.extend(o[o.length-1],{func:n,scope:r||this.editor}),Vn.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),VB=Vn.each,UB=Vn.trim,WB="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),KB={ftp:21,http:80,https:443,mailto:25},GB=function(){function e(t,r){t=UB(t),this.settings=r||{};var o=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(i.source=t);var a=0===t.indexOf("//");if(0!==t.indexOf("/")||a||(t=(o?o.protocol||"http":"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var s=this.settings.base_uri?this.settings.base_uri.path:new e(n.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+i.toAbsPath(s,t);else{var l=/([^#?]*)([#?]?.*)/.exec(t);t=(o&&o.protocol||"http")+"://mce_host"+i.toAbsPath(s,l[1])+l[2]}}t=t.replace(/@@/g,"(mce_at)");var u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);VB(WB,function(e,t){var n=u[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[e]=n}),o&&(i.protocol||(i.protocol=o.protocol),i.userInfo||(i.userInfo=o.userInfo),i.port||"mce_host"!==i.host||(i.port=o.port),i.host&&"mce_host"!==i.host||(i.host=o.host),i.source=""),a&&(i.protocol="")}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=KB[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,o,i=0,a="",s=e.substring(0,e.lastIndexOf("/")).split("/");if(n=t.split("/"),s.length>=n.length)for(r=0,o=s.length;r<o;r++)if(r>=n.length||s[r]!==n[r]){i=r+1;break}if(s.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=s.length||s[r]!==n[r]){i=r+1;break}if(1===i)return t;for(r=0,o=s.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!==i-1?"/"+n[r]:n[r];return a},e.prototype.toAbsPath=function(e,t){var n,r,o,i=0,a=[];r=/\/$/.test(t)?"/":"";var s=e.split("/"),l=t.split("/");for(VB(s,function(e){e&&a.push(e)}),s=a,n=l.length-1,a=[];n>=0;n--)0!==l[n].length&&"."!==l[n]&&(".."!==l[n]?i>0?i--:a.push(l[n]):i++);return n=s.length-i,o=n<=0?a.reverse().join("/"):s.slice(0,n).join("/")+"/"+a.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},e.prototype.getURI=function(e){void 0===e&&(e=!1);var t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),YB=function(){var e={},t={},n={},r={},o={},i={},a={},s=function(e,t){return function(n,r){return e[n.toLowerCase()]=Ue({},r,{type:t})}},l=function(e,t){return r[e.toLowerCase()]=t};return{addButton:s(e,"button"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(o,"contextmenu"),addContextToolbar:s(i,"contexttoolbar"),addContextForm:s(i,"contextform"),addSidebar:s(a,"sidebar"),addIcon:l,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}},XB=function(){var e=YB();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},JB=gs.DOM,ZB=Vn.extend,QB=Vn.each,eR=Vn.resolve,tR=gt.ie,nR=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,ZB(this,MB),this.settings=Sg(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,Bs.languageLoad=this.settings.language_load,Bs.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new GB(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=this.settings.inline,this.shortcuts=new HB(this),this.editorCommands=new OB(this),this.settings.cache_suffix&&(gt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:XB()};var o=this,i=yP(o);this.mode=i,this.setMode=i.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=xr.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})}return e.prototype.render=function(){tP.render(this)},e.prototype.focus=function(e){Pm.focus(this,e)},e.prototype.hasFocus=function(){return Pm.hasFocus(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=i.replace(/\.\w+$/,""),r=r?eR(r):0,i=eR(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,Array.prototype.slice.call(arguments,1))},e.prototype.translate=function(e){return Ls.translate(e)},e.prototype.getParam=function(e,t,n){return Ng(this,e,t,n)},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(JB.show(e.getContainer()),JB.hide(e.id)),e.load(),e.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(tR&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(JB.hide(e.getContainer()),JB.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this,r=n.getElement();if(n.removed)return"";if(r){e=e||{},e.load=!0;var o=sa.isTextareaOrInput(r)?r.value:r.innerHTML;return t=n.setContent(o,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t}},e.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,sa.isTextareaOrInput(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=JB.getParent(r.id,"form"))&&QB(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return Im(this,e,t)},e.prototype.getContent=function(e){return cp(this,e)},e.prototype.insertContent=function(e,t){t&&(e=ZB({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?Im(this,this.startContent,{format:"raw"}):Im(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){var e=this;return e.container||(e.container=JB.get(e.editorContainer||e.id+"_parent")),e.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=JB.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},e.prototype.getDoc=function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)},e.prototype.addVisual=function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),QB(o.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",i=o.getAttrib(e,"border"),void(i&&"0"!==i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href")||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},e.prototype.remove=function(){eg(this)},e.prototype.destroy=function(e){tg(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),rR=gs.DOM,oR=Vn.explode,iR=Vn.each,aR=Vn.extend,sR=0,lR=!1,uR=[],cR=[],fR=function(e){return"length"!==e},dR=function(e){var t=e.type;iR(vR.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}})},hR=function(e){e!==lR&&(e?xr(window).on("resize scroll",dR):xr(window).off("resize scroll",dR),lR=e)},pR=function(e){var t=cR;delete uR[e.id];for(var n=0;n<uR.length;n++)if(uR[n]===e){uR.splice(n,1);break}return cR=Oe(cR,function(t){return e!==t}),vR.activeEditor===e&&(vR.activeEditor=cR.length>0?cR[0]:null),vR.focusedEditor===e&&(vR.focusedEditor=null),t.length!==cR.length},mR=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(pR(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},gR="CSS1Compat"!==n.document.compatMode,vR=Ue({},FB,{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:xr,majorVersion:"5",minorVersion:"0.15",releaseDate:"2019-09-02",editors:uR,i18n:Ls,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,r,o,i=this,a="";if(t=GB.getDocumentBaseUrl(n.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),r=window.tinymce||window.tinyMCEPreInit)e=r.base||r.baseURL,a=r.suffix;else{for(var s=n.document.getElementsByTagName("script"),l=0;l<s.length;l++){o=s[l].src;var u=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==u.indexOf(".min")&&(a=".min"),e=o.substring(0,o.lastIndexOf("/"));break}}!e&&n.document.currentScript&&(o=n.document.currentScript.src,-1!==o.indexOf(".min")&&(a=".min"),e=o.substring(0,o.lastIndexOf("/")))}i.baseURL=new GB(t).toAbsolute(e),i.documentBaseURL=t,i.baseURI=new GB(i.baseURL),i.suffix=a,ym.setup(i)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&this._setBaseUrl(t),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;for(var o in r)Bs.PluginManager.urls[o]=r[o]},init:function(e){var t,r,o=this;r=Vn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var i=function(e,t){return e.inline&&t.tagName.toLowerCase()in r},a=function(e){var t=e.id;return t||(t=e.name,t=t&&!rR.get(t)?e.name:rR.uniqueId(),e.setAttribute("id",t)),t},s=function(t){var n=e[t];if(n)return n.apply(o,Array.prototype.slice.call(arguments,2))},l=function(e,t){return t.constructor===RegExp?t.test(e.className):rR.hasClass(e,t)},u=function(e){var t,r=[];if(gt.ie&&gt.ie<11)return nv.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(gR)return nv.initError("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return iR(e.types,function(e){r=r.concat(rR.select(e.selector))}),r;if(e.selector)return rR.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":t=e.elements||"",t.length>0&&iR(oR(t),function(e){var t;(t=rR.get(e))?r.push(t):iR(n.document.forms,function(t){iR(t.elements,function(t){t.name===e&&(e="mce_editor_"+sR++,rR.setAttrib(t,"id",e),r.push(t))})})});break;case"textareas":case"specific_textareas":iR(rR.select("textarea"),function(t){e.editor_deselector&&l(t,e.editor_deselector)||e.editor_selector&&!l(t,e.editor_selector)||r.push(t)})}return r},c=function(e){t=e},f=function(){var t,n=0,r=[],l=function(e,i,a){var s=new nR(e,i,o);r.push(s),s.on("init",function(){++n===t.length&&c(r)}),s.targetElm=s.targetElm||a,s.render()};if(rR.unbind(window,"ready",f),s("onpageload"),t=xr.unique(u(e)),e.types)return void iR(e.types,function(n){Vn.each(t,function(t){return!rR.is(t,n.selector)||(l(a(t),aR({},e,n),t),!1)})});Vn.each(t,function(e){mR(o.get(e.id))}),t=Vn.grep(t,function(e){return!o.get(e.id)}),0===t.length?c([]):iR(t,function(t){i(e,t)?nv.initError("Could not initialize inline editor on invalid inline target element",t):l(a(t),e,t)})};return o.settings=e,rR.bind(window,"ready",f),new vt(function(e){t?e(t):c=function(t){e(t)}})},get:function(e){return 0===arguments.length?cR.slice(0):de(e)?Ne(cR,function(t){return t.id===e}).getOr(null):be(e)&&cR[e]?cR[e]:null},add:function(e){var t=this;return uR[e.id]===e?e:(null===t.get(e.id)&&(fR(e.id)&&(uR[e.id]=e),uR.push(e),cR.push(e)),hR(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),jA||(jA=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",jA)),e)},createEditor:function(e,t){return this.add(new nR(e,t,this))},remove:function(e){var t,n,r=this;if(e)return de(e)?void iR(rR.select(e),function(e){(n=r.get(e.id))&&r.remove(n)}):(n=e,me(r.get(n.id))?null:(pR(n)&&r.fire("RemoveEditor",{editor:n}),0===cR.length&&window.removeEventListener("beforeunload",jA),n.remove(),hR(cR.length>0),n));for(t=cR.length-1;t>=0;t--)r.remove(cR[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new nR(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){iR(cR,function(e){e.save()})},addI18n:function(e,t){Ls.add(e,t)},translate:function(e){return Ls.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new GB(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new GB(this.baseURL)}});vR.setup(),function(e){e.compareRanges=Rv.isEq,e.getCaretRangeFromPoint=r_.fromPoint,e.getSelectedNode=yu,e.getNode=wu}(B||(B={}));var bR,yR,wR=B,xR=function(e,t,r){void 0===r&&(r=1e3);var o=!1,i=null,a=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];o||(o=!0,null!==i&&(n.clearTimeout(i),i=null),e.apply(null,t))}},s=a(e),l=a(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||null!==i||(i=n.setTimeout(function(){return l.apply(null,e)},r))},resolve:s,reject:l}},CR=function(){var e={},t={};return{load:function(n,r){var o='Script at URL "'+r+'" failed to load',i='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==e[n])return e[n];var a=new vt(function(e,a){var s=xR(e,a);t[n]=s.resolve,ws.ScriptLoader.loadScript(r,function(){return s.start(i)},function(){return s.reject(o)})});return e[n]=a,a},add:function(n,r){void 0!==t[n]&&(t[n](r),delete t[n]),e[n]=vt.resolve(r)}}}(),kR=Math.min,_R=Math.max,ER=Math.round,AR=function(e,t,n){var r,o,i,a,s,l;return r=t.x,o=t.y,i=e.w,a=e.h,s=t.w,l=t.h,n=(n||"").split(""),"b"===n[0]&&(o+=l),"r"===n[1]&&(r+=s),"c"===n[0]&&(o+=ER(l/2)),"c"===n[1]&&(r+=ER(s/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=ER(a/2)),"c"===n[4]&&(r-=ER(i/2)),NR(r,o,i,a)},SR=function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if(o=AR(e,t,r[i]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},OR=function(e,t,n){return NR(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},TR=function(e,t){var n,r,o,i;return n=_R(e.x,t.x),r=_R(e.y,t.y),o=kR(e.x+e.w,t.x+t.w),i=kR(e.y+e.h,t.y+t.h),o-n<0||i-r<0?null:NR(n,r,o-n,i-r)},DR=function(e,t,n){var r,o,i,a,s,l,u,c,f,d;return s=e.x,l=e.y,u=e.x+e.w,c=e.y+e.h,f=t.x+t.w,d=t.y+t.h,r=_R(0,t.x-s),o=_R(0,t.y-l),i=_R(0,u-f),a=_R(0,c-d),s+=r,l+=o,n&&(u+=r,c+=o,s-=i,l-=a),u-=i,c-=a,NR(s,l,u-s,c-l)},NR=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},FR=function(e){return NR(e.left,e.top,e.width,e.height)},LR={inflate:OR,relativePosition:AR,findBestRelativePosition:SR,intersect:TR,clamp:DR,create:NR,fromClientRect:FR},PR=Vn.each,BR=Vn.extend,RR=function(){};RR.extend=bR=function(e){var t,n,r,o=this,i=o.prototype,a=function(){var e,t,n,r=this;if(!yR&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)},s=function(){return this};yR=!0,t=new o,yR=!1,e.Mixins&&(PR(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),i.Mixins&&(e.Mixins=i.Mixins.concat(e.Mixins))),e.Methods&&PR(e.Methods.split(","),function(t){e[t]=s}),e.Properties&&PR(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&PR(e.Statics,function(e,t){a[t]=e}),e.Defaults&&i.Defaults&&(e.Defaults=BR({},i.Defaults,e.Defaults));for(n in e)r=e[n],"function"==typeof r&&i[n]?t[n]=function(e,t){return function(){var n,r=this,o=r._super;return r._super=i[e],n=t.apply(r,arguments),r._super=o,n}}(n,r):t[n]=r;return a.prototype=t,a.constructor=a,a.extend=bR,a};var qR,MR=Math.min,jR=Math.max,IR=Math.round,$R=function(e){var t={},n=0,r=0,o=0,i=function(e,t,n){var r,o,i,a,s,l;return r=0,o=0,i=0,e/=255,t/=255,n/=255,s=MR(e,MR(t,n)),l=jR(e,jR(t,n)),s===l?(i=s,{h:0,s:0,v:100*i}):(a=e===s?t-n:n===s?e-t:n-e,r=e===s?3:n===s?1:5,r=60*(r-a/(l-s)),o=(l-s)/l,i=l,{h:IR(r),s:IR(100*o),v:IR(100*i)})},a=function(e,t,i){var a,s,l,u;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=jR(0,MR(t,1)),i=jR(0,MR(i,1)),0===t)return void(n=r=o=IR(255*i));switch(a=e/60,s=i*t,l=s*(1-Math.abs(a%2-1)),u=i-s,Math.floor(a)){case 0:n=s,r=l,o=0;break;case 1:n=l,r=s,o=0;break;case 2:n=0,r=s,o=l;break;case 3:n=0,r=l,o=s;break;case 4:n=l,r=0,o=s;break;case 5:n=s,r=0,o=l;break;default:n=r=o=0}n=IR(255*(n+u)),r=IR(255*(r+u)),o=IR(255*(o+u))},s=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},l=function(){return{r:n,g:r,b:o}},u=function(){return i(n,r,o)},c=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&a(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&c(e),t.toRgb=l,t.toHsv=u,t.toHex=s,t.parse=c,t},zR=function(e){var t=JSON.stringify(e);return de(t)?t.replace(/[\u0080-\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}):t},HR={serialize:zR,parse:function(e){try{return JSON.parse(e)}catch(e){}}},VR={callbacks:{},count:0,send:function(e){var t=this,n=gs.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},UR=Ue({},FB,{send:function(e){var t,r=0,o=function(){!e.async||4===t.readyState||r++>1e4?(e.success&&r<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):_t.setTimeout(o,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",UR.fire("beforeInitialize",{settings:e}),t=new n.XMLHttpRequest){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Vn.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=UR.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return o();_t.setTimeout(o,10)}}}),WR=Vn.extend,KR=function(){function e(e){this.settings=WR({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=WR(this.settings,e);r.success=function(e,o){e=HR.parse(e),void 0===e&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=HR.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",UR.send(r)},e}();try{qR=n.window.localStorage}catch(e){qR=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()}()}var GR=qR,YR={geom:{Rect:LR},util:{Promise:vt,Delay:_t,Tools:Vn,VK:ey,URI:GB,Class:RR,EventDispatcher:DB,Observable:FB,I18n:Ls,XHR:UR,JSON:HR,JSONRequest:KR,JSONP:VR,LocalStorage:GR,Color:$R},dom:{EventUtils:Rt,Sizzle:wn,DomQuery:xr,TreeWalker:la,DOMUtils:gs,ScriptLoader:ws,RangeUtils:wR,Serializer:ak,ControlSelection:dk,BookmarkManager:lk,Selection:EE,Event:Rt.Event},html:{Styles:ss,Entities:Ya,Node:ph,Schema:w,SaxParser:Ch,DomParser:ZC,Writer:dp,Serializer:hp},Env:gt,AddOnManager:Bs,Annotator:ch,Formatter:SC,UndoManager:Vy,EditorCommands:OB,WindowManager:Ug,NotificationManager:S,EditorObservable:MB,Shortcuts:HB,Editor:nR,FocusManager:rm,EditorManager:vR,DOM:gs.DOM,ScriptLoader:ws.ScriptLoader,PluginManager:Bs.PluginManager,ThemeManager:Bs.ThemeManager,IconManager:ov,Resource:CR,trim:Vn.trim,isArray:Vn.isArray,is:Vn.is,toArray:Vn.toArray,makeMap:Vn.makeMap,each:Vn.each,map:Vn.map,grep:Vn.grep,inArray:Vn.inArray,extend:Vn.extend,create:Vn.create,walk:Vn.walk,createNS:Vn.createNS,resolve:Vn.resolve,explode:Vn.explode,_addCacheSuffix:Vn._addCacheSuffix,isOpera:gt.opera,isWebKit:gt.webkit,isIE:gt.ie,isGecko:gt.gecko,isMac:gt.mac},XR=Vn.extend(vR,YR);!function(e){window.tinymce=e,window.tinyMCE=e}(XR),function(t){try{e.exports=t}catch(e){}}(XR)}(window)}).call(t,n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(142);t.default=r.a},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(143),o=n(144),i=n(32),a=n(145),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},s.apply(this,arguments)},l=r.a(),u=function(e,t,n){return e(n||"div",{attrs:{id:t}})},c=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},f=function(e){return function(){var t=s({},e.$props.init,{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:Object(i.c)(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",function(n){return Object(i.a)(n,e,t)}),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(t)}});Object(i.b)(e.element)&&(e.element.style.visibility=""),Object(o.a)().init(t)}},d={props:a.a,created:function(){this.elementId=this.$props.id||Object(i.d)("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(o.a)())f(this)();else if(this.element&&this.element.ownerDocument){var e=this.element.ownerDocument,t=this.$props.cloudChannel?this.$props.cloudChannel:"5",n=this.$props.apiKey?this.$props.apiKey:"no-api-key";r.b(l,e,"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+t+"/tinymce.min.js",f(this))}},beforeDestroy:function(){null!==Object(o.a)()&&Object(o.a)().remove(this.editor)},render:function(e){return this.inlineEditor?u(e,this.elementId,this.$props.tagName):c(e,this.elementId)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(32),o=function(e,t,n,r){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.addEventListener("load",r),o.src=n,t.head&&t.head.appendChild(o)},i=function(){return{listeners:[],scriptId:Object(r.d)("tiny-script"),scriptLoaded:!1}},a=function(e,t,n,r){e.scriptLoaded?r():(e.listeners.push(r),t.getElementById(e.scriptId)||o(e.scriptId,t,n,function(){e.listeners.forEach(function(e){return e()}),e.scriptLoaded=!0}))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=function(){return"undefined"!=typeof window?window:e},o=function(){var e=r();return e&&e.tinymce?e.tinymce:null}}).call(t,n(3))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean}},function(e,t,n){n(147)},function(e,t,n){(function(e){!function(t){"use strict";function n(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function o(e,t,n,r,o){return e(n,r)?ye.some(n):De(o)&&o(n)?ye.none():t(n,r,o)}function i(e,t){var n=function(t,n){if(!Ne(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();ll(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=pl(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return We(t,function(t,n){var r=pl(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}function a(e){return void 0!==e.uid}function s(e,t,n){var r=t.backstage,o=function(e){return e.inline?e.getElement():e.getContentAreaContainer()},i=function(e){$e(e,function(e){e.moveTo(0,0)})},a=function(t){if(t.length>0){var n=t.slice(0,1)[0],r=o(e);n.moveRel(r,"tc-tc"),$e(t,function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")})}},s=function(e){i(e),a(e)};return{open:function(e,o){var i=function(){o(),pw.hide(s)},a=Pl(Ew.sketch({text:e.text,level:Re(["success","error","warning","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:ye.from(e.icon),onAction:i,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),s=Pl(pw.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}}));return n.add(s),e.timeout>0&&Aw.setTimeout(function(){i()},e.timeout),{close:i,moveTo:function(e,t){pw.showAt(s,{anchor:"makeshift",x:e,y:t},Bl(a))},moveRel:function(e,n){pw.showAt(s,t.backstage.shared.anchors.banner(),Bl(a))},text:function(e){Ew.updateText(a,e)},settings:e,getEl:function(){},progressBar:{value:function(e){Ew.updateProgress(a,e)}}}},close:function(e){e.close()},reposition:s,getArgs:function(e){return e.settings}}}function l(e){var t=rs("size-label"),n=ZC(t,10,10),r=bw({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[Nl("0x0")],behaviours:ku([Db.config({})])});return{type:"widget",data:{value:rs("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[GC().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:ek(n).concat(r.asSpec()),behaviours:ku([sy("insert-table-picker",[aa(YC,function(e,t,o){var i=o.event().row(),a=o.event().col();QC(n,i,a,10,10),Db.set(r.get(e),[tk(i,a)])}),aa(XC,function(t,n,r){e.onAction({numRows:r.event().row()+1,numColumns:r.event().col()+1}),Pi(t,wi())})]),yb.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}}function u(e,t){var n=r_.getColors(t.colorinput.getColors(),t.colorinput.hasCustomColors()),r=t.colorinput.getColorCols(),o=y_(rs("menu-value"),n,function(t){e.onAction({value:t})},r,"color",BC.CLOSE_ON_EXECUTE,function(){return!1},t.shared.providers),i=kt(de({},o,{markers:f_("color"),movement:x_(r,"color")}));return{type:"widget",data:{value:rs("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[GC().widget(ew.sketch(i))]}}function c(e,n){var r=null,o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r=t.setTimeout(function(){e.apply(null,o),r=null},n)};return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},schedule:o}}function f(){var e={},t=function(t,n,r){ut(r,function(r,o){var i=void 0!==e[o]?e[o]:{};i[n]=Bs(r,t),e[o]=i})},n=function(e,t){return cs(t).fold(function(){return ye.none()},function(n){var r=zt(n);return e.bind(r).map(function(e){return xE(t,e)})})},r=function(t){return Vt(e,t).map(function(e){return dt(e,function(e,t){return CE(t,e)})}).getOr([])},o=function(t,r,o){var i=zt(r),a=i(e);return Ji(o,function(e){return n(a,e)},t)};return{registerId:t,unregisterId:function(t){ut(e,function(e,n){e.hasOwnProperty(t)&&delete e[t]})},filterByType:r,find:o}}function d(){var e=f(),t={},n=function(e){var t=e.element();return cs(t).fold(function(){return ls("uid-",e.element())},function(e){return e})},r=function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+Za(r.element())+"\nCannot use it for: "+Za(e.element())+"\nThe conflicting element is"+(Ui(r.element())?" ":" not ")+"already in the DOM");i(e)},o=function(o){var i=n(o);Xt(t,i)&&r(o,i);var a=[o];e.registerId(a,i,o.events()),t[i]=o},i=function(n){cs(n.element()).each(function(n){delete t[n],e.unregisterId(n)})},a=function(t){return e.filterByType(t)};return{find:function(t,n,r){return e.find(t,n,r)},filter:a,register:o,unregister:i,getById:function(e){return zt(e)(t)}}}function h(e,n){return g(t.document.createElement("canvas"),e,n)}function p(e){var t=h(e.width,e.height);return m(t).drawImage(e,0,0),t}function m(e){return e.getContext("2d")}function g(e,t,n){return e.width=t,e.height=n,e}function v(e){return e.naturalWidth||e.width}function b(e){return e.naturalHeight||e.height}function y(e){return new ON(function(n,r){function o(){l(),n(s)}function i(){l(),r("Unable to load data of type "+e.type+": "+a)}var a=t.URL.createObjectURL(e),s=new t.Image,l=function(){s.removeEventListener("load",o),s.removeEventListener("error",i)};s.addEventListener("load",o),s.addEventListener("error",i),s.src=a,s.complete&&o()})}function w(e){var n=e.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return ye.none();for(var o=r[1],i=n[1],a=t.atob(i),s=a.length,l=Math.ceil(s/1024),u=new Array(l),c=0;c<l;++c){for(var f=1024*c,d=Math.min(f+1024,s),h=new Array(d-f),p=f,m=0;p<d;++m,++p)h[m]=a[p].charCodeAt(0);u[c]=new Uint8Array(h)}return ye.some(new t.Blob(u,{type:o}))}function x(e){return new ON(function(t,n){w(e).fold(function(){n("uri is not base64: "+e)},t)})}function C(e,n,r){return n=n||"image/png",t.HTMLCanvasElement.prototype.toBlob?new ON(function(t,o){e.toBlob(function(e){e?t(e):o()},n,r)}):x(e.toDataURL(n,r))}function k(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}function _(e){return y(e).then(function(e){A(e);var t=h(v(e),b(e));return m(t).drawImage(e,0,0),t})}function E(e){return new ON(function(n){var r=new t.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)})}function A(e){t.URL.revokeObjectURL(e.src)}function S(e,t,n){function r(){return ON.resolve(t)}function o(){return n}function i(){return n.split(",")[1]}function a(t,n){return e.then(function(e){return C(e,t,n)})}function s(t,n){return e.then(function(e){return k(e,t,n)})}function l(e,t){return s(e,t).then(function(e){return e.split(",")[1]})}function u(){return e.then(p)}var c=t.type;return{getType:ie(c),toBlob:r,toDataURL:o,toBase64:i,toAdjustedBlob:a,toAdjustedDataURL:s,toAdjustedBase64:l,toCanvas:u}}function O(e){return E(e).then(function(t){return S(_(e),e,t)})}function T(e,t){return C(e,t).then(function(t){return S(ON.resolve(e),t,e.toDataURL())})}function D(e,t,n){var r="string"==typeof e?parseFloat(e):e;return r>n?r=n:r<t&&(r=t),r}function N(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function F(e,t){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=t[a+5*i];for(var a=0;a<5;a++){n=0;for(var s=0;s<5;s++)n+=e[a+5*s]*r[s];o[a+5*i]=n}}return o}function L(e,t){var n;return t=D(t,-1,1),t*=100,t<0?n=127+t/100*127:(n=t%1,n=0===n?DN[t]:DN[Math.floor(t)]*(1-n)+DN[Math.floor(t)+1]*n,n=127*n+127),F(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}function P(e,t){return t=D(255*t,-255,255),F(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])}function B(e,t,n,r){return t=D(t,0,2),n=D(n,0,2),r=D(r,0,2),F(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}function R(e,t){return e.toCanvas().then(function(n){return q(n,e.getType(),t)})}function q(e,t,n){var r=m(e),o=function(e,t){for(var n,r,o,i,a=e.data,s=t[0],l=t[1],u=t[2],c=t[3],f=t[4],d=t[5],h=t[6],p=t[7],m=t[8],g=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],C=t[15],k=t[16],_=t[17],E=t[18],A=t[19],S=0;S<a.length;S+=4)n=a[S],r=a[S+1],o=a[S+2],i=a[S+3],a[S]=n*s+r*l+o*u+i*c+f,a[S+1]=n*d+r*h+o*p+i*m+g,a[S+2]=n*v+r*b+o*y+i*w+x,a[S+3]=n*C+r*k+o*_+i*E+A;return e}(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(o,0,0),T(e,t)}function M(e,t){return e.toCanvas().then(function(n){return j(n,e.getType(),t)})}function j(e,t,n){var r=m(e),o=r.getImageData(0,0,e.width,e.height),i=r.getImageData(0,0,e.width,e.height);return i=function(e,t,n){function r(e,t,n){return e>n?e=n:e<t&&(e=t),e}for(var o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=e.data,s=t.data,l=e.width,u=e.height,c=0;c<u;c++)for(var f=0;f<l;f++){for(var d=0,h=0,p=0,m=0;m<o;m++)for(var g=0;g<o;g++){var v=r(f+g-i,0,l-1),b=r(c+m-i,0,u-1),y=4*(b*l+v),w=n[m*o+g];d+=a[y]*w,h+=a[y+1]*w,p+=a[y+2]*w}var x=4*(c*l+f);s[x]=r(d,0,255),s[x+1]=r(h,0,255),s[x+2]=r(p,0,255)}return t}(o,i,n),r.putImageData(i,0,0),T(e,t)}function I(e){return function(t,n){return R(t,e(N(),n))}}function $(e,t,n){var r=v(e),o=b(e),i=t/r,a=n/o,s=!1;(i<.5||i>2)&&(i=i<.5?.5:2,s=!0),(a<.5||a>2)&&(a=a<.5?.5:2,s=!0);var l=z(e,i,a);return s?l.then(function(e){return $(e,t,n)}):l}function z(e,t,n){return new ON(function(r){var o=v(e),i=b(e),a=Math.floor(o*t),s=Math.floor(i*n),l=h(a,s);m(l).drawImage(e,0,0,o,i,0,0,a,s),r(l)})}function H(e,t){return e.toCanvas().then(function(n){return V(n,e.getType(),t)})}function V(e,t,n){var r=h(e.width,e.height),o=m(r),i=0,a=0;return n=n<0?360+n:n,90!==n&&270!==n||g(r,r.height,r.width),90!==n&&180!==n||(i=r.width),270!==n&&180!==n||(a=r.height),o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(e,0,0),T(r,t)}function U(e,t){return e.toCanvas().then(function(n){return W(n,e.getType(),t)})}function W(e,t,n){var r=h(e.width,e.height),o=m(r);return"v"===n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0)),T(r,t)}function K(e,t,n,r,o){return e.toCanvas().then(function(i){return G(i,e.getType(),t,n,r,o)})}function G(e,t,n,r,o,i){var a=h(o,i);return m(a).drawImage(e,-n,-r),T(a,t)}function Y(e,t,n){return e.toCanvas().then(function(r){return $(r,t,n).then(function(t){return T(t,e.getType())})})}function X(e){var t,n,r,o,i,a,s,l,u=Math.max;return t=e.documentElement,n=e.body,r=u(t.scrollWidth,n.scrollWidth),o=u(t.clientWidth,n.clientWidth),i=u(t.offsetWidth,n.offsetWidth),a=u(t.scrollHeight,n.scrollHeight),s=u(t.clientHeight,n.clientHeight),l=u(t.offsetHeight,n.offsetHeight),{width:r<i?o:r,height:a<l?s:a}}function J(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function Z(e,n){var r,o,i,a,s,l,u,c=n.document||t.document;n=n||{};var f=c.getElementById(n.handle||e);i=function(e){var i,d,h=X(c);J(e),e.preventDefault(),o=e.button,i=f,l=e.screenX,u=e.screenY,d=t.window.getComputedStyle?t.window.getComputedStyle(i,null).getPropertyValue("cursor"):i.runtimeStyle.cursor,r=HF("<div></div>").css({position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,cursor:d}).appendTo(c.body),HF(c).on("mousemove touchmove",s).on("mouseup touchend",a),n.start(e)},s=function(e){if(J(e),e.button!==o)return a(e);e.deltaX=e.screenX-l,e.deltaY=e.screenY-u,e.preventDefault(),n.drag(e)},a=function(e){J(e),HF(c).off("mousemove touchmove",s).off("mouseup touchend",a),r.remove(),n.stop&&n.stop(e)},this.destroy=function(){HF(f).off()},HF(f).on("mousedown touchstart",i)}function Q(e,t,n,r,o){function i(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}}function a(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}}function s(){return a(n,e)}function l(t,r,o,i){var s,l,u,c,f;s=r.x,l=r.y,u=r.w,c=r.h,s+=o*t.deltaX,l+=i*t.deltaY,u+=o*t.deltaW,c+=i*t.deltaH,u<20&&(u=20),c<20&&(c=20),f=e=VF.clamp({x:s,y:l,w:u,h:c},n,"move"===t.name),f=a(n,f),g.fire("updateRect",{rect:f}),h(f)}function u(e){var t;t=WF.map(v,function(e){return"#"+x+"-"+e.name}).concat(WF.map(y,function(e){return"#"+x+"-"+e})).join(","),e?HF(t,r).show():HF(t,r).hide()}function c(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),HF("#"+x+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})}WF.each(v,function(t){HF("#"+x+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})}),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function f(t){e=t,c(e)}function d(n){t=n,c(e)}function h(e){f(i(n,e))}function p(t){n=t,c(e)}function m(){WF.each(b,function(e){e.destroy()}),b=[]}var g,v,b,y,w="tox-",x=w+"crid-"+GF++;return v=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],y=["top","right","bottom","left"],function(){function t(t){var n;return new Z(x,{document:r.ownerDocument,handle:x+"-"+t.name,start:function(){n=e},drag:function(e){l(t,n,e.deltaX,e.deltaY)}})}HF('<div id="'+x+'" class="'+w+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),WF.each(y,function(e){HF("#"+x,r).append('<div id="'+x+"-"+e+'"class="'+w+'croprect-block" style="display: none" data-mce-bogus="all">')}),WF.each(v,function(e){HF("#"+x,r).append('<div id="'+x+"-"+e.name+'" class="'+w+"croprect-handle "+w+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')}),b=WF.map(v,t),c(e),HF(r).on("focusin focusout",function(e){HF(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")}),HF(r).on("keydown",function(t){function n(e,t,n,o,i){e.stopPropagation(),e.preventDefault(),l(r,n,o,i)}var r;switch(WF.each(v,function(e){if(t.target.id===x+"-"+e.name)return r=e,!1}),t.keyCode){case KF.LEFT:n(t,r,e,-10,0);break;case KF.RIGHT:n(t,r,e,10,0);break;case KF.UP:n(t,r,e,0,-10);break;case KF.DOWN:n(t,r,e,0,10);break;case KF.ENTER:case KF.SPACEBAR:t.preventDefault(),o()}})}(),g=WF.extend({toggleVisibility:u,setClampRect:p,setRect:f,getInnerRect:s,setInnerRect:h,setViewPortRect:d,destroy:m},UF)}function ee(){function e(e){var t;return t=i.splice(++a),i.push(e),{state:e,removed:t}}function t(){if(r())return i[--a]}function n(){if(o())return i[++a]}function r(){return a>0}function o(){return-1!==a&&a<i.length-1}var i=[],a=-1;return{data:i,add:e,undo:t,redo:n,canUndo:r,canRedo:o}}var te,ne=function(){},re=function(e){return function(){return e()}},oe=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},ie=function(e){return function(){return e}},ae=function(e){return e},se=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},le=function(e){return function(){throw new Error(e)}},ue=ie(!1),ce=ie(!0),fe=tinymce.util.Tools.resolve("tinymce.ThemeManager"),de=function(){return de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},de.apply(this,arguments)},he=ue,pe=ce,me=function(){return ge},ge=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},i=function(){},a={fold:function(e,t){return e()},is:he,isSome:he,isNone:pe,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:i,or:n,orThunk:t,map:me,ap:me,each:r,bind:me,flatten:me,exists:he,forall:pe,filter:me,equals:e,equals_:e,toArray:function(){return[]},toString:ie("none()")};return Object.freeze&&Object.freeze(a),a}(),ve=function(e){var t=function(){return e},n=function(){return i},r=function(t){return ve(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:pe,isNone:he,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(me,function(t){return ve(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:ge},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(he,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},be=function(e){return null===e||void 0===e?ge:ve(e)},ye={some:ve,none:me,from:be},we=function(e){var t=function(t){return e===t},n=function(t){return we(e)},r=function(t){return we(e)},o=function(t){return we(t(e))},i=function(t){return we(e)},a=function(t){t(e)},s=function(t){return t(e)},l=function(t,n){return n(e)},u=function(t){return t(e)},c=function(t){return t(e)},f=function(){return ye.some(e)};return{is:t,isValue:ce,isError:ue,getOr:ie(e),getOrThunk:ie(e),getOrDie:ie(e),or:n,orThunk:r,fold:l,map:o,mapError:i,each:a,bind:s,exists:u,forall:c,toOption:f}},xe=function(e){var t=function(e){return e()},n=function(){return le(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return xe(e)},a=function(t){return xe(t(e))},s=function(t){return xe(e)};return{is:ue,isValue:ue,isError:ce,getOr:ae,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:ne,bind:s,exists:ue,forall:ce,toOption:ye.none}},Ce=function(e,t){return e.fold(function(){return xe(t)},we)},ke={value:we,error:xe,fromOption:Ce},_e=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},Ee=function(e){return function(t){return _e(t)===e}},Ae=Ee("string"),Se=Ee("object"),Oe=Ee("array"),Te=Ee("boolean"),De=Ee("function"),Ne=Ee("number"),Fe=function(e,t){if(Oe(e)){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n]))return!1;return!0}return!1},Le=Array.prototype.slice,Pe=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return Ye(e,t)};return void 0===e?n:t}(),Be=function(e,t){var n=Pe(e,t);return-1===n?ye.none():ye.some(n)},Re=function(e,t){return Pe(e,t)>-1},qe=function(e,t){return Ge(e,t).isSome()},Me=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},je=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=Le.call(e,r,r+t);n.push(o)}return n},Ie=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},$e=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},ze=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},He=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},Ve=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},Ue=function(e,t,n){return ze(e,function(e){n=t(n,e)}),n},We=function(e,t,n){return $e(e,function(e){n=t(n,e)}),n},Ke=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return ye.some(o)}return ye.none()},Ge=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n,e))return ye.some(n)}return ye.none()},Ye=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},Xe=Array.prototype.push,Je=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Oe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Xe.apply(t,e[n])}return t},Ze=function(e,t){var n=Ie(e,t);return Je(n)},Qe=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},et=function(e){var t=Le.call(e,0);return t.reverse(),t},tt=function(e,t){return Ve(e,function(e){return!Re(t,e)})},nt=function(e){return[e]},rt=function(e,t){var n=Le.call(e,0);return n.sort(t),n},ot=function(e){return 0===e.length?ye.none():ye.some(e[0])},it=function(e){return 0===e.length?ye.none():ye.some(e[e.length-1])},at=De(Array.from)?Array.from:function(e){return Le.call(e)},st=Object.keys,lt=Object.hasOwnProperty,ut=function(e,t){for(var n=st(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},ct=function(e,t){return ft(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},ft=function(e,t){var n={};return ut(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},dt=function(e,t){var n=[];return ut(e,function(e,r){n.push(t(e,r))}),n},ht=function(e,t){for(var n=st(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return ye.some(a)}return ye.none()},pt=function(e){return dt(e,function(e){return e})},mt=function(e,t){return gt(e,t)?ye.from(e[t]):ye.none()},gt=function(e,t){return lt.call(e,t)},vt=function(e){if(!Oe(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return $e(e,function(o,i){var a=st(o);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!Oe(l))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var u=function(e){var t=st(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!Qe(n,function(e){return Re(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:u,log:function(e){t.console.log(e,{constructors:n,constructor:s,params:o})}}}}),r},bt={generate:vt},yt=Object.prototype.hasOwnProperty,wt=function(e,t){return t},xt=function(e,t){return Se(e)&&Se(t)?kt(e,t):t},Ct=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)yt.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},kt=Ct(xt),_t=Ct(wt),Et=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},At=bt.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),St=function(e){return At.defaultedThunk(ie(e))},Ot=function(e){return At.mergeWithThunk(ie(e))},Tt=At.strict,Dt=At.asOption,Nt=At.defaultedThunk,Ft=At.mergeWithThunk,Lt=function(e,t){var n={};return ut(e,function(e,r){Re(t,r)||(n[r]=e)}),n},Pt=function(e){return function(t){return gt(t,e)?ye.from(t[e]):ye.none()}},Bt=function(e,t){return function(n){return gt(n,e)?n[e]:t}},Rt=function(e,t){return Pt(t)(e)},qt=function(e,t){return gt(e,t)&&void 0!==e[t]&&null!==e[t]},Mt=function(e,t){var n={};return n[e]=t,n},jt=function(e){var t={};return $e(e,function(e){t[e.key]=e.value}),t},It=(bt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){var t=[],n=[];return $e(e,function(e){e.fold(function(e){t.push(e)},function(e){n.push(e)})}),{errors:t,values:n}}),$t=function(e,t){return Lt(e,t)},zt=function(e){return Pt(e)},Ht=function(e,t){return Bt(e,t)},Vt=function(e,t){return Rt(e,t)},Ut=function(e,t){return Mt(e,t)},Wt=function(e){return jt(e)},Kt=function(e,t){return 0===e.length?ke.value(t):ke.value(kt(t,_t.apply(void 0,e)))},Gt=function(e){return ke.error(Je(e))},Yt=function(e,t){var n=It(e);return n.errors.length>0?Gt(n.errors):Kt(n.values,t)},Xt=function(e,t){return qt(e,t)};!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(te||(te={}));var Jt,Zt=function(e,t,n){return e.stype===te.Error?t(e.serror):n(e.svalue)},Qt=function(e){var t=[],n=[];return $e(e,function(e){Zt(e,function(e){return n.push(e)},function(e){return t.push(e)})}),{values:t,errors:n}},en=function(e,t){return e.stype===te.Error?{stype:te.Error,serror:t(e.serror)}:e},tn=function(e,t){return e.stype===te.Value?{stype:te.Value,svalue:t(e.svalue)}:e},nn=function(e,t){return e.stype===te.Value?t(e.svalue):e},rn=function(e,t){return e.stype===te.Error?t(e.serror):e},on=function(e){return{stype:te.Value,svalue:e}},an=function(e){return{stype:te.Error,serror:e}},sn=function(e){return Zt(e,ke.error,ke.value)},ln=function(e){return e.fold(an,on)},un={fromResult:ln,toResult:sn,svalue:on,partition:Qt,serror:an,bind:nn,bindError:rn,map:tn,mapError:en,fold:Zt},cn=function(e,t){return e.length>0?un.svalue(kt(t,_t.apply(void 0,e))):un.svalue(t)},fn=function(e){return oe(un.serror,Je)(e)},dn=function(e,t){var n=un.partition(e);return n.errors.length>0?fn(n.errors):cn(n.values,t)},hn=function(e){var t=un.partition(e);return t.errors.length>0?fn(t.errors):un.svalue(t.values)},pn={consolidateObj:dn,consolidateArr:hn},mn=bt.generate([{setOf:["validator","valueType"]},{arrOf:["valueType"]},{objOf:["fields"]},{itemOf:["validator"]},{choiceOf:["key","branches"]},{thunk:["description"]},{func:["args","outputSchema"]}]),gn=bt.generate([{field:["name","presence","type"]},{state:["name"]}]),vn=function(e){return Se(e)&&st(e).length>100?" removed due to size":JSON.stringify(e,null,2)},bn=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e;return Ie(t,function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()})},yn=function(e,t){return un.serror([{path:e,getErrorInfo:t}])},wn=function(e,t,n){return yn(e,function(){return'Could not find valid *strict* value for "'+t+'" in '+vn(n)})},xn=function(e,t){return yn(e,function(){return'Choice schema did not contain choice key: "'+t+'"'})},Cn=function(e,t,n){return yn(e,function(){return'The chosen schema: "'+n+'" did not exist in branches: '+vn(t)})},kn=function(e,t){return yn(e,function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"})},_n=function(e,t){return yn(e,function(){return t})},En=bt.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),An=function(e,t,n){return Rt(t,n).fold(function(){return wn(e,n,t)},un.svalue)},Sn=function(e,t,n){var r=Rt(e,t).fold(function(){return n(e)},ae);return un.svalue(r)},On=function(e,t){return un.svalue(Rt(e,t))},Tn=function(e,t,n){var r=Rt(e,t).map(function(t){return!0===t?n(e):t});return un.svalue(r)},Dn=function(e,t,n,r){return n.fold(function(n,o,i,a){var s=function(t){var i=a.extract(e.concat([n]),r,t);return un.map(i,function(e){return Mt(o,r(e))})},l=function(t){return t.fold(function(){var e=Mt(o,r(ye.none()));return un.svalue(e)},function(t){var i=a.extract(e.concat([n]),r,t);return un.map(i,function(e){return Mt(o,r(ye.some(e)))})})};return function(){return i.fold(function(){return un.bind(An(e,t,n),s)},function(e){return un.bind(Sn(t,n,e),s)},function(){return un.bind(On(t,n),l)},function(e){return un.bind(Tn(t,n,e),l)},function(e){var r=e(t),o=un.map(Sn(t,n,ie({})),function(e){return kt(r,e)});return un.bind(o,s)})}()},function(e,n){var o=n(t);return un.svalue(Mt(e,r(o)))})},Nn=function(e,t,n,r){var o=Ie(n,function(n){return Dn(e,t,n,r)});return pn.consolidateObj(o,{})},Fn=function(e){var t=function(t,n,r){return e().extract(t,n,r)},n=function(){return e().toString()};return{extract:t,toString:n,toDsl:function(){return e().toDsl()}}},Ln=function(e){var t=function(t,n,r){return un.bindError(e(r,n),function(e){return _n(t,e)})},n=function(){return"val"};return{extract:t,toString:n,toDsl:function(){return mn.itemOf(e)}}},Pn=function(e){var t=st(e);return Ve(t,function(t){return Xt(e,t)})},Bn=function(e){var t=Rn(e),n=Ue(e,function(e,t){return t.fold(function(t){return kt(e,Ut(t,!0))},ie(e))},{});return{extract:function(e,r,o){var i=Te(o)?[]:Pn(o),a=Ve(i,function(e){return!Xt(n,e)});return 0===a.length?t.extract(e,r,o):kn(e,a)},toString:t.toString,toDsl:t.toDsl}},Rn=function(e){var t=function(t,n,r){return Nn(t,r,e,n)},n=function(){return"obj{\n"+Ie(e,function(e){return e.fold(function(e,t,n,r){return e+" -> "+r.toString()},function(e,t){return"state("+e+")"})}).join("\n")+"}"};return{extract:t,toString:n,toDsl:function(){return mn.objOf(Ie(e,function(e){return e.fold(function(e,t,n,r){return gn.field(e,n,r)},function(e,t){return gn.state(e)})}))}}},qn=function(e){var t=function(t,n,r){var o=Ie(r,function(r,o){return e.extract(t.concat(["["+o+"]"]),n,r)});return pn.consolidateArr(o)},n=function(){return"array("+e.toString()+")"};return{extract:t,toString:n,toDsl:function(){return mn.arrOf(e)}}},Mn=function(e,t){var n=function(t,n){return qn(Ln(e)).extract(t,ae,n)},r=function(e,r,o){var i=st(o),a=n(e,i);return un.bind(a,function(n){var i=Ie(n,function(e){return En.field(e,e,Tt(),t)});return Rn(i).extract(e,r,o)})},o=function(){return"setOf("+t.toString()+")"};return{extract:r,toString:o,toDsl:function(){return mn.setOf(e,t)}}},jn=ie(Ln(un.svalue)),In=oe(qn,Rn),$n=En.state,zn=En.field,Hn=function(e,t,n,r,o){return Vt(r,o).fold(function(){return Cn(e,r,o)},function(r){return r.extract(e.concat(["branch: "+o]),t,n)})},Vn=function(e,t){var n=function(n,r,o){return Vt(o,e).fold(function(){return xn(n,e)},function(e){return Hn(n,r,o,t,e)})},r=function(){return"chooseOn("+e+"). Possible values: "+st(t)};return{extract:n,toString:r,toDsl:function(){return mn.choiceOf(e,t)}}},Un=Ln(un.svalue),Wn=Fn,Kn=function(e){return Ln(function(t){return e(t).fold(un.serror,un.svalue)})},Gn=function(e,t){return Mn(function(t){return un.fromResult(e(t))},t)},Yn=function(e,t,n,r){var o=t.extract([e],n,r);return un.mapError(o,function(e){return{input:r,errors:e}})},Xn=function(e,t,n){return un.toResult(Yn(e,t,ae,n))},Jn=function(e){return e.fold(function(e){throw new Error(Qn(e))},ae)},Zn=function(e,t,n){return Jn(Xn(e,t,n))},Qn=function(e){return"Errors: \n"+bn(e.errors)+"\n\nInput object: "+vn(e.input)},er=function(e,t){return Vn(e,t)},tr=function(e,t){return Vn(e,ct(t,Rn))},nr=ie(Un),rr=function(e,t){return Ln(function(n){var r=typeof n;return e(n)?un.svalue(n):un.serror("Expected type: "+t+" but got: "+r)})},or=rr(Ne,"number"),ir=rr(Ae,"string"),ar=rr(Te,"boolean"),sr=rr(De,"function"),lr=function(e){var t=function(e,t){for(var n=e.next();!n.done;){if(!t(n.value))return!1;n=e.next()}return!0};if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(function(t){return lr(e[t])});case"Map":return t(e.keys(),lr)&&t(e.values(),lr);case"Set":return t(e.keys(),lr);default:return!1}},ur=Ln(function(e){return lr(e)?un.svalue(e):un.serror("Expected value to be acceptable for sending via postMessage")}),cr=function(e){return Kn(function(t){return Re(e,t)?ke.value(t):ke.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')})},fr=function(e){return zn(e,e,Tt(),jn())},dr=function(e,t){return zn(e,e,Tt(),t)},hr=function(e){return dr(e,or)},pr=function(e){return dr(e,ir)},mr=function(e,t){return zn(e,e,Tt(),cr(t))},gr=function(e){return dr(e,sr)},vr=function(e,t){return zn(e,e,Dt(),Ln(function(n){return un.serror("The field: "+e+" is forbidden. "+t)}))},br=function(e,t){return zn(e,e,Tt(),Rn(t))},yr=function(e,t){return zn(e,e,Tt(),In(t))},wr=function(e,t){return zn(e,e,Tt(),qn(t))},xr=function(e){return zn(e,e,Dt(),jn())},Cr=function(e,t){return zn(e,e,Dt(),t)},kr=function(e){return Cr(e,or)},_r=function(e){return Cr(e,ir)},Er=function(e){return Cr(e,sr)},Ar=function(e,t){return Cr(e,Rn(t))},Sr=function(e,t){return Cr(e,Bn(t))},Or=function(e,t){return zn(e,e,St(t),jn())},Tr=function(e,t,n){return zn(e,e,St(t),n)},Dr=function(e,t){return Tr(e,t,or)},Nr=function(e,t){return Tr(e,t,ir)},Fr=function(e,t,n){return Tr(e,t,cr(n))},Lr=function(e,t){return Tr(e,t,ar)},Pr=function(e,t){return Tr(e,t,sr)},Br=function(e,t,n){return Tr(e,t,Rn(n))},Rr=function(e,t){return $n(e,t)},qr=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return qr(n())}}},Mr=function(e,n){var r=n||t.document,o=r.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return $r(o.childNodes[0])},jr=function(e,n){var r=n||t.document,o=r.createElement(e);return $r(o)},Ir=function(e,n){var r=n||t.document,o=r.createTextNode(e);return $r(o)},$r=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ie(e)}},zr=function(e,t,n){var r=e.dom();return ye.from(r.elementFromPoint(t,n)).map($r)},Hr={fromHtml:Mr,fromTag:jr,fromText:Ir,fromDom:$r,fromPoint:zr},Vr=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},Ur=function(e,n){return Vr(e,n,t.Node.DOCUMENT_POSITION_PRECEDING)},Wr=function(e,n){return Vr(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)},Kr={documentPositionPreceding:Ur,documentPositionContainedBy:Wr},Gr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Yr=function(e,t){var n=Gr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Zr(r(1),r(2))},Xr=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Jr():Yr(e,n)},Jr=function(){return Zr(0,0)},Zr=function(e,t){return{major:e,minor:t}},Qr={nu:Zr,detect:Xr,unknown:Jr},eo=function(e,t){return function(){return t===e}},to=function(){return no({current:void 0,version:Qr.unknown()})},no=function(e){var t=e.current;return{current:t,version:e.version,isEdge:eo("Edge",t),isChrome:eo("Chrome",t),isIE:eo("IE",t),isOpera:eo("Opera",t),isFirefox:eo("Firefox",t),isSafari:eo("Safari",t)}},ro={unknown:to,nu:no,edge:ie("Edge"),chrome:ie("Chrome"),ie:ie("IE"),opera:ie("Opera"),firefox:ie("Firefox"),safari:ie("Safari")},oo=function(e,t){return function(){return t===e}},io=function(){return ao({current:void 0,version:Qr.unknown()})},ao=function(e){var t=e.current;return{current:t,version:e.version,isWindows:oo("Windows",t),isiOS:oo("iOS",t),isAndroid:oo("Android",t),isOSX:oo("OSX",t),isLinux:oo("Linux",t),isSolaris:oo("Solaris",t),isFreeBSD:oo("FreeBSD",t)}},so={unknown:io,nu:ao,windows:ie("Windows"),ios:ie("iOS"),android:ie("Android"),linux:ie("Linux"),osx:ie("OSX"),solaris:ie("Solaris"),freebsd:ie("FreeBSD")},lo=function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||i||a&&!0===/mobile/i.test(n),l=e.isiOS()||e.isAndroid(),u=l&&!s,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:ie(r),isiPhone:ie(o),isTablet:ie(s),isPhone:ie(u),isTouch:ie(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ie(c)}},uo=function(e,t){var n=String(t).toLowerCase();return Ke(e,function(e){return e.search(n)})},co=function(e,t){return uo(e,t).map(function(e){var n=Qr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},fo=function(e,t){return uo(e,t).map(function(e){var n=Qr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ho={detectBrowser:co,detectOs:fo},po=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},mo=function(e,t){return-1!==e.indexOf(t)},go=function(e,t){return po(e,t,e.length-t.length)},vo=function(e){return e.replace(/^\s+|\s+$/g,"")},bo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yo=function(e){return function(t){return mo(t,e)}},wo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return mo(e,"edge/")&&mo(e,"chrome")&&mo(e,"safari")&&mo(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,bo],search:function(e){return mo(e,"chrome")&&!mo(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return mo(e,"msie")||mo(e,"trident")}},{name:"Opera",versionRegexes:[bo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yo("firefox")},{name:"Safari",versionRegexes:[bo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(mo(e,"safari")||mo(e,"mobile/"))&&mo(e,"applewebkit")}}],xo=[{name:"Windows",search:yo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return mo(e,"iphone")||mo(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:yo("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yo("linux"),versionRegexes:[]},{name:"Solaris",search:yo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yo("freebsd"),versionRegexes:[]}],Co={browsers:ie(wo),oses:ie(xo)},ko=function(e){var t=Co.browsers(),n=Co.oses(),r=ho.detectBrowser(t,e).fold(ro.unknown,ro.nu),o=ho.detectOs(n,e).fold(so.unknown,so.nu);return{browser:r,os:o,deviceType:lo(o,r,e)}},_o={detect:ko},Eo=Et(function(){var e=t.navigator.userAgent;return _o.detect(e)}),Ao={detect:Eo},So=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),Oo=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),To=t.Node.TEXT_NODE,Do=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,Oo),No=So,Fo=function(e,t){var n=e.dom();if(n.nodeType!==Do)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Lo=function(e){return e.nodeType!==Do&&e.nodeType!==No||0===e.childElementCount},Po=function(e,n){var r=void 0===n?t.document:n.dom();return Lo(r)?[]:Ie(r.querySelectorAll(e),Hr.fromDom)},Bo=function(e,n){var r=void 0===n?t.document:n.dom();return Lo(r)?ye.none():ye.from(r.querySelector(e)).map(Hr.fromDom)},Ro=function(e,t){return e.dom()===t.dom()},qo=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Mo=function(e,t){return Kr.documentPositionContainedBy(e.dom(),t.dom())},jo=Ao.detect().browser,Io=jo.isIE()?Mo:qo,$o=function(e,t){return Ro(e.element(),t.event().target())},zo=function(e){if(!Xt(e,"can")&&!Xt(e,"abort")&&!Xt(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return Zn("Extracting event.handler",Bn([Or("can",ie(!0)),Or("abort",ie(!1)),Or("run",ne)]),e)},Ho=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return We(e,function(e,r){return e&&t(r).apply(void 0,n)},!0)}},Vo=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return We(e,function(e,r){return e||t(r).apply(void 0,n)},!1)}},Uo=function(e){return De(e)?{can:ie(!0),abort:ie(!1),run:e}:e},Wo=function(e){var t=Ho(e,function(e){return e.can}),n=Vo(e,function(e){return e.abort});return zo({can:t,abort:n,run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];$e(e,function(e){e.run.apply(void 0,t)})}})},Ko=ie("touchstart"),Go=ie("touchmove"),Yo=ie("touchend"),Xo=ie("mousedown"),Jo=ie("mousemove"),Zo=ie("mouseout"),Qo=ie("mouseup"),ei=ie("mouseover"),ti=ie("focusin"),ni=ie("focusout"),ri=ie("keydown"),oi=ie("keyup"),ii=ie("input"),ai=ie("change"),si=ie("click"),li=ie("transitionend"),ui=ie("selectstart"),ci={tap:ie("alloy.tap")},fi=ie("alloy.focus"),di=ie("alloy.blur.post"),hi=ie("alloy.paste.post"),pi=ie("alloy.receive"),mi=ie("alloy.execute"),gi=ie("alloy.focus.item"),vi=ci.tap,bi=Ao.detect().deviceType.isTouch()?ci.tap:si,yi=ie("alloy.longpress"),wi=ie("alloy.sandbox.close"),xi=ie("alloy.typeahead.cancel"),Ci=ie("alloy.system.init"),ki=ie("alloy.system.scroll"),_i=ie("alloy.system.resize"),Ei=ie("alloy.system.attached"),Ai=ie("alloy.system.detached"),Si=ie("alloy.system.dismissRequested"),Oi=ie("alloy.focusmanager.shifted"),Ti=ie("alloy.slotcontainer.visibility"),Di=ie("alloy.change.tab"),Ni=ie("alloy.dismiss.tab"),Fi=ie("alloy.highlight"),Li=ie("alloy.dehighlight"),Pi=function(e,t){Mi(e,e.element(),t,{})},Bi=function(e,t,n){Mi(e,e.element(),t,n)},Ri=function(e){Pi(e,mi())},qi=function(e,t,n){Mi(e,t,n,{})},Mi=function(e,t,n,r){var o=de({target:t},r);e.getSystem().triggerEvent(n,t,ct(o,ie))},ji=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event())},Ii=(void 0!==t.window?t.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),$i=function(e){return e.dom().nodeType},zi=function(e){return function(t){return $i(t)===e}},Hi=zi(Oo),Vi=zi(To),Ui=function(e){var t=Vi(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},Wi=Et(function(){return Ki(Hr.fromDom(t.document))}),Ki=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Hr.fromDom(t)},Gi=function(e,t,n){for(var r=e.dom(),o=De(n)?n:ie(!1);r.parentNode;){r=r.parentNode;var i=Hr.fromDom(r);if(t(i))return ye.some(i);if(o(i))break}return ye.none()},Yi=function(e,t,n){return o(function(e,t){return t(e)},Gi,e,t,n)},Xi=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=Hr.fromDom(e.childNodes[r]);if(t(o))return ye.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return ye.none()};return n(e.dom())},Ji=function(e,t,n){return Yi(e,function(e){return t(e).isSome()},n).bind(t)},Zi=function(e){return Wt(e)},Qi=function(e,t){return{key:e,value:zo({abort:t})}},ea=function(e){return{key:e,value:zo({run:function(e,t){t.event().prevent()}})}},ta=function(e,t){return{key:e,value:zo({run:t})}},na=function(e,t,n){return{key:e,value:zo({run:function(e){t.apply(void 0,[e].concat(n))}})}},ra=function(e){return function(t){return{key:e,value:zo({run:function(e,n){$o(e,n)&&t(e,n)}})}}},oa=function(e,t){return ta(e,function(n,r){n.getSystem().getByUid(t).each(function(t){ji(t,t.element(),e,r)})})},ia=function(e,t,n){var r=t.partUids[n];return oa(e,r)},aa=function(e,t){return ta(e,function(e,n){var r=n.event(),o=e.getSystem().getByDom(r.target()).fold(function(){return Ji(r.target(),function(t){return e.getSystem().getByDom(t).toOption()},ie(!1)).getOr(e)},function(e){return e});t(e,o,n)})},sa=function(e){return ta(e,function(e,t){t.cut()})},la=function(e){return ta(e,function(e,t){t.stop()})},ua=function(e,t){return ra(e)(t)},ca=ra(Ei()),fa=ra(Ai()),da=ra(Ci()),ha=function(e){return function(t){return ta(e,t)}}(mi()),pa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return $e(e,function(e,n){r[e]=ie(t[n])}),r}},ma=function(e){return e.slice(0).sort()},ga=function(e,t){throw new Error("All required keys ("+ma(e).join(", ")+") were not specified. Specified keys were: "+ma(t).join(", ")+".")},va=function(e){throw new Error("Unsupported keys for object: "+ma(e).join(", "))},ba=function(e,t){if(!Oe(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");$e(t,function(t){if(!Ae(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},ya=function(e){var t=ma(e);Ke(t,function(e,n){return n<t.length-1&&e===t[n+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},wa=function(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return ba("required",e),ba("optional",t),ya(n),function(r){var o=st(r);Qe(e,function(e){return Re(o,e)})||ga(e,o);var i=Ve(o,function(e){return!Re(n,e)});i.length>0&&va(i);var a={};return $e(e,function(e){a[e]=ie(r[e])}),$e(t,function(e){a[e]=ie(Object.prototype.hasOwnProperty.call(r,e)?ye.some(r[e]):ye.none())}),a}},xa=function(e){return Hr.fromDom(e.dom().ownerDocument)},Ca=function(e){return Hr.fromDom(e.dom().ownerDocument.defaultView)},ka=function(e){return ye.from(e.dom().parentNode).map(Hr.fromDom)},_a=function(e){return ye.from(e.dom().offsetParent).map(Hr.fromDom)},Ea=function(e){return ye.from(e.dom().nextSibling).map(Hr.fromDom)},Aa=function(e){return Ie(e.dom().childNodes,Hr.fromDom)},Sa=function(e,t){var n=e.dom().childNodes;return ye.from(n[t]).map(Hr.fromDom)},Oa=function(e){return Sa(e,0)},Ta=(pa("element","offset"),function(e,n){var r=n||t.document,o=r.createElement("div");return o.innerHTML=e,Aa(Hr.fromDom(o))}),Da=function(e,t){ka(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},Na=function(e,t){Ea(e).fold(function(){ka(e).each(function(e){La(e,t)})},function(e){Da(e,t)})},Fa=function(e,t){Oa(e).fold(function(){La(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},La=function(e,t){e.dom().appendChild(t.dom())},Pa=function(e,t,n){Sa(e,n).fold(function(){La(e,t)},function(e){Da(e,t)})},Ba=function(e,t){$e(t,function(t){Da(e,t)})},Ra=function(e,t){$e(t,function(t){La(e,t)})},qa=function(e){e.dom().textContent="",$e(Aa(e),function(e){Ma(e)})},Ma=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},ja=function(e){var t=Aa(e);t.length>0&&Ba(e,t),Ma(e)},Ia=function(e){return e.dom().innerHTML},$a=function(e,t){var n=xa(e),r=n.dom(),o=Hr.fromDom(r.createDocumentFragment()),i=Ta(t,r);Ra(o,i),qa(e),La(e,o)},za=function(e){var t=Hr.fromTag("div"),n=Hr.fromDom(e.dom().cloneNode(!0));return La(t,n),Ia(t)},Ha=function(e,n,r){if(!(Ae(r)||Te(r)||Ne(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},Va=function(e,t,n){Ha(e.dom(),t,n)},Ua=function(e,t){var n=e.dom();ut(t,function(e,t){Ha(n,t,e)})},Wa=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Ka=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Ga=function(e,t){e.dom().removeAttribute(t)},Ya=function(e,t){return Hr.fromDom(e.dom().cloneNode(t))},Xa=function(e){return Ya(e,!1)},Ja=function(e){var t=Xa(e);return za(t)},Za=function(e){return Ja(e)},Qa=function(e,t,n){return Ro(t,e.element())&&!Ro(t,n)},es=Zi([function(e,t){return{key:e,value:zo({can:t})}}(fi(),function(e,n){var r=n.event().originator(),o=n.event().target();return!Qa(e,r,o)||(t.console.warn(fi()+" did not get interpreted by the desired target. \nOriginator: "+Za(r)+"\nTarget: "+Za(o)+"\nCheck the "+fi()+" event handlers"),!1)})]),ts=Object.freeze({events:es}),ns=0,rs=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return ns++,e+"_"+r+ns+String(n)},os=ie("alloy-id-"),is=ie("data-alloy-id"),as=os(),ss=is(),ls=function(e,t){var n=rs(as+e);return us(t,n),n},us=function(e,t){Object.defineProperty(e.dom(),ss,{value:t,writable:!0})},cs=function(e){var t=Hi(e)?e.dom()[ss]:null;return ye.from(t)},fs=function(e){return rs(e)},ds=ae,hs=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+"\n"+Za(e().element())+" is not in context.")}};return{debugInfo:ie("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:ie(!1)}},ps=hs(),ms=function(e,t,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:gs(a.slice(0,1).concat(a.slice(3)))}},e},gs=function(e){return Ie(e,function(e){return go(e,"/*")?e.substring(0,e.length-"/*".length):e})},vs=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:gs(i)}},e},bs=function(e,t){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:gs(i.slice(1))}},e},ys=rs("alloy-premade"),ws=function(e){return Ut(ys,e)},xs=function(e){return Vt(e,ys)},Cs=function(e){return bs(function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,[t.getApis()].concat([t].concat(n)))},e)},ks={init:function(){return _s({readState:function(){return"No State required"}})}},_s=function(e){return e},Es=function(e,t){var n=Ie(t,function(e){return Ar(e.name(),[fr("config"),Or("state",ks)])}),r=Xn("component.behaviours",Rn(n),e.behaviours).fold(function(t){throw new Error(Qn(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))},function(e){return e});return{list:t,data:ct(r,function(e){var t=e,n=t.map(function(e){return{config:e.config,state:e.state.init(e.config)}});return function(){return n}})}},As=function(e){return e.list},Ss=function(e){return e.data},Os=function(e,t){var n={};return ut(e,function(e,r){ut(e,function(e,o){var i=Ht(o,[])(n);n[o]=i.concat([t(r,e)])})}),n},Ts=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},Ds=function(e,t){return de({},e,{attributes:de({},e.attributes,t.attributes),styles:de({},e.styles,t.styles),classes:e.classes.concat(t.classes)})},Ns=function(e,t,n,r){var o=de({},t);$e(n,function(t){o[t.name()]=t.exhibit(e,r)});var i=function(e,t){return{name:e,modification:t}},a=Os(o,i),s=function(e){return Ue(e,function(e,t){return de({},t.modification,e)},{})},l=Ue(a.classes,function(e,t){return t.modification.concat(e)},[]),u=s(a.attributes),c=s(a.styles);return Ts({classes:l,attributes:u,styles:c})},Fs=function(e,t,n,r){var o=n.slice(0);try{var i=o.sort(function(n,o){var i=n[t](),a=o[t](),s=r.indexOf(i),l=r.indexOf(a);if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return s<l?-1:l<s?1:0});return ke.value(i)}catch(e){return ke.error([e])}},Ls=function(e,t){return{handler:e,purpose:ie(t)}},Ps=function(e,t){return{cHandler:e,purpose:ie(t)}},Bs=function(e,t){return Ps(n.apply(void 0,[e.handler].concat(t)),e.purpose())},Rs=function(e){return e.cHandler},qs=function(e,t){return{name:ie(e),handler:ie(t)}},Ms=function(e,t){var n={};return $e(e,function(e){n[e.name()]=e.handlers(t)}),n},js=function(e,t,n){var r=de({},n,Ms(t,e));return Os(r,qs)},Is=function(e,t,n,r){var o=js(e,n,r);return Vs(o,t)},$s=function(e){var t=Uo(e);return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[e,n].concat(r);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},zs=function(e,t){return ke.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(Ie(t,function(e){return e.name()}),null,2)])},Hs=function(e,t,n){var r=t[n];return r?Fs("Event: "+n,"name",e,r).map(function(e){var t=Ie(e,function(e){return e.handler()});return Wo(t)}):zs(n,e)},Vs=function(e,t){var n=dt(e,function(e,n){return(1===e.length?ke.value(e[0].handler()):Hs(e,t,n)).map(function(r){var o=$s(r),i=e.length>1?Ve(t[n],function(t){return qe(e,function(e){return e.name()===t})}).join(" > "):e[0].name();return Ut(n,Ls(o,i))})});return Yt(n,{})},Us=function(e){return Xn("custom.definition",Rn([zn("dom","dom",Tt(),Rn([fr("tag"),Or("styles",{}),Or("classes",[]),Or("attributes",{}),xr("value"),xr("innerHtml")])),fr("components"),fr("uid"),Or("events",{}),Or("apis",{}),zn("eventOrder","eventOrder",Ot({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"]}),nr()),xr("domModification")]),e)},Ws=function(e){return de({},e.dom,{uid:e.uid,domChildren:Ie(e.components,function(e){return e.element()})})},Ks=function(e){return e.domModification.fold(function(){return Ts({})},Ts)},Gs=function(e){return e.events},Ys=function(e,t){var n=Wa(e,t);return void 0===n||""===n?[]:n.split(" ")},Xs=function(e,t,n){var r=Ys(e,t),o=r.concat([n]);return Va(e,t,o.join(" ")),!0},Js=function(e,t,n){var r=Ve(Ys(e,t),function(e){return e!==n});return r.length>0?Va(e,t,r.join(" ")):Ga(e,t),!1},Zs=function(e){return void 0!==e.dom().classList},Qs=function(e){return Ys(e,"class")},el=function(e,t){return Xs(e,"class",t)},tl=function(e,t){return Js(e,"class",t)},nl=function(e,t){Zs(e)?e.dom().classList.add(t):el(e,t)},rl=function(e){0===(Zs(e)?e.dom().classList:Qs(e)).length&&Ga(e,"class")},ol=function(e,t){if(Zs(e)){e.dom().classList.remove(t)}else tl(e,t);rl(e)},il=function(e,t){return Zs(e)&&e.dom().classList.contains(t)},al=function(e,t){$e(t,function(t){nl(e,t)})},sl=function(e,t){$e(t,function(t){ol(e,t)})},ll=function(e){return void 0!==e.style&&De(e.style.getPropertyValue)},ul=function(e,n,r){if(!Ae(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);ll(e)&&e.style.setProperty(n,r)},cl=function(e,t){ll(e)&&e.style.removeProperty(t)},fl=function(e,t,n){var r=e.dom();ul(r,t,n)},dl=function(e,t){var n=e.dom();ut(t,function(e,t){ul(n,t,e)})},hl=function(e,t){var n=e.dom();ut(t,function(e,t){e.fold(function(){cl(n,t)},function(e){ul(n,t,e)})})},pl=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r),i=o.getPropertyValue(n),a=""!==i||Ui(e)?i:ml(r,n);return null===a?void 0:a},ml=function(e,t){return ll(e)?e.style.getPropertyValue(t):""},gl=function(e,t){var n=e.dom(),r=ml(n,t);return ye.from(r).filter(function(e){return e.length>0})},vl=function(e,t,n){var r=Hr.fromTag(e);return fl(r,t,n),gl(r,t).isSome()},bl=function(e,t){var n=e.dom();cl(n,t),Ka(e,"style")&&""===vo(Wa(e,"style"))&&Ga(e,"style")},yl=function(e){return e.dom().offsetWidth},wl=function(e){return e.dom().value},xl=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom().value=t},Cl=function(e){var t=Hr.fromTag(e.tag);Ua(t,e.attributes),al(t,e.classes),dl(t,e.styles),e.innerHtml.each(function(e){return $a(t,e)});var n=e.domChildren;return Ra(t,n),e.value.each(function(e){xl(t,e)}),e.uid,us(t,e.uid),t},kl=function(e){var t=Ht("behaviours",{})(e),n=Ve(st(t),function(e){return void 0!==t[e]});return Ie(n,function(e){return t[e].me})},_l=function(e,t){return Es(e,t)},El=function(e){var t=kl(e);return _l(e,t)},Al=function(e,t,n){var r=Ws(e),o=Ks(e),i={"alloy.base.modification":o},a=t.length>0?Ns(n,i,t,r):o;return Ds(r,a)},Sl=function(e,t,n){var r={"alloy.base.behaviour":Gs(e)};return Is(n,e.eventOrder,t,r).getOrDie()},Ol=function(e){var t=function(){return b},n=qr(ps),r=Jn(Us(e)),o=El(e),i=As(o),a=Ss(o),s=Al(r,i,a),l=Cl(s),u=Sl(r,i,a),c=qr(r.components),f=function(e){n.set(e)},d=function(){n.set(hs(t))},h=function(){var e=Aa(l),t=Ze(e,function(e){return n.get().getByDom(e).fold(function(){return[]},function(e){return[e]})});c.set(t)},p=function(t){var n=a;return(De(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},m=function(e){return De(a[e.name()])},g=function(){return r.apis},v=function(e){return a[e]().map(function(e){return e.state.readState()}).getOr("not enabled")},b={getSystem:n.get,config:p,hasConfigured:m,spec:ie(e),readState:v,getApis:g,connect:f,disconnect:d,element:ie(l),syncComponents:h,components:c.get,events:ie(u)};return b},Tl=function(e){var t=Ht("components",[])(e);return Ie(t,Pl)},Dl=function(e){var t=ds(e),n=t.events,o=r(t,["events"]),i=Tl(o),a=de({},o,{events:de({},ts,n),components:i});return ke.value(Ol(a))},Nl=function(e){var t=Hr.fromText(e);return Fl({element:t})},Fl=function(e){var t=Zn("external.component",Bn([fr("element"),xr("uid")]),e),n=qr(hs()),r=function(e){n.set(e)},o=function(){n.set(hs(function(){return i}))};t.uid.each(function(e){us(t.element,e)});var i={getSystem:n.get,config:ye.none,hasConfigured:ie(!1),connect:r,disconnect:o,getApis:function(){return{}},element:ie(t.element),spec:ie(e),readState:ie("No state"),syncComponents:ne,components:ie([]),events:ie({})};return ws(i)},Ll=fs,Pl=function(e){return xs(e).fold(function(){var t=e.hasOwnProperty("uid")?e:de({uid:Ll("")},e);return Dl(t).getOrDie()},function(e){return e})},Bl=ws,Rl=function(e,t,n){return Yi(e,t,n).isSome()},ql=function(e,t,n){return Gi(e,function(e){return Fo(e,t)},n)},Ml=function(e,t){return Bo(t,e)},jl=function(e,t,n){return o(Fo,ql,e,t,n)},Il=function(e){return Yi(e,function(e){if(!Hi(e))return!1;var t=Wa(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1}).bind(function(e){var t=Wa(e,"id"),n=xa(e);return Ml(n,'[aria-owns="'+t+'"]')})},$l=function(){var e=rs("aria-owns"),t=function(t){Va(t,"aria-owns",e)},n=function(e){Ga(e,"aria-owns")};return{id:ie(e),link:t,unlink:n}},zl=function(e,t){return Il(t).exists(function(t){return Hl(e,t)})},Hl=function(e,t){return Rl(t,function(t){return Ro(t,e.element())},ie(!1))||zl(e,t)},Vl=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Ul=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return ye.none()},Wl=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return ye.none();n.push(o.getOrDie())}return ye.some(t.apply(null,n))};!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(Jt||(Jt={}));var Kl,Gl=qr({}),Yl=function(e,n){var r=[],o=(new Date).getTime();return{logEventCut:function(e,t,n){r.push({outcome:"cut",target:t,purpose:n})},logEventStopped:function(e,t,n){r.push({outcome:"stopped",target:t,purpose:n})},logNoParent:function(e,t,n){r.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:function(e,t){r.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,n){r.push({outcome:"response",purpose:n,target:t})},write:function(){var i=(new Date).getTime();Re(["mousemove","mouseover","mouseout",Ci()],e)||t.console.log(e,{event:e,time:i-o,target:n.dom(),sequence:Ie(r,function(e){return Re(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Za(e.target)+")":e.outcome})})}}},Xl=function(e,t,n){switch(Vt(Gl.get(),e).orThunk(function(){var t=st(Gl.get());return Ul(t,function(t){return e.indexOf(t)>-1?ye.some(Gl.get()[t]):ye.none()})}).getOr(Jt.NORMAL)){case Jt.NORMAL:return n(tu());case Jt.LOGGING:var r=Yl(e,t),o=n(r);return r.write(),o;case Jt.STOP:return!0}},Jl=["alloy/data/Fields","alloy/debugging/Debugging"],Zl=function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return Ke(t,function(e){return e.indexOf("alloy")>0&&!qe(Jl,function(t){return e.indexOf(t)>-1})}).getOr("unknown")}return"unknown"},Ql={logEventCut:ne,logEventStopped:ne,logNoParent:ne,logEventNoHandlers:ne,logEventResponse:ne,write:ne},eu=function(e,t,n){return Xl(e,t,n)},tu=ie(Ql),nu=ie([fr("menu"),fr("selectedMenu")]),ru=ie([fr("item"),fr("selectedItem")]),ou=(ie(Rn(ru().concat(nu()))),ie(Rn(ru()))),iu=br("initSize",[fr("numColumns"),fr("numRows")]),au=function(){return br("markers",[fr("backgroundMenu")].concat(nu()).concat(ru()))},su=function(e){return br("markers",Ie(e,fr))},lu=function(e,t,n){Zl();return zn(t,t,n,Kn(function(e){return ke.value(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)})}))},uu=function(e){return lu(0,e,St(ne))},cu=function(e){return lu(0,e,St(ye.none))},fu=function(e){return lu(0,e,Tt())},du=function(e){return lu(0,e,Tt())},hu=function(e,t){return Rr(e,ie(t))},pu=function(e){return Rr(e,ae)},mu=ie(iu),gu=function(e,t,n){return ha(function(r){n(r,e,t)})},vu=function(e,t,n){return da(function(r,o){n(r,e,t)})},bu=function(e,t,n,r,o,i){var a=Bn(e),s=Ar(t,[Sr("config",e)]);return Cu(a,s,t,n,r,o,i)},yu=function(e,t,n,r,o,i){var a=e,s=Ar(t,[Cr("config",e)]);return Cu(a,s,t,n,r,o,i)},wu=function(e,t,n){return ms(function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=[r].concat(o);return r.config({name:ie(e)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)},function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[r,e.config,e.state].concat(n))})},n,t)},xu=function(e){return{key:e,value:void 0}},Cu=function(e,t,r,o,i,a,s){var l=function(e){return Xt(e,r)?e[r]():ye.none()},u=ct(i,function(e,t){return wu(r,e,t)}),c=ct(a,function(e,t){return vs(e,t)}),f=de({},c,u,{revoke:n(xu,r),config:function(t){var n=Zn(r+"-config",e,t);return{key:r,value:{config:n,me:f,configAsRaw:Et(function(){return Zn(r+"-config",e,t)}),initialConfig:t,state:s}}},schema:function(){return t},exhibit:function(e,t){return l(e).bind(function(e){return Vt(o,"exhibit").map(function(n){return n(t,e.config,e.state)})}).getOr(Ts({}))},name:function(){return r},handlers:function(e){return l(e).map(function(e){return Ht("events",function(e,t){return{}})(o)(e.config,e.state)}).getOr({})}});return f},ku=function(e){return Wt(e)},_u=Bn([fr("fields"),fr("name"),Or("active",{}),Or("apis",{}),Or("state",ks),Or("extra",{})]),Eu=function(e){var t=Zn("Creating behaviour: "+e.name,_u,e);return bu(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Au=Bn([fr("branchKey"),fr("branches"),fr("name"),Or("active",{}),Or("apis",{}),Or("state",ks),Or("extra",{})]),Su=function(e){var t=Zn("Creating behaviour: "+e.name,Au,e);return yu(tr(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Ou=ie(void 0),Tu=function(e,t){return t.universal()?e:Ve(e,function(e){return Re(t.channels(),e)})},Du=function(e){return Zi([ta(pi(),function(t,n){var r=e.channels,o=st(r),i=Tu(o,n);$e(i,function(e){var o=r[e],i=o.schema,a=Zn("channel["+e+"] data\nReceiver: "+Za(t.element()),i,n.data());o.onReceive(t,a)})})])},Nu=Object.freeze({events:Du}),Fu=[dr("channels",Gn(ke.value,Bn([fu("onReceive"),Or("schema",nr())])))],Lu=Eu({fields:Fu,name:"receiving",active:Nu}),Pu=function(e,t){return Ts({classes:[],styles:t.useFixed?{}:{position:"relative"}})},Bu=Object.freeze({exhibit:Pu}),Ru=function(e,t){var n=function(n,r){return Ru(e+n,t+r)};return{left:ie(e),top:ie(t),translate:n}},qu=Ru,Mu=function(e){var t=e.getBoundingClientRect();return qu(t.left,t.top)},ju=function(e,t){return void 0!==e?e:void 0!==t?t:0},Iu=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement,i=ju(r.pageYOffset,o.scrollTop),a=ju(r.pageXOffset,o.scrollLeft),s=ju(o.clientTop,n.clientTop),l=ju(o.clientLeft,n.clientLeft);return $u(e).translate(a-l,i-s)},$u=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?qu(r.offsetLeft,r.offsetTop):Ui(e)?Mu(t):qu(0,0)},zu=i("height",function(e){var t=e.dom();return Ui(e)?t.getBoundingClientRect().height:t.offsetHeight}),Hu=function(e){return zu.get(e)},Vu=function(e){return zu.getOuter(e)},Uu=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=zu.max(e,t,n);fl(e,"max-height",r+"px")},Wu=i("width",function(e){return e.dom().offsetWidth}),Ku=function(e,t){Wu.set(e,t)},Gu=function(e){return Wu.get(e)},Yu=function(e){return Wu.getOuter(e)},Xu=(Ao.detect().browser.isSafari(),function(e){var n=void 0!==e?e.dom():t.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return qu(r,o)}),Ju=function(e,t){return e.view(t).fold(ie([]),function(t){var n=e.owner(t);return[t].concat(Ju(e,n))})},Zu=function(e,t){var n=t.owner(e),r=Ju(t,n);return ye.some(r)},Qu=function(e){return(e.dom()===t.document?ye.none():ye.from(e.dom().defaultView.frameElement)).map(Hr.fromDom)},ec=function(e){return xa(e)},tc=Object.freeze({view:Qu,owner:ec}),nc=function(e){var r=Hr.fromDom(t.document),o=Xu(r);return Zu(e,tc).fold(n(Iu,e),function(t){var n=$u(e),r=Ue(t,function(e,t){var n=$u(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return qu(r.left+n.left()+o.left(),r.top+n.top()+o.top())})},rc=pa("point","width","height"),oc=pa("x","y","width","height"),ic=function(e,t,n,r){return{x:ie(e),y:ie(t),width:ie(n),height:ie(r),right:ie(e+n),bottom:ie(t+r)}},ac=function(e){var t=Iu(e),n=Yu(e),r=Vu(e);return ic(t.left(),t.top(),n,r)},sc=function(){var e=t.window.innerWidth,n=t.window.innerHeight,r=Hr.fromDom(t.document),o=Xu(r);return ic(o.left(),o.top(),e,n)},lc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],uc=function(e,t,n){var r=function(e){return Vt(n,e).getOr([])},o=function(e,t,n){var o=tt(lc,n);return{offset:function(){return qu(e,t)},classesOn:function(){return Ze(n,r)},classesOff:function(){return Ze(o,r)}}};return{southeast:function(){return o(-e,t,["top","alignLeft"])},southwest:function(){return o(e,t,["top","alignRight"])},south:function(){return o(-e/2,t,["top","alignCentre"])},northeast:function(){return o(-e,-t,["bottom","alignLeft"])},northwest:function(){return o(e,-t,["bottom","alignRight"])},north:function(){return o(-e/2,-t,["bottom","alignCentre"])},east:function(){return o(e,-t/2,["valignCentre","left"])},west:function(){return o(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return o(-e,t,["top","alignRight"])},innerNortheast:function(){return o(e,t,["top","alignLeft"])},innerNorth:function(){return o(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return o(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return o(e,-t,["bottom","alignLeft"])},innerSouth:function(){return o(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return o(e,-t/2,["valignCentre","right"])},innerEast:function(){return o(-e,-t/2,["valignCentre","left"])}}},cc=function(){return uc(0,0,{})},fc=pa("x","y","bubble","direction","label"),dc=bt.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),hc=function(e,t,n,r,o,i,a,s,l){return e.fold(t,n,r,o,i,a,s,l)},pc=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)},mc=dc.southeast,gc=dc.southwest,vc=dc.northeast,bc=dc.northwest,yc=dc.south,wc=dc.north,xc=dc.east,Cc=dc.west,kc=function(e){return e.x()},_c=function(e,t){return e.x()+e.width()/2-t.width()/2},Ec=function(e,t){return e.x()+e.width()-t.width()},Ac=function(e,t){return e.y()-t.height()},Sc=function(e){return e.y()+e.height()},Oc=function(e,t){return e.y()+e.height()/2-t.height()/2},Tc=function(e){return e.x()+e.width()},Dc=function(e,t){return e.x()-t.width()},Nc=function(e,t,n){return fc(kc(e),Sc(e),n.southeast(),mc(),"layout-se")},Fc=function(e,t,n){return fc(Ec(e,t),Sc(e),n.southwest(),gc(),"layout-sw")},Lc=function(e,t,n){return fc(kc(e),Ac(e,t),n.northeast(),vc(),"layout-ne")},Pc=function(e,t,n){return fc(Ec(e,t),Ac(e,t),n.northwest(),bc(),"layout-nw")},Bc=function(e,t,n){return fc(_c(e,t),Ac(e,t),n.north(),wc(),"layout-n")},Rc=function(e,t,n){return fc(_c(e,t),Sc(e),n.south(),yc(),"layout-s")},qc=function(e,t,n){return fc(Tc(e),Oc(e,t),n.east(),xc(),"layout-e")},Mc=function(e,t,n){return fc(Dc(e,t),Oc(e,t),n.west(),Cc(),"layout-w")},jc=function(){return[Nc,Fc,Lc,Pc,Rc,Bc,qc,Mc]},Ic=function(){return[Fc,Nc,Pc,Lc,Rc,Bc,qc,Mc]},$c=wa(["x","y","width","height","maxHeight","direction","classes","label","candidateYforTest"],[]),zc=pa("position","left","top","right","bottom"),Hc=bt.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Vc=function(e,t,n,r,o,i){var a=t.x()-n,s=t.y()-r,l=t.width(),u=t.height(),c=o-(a+l),f=i-(s+u),d=ye.some(a),h=ye.some(s),p=ye.some(c),m=ye.some(f),g=ye.none();return hc(t.direction(),function(){return zc(e,d,h,g,g)},function(){return zc(e,g,h,p,g)},function(){return zc(e,d,g,g,m)},function(){return zc(e,g,g,p,m)},function(){return zc(e,d,h,g,g)},function(){return zc(e,d,g,g,m)},function(){return zc(e,d,h,g,g)},function(){return zc(e,g,h,p,g)})},Uc=function(e,t){return e.fold(function(){return zc("absolute",ye.some(t.x()),ye.some(t.y()),ye.none(),ye.none())},function(e,n,r,o){return Vc("absolute",t,e,n,r,o)},function(e,n,r,o){return Vc("fixed",t,e,n,r,o)})},Wc=function(e,t){var r=n(nc,t),o=e.fold(r,r,function(){var e=Xu();return nc(t).translate(-e.left(),-e.top())}),i=Yu(t),a=Vu(t);return ic(o.left(),o.top(),i,a)},Kc=function(e,t){return t.fold(function(){return e.fold(sc,sc,ic)},function(t){return e.fold(t,t,ic)})},Gc=function(e,t,n,r){return e.fold(t,n,r)},Yc=Hc.relative,Xc=Hc.fixed,Jc=function(e){return e},Zc=function(e,t){return function(n){return"rtl"===Qc(n)?t:e}},Qc=function(e){return"rtl"===pl(e,"direction")?"rtl":"ltr"},ef=function(){return Ar("layouts",[fr("onLtr"),fr("onRtl")])},tf=function(e,t,n,r){var o=t.layouts.map(function(t){return t.onLtr(e)}).getOr(n),i=t.layouts.map(function(t){return t.onRtl(e)}).getOr(r);return Zc(o,i)(e)},nf=function(e,t,n){var r=t.hotspot,o=Wc(n,r.element()),i=tf(e.element(),t,jc(),Ic());return ye.some(Jc({anchorBox:o,bubble:t.bubble.getOr(cc()),overrides:t.overrides,layouts:i,placer:ye.none()}))},rf=[fr("hotspot"),xr("bubble"),Or("overrides",{}),ef(),hu("placement",nf)],of=function(e,t,n){var r=ic(t.x,t.y,t.width,t.height),o=tf(e.element(),t,jc(),Ic());return ye.some(Jc({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:o,placer:ye.none()}))},af=[fr("x"),fr("y"),Or("height",0),Or("width",0),Or("bubble",cc()),Or("overrides",{}),ef(),hu("placement",of)],sf=pa("start","soffset","finish","foffset"),lf={create:sf},uf=bt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),cf=function(e,t,n,r){return e.fold(t,n,r)},ff=function(e){return e.fold(ae,ae,ae)},df=uf.before,hf=uf.on,pf=uf.after,mf={before:df,on:hf,after:pf,cata:cf,getStart:ff},gf=bt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vf=function(e){return gf.exact(e.start(),e.soffset(),e.finish(),e.foffset())},bf=function(e){return e.match({domRange:function(e){return Hr.fromDom(e.startContainer)},relative:function(e,t){return mf.getStart(e)},exact:function(e,t,n,r){return e}})},yf=gf.domRange,wf=gf.relative,xf=gf.exact,Cf=function(e){var t=bf(e);return Ca(t)},kf=lf.create,_f={domRange:yf,relative:wf,exact:xf,exactFromRange:vf,getWin:Cf,range:kf},Ef=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},Af=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},Sf=function(e,t,n){var r=e.document.createRange();return Ef(r,t),Af(r,n),r},Of=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},Tf=function(e){return{left:ie(e.left),top:ie(e.top),right:ie(e.right),bottom:ie(e.bottom),width:ie(e.width),height:ie(e.height)}},Df=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?ye.some(n).map(Tf):ye.none()},Nf=bt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ff=function(e,t,n){return t(Hr.fromDom(n.startContainer),n.startOffset,Hr.fromDom(n.endContainer),n.endOffset)},Lf=function(e,t){return t.match({domRange:function(e){return{ltr:ie(e),rtl:ye.none}},relative:function(t,n){return{ltr:Et(function(){return Sf(e,t,n)}),rtl:Et(function(){return ye.some(Sf(e,n,t))})}},exact:function(t,n,r,o){return{ltr:Et(function(){return Of(e,t,n,r,o)}),rtl:Et(function(){return ye.some(Of(e,r,o,t,n))})}}})},Pf=function(e,t){var n=t.ltr();if(n.collapsed){return t.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return Nf.rtl(Hr.fromDom(e.endContainer),e.endOffset,Hr.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return Ff(0,Nf.ltr,n)})}return Ff(0,Nf.ltr,n)},Bf=function(e,t){var n=Lf(e,t);return Pf(0,n)},Rf=function(e,t){return Bf(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},qf=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var s=e(a),l=Math.abs(t-s.left);if(n<=s.bottom){if(n<s.top||l>i)return a-1;i=l}}return 0},Mf=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},jf=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?ye.from(t.dom().nodeValue):ye.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(Vi,"text"),If=function(e){return jf.get(e)},$f=function(e){return jf.getOption(e)},zf=function(e,t,n,r,o){var i=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},a=function(e){return i(e).getBoundingClientRect()},s=If(t).length,l=qf(a,n,r,o.right,s);return i(l)},Hf=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getClientRects();return Ul(i,function(e){return Mf(e,n,r)?ye.some(e):ye.none()}).map(function(o){return zf(e,t,n,r,o)})},Vf=function(e,t,n,r){var o=e.dom().createRange(),i=Aa(t);return Ul(i,function(t){return o.selectNode(t.dom()),Mf(o.getBoundingClientRect(),n,r)?Uf(e,t,n,r):ye.none()})},Uf=function(e,t,n,r){return Vi(t)?Hf(e,t,n,r):Vf(e,t,n,r)},Wf=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return Uf(e,t,a,s)},Kf=function(e){return"img"===Ii(e)?1:$f(e).fold(function(){return Aa(e).length},function(e){return e.length})},Gf=function(e){return $f(e).filter(function(e){return 0!==e.trim().length||e.indexOf(" ")>-1}).isSome()},Yf=["img","br"],Xf=function(e){return Gf(e)||Re(Yf,Ii(e))},Jf=function(e){return Xi(e,Xf)},Zf=function(e){return Qf(e,Xf)},Qf=function(e,t){var n=function(e){for(var r=Aa(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return ye.some(i);var a=n(i);if(a.isSome())return a}return ye.none()};return n(e)},ed=function(e,t){return t-e.left<e.right-t},td=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},nd=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),i=ed(o,n);return(!0===i?Jf:Zf)(t).map(function(t){return td(e,t,i)})},rd=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=ed(r,n);return ye.some(td(e,t,o))},od=function(e,t,n){return(0===Aa(t).length?rd:nd)(e,t,n)},id=function(e,t,n){return ye.from(e.dom().caretPositionFromPoint(t,n)).bind(function(t){if(null===t.offsetNode)return ye.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),ye.some(n)})},ad=function(e,t,n){return ye.from(e.dom().caretRangeFromPoint(t,n))},sd=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return Wf(e,t,a,s)},ld=function(e,t,n){return Hr.fromPoint(e,t,n).bind(function(r){var o=function(){return od(e,r,t)};return 0===Aa(r).length?o():sd(e,r,t,n).orThunk(o)})},ud=(document.caretPositionFromPoint||document.caretRangeFromPoint,function(e,t){return Po(t,e)}),cd=function(e,t,n,r){var o=xa(e),i=o.dom().createRange();return i.setStart(e.dom(),t),i.setEnd(n.dom(),r),i},fd=function(e,t,n,r){var o=cd(e,t,n,r),i=Ro(e,n)&&t===r;return o.collapsed&&!i},dd=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return ye.some(lf.create(Hr.fromDom(t.startContainer),t.startOffset,Hr.fromDom(n.endContainer),n.endOffset))}return ye.none()},hd=function(e){var t=Hr.fromDom(e.anchorNode),n=Hr.fromDom(e.focusNode);return fd(t,e.anchorOffset,n,e.focusOffset)?ye.some(lf.create(t,e.anchorOffset,n,e.focusOffset)):dd(e)},pd=function(e){return ye.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(hd)},md=function(e,t){var n=Rf(e,t);return Df(n)},gd=pa("element","offset"),vd=function(e,t){var n=Aa(e);if(0===n.length)return gd(e,t);if(t<n.length)return gd(n[t],0);var r=n[n.length-1],o=Vi(r)?If(r).length:Aa(r).length;return gd(r,o)},bd=bt.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),yd=function(e){return e.fold(function(e){return e},function(e,t,n){return e.translate(-t,-n)})},wd=function(e){return e.fold(function(e){return e},function(e,t,n){return e})},xd=function(e){return We(e,function(e,t){return e.translate(t.left(),t.top())},qu(0,0))},Cd=function(e){var t=Ie(e,yd);return xd(t)},kd=function(e){var t=Ie(e,wd);return xd(t)},_d=bd.screen,Ed=bd.absolute,Ad=function(e,t,n){var r=Ca(n.root).dom(),o=function(t){var n=xa(t),r=xa(e.element());return Ro(n,r)};return ye.from(r.frameElement).map(Hr.fromDom).filter(o).map(Iu)},Sd=function(e,t,n){var r=xa(e.element()),o=Xu(r),i=Ad(e,0,n).getOr(o);return Ed(i,o.left(),o.top())},Od=function(e,t,n,r){var o=e,i=t,a=n,s=r;e<0&&(o=0,a=n+e),t<0&&(i=0,s=r+t);var l=_d(qu(o,i));return ye.some(rc(l,a,s))},Td=function(e,t,n,r,o){return e.map(function(e){var i=[t,e.point()],a=Gc(r,function(){return kd(i)},function(){return kd(i)},function(){return Cd(i)}),s=oc(a.left(),a.top(),e.width(),e.height()),l=tf(o,n,function(){return n.showAbove?[Lc,Pc,Nc,Fc,Bc,Rc]:[Nc,Fc,Lc,Pc,Rc,Rc]}(),function(){return n.showAbove?[Pc,Lc,Fc,Nc,Bc,Rc]:[Fc,Nc,Pc,Lc,Rc,Bc]}());return Jc({anchorBox:s,bubble:n.bubble.getOr(cc()),overrides:n.overrides,layouts:l,placer:ye.none()})})},Dd={capRect:Od,calcNewAnchor:Td},Nd=pa("element","offset"),Fd=function(e,t){return Vi(e)?Nd(e,t):vd(e,t)},Ld=function(e,t){return t.getSelection.getOrThunk(function(){return function(){return pd(e)}})().map(function(e){var t=Fd(e.start(),e.soffset()),n=Fd(e.finish(),e.foffset());return _f.range(t.element(),t.offset(),n.element(),n.offset())})},Pd=function(e,t,n){var r=Ca(t.root).dom(),o=Sd(e,0,t),i=Ld(r,t).bind(function(e){return md(r,_f.exactFromRange(e)).orThunk(function(){var t=Hr.fromText("\ufeff");return Da(e.start(),t),md(r,_f.exact(t,0,t,1)).map(function(e){return Ma(t),e})}).bind(function(e){return Dd.capRect(e.left(),e.top(),e.width(),e.height())})}),a=Ld(r,t).bind(function(e){return Hi(e.start())?ye.some(e.start()):ka(e.start())}),s=a.getOr(e.element());return Dd.calcNewAnchor(i,o,t,n,s)},Bd=[xr("getSelection"),fr("root"),xr("bubble"),ef(),Or("overrides",{}),Or("showAbove",!1),hu("placement",Pd)],Rd=function(e,t,n){var r=Sd(e,0,t);return t.node.bind(function(o){var i=o.dom().getBoundingClientRect(),a=Dd.capRect(i.left,i.top,i.width,i.height),s=t.node.getOr(e.element());return Dd.calcNewAnchor(a,r,t,n,s)})},qd=[fr("node"),fr("root"),xr("bubble"),ef(),Or("overrides",{}),Or("showAbove",!1),hu("placement",Rd)],Md=function(e){return e.x()+e.width()},jd=function(e,t){return e.x()-t.width()},Id=function(e,t){return e.y()-t.height()+e.height()},$d=function(e){return e.y()},zd=function(e,t,n){return fc(Md(e),$d(e),n.southeast(),mc(),"link-layout-se")},Hd=function(e,t,n){return fc(jd(e,t),$d(e),n.southwest(),gc(),"link-layout-sw")},Vd=function(e,t,n){return fc(Md(e),Id(e,t),n.northeast(),vc(),"link-layout-ne")},Ud=function(e,t,n){return fc(jd(e,t),Id(e,t),n.northwest(),bc(),"link-layout-nw")},Wd=function(){return[zd,Hd,Vd,Ud]},Kd=function(){return[Hd,zd,Ud,Vd]},Gd=function(e,t,n){var r=Wc(n,t.item.element()),o=tf(e.element(),t,Wd(),Kd());return ye.some(Jc({anchorBox:r,bubble:cc(),overrides:t.overrides,layouts:o,placer:ye.none()}))},Yd=[fr("item"),ef(),Or("overrides",{}),hu("placement",Gd)],Xd=tr("anchor",{selection:Bd,node:qd,hotspot:rf,submenu:Yd,makeshift:af}),Jd=pa("anchorBox","origin"),Zd=function(e,t){return Jd(e,t)},Qd=bt.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),eh=function(e,t,n,r){var o=e.x(),i=e.y(),a=e.bubble().offset().left(),s=e.bubble().offset().top(),l=r.x(),u=r.y(),c=r.width(),f=r.height(),d=o+a,h=i+s,p=d>=l,m=h>=u,g=p&&m,v=d+t<=l+c,b=h+n<=u+f,y=v&&b,w=p?Math.min(t,l+c-d):Math.abs(l-(d+t)),x=m?Math.min(n,u+f-h):Math.abs(u-(h+n)),C=r.x()+r.width(),k=Math.max(r.x(),d),_=Math.min(k,C),E=m?h:h+(n-x),A=ie(E+x-u),S=ie(u+f-E),O=pc(e.direction(),S,S,A),T=$c({x:_,y:E,width:w,height:x,maxHeight:O,direction:e.direction(),classes:{on:e.bubble().classesOn(),off:e.bubble().classesOff()},label:e.label(),candidateYforTest:h});return g&&y?Qd.fit(T):Qd.nofit(T,w,x)},th=function(e,t,r,o,i){var a=r.width(),s=r.height(),l=function(e,n,l,u){var c=e(t,r,o);return eh(c,a,s,i).fold(Qd.fit,function(e,t,r){return r>u||t>l?Qd.nofit(e,t,r):Qd.nofit(n,l,u)})};return We(e,function(e,t){var r=n(l,t);return e.fold(Qd.fit,r)},Qd.nofit($c({x:t.x(),y:t.y(),width:r.width(),height:r.height(),maxHeight:r.height(),direction:mc(),classes:[],label:"none",candidateYforTest:t.y()}),-1,-1)).fold(ae,ae)},nh=function(e){return{width:ie(Yu(e)),height:ie(Vu(e))}},rh=function(e,t,n,r){bl(t,"max-height");var o=nh(t);return th(r.preference(),e,o,n,r.bounds())},oh=function(e,t){var n=t.classes();sl(e,n.off),al(e,n.on)},ih=function(e,t,n){n.maxHeightFunction()(e,t.maxHeight())},ah=function(e,t,n){var r=function(e){return e+"px"},o=Uc(n.origin(),t);hl(e,{position:ye.some(o.position()),left:o.left().map(r),top:o.top().map(r),right:o.right().map(r),bottom:o.bottom().map(r)})},sh=function(e,t){Uu(e,Math.floor(t))},lh=ie(function(e,t){sh(e,t),dl(e,{"overflow-x":"hidden","overflow-y":"auto"})}),uh=ie(function(e,t){sh(e,t)}),ch=wa(["bounds","origin","preference","maxHeightFunction"],[]),fh=function(e,t,n){return void 0===e[t]?n:e[t]},dh=function(e,t,n,r,o,i){var a=fh(i,"maxHeightFunction",lh()),s=e.anchorBox(),l=e.origin(),u=ch({bounds:Kc(l,o),origin:l,preference:r,maxHeightFunction:a});hh(s,t,n,u)},hh=function(e,t,n,r){var o=rh(e,t,n,r);ah(t,o,r),oh(t,o),ih(t,o,r)},ph=function(){return Xc(0,0,t.window.innerWidth,t.window.innerHeight)},mh=function(e){var t=Iu(e.element()),n=e.element().dom().getBoundingClientRect();return Yc(t.left(),t.top(),n.width,n.height)},gh=function(e,t,n,r,o){var i=Zd(n.anchorBox,t);dh(i,o.element(),n.bubble,n.layouts,r,n.overrides)},vh=function(e,t,n,r,o){var i=ye.none();bh(e,t,n,r,o,i)},bh=function(e,t,n,r,o,i){var a=i.map(ac);return yh(e,t,n,r,o,a)},yh=function(e,t,n,r,o,i){var a=Zn("positioning anchor.info",Xd,r);fl(o.element(),"position","fixed");var s=gl(o.element(),"visibility");fl(o.element(),"visibility","hidden");var l=t.useFixed?ph():mh(e),u=a.placement,c=i.map(ie).or(t.getBounds);u(e,a,l).each(function(t){t.placer.getOr(gh)(e,l,t,c,o)}),s.fold(function(){bl(o.element(),"visibility")},function(e){fl(o.element(),"visibility",e)}),gl(o.element(),"left").isNone()&&gl(o.element(),"top").isNone()&&gl(o.element(),"right").isNone()&&gl(o.element(),"bottom").isNone()&&gl(o.element(),"position").is("fixed")&&bl(o.element(),"position")},wh=function(e,t,n){return t.useFixed?"fixed":"absolute"},xh=Object.freeze({position:vh,positionWithin:bh,positionWithinBounds:yh,getMode:wh}),Ch=[Or("useFixed",!1),xr("getBounds")],kh=Eu({fields:Ch,name:"positioning",active:Bu,apis:xh}),_h=function(e){Pi(e,Ai());var t=e.components();$e(t,_h)},Eh=function(e){var t=e.components();$e(t,Eh),Pi(e,Ei())},Ah=function(e,t){Sh(e,t,La)},Sh=function(e,t,n){e.getSystem().addToWorld(t),n(e.element(),t.element()),Ui(e.element())&&Eh(t),e.syncComponents()},Oh=function(e){_h(e),Ma(e.element()),e.getSystem().removeFromWorld(e)},Th=function(e){var t=ka(e.element()).bind(function(t){return e.getSystem().getByDom(t).fold(ye.none,ye.some)});Oh(e),t.each(function(e){e.syncComponents()})},Dh=function(e){var t=e.components();$e(t,Oh),qa(e.element()),e.syncComponents()},Nh=function(e,t){Lh(e,t,La)},Fh=function(e,t){Lh(e,t,Na)},Lh=function(e,t,n){n(e,t.element());var r=Aa(t.element());$e(r,function(e){t.getByDom(e).each(Eh)})},Ph=function(e){var t=Aa(e.element());$e(t,function(t){e.getByDom(t).each(_h)}),Ma(e.element())},Bh=function(e,t,n,r){n.get().each(function(t){Dh(e)});var o=t.getAttachPoint(e);Ah(o,e);var i=e.getSystem().build(r);return Ah(e,i),n.set(i),i},Rh=function(e,t,n,r){var o=Bh(e,t,n,r);return t.onOpen(e,o),o},qh=function(e,t,n,r,o){Vh(e,t),Rh(e,t,n,r),o(),Wh(e,t)},Mh=function(e,t,n){n.get().each(function(r){Dh(e),Th(e),t.onClose(e,r),n.clear()})},jh=function(e,t,n){return n.isOpen()},Ih=function(e,t,n,r){return jh(0,0,n)&&n.get().exists(function(n){return t.isPartOf(e,n,r)})},$h=function(e,t,n){return n.get()},zh=function(e,t,n,r){gl(e.element(),t).fold(function(){Ga(e.element(),n)},function(t){Va(e.element(),n,t)}),fl(e.element(),t,r)},Hh=function(e,t,n){if(Ka(e.element(),n)){var r=Wa(e.element(),n);fl(e.element(),t,r)}else bl(e.element(),t)},Vh=function(e,t,n){var r=t.getAttachPoint(e);fl(e.element(),"position",kh.getMode(r)),zh(e,"visibility",t.cloakVisibilityAttr,"hidden")},Uh=function(e){return qe(["top","left","right","bottom"],function(t){return gl(e,t).isSome()})},Wh=function(e,t,n){Uh(e.element())||bl(e.element(),"position"),Hh(e,"visibility",t.cloakVisibilityAttr)},Kh=Object.freeze({cloak:Vh,decloak:Wh,open:Rh,openWhileCloaked:qh,close:Mh,isOpen:jh,isPartOf:Ih,getState:$h}),Gh=function(e,t){return Zi([ta(wi(),function(n,r){Mh(n,e,t)})])},Yh=Object.freeze({events:Gh}),Xh=[uu("onOpen"),uu("onClose"),fr("isPartOf"),fr("getAttachPoint"),Or("cloakVisibilityAttr","data-precloak-visibility")],Jh=function(){var e=qr(ye.none()),t=ie("not-implemented"),n=function(){return e.get().isSome()},r=function(t){e.set(ye.some(t))},o=function(t){return e.get()};return _s({readState:t,isOpen:n,clear:function(){e.set(ye.none())},set:r,get:o})},Zh=Object.freeze({init:Jh}),Qh=Eu({fields:Xh,name:"sandboxing",active:Yh,apis:Kh,state:Zh}),ep=ie("dismiss.popups"),tp=ie("mouse.released"),np=Bn([Or("isExtraPart",ie(!1)),Ar("fireEventInstead",[Or("event",Si())])]),rp=function(e){var t=op(e);return Lu.config(t)},op=function(e){var t=Zn("Dismissal",np,e);return{channels:Ut(ep(),{schema:Bn([fr("target")]),onReceive:function(e,n){if(Qh.isOpen(e)){Qh.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold(function(){return Qh.close(e)},function(t){return Pi(e,t.event)})}}})}},ip=function(e,t){return Br(e,{},Ie(t,function(t){return vr(t.name(),"Cannot configure "+t.name()+" for "+e)}).concat([Rr("dump",ae)]))},ap=function(e){return e.dump},sp=function(e,t){return de({},e.dump,ku(t))},lp={field:ip,augment:sp,get:ap},up=bt.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),cp=function(e,t,n,r){return e.exists(function(e){return e!==n.owner})?up.single(!0,ie(n)):Vt(r,n.name).fold(function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+st(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))},function(e){return e.replace()})},fp=function(e,t,n,r){return"placeholder"===n.uiType?cp(e,0,n,r):up.single(!1,ie(n))},dp=function(e,t,n,r){return fp(e,0,n,r).fold(function(o,i){var a=i(t,n.config,n.validated),s=Vt(a,"components").getOr([]),l=Ze(s,function(n){return dp(e,t,n,r)});return[de({},a,{components:l})]},function(e,r){var o=r(t,n.config,n.validated);return n.validated.preprocess.getOr(ae)(o)})},hp=function(e,t,n,r){return Ze(n,function(n){return dp(e,t,n,r)})},pp=function(e,t){var n=!1,r=function(){return n},o=function(){if(!0===n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},i=function(){return t.fold(function(e,t){return e},function(e,t){return e})};return{name:ie(e),required:i,used:r,replace:o}},mp=function(e,t,n,r){var o=ct(r,function(e,t){return pp(t,e)}),i=hp(e,t,n,o);return ut(o,function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}),i},gp=up.single,vp=up.multiple,bp=ie("placeholder"),yp=bt.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),wp=Or("factory",{sketch:ae}),xp=Or("schema",[]),Cp=fr("name"),kp=zn("pname","pname",Nt(function(e){return"<alloy."+rs(e.name)+">"}),nr()),_p=Rr("schema",function(){return[xr("preprocess")]}),Ep=Or("defaults",ie({})),Ap=Or("overrides",ie({})),Sp=Rn([wp,xp,Cp,kp,Ep,Ap]),Op=Rn([wp,xp,Cp,Ep,Ap]),Tp=Rn([wp,xp,Cp,kp,Ep,Ap]),Dp=Rn([wp,_p,Cp,fr("unit"),kp,Ep,Ap]),Np=function(e){return e.fold(ye.some,ye.none,ye.some,ye.some)},Fp=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},Lp=function(e){return e.fold(ae,ae,ae,ae)},Pp=function(e,t){return function(n){var r=Zn("Converting part type",t,n);return e(r)}},Bp=Pp(yp.required,Sp),Rp=Pp(yp.external,Op),qp=Pp(yp.optional,Tp),Mp=Pp(yp.group,Dp),jp=ie("entirety"),Ip=Object.freeze({required:Bp,external:Rp,optional:qp,group:Mp,asNamedPart:Np,name:Fp,asCommon:Lp,original:jp}),$p=function(e,t,n,r){return kt(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},zp=function(e,t,n){var r={},o={};return $e(n,function(e){e.fold(function(e){r[e.pname]=gp(!0,function(t,n,r){return e.factory.sketch($p(t,e,n,r))})},function(e){var n=t.parts[e.name];o[e.name]=ie(e.factory.sketch($p(t,e,n[jp()]),n))},function(e){r[e.pname]=gp(!1,function(t,n,r){return e.factory.sketch($p(t,e,n,r))})},function(e){r[e.pname]=vp(!0,function(t,n,r){var o=t[e.name];return Ie(o,function(n){return e.factory.sketch(kt(e.defaults(t,n,r),n,e.overrides(t,n)))})})})}),{internals:ie(r),externals:ie(o)}},Hp=function(e,t){var n={};return $e(t,function(t){Np(t).each(function(t){var r=Vp(e,t.pname);n[t.name]=function(n){var o=Zn("Part: "+t.name+" in "+e,Rn(t.schema),n);return de({},r,{config:n,validated:o})}})}),n},Vp=function(e,t){return{uiType:bp(),owner:e,name:t}},Up=function(e,t,n){return{uiType:bp(),owner:e,name:t,config:n,validated:{}}},Wp=function(e){return Ze(e,function(e){return e.fold(ye.none,ye.some,ye.none,ye.none).map(function(e){return br(e.name,e.schema.concat([pu(jp())]))}).toArray()})},Kp=function(e){return Ie(e,Fp)},Gp=function(e,t,n){return zp(0,t,n)},Yp=function(e,t,n){return mp(ye.some(e),t,t.components,n)},Xp=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOption()},Jp=function(e,t,n){return Xp(e,t,n).getOrDie("Could not find part: "+n)},Zp=function(e,t,n){var r={},o=t.partUids,i=e.getSystem();return $e(n,function(e){r[e]=ie(i.getByUid(o[e]))}),r},Qp=function(e,t){var n=e.getSystem();return ct(t.partUids,function(e,t){return ie(n.getByUid(e))})},em=function(e){return st(e.partUids)},tm=function(e,t,n){var r={},o=t.partUids,i=e.getSystem();return $e(n,function(e){r[e]=ie(i.getByUid(o[e]).getOrDie())}),r},nm=function(e,t){var n=Kp(t);return Wt(Ie(n,function(t){return{key:t,value:e+"-"+t}}))},rm=function(e){return zn("partUids","partUids",Ft(function(t){return nm(t.uid,e)}),nr())},om=Object.freeze({generate:Hp,generateOne:Up,schemas:Wp,names:Kp,substitutes:Gp,components:Yp,defaultUids:nm,defaultUidsSchema:rm,getAllParts:Qp,getAllPartNames:em,getPart:Xp,getPartOrDie:Jp,getParts:Zp,getPartsOrDie:tm}),im=function(e,t){return(e.length>0?[br("parts",e)]:[]).concat([fr("uid"),Or("dom",{}),Or("components",[]),pu("originalSpec"),Or("debug.sketcher",{})]).concat(t)},am=function(e,t,n,r,o){var i=im(r,o);return Zn(e+" [SpecSchema]",Bn(i.concat(t)),n)},sm=function(e,t,n,r){var o=um(r);return n(am(e,t,o,[],[]),o)},lm=function(e,t,n,r,o){var i=um(o),a=Wp(n),s=rm(n),l=am(e,t,i,a,[s]),u=Gp(0,l,n);return r(l,Yp(e,l,u.internals()),i,u.externals())},um=function(e){return e.hasOwnProperty("uid")?e:de({},e,{uid:fs("uid")})},cm=Bn([fr("name"),fr("factory"),fr("configFields"),Or("apis",{}),Or("extraApis",{})]),fm=Bn([fr("name"),fr("factory"),fr("configFields"),fr("partFields"),Or("apis",{}),Or("extraApis",{})]),dm=function(e){var t=Zn("Sketcher for "+e.name,cm,e),n=function(e){return sm(t.name,t.configFields,t.factory,e)},r=ct(t.apis,Cs),o=ct(t.extraApis,function(e,t){return vs(e,t)});return de({name:ie(t.name),partFields:ie([]),configFields:ie(t.configFields),sketch:n},r,o)},hm=function(e){var t=Zn("Sketcher for "+e.name,fm,e),n=function(e){return lm(t.name,t.configFields,t.partFields,t.factory,e)},r=Hp(t.name,t.partFields),o=ct(t.apis,Cs),i=ct(t.extraApis,function(e,t){return vs(e,t)});return de({name:ie(t.name),partFields:ie(t.partFields),configFields:ie(t.configFields),sketch:n,parts:ie(r)},o,i)},pm=function(e){return"input"===Ii(e)&&"radio"!==Wa(e,"type")||"textarea"===Ii(e)},mm=function(e,t,n){return t.find(e)},gm=Object.freeze({getCurrent:mm}),vm=[fr("find")],bm=Eu({fields:vm,name:"composing",apis:gm}),ym=function(e,t,n,r){var o=e+t;return o>r?n:o<n?r:o},wm=function(e,t,n){return e<=t?t:e>=n?n:e},xm=function(e,t,n,r){var o=ud(e.element(),"."+t.highlightClass);$e(o,function(n){qe(r,function(e){return e.element()===n})||(ol(n,t.highlightClass),e.getSystem().getByDom(n).each(function(n){t.onDehighlight(e,n),Pi(n,Li())}))})},Cm=function(e,t,n){return xm(e,t,0,[])},km=function(e,t,n,r){Tm(e,t,n,r)&&(ol(r.element(),t.highlightClass),t.onDehighlight(e,r),Pi(r,Li()))},_m=function(e,t,n,r){xm(e,t,0,[r]),Tm(e,t,n,r)||(nl(r.element(),t.highlightClass),t.onHighlight(e,r),Pi(r,Fi()))},Em=function(e,t,n){Fm(e,t).each(function(r){_m(e,t,n,r)})},Am=function(e,t,n){Lm(e,t).each(function(r){_m(e,t,n,r)})},Sm=function(e,t,n,r){Nm(e,t,n,r).fold(function(e){throw new Error(e)},function(r){_m(e,t,n,r)})},Om=function(e,t,n,r){var o=qm(e,t);Ke(o,r).each(function(r){_m(e,t,n,r)})},Tm=function(e,t,n,r){return il(r.element(),t.highlightClass)},Dm=function(e,t,n){return Ml(e.element(),"."+t.highlightClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Nm=function(e,t,n,r){var o=ud(e.element(),"."+t.itemClass);return ye.from(o[r]).fold(function(){return ke.error("No element found with index "+r)},e.getSystem().getByDom)},Fm=function(e,t,n){return Ml(e.element(),"."+t.itemClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Lm=function(e,t,n){var r=ud(e.element(),"."+t.itemClass);return(r.length>0?ye.some(r[r.length-1]):ye.none()).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Pm=function(e,t,n,r){var o=ud(e.element(),"."+t.itemClass);return Ge(o,function(e){return il(e,t.highlightClass)}).bind(function(t){var n=ym(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOption()})},Bm=function(e,t,n){return Pm(e,t,0,-1)},Rm=function(e,t,n){return Pm(e,t,0,1)},qm=function(e,t,n){var r=ud(e.element(),"."+t.itemClass);return Vl(Ie(r,function(t){return e.getSystem().getByDom(t).toOption()}))},Mm=Object.freeze({dehighlightAll:Cm,dehighlight:km,highlight:_m,highlightFirst:Em,highlightLast:Am,highlightAt:Sm,highlightBy:Om,isHighlighted:Tm,getHighlighted:Dm,getFirst:Fm,getLast:Lm,getPrevious:Bm,getNext:Rm,getCandidates:qm}),jm=[fr("highlightClass"),fr("itemClass"),uu("onHighlight"),uu("onDehighlight")],Im=Eu({fields:jm,name:"highlighting",apis:Mm}),$m=function(){return[8]},zm=function(){return[9]},Hm=function(){return[13]},Vm=function(){return[27]},Um=function(){return[32]},Wm=function(){return[37]},Km=function(){return[38]},Gm=function(){return[39]},Ym=function(){return[40]},Xm=function(e,t,n){var r=et(e.slice(0,t)),o=et(e.slice(t+1));return Ke(r.concat(o),n)},Jm=function(e,t,n){var r=et(e.slice(0,t));return Ke(r,n)},Zm=function(e,t,n){var r=e.slice(0,t),o=e.slice(t+1);return Ke(o.concat(r),n)},Qm=function(e,t,n){var r=e.slice(t+1);return Ke(r,n)},eg=function(e){return function(t){var n=t.raw();return Re(e,n.which)}},tg=function(e){return function(t){return Qe(e,function(e){return e(t)})}},ng=function(e){return!0===e.raw().shiftKey},rg=function(e){return!0===e.raw().ctrlKey},og=se(ng),ig=function(e,t){return{matches:e,classification:t}},ag=function(e,t){return Ke(e,function(e){return e.matches(t)}).map(function(e){return e.classification})},sg=function(e){e.dom().focus()},lg=function(e){e.dom().blur()},ug=function(e){var t=xa(e).dom();return e.dom()===t.activeElement},cg=function(e){var n=void 0!==e?e.dom():t.document;return ye.from(n.activeElement).map(Hr.fromDom)},fg=function(e){return cg(xa(e)).filter(function(t){return e.dom().contains(t.dom())})},dg=function(e,t,n){t.exists(function(e){return n.exists(function(t){return Ro(t,e)})})||Bi(e,Oi(),{prevFocus:t,newFocus:n})},hg=function(){var e=function(e){return fg(e.element())};return{get:e,set:function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element());var o=e(t);dg(t,r,o)}}},pg=function(){var e=function(e){return Im.getHighlighted(e).map(function(e){return e.element()})};return{get:e,set:function(t,n){var r=e(t);t.getSystem().getByDom(n).fold(ne,function(e){Im.highlight(t,e)});var o=e(t);dg(t,r,o)}}};!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(Kl||(Kl={}));var mg,gg=function(e,t,n,r,o){var i=function(){return e.concat([Or("focusManager",hg()),Tr("focusInside","onFocus",Kn(function(e){return Re(["onFocus","onEnterOrSpace","onApi"],e)?ke.value(e):ke.error("Invalid value for focusInside")})),hu("handler",l),hu("state",t),hu("sendFocusIn",o)])},a=function(e,t,n,r,o){var i=n(e,t,r,o);return ag(i,t.event()).bind(function(n){return n(e,t,r,o)})},s=function(e,t){var i=e.focusInside!==Kl.OnFocusMode?ye.none():o(e).map(function(n){return ta(fi(),function(r,o){n(r,e,t),o.stop()})}),s=function(n,r){var i=eg(Um().concat(Hm()))(r.event());e.focusInside===Kl.OnEnterOrSpaceMode&&i&&$o(n,r)&&o(e).each(function(o){o(n,e,t),r.stop()})};return Zi(i.toArray().concat([ta(ri(),function(r,o){a(r,o,n,e,t).fold(function(){s(r,o)},function(e){o.stop()})}),ta(oi(),function(n,o){a(n,o,r,e,t).each(function(e){o.stop()})})]))},l={schema:i,processKey:a,toEvents:s};return l},vg=function(e){var t=[xr("onEscape"),xr("onEnter"),Or("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Or("firstTabstop",0),Or("useTabstopAt",ie(!0)),xr("visibilitySelector")].concat([e]),r=function(e,t){var n=e.visibilitySelector.bind(function(e){return jl(t,e)}).getOr(t);return Hu(n)>0},o=function(e,t){var n=ud(e.element(),t.selector),o=Ve(n,function(e){return r(t,e)});return ye.from(o[t.firstTabstop])},i=function(e,t){return t.focusManager.get(e).bind(function(e){return jl(e,t.selector)})},a=function(e,t){return r(e,t)&&e.useTabstopAt(t)},s=function(e,t){o(e,t).each(function(n){t.focusManager.set(e,n)})},l=function(e,t,n,r,o){return o(t,n,function(e){return a(r,e)}).fold(function(){return r.cyclic?ye.some(!0):ye.none()},function(t){return r.focusManager.set(e,t),ye.some(!0)})},u=function(e,t,r,o){var a=ud(e.element(),r.selector);return i(e,r).bind(function(t){return Ge(a,n(Ro,t)).bind(function(t){return l(e,a,t,r,o)})})},c=function(e,t,n,r){var o=n.cyclic?Xm:Jm;return u(e,0,n,o)},f=function(e,t,n,r){var o=n.cyclic?Zm:Qm;return u(e,0,n,o)},d=function(e,t,n,r){return n.onEnter.bind(function(n){return n(e,t)})},h=function(e,t,n,r){return n.onEscape.bind(function(n){return n(e,t)})},p=ie([ig(tg([ng,eg(zm())]),c),ig(eg(zm()),f),ig(eg(Vm()),h),ig(tg([og,eg(Hm())]),d)]),m=ie([]);return gg(t,ks.init,p,m,function(){return ye.some(s)})},bg=vg(Rr("cyclic",ie(!1))),yg=vg(Rr("cyclic",ie(!0))),wg=function(e,t,n){return qi(e,n,mi()),ye.some(!0)},xg=function(e,t,n){return pm(n)&&eg(Um())(t.event())?ye.none():wg(e,0,n)},Cg=function(e,t){return ye.some(!0)},kg=[Or("execute",xg),Or("useSpace",!1),Or("useEnter",!0),Or("useControlEnter",!1),Or("useDown",!1)],_g=function(e,t,n){return n.execute(e,t,e.element())},Eg=function(e,t,n,r){var o=n.useSpace&&!pm(e.element())?Um():[],i=n.useEnter?Hm():[],a=n.useDown?Ym():[],s=o.concat(i).concat(a);return[ig(eg(s),_g)].concat(n.useControlEnter?[ig(tg([rg,eg(Hm())]),_g)]:[])},Ag=function(e,t,n,r){return n.useSpace&&!pm(e.element())?[ig(eg(Um()),Cg)]:[]},Sg=gg(kg,ks.init,Eg,Ag,function(){return ye.none()}),Og=function(e){var t=qr(ye.none()),n=function(e,n){t.set(ye.some({numRows:ie(e),numColumns:ie(n)}))},r=function(){return t.get().map(function(e){return e.numRows()})},o=function(){return t.get().map(function(e){return e.numColumns()})};return _s({readState:function(){return t.get().map(function(e){return{numRows:e.numRows(),numColumns:e.numColumns()}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:n,getNumRows:r,getNumColumns:o})},Tg=function(e){return e.state(e)},Dg=Object.freeze({flatgrid:Og,init:Tg}),Ng=function(e){return function(t,n,r,o){var i=e(t.element());return Bg(i,t,n,r,o)}},Fg=function(e,t){var n=Zc(e,t);return Ng(n)},Lg=function(e,t){var n=Zc(t,e);return Ng(n)},Pg=function(e){return function(t,n,r,o){return Bg(e,t,n,r,o)}},Bg=function(e,t,n,r,o){return r.focusManager.get(t).bind(function(n){return e(t.element(),n,r,o)}).map(function(e){return r.focusManager.set(t,e),!0})},Rg=Pg,qg=Pg,Mg=Pg,jg=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Ig=function(e){var t=e.dom();return!jg(t)},$g=wa(["index","candidates"],[]),zg=function(e,t){return Ge(e,t).map(function(t){return $g({index:t,candidates:e})})},Hg=function(e,t,r){var o=n(Ro,t),i=ud(e,r),a=Ve(i,Ig);return zg(a,o)},Vg=function(e,t){return Ge(e,function(e){return Ro(t,e)})},Ug=function(e,t,n,r){return r(Math.floor(t/n),t%n).bind(function(t){var r=t.row()*n+t.column();return r>=0&&r<e.length?ye.some(e[r]):ye.none()})},Wg=function(e,t,n,r,o){return Ug(e,t,r,function(t,i){var a=t===n-1,s=a?e.length-t*r:r,l=ym(i,o,0,s-1);return ye.some({row:ie(t),column:ie(l)})})},Kg=function(e,t,n,r,o){return Ug(e,t,r,function(t,i){var a=ym(t,o,0,n-1),s=a===n-1,l=s?e.length-a*r:r,u=wm(i,0,l-1);return ye.some({row:ie(a),column:ie(u)})})},Gg=function(e,t,n,r){return Wg(e,t,n,r,1)},Yg=function(e,t,n,r){return Wg(e,t,n,r,-1)},Xg=function(e,t,n,r){return Kg(e,t,n,r,-1)},Jg=function(e,t,n,r){return Kg(e,t,n,r,1)},Zg=[fr("selector"),Or("execute",xg),cu("onEscape"),Or("captureTab",!1),mu()],Qg=function(e,t,n){Ml(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},ev=function(e,t){return t.focusManager.get(e).bind(function(e){return jl(e,t.selector)})},tv=function(e,t,n,r){return ev(e,n).bind(function(r){return n.execute(e,t,r)})},nv=function(e){return function(t,n,r,o){return Hg(t,n,r.selector).bind(function(t){return e(t.candidates(),t.index(),o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))})}},rv=function(e,t,n,r){return n.captureTab?ye.some(!0):ye.none()},ov=function(e,t,n,r){return n.onEscape(e,t)},iv=nv(Yg),av=nv(Gg),sv=nv(Xg),lv=nv(Jg),uv=ie([ig(eg(Wm()),Fg(iv,av)),ig(eg(Gm()),Lg(iv,av)),ig(eg(Km()),Rg(sv)),ig(eg(Ym()),qg(lv)),ig(tg([ng,eg(zm())]),rv),ig(tg([og,eg(zm())]),rv),ig(eg(Vm()),ov),ig(eg(Um().concat(Hm())),tv)]),cv=ie([ig(eg(Um()),Cg)]),fv=gg(Zg,Og,uv,cv,function(){return ye.some(Qg)}),dv=function(e,t,n,r){var o=function(e){return"button"===Ii(e)&&"disabled"===Wa(e,"disabled")},i=function(e,t,n){var a=ym(t,r,0,n.length-1);return a===e?ye.none():o(n[a])?i(e,a,n):ye.from(n[a])};return Hg(e,n,t).bind(function(e){var t=e.index(),n=e.candidates();return i(t,t,n)})},hv=[fr("selector"),Or("getInitial",ye.none),Or("execute",xg),cu("onEscape"),Or("executeOnMove",!1),Or("allowVertical",!0)],pv=function(e,t){return t.focusManager.get(e).bind(function(e){return jl(e,t.selector)})},mv=function(e,t,n){return pv(e,n).bind(function(r){return n.execute(e,t,r)})},gv=function(e,t){t.getInitial(e).orThunk(function(){return Ml(e.element(),t.selector)}).each(function(n){t.focusManager.set(e,n)})},vv=function(e,t,n){return dv(e,n.selector,t,-1)},bv=function(e,t,n){return dv(e,n.selector,t,1)},yv=function(e){return function(t,n,r){return e(t,n,r).bind(function(){return r.executeOnMove?mv(t,n,r):ye.some(!0)})}},wv=function(e,t,n,r){return n.onEscape(e,t)},xv=function(e,t,n,r){var o=Wm().concat(n.allowVertical?Km():[]),i=Gm().concat(n.allowVertical?Ym():[]);return[ig(eg(o),yv(Fg(vv,bv))),ig(eg(i),yv(Lg(vv,bv))),ig(eg(Hm()),mv),ig(eg(Um()),mv),ig(eg(Vm()),wv)]},Cv=ie([ig(eg(Um()),Cg)]),kv=gg(hv,ks.init,xv,Cv,function(){return ye.some(gv)}),_v=wa(["rowIndex","columnIndex","cell"],[]),Ev=function(e,t,n){return ye.from(e[t]).bind(function(e){return ye.from(e[n]).map(function(e){return _v({rowIndex:t,columnIndex:n,cell:e})})})},Av=function(e,t,n,r){var o=e[t],i=o.length,a=ym(n,r,0,i-1);return Ev(e,t,a)},Sv=function(e,t,n,r){var o=ym(n,r,0,e.length-1),i=e[o].length,a=wm(t,0,i-1);return Ev(e,o,a)},Ov=function(e,t,n,r){var o=e[t],i=o.length,a=wm(n+r,0,i-1);return Ev(e,t,a)},Tv=function(e,t,n,r){var o=wm(n+r,0,e.length-1),i=e[o].length,a=wm(t,0,i-1);return Ev(e,o,a)},Dv=function(e,t,n){return Av(e,t,n,1)},Nv=function(e,t,n){return Av(e,t,n,-1)},Fv=function(e,t,n){return Sv(e,n,t,-1)},Lv=function(e,t,n){return Sv(e,n,t,1)},Pv=function(e,t,n){return Ov(e,t,n,-1)},Bv=function(e,t,n){return Ov(e,t,n,1)},Rv=function(e,t,n){return Tv(e,n,t,-1)},qv=function(e,t,n){return Tv(e,n,t,1)},Mv=[br("selectors",[fr("row"),fr("cell")]),Or("cycles",!0),Or("previousSelector",ye.none),Or("execute",xg)],jv=function(e,t){t.previousSelector(e).orThunk(function(){var n=t.selectors;return Ml(e.element(),n.cell)}).each(function(n){t.focusManager.set(e,n)})},Iv=function(e,t,n){return fg(e.element()).bind(function(r){return n.execute(e,t,r)})},$v=function(e,t){return Ie(e,function(e){return ud(e,t.selectors.cell)})},zv=function(e,t){return function(n,r,o){var i=o.cycles?e:t;return jl(r,o.selectors.row).bind(function(e){var t=ud(e,o.selectors.cell);return Vg(t,r).bind(function(t){var r=ud(n,o.selectors.row);return Vg(r,e).bind(function(e){var n=$v(r,o);return i(n,e,t).map(function(e){return e.cell()})})})})}},Hv=zv(Nv,Pv),Vv=zv(Dv,Bv),Uv=zv(Fv,Rv),Wv=zv(Lv,qv),Kv=ie([ig(eg(Wm()),Fg(Hv,Vv)),ig(eg(Gm()),Lg(Hv,Vv)),ig(eg(Km()),Rg(Uv)),ig(eg(Ym()),qg(Wv)),ig(eg(Um().concat(Hm())),Iv)]),Gv=ie([ig(eg(Um()),Cg)]),Yv=gg(Mv,ks.init,Kv,Gv,function(){return ye.some(jv)}),Xv=[fr("selector"),Or("execute",xg),Or("moveOnTab",!1)],Jv=function(e,t,n){return n.focusManager.get(e).bind(function(r){return n.execute(e,t,r)})},Zv=function(e,t){Ml(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},Qv=function(e,t,n){return dv(e,n.selector,t,-1)},eb=function(e,t,n){return dv(e,n.selector,t,1)},tb=function(e,t,n){return n.moveOnTab?Mg(Qv)(e,t,n):ye.none()},nb=function(e,t,n){return n.moveOnTab?Mg(eb)(e,t,n):ye.none()},rb=ie([ig(eg(Km()),Mg(Qv)),ig(eg(Ym()),Mg(eb)),ig(tg([ng,eg(zm())]),tb),ig(tg([og,eg(zm())]),nb),ig(eg(Hm()),Jv),ig(eg(Um()),Jv)]),ob=ie([ig(eg(Um()),Cg)]),ib=gg(Xv,ks.init,rb,ob,function(){return ye.some(Zv)}),ab=[cu("onSpace"),cu("onEnter"),cu("onShiftEnter"),cu("onLeft"),cu("onRight"),cu("onTab"),cu("onShiftTab"),cu("onUp"),cu("onDown"),cu("onEscape"),Or("stopSpaceKeyup",!1),xr("focusIn")],sb=function(e,t,n){return[ig(eg(Um()),n.onSpace),ig(tg([og,eg(Hm())]),n.onEnter),ig(tg([ng,eg(Hm())]),n.onShiftEnter),ig(tg([ng,eg(zm())]),n.onShiftTab),ig(tg([og,eg(zm())]),n.onTab),ig(eg(Km()),n.onUp),ig(eg(Ym()),n.onDown),ig(eg(Wm()),n.onLeft),ig(eg(Gm()),n.onRight),ig(eg(Um()),n.onSpace),ig(eg(Vm()),n.onEscape)]},lb=function(e,t,n){return n.stopSpaceKeyup?[ig(eg(Um()),Cg)]:[]},ub=gg(ab,ks.init,sb,lb,function(e){return e.focusIn}),cb=bg.schema(),fb=yg.schema(),db=kv.schema(),hb=fv.schema(),pb=Yv.schema(),mb=Sg.schema(),gb=ib.schema(),vb=ub.schema(),bb=Object.freeze({acyclic:cb,cyclic:fb,flow:db,flatgrid:hb,matrix:pb,execution:mb,menu:gb,special:vb}),yb=Su({branchKey:"mode",branches:bb,name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold(function(){e.getSystem().triggerFocus(e.element(),e.element())},function(r){r(e,t,n)})},setGridSize:function(e,n,r,o,i){Xt(r,"setGridSize")?r.setGridSize(o,i):t.console.error("Layout does not support setGridSize")}},state:Dg}),wb=function(e,t){var n=xa(t),r=cg(n).bind(function(e){var n=function(t){return Ro(e,t)};return n(t)?ye.some(t):Xi(t,n)}),o=e(t);return r.each(function(e){cg(n).filter(function(t){return Ro(t,e)}).fold(function(){sg(e)},ne)}),o},xb=function(e,t,n,r){Dh(e),wb(function(){var t=Ie(r,e.getSystem().build);$e(t,function(t){Ah(e,t)})},e.element())},Cb=function(e,t,n,r){var o=e.getSystem().build(r);Sh(e,o,n)},kb=function(e,t,n,r){Cb(e,0,La,r)},_b=function(e,t,n,r){Cb(e,0,Fa,r)},Eb=function(e,t,n,r){var o=Ab(e);Ke(o,function(e){return Ro(r.element(),e.element())}).each(Th)},Ab=function(e,t){return e.components()},Sb=function(e,t,n,r,o){var i=Ab(e);return ye.from(i[r]).map(function(t){return Eb(e,0,0,t),o.each(function(t){Cb(e,0,function(e,t){Pa(e,t,r)},t)}),t})},Ob=function(e,t,n,r,o){var i=Ab(e);return Ge(i,r).bind(function(t){return Sb(e,0,0,t,o)})},Tb=Object.freeze({append:kb,prepend:_b,remove:Eb,replaceAt:Sb,replaceBy:Ob,set:xb,contents:Ab}),Db=Eu({fields:[],name:"replacing",apis:Tb}),Nb=function(e,t,n){t.store.manager.onLoad(e,t,n)},Fb=function(e,t,n){t.store.manager.onUnload(e,t,n)},Lb=function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},Pb=function(e,t,n){return t.store.manager.getValue(e,t,n)},Bb=function(e,t,n){return n},Rb=Object.freeze({onLoad:Nb,onUnload:Fb,setValue:Lb,getValue:Pb,getState:Bb}),qb=function(e,t){var n=e.resetOnDom?[ca(function(n,r){Nb(n,e,t)}),fa(function(n,r){Fb(n,e,t)})]:[vu(e,t,Nb)];return Zi(n)},Mb=Object.freeze({events:qb}),jb=function(){var e=qr(null),t=function(){return{mode:"memory",value:e.get()}},n=function(){return null===e.get()},r=function(){e.set(null)};return _s({set:e.set,get:e.get,isNotSet:n,clear:r,readState:t})},Ib=function(){return _s({readState:function(){}})},$b=function(){var e=qr({}),t=qr({}),n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},r=function(){e.set({}),t.set({})};return _s({readState:n,lookup:function(n){return Vt(e.get(),n).orThunk(function(){return Vt(t.get(),n)})},update:function(n){var r=e.get(),o=t.get(),i={},a={};$e(n,function(e){i[e.value]=e,Vt(e,"meta").each(function(t){Vt(t,"text").each(function(t){a[t]=e})})}),e.set(de({},r,i)),t.set(de({},o,a))},clear:r})},zb=function(e){return e.store.manager.state(e)},Hb=Object.freeze({memory:jb,dataset:$b,manual:Ib,init:zb}),Vb=function(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)},Ub=function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).fold(function(){return r.getFallbackEntry(o)},function(e){return e})},Wb=function(e,t,n){t.store.initialValue.each(function(r){Vb(e,t,n,r)})},Kb=function(e,t,n){n.clear()},Gb=[xr("initialValue"),fr("getFallbackEntry"),fr("getDataKey"),fr("setValue"),hu("manager",{setValue:Vb,getValue:Ub,onLoad:Wb,onUnload:Kb,state:$b})],Yb=function(e,t,n){return t.store.getValue(e)},Xb=function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},Jb=function(e,t,n){t.store.initialValue.each(function(n){t.store.setValue(e,n)})},Zb=[fr("getValue"),Or("setValue",ne),xr("initialValue"),hu("manager",{setValue:Xb,getValue:Yb,onLoad:Jb,onUnload:ne,state:ks.init})],Qb=function(e,t,n,r){n.set(r),t.onSetValue(e,r)},ey=function(e,t,n){return n.get()},ty=function(e,t,n){t.store.initialValue.each(function(e){n.isNotSet()&&n.set(e)})},ny=function(e,t,n){n.clear()},ry=[xr("initialValue"),hu("manager",{setValue:Qb,getValue:ey,onLoad:ty,onUnload:ny,state:jb})],oy=[Tr("store",{mode:"memory"},tr("mode",{memory:ry,manual:Zb,dataset:Gb})),uu("onSetValue"),Or("resetOnDom",!1)],iy=Eu({fields:oy,name:"representing",active:Mb,apis:Rb,extra:{setValueFrom:function(e,t){var n=iy.getValue(t);iy.setValue(e,n)}},state:Hb}),ay=function(e,t){var n=Zi(t);return Eu({fields:[fr("enabled")],name:e,active:{events:ie(n)}})},sy=function(e,t){return{key:e,value:{config:{},me:ay(e,t),configAsRaw:ie({}),initialConfig:{},state:ks}}},ly=function(e,t){t.ignore||(sg(e.element()),t.onFocus(e))},uy=function(e,t){t.ignore||lg(e.element())},cy=function(e){return ug(e.element())},fy=Object.freeze({focus:ly,blur:uy,isFocused:cy}),dy=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Ts(n)},hy=function(e){return Zi([ta(fi(),function(t,n){ly(t,e),n.stop()})].concat(e.stopMousedown?[ta(Xo(),function(e,t){t.event().prevent()})]:[]))},py=Object.freeze({exhibit:dy,events:hy}),my=[uu("onFocus"),Or("stopMousedown",!1),Or("ignore",!1)],gy=Eu({fields:my,name:"focusing",active:py,apis:fy}),vy=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},by=function(e,t,n){t.toggleClass.each(function(t){n.get()?nl(e.element(),t):ol(e.element(),t)})},yy=function(e,t,n){Cy(e,t,n,!n.get())},wy=function(e,t,n){n.set(!0),by(e,t,n),vy(e,t,n)},xy=function(e,t,n){n.set(!1),by(e,t,n),vy(e,t,n)},Cy=function(e,t,n,r){(r?wy:xy)(e,t,n)},ky=function(e,t,n){return n.get()},_y=function(e,t,n){Cy(e,t,n,t.selected)},Ey=Object.freeze({onLoad:_y,toggle:yy,isOn:ky,on:wy,off:xy,set:Cy}),Ay=function(e,t,n){return Ts({})},Sy=function(e,t){var n=gu(e,t,yy),r=vu(e,t,_y);return Zi(Je([e.toggleOnExecute?[n]:[],[r]]))},Oy=Object.freeze({exhibit:Ay,events:Sy}),Ty=function(e,t,n){Va(e.element(),"aria-pressed",n),t.syncWithExpanded&&Fy(e,t,n)},Dy=function(e,t,n){Va(e.element(),"aria-selected",n)},Ny=function(e,t,n){Va(e.element(),"aria-checked",n)},Fy=function(e,t,n){Va(e.element(),"aria-expanded",n)},Ly=[Or("selected",!1),xr("toggleClass"),Or("toggleOnExecute",!0),Tr("aria",{mode:"none"},tr("mode",{pressed:[Or("syncWithExpanded",!1),hu("update",Ty)],checked:[hu("update",Ny)],expanded:[hu("update",Fy)],selected:[hu("update",Dy)],none:[hu("update",ne)]}))],Py=Eu({fields:Ly,name:"toggling",active:Oy,apis:Ey,state:function(e){return{init:function(){var t=qr(e);return{get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(e)},readState:function(){return t.get()}}}}}(!1)}),By=function(e){(fg(e.element()).isNone()||gy.isFocused(e))&&(gy.isFocused(e)||gy.focus(e),Bi(e,"alloy.item-hover",{item:e}))},Ry=function(e){Bi(e,"alloy.item-focus",{item:e})},qy=ie("alloy.item-hover"),My=ie("alloy.item-focus"),jy=function(e){return{dom:e.dom,domModification:de({},e.domModification,{attributes:de({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes,{"aria-haspopup":e.hasSubmenu},e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:lp.augment(e.itemBehaviours,[e.toggling.fold(Py.revoke,function(e){return Py.config(de({aria:{mode:"checked"}},e))}),gy.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){Ry(e)}}),yb.config({mode:"execution"}),iy.config({store:{mode:"memory",initialValue:e.data}}),sy("item-type-events",[ta(bi(),Ri),sa(Xo()),ta(ei(),By),ta(gi(),gy.focus)])]),components:e.components,eventOrder:e.eventOrder}},Iy=[fr("data"),fr("components"),fr("dom"),Or("hasSubmenu",!1),xr("toggling"),lp.field("itemBehaviours",[Py,gy,yb,iy]),Or("ignoreFocus",!1),Or("domModification",{}),hu("builder",jy),Or("eventOrder",{})],$y=function(e){return{dom:e.dom,components:e.components,events:Zi([la(gi())])}},zy=[fr("dom"),fr("components"),hu("builder",$y)],Hy=ie([Bp({name:"widget",overrides:function(e){return{behaviours:ku([iy.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),Vy=function(e){var t=Gp(0,e,Hy()),n=Yp("item-widget",e,t.internals()),r=function(t){return Xp(t,e,"widget").map(function(e){return yb.focusIn(e),e})},o=function(t,n){return pm(n.event().target())?ye.none():function(){return e.autofocus?(n.setSource(t.element()),ye.none()):ye.none()}()};return{dom:e.dom,components:n,domModification:e.domModification,events:Zi([ha(function(e,t){r(e).each(function(e){t.stop()})}),ta(ei(),By),ta(gi(),function(t,n){e.autofocus?r(t):gy.focus(t)})]),behaviours:lp.augment(e.widgetBehaviours,[iy.config({store:{mode:"memory",initialValue:e.data}}),gy.config({ignore:e.ignoreFocus,onFocus:function(e){Ry(e)}}),yb.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Ou(),onLeft:o,onRight:o,onEscape:function(t,n){return gy.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element()),ye.none()):ye.none():(gy.focus(t),ye.some(!0))}})])}},Uy=[fr("uid"),fr("data"),fr("components"),fr("dom"),Or("autofocus",!1),Or("ignoreFocus",!1),lp.field("widgetBehaviours",[iy,gy,yb]),Or("domModification",{}),rm(Hy()),hu("builder",Vy)],Wy=tr("type",{widget:Uy,item:Iy,separator:zy}),Ky=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}},Gy=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}},Yy=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}},Xy=ie([Mp({factory:{sketch:function(e){var t=Zn("menu.spec item",Wy,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:de({},t,{uid:fs("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),Jy=ie([fr("value"),fr("items"),fr("dom"),fr("components"),Or("eventOrder",{}),ip("menuBehaviours",[Im,iy,bm,yb]),Tr("movement",{mode:"menu",moveOnTab:!0},tr("mode",{grid:[mu(),hu("config",Ky)],matrix:[hu("config",Gy),fr("rowSelector")],menu:[Or("moveOnTab",!0),hu("config",Yy)]})),function(){return dr("markers",ou())}(),Or("fakeFocus",!1),Or("focusManager",hg()),uu("onHighlight")]),Zy=ie("alloy.menu-focus"),Qy=function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:sp(e.menuBehaviours,[Im.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),iy.config({store:{mode:"memory",initialValue:e.value}}),bm.config({find:ye.some}),yb.config(e.movement.config(e,e.movement))]),events:Zi([ta(My(),function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each(function(n){Im.highlight(e,n),t.stop(),Bi(e,Zy(),{menu:e,item:n})})}),ta(qy(),function(e,t){var n=t.event().item();Im.highlight(e,n)})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}},ew=hm({name:"Menu",configFields:Jy(),partFields:Xy(),factory:Qy}),tw=function(e){return ft(e,function(e,t){return{k:e,v:t}})},nw=function(e,t,n,r){return Vt(n,r).bind(function(r){return Vt(e,r).bind(function(r){var o=nw(e,t,n,r);return ye.some([r].concat(o))})}).getOr([])},rw=function(e,t){var n={};ut(e,function(e,t){$e(e,function(e){n[e]=t})});var r=t,o=tw(t),i=ct(o,function(e,t){return[t].concat(nw(n,r,o,t))});return ct(n,function(e){return Vt(i,e).getOr([e])})},ow=function(){var e=qr({}),t=qr({}),n=qr({}),r=qr(ye.none()),o=qr({}),i=function(){e.set({}),t.set({}),n.set({}),r.set(ye.none())},a=function(){return r.get().isNone()},s=function(e,n){var r;t.set(de({},t.get(),(r={},r[e]={type:"prepared",menu:n},r)))},l=function(i,a,s,l){r.set(ye.some(i)),e.set(s),t.set(a),o.set(l);var u=rw(l,s);n.set(u)},u=function(t){return Vt(e.get(),t).map(function(e){return[e].concat(Vt(n.get(),t).getOr([]))})},c=function(e){return Vt(n.get(),e).bind(function(e){return e.length>1?ye.some(e.slice(1)):ye.none()})},f=function(e){return Vt(n.get(),e)},d=function(e){return Vt(t.get(),e)};return{setMenuBuilt:s,setContents:l,expand:u,refresh:f,collapse:c,lookupMenu:d,otherMenus:function(e){var t=o.get();return tt(st(t),e)},getPrimary:function(){return r.get().bind(function(e){return d(e).bind(function(e){return"prepared"===e.type?ye.some(e.menu):ye.none()})})},getMenus:function(){return t.get()},clear:i,isClear:a}},iw={init:ow},aw=function(e,t){var n,r=qr(ye.none()),o=function(t,n,r){return ct(r,function(r,o){var i=function(){return ew.sketch(de({dom:r.dom},r,{value:o,items:r.items,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?pg():hg()}))};return o===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})},i=iw.init(),a=function(t){var n=o(t,e.data.primary,e.data.menus),r=l();return i.setContents(e.data.primary,n,e.data.expansions,r),i.getPrimary()},s=function(e){return iy.getValue(e).value},l=function(t){return ct(e.data.menus,function(e,t){return Ze(e.items,function(e){return"separator"===e.type?[]:[e.data.value]})})},u=function(e,t){Im.highlight(e,t),Im.getHighlighted(t).orThunk(function(){return Im.getFirst(t)}).each(function(t){qi(e,t.element(),gi())})},c=function(e,t){return Vl(Ie(t,function(t){return e.lookupMenu(t).bind(function(e){return"prepared"===e.type?ye.some(e.menu):ye.none()})}))},f=function(t,n,r){var o=c(n,n.otherMenus(r));$e(o,function(n){sl(n.element(),[e.markers.backgroundMenu]),e.stayInDom||Db.remove(t,n)})},d=function(t){return r.get().getOrThunk(function(){var n={},o=ud(t.element(),"."+e.markers.item),i=Ve(o,function(e){return"true"===Wa(e,"aria-haspopup")});return $e(i,function(e){t.getSystem().getByDom(e).each(function(e){var t=s(e);n[t]=e})}),r.set(ye.some(n)),n})},h=function(e,t){var n=d(e);ut(n,function(e,n){var r=Re(t,n);Va(e.element(),"aria-expanded",r)})},p=function(t,n,r){return ye.from(r[0]).bind(function(o){return n.lookupMenu(o).bind(function(o){if("notbuilt"===o.type)return ye.none();var i=o.menu,a=c(n,r.slice(1));return $e(a,function(t){nl(t.element(),e.markers.backgroundMenu)}),Ui(i.element())||Db.append(t,Bl(i)),sl(i.element(),[e.markers.backgroundMenu]),u(t,i),f(t,n,r),ye.some(i)})})};!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(n||(n={}));var m=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return i.setMenuBuilt(t,r),r}return n.menu},g=function(t,r,o){void 0===o&&(o=n.HighlightSubmenu);var a=s(r);return i.expand(a).bind(function(a){return h(t,a),ye.from(a[0]).bind(function(s){return i.lookupMenu(s).bind(function(l){var u=m(t,s,l);return Ui(u.element())||Db.append(t,Bl(u)),e.onOpenSubmenu(t,r,u),o===n.HighlightSubmenu?(Im.highlightFirst(u),p(t,i,a)):(Im.dehighlightAll(u),ye.some(r))})})})},v=function(t,n){var r=s(n);return i.collapse(r).bind(function(r){return h(t,r),p(t,i,r).map(function(r){return e.onCollapseMenu(t,n,r),r})})},b=function(e,t){var n=s(t);return i.refresh(n).bind(function(t){return h(e,t),p(e,i,t)})},y=function(e,t){return pm(t.element())?ye.none():g(e,t,n.HighlightSubmenu)},w=function(e,t){return pm(t.element())?ye.none():v(e,t)},x=function(t,n){return v(t,n).orThunk(function(){return e.onEscape(t,n).map(function(){return t})})},C=function(t){return function(n,r){return jl(r.getSource(),"."+e.markers.item).bind(function(e){return n.getSystem().getByDom(e).toOption().bind(function(e){return t(n,e).map(function(){return!0})})})}},k=Zi([ta(Zy(),function(e,t){var n=t.event().menu();Im.highlight(e,n);var r=s(t.event().item());i.refresh(r).each(function(t){return f(e,i,t)})}),ha(function(t,r){var o=r.event().target();t.getSystem().getByDom(o).each(function(r){0===s(r).indexOf("collapse-item")&&v(t,r),g(t,r,n.HighlightSubmenu).fold(function(){e.onExecute(t,r)},function(){})})}),ca(function(t,n){a(t).each(function(n){Db.append(t,Bl(n)),e.onOpenMenu(t,n),e.highlightImmediately&&u(t,n)})})].concat(e.navigateOnHover?[ta(qy(),function(t,r){var o=r.event().item();b(t,o),g(t,o,n.HighlightParent),e.onHover(t,o)})]:[])),_=function(e){Im.getHighlighted(e).each(function(t){Im.getHighlighted(t).each(function(t){v(e,t)})})},E=function(e){i.getPrimary().each(function(t){u(e,t)})},A={collapseMenu:_,highlightPrimary:E};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:sp(e.tmenuBehaviours,[yb.config({mode:"special",onRight:C(y),onLeft:C(w),onEscape:C(x),focusIn:function(e,t){i.getPrimary().each(function(t){qi(e,t.element(),gi())})}}),Im.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),bm.config({find:function(e){return Im.getHighlighted(e)}}),Db.config({})]),eventOrder:e.eventOrder,apis:A,events:k}},sw=ie("collapse-item"),lw=function(e,t,n){return{primary:e,menus:t,expansions:n}},uw=function(e,t){return{primary:e,menus:Ut(e,t),expansions:{}}},cw=function(e){return{value:rs(sw()),meta:{text:e}}},fw=dm({name:"TieredMenu",configFields:[du("onExecute"),du("onEscape"),fu("onOpenMenu"),fu("onOpenSubmenu"),uu("onCollapseMenu"),Or("highlightImmediately",!0),br("data",[fr("primary"),fr("menus"),fr("expansions")]),Or("fakeFocus",!1),uu("onHighlight"),uu("onHover"),au(),fr("dom"),Or("navigateOnHover",!0),Or("stayInDom",!1),ip("tmenuBehaviours",[yb,Im,bm,Db]),Or("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)}},factory:aw,extraApis:{tieredData:lw,singleData:uw,collapseItem:cw}}),dw=function(e,t,n,r){var o=function(){return e.lazySink(t)};return fw.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,onEscape:function(){return Qh.close(t),e.onEscape.map(function(e){return e(t)}),ye.some(!0)},onExecute:function(){return ye.some(!0)},onOpenMenu:function(e,t){kh.position(o().getOrDie(),n,t)},onOpenSubmenu:function(e,t,n){var r=o().getOrDie();kh.position(r,{anchor:"submenu",item:t},n)}})},hw=function(e,t){var n=function(t,n){return e.getRelated(t).exists(function(e){return Hl(e,n)})},r=function(e,t){Qh.open(e,t)},o=function(e,t,n){var r=ye.none();i(e,t,n,r)},i=function(t,n,r,o){var i=e.lazySink(t).getOrDie();Qh.openWhileCloaked(t,r,function(){return kh.positionWithin(i,n,t,o)}),e.onShow(t)},a=function(t,n,r,o){var i=e.lazySink(t).getOrDie();Qh.openWhileCloaked(t,r,function(){return kh.positionWithinBounds(i,n,t,o)}),e.onShow(t)},s=function(t,n,r){var o=dw(e,t,n,r);Qh.open(t,o),e.onShow(t)},l=function(t){Qh.close(t),e.onHide(t)},u=function(e){return Qh.getState(e)},c={setContent:r,showAt:o,showWithin:i,showWithinBounds:a,showMenuAt:s,hide:l,getContent:u,isOpen:Qh.isOpen};return{uid:e.uid,dom:e.dom,behaviours:sp(e.inlineBehaviours,[Qh.config({isPartOf:function(e,t,r){return Hl(t,r)||n(e,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()}}),rp(de({isExtraPart:ie(!1)},e.fireDismissalEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})))]),eventOrder:e.eventOrder,apis:c}},pw=dm({name:"InlineView",configFields:[fr("lazySink"),uu("onShow"),uu("onHide"),Er("onEscape"),ip("inlineBehaviours",[Qh,Lu]),Ar("fireDismissalEventInstead",[Or("event",Si())]),Or("getRelated",ye.none),Or("eventOrder",ye.none)],factory:hw,apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)}}}),mw=function(e){var t=function(e){return ta(mi(),function(t,n){e(t),n.stop()})},n=function(e,t){t.stop(),Ri(e)},r=function(e,t){t.cut()},o=Ao.detect().deviceType.isTouch()?[ta(vi(),n)]:[ta(si(),n),ta(Xo(),r)];return Zi(Je([e.map(t).toArray(),o]))},gw=function(e){var t=mw(e.action),n=e.dom.tag,r=function(t){return Vt(e.dom,"attributes").bind(function(e){return Vt(e,t)})};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:lp.augment(e.buttonBehaviours,[gy.config({}),yb.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var e=r("type").getOr("button"),t=r("role").map(function(e){return{role:e}}).getOr({});return de({type:e},t)}return{role:r("role").getOr("button")}}()},eventOrder:e.eventOrder}},vw=dm({name:"Button",factory:gw,configFields:[Or("uid",void 0),fr("dom"),Or("components",[]),lp.field("buttonBehaviours",[gy,yb]),xr("action"),xr("role"),Or("eventOrder",{})]}),bw=function(e){var t=a(e)&&Xt(e,"uid")?e.uid:fs("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).fold(ye.none,ye.some)},asSpec:function(){return de({},e,{uid:t})}}},yw=function(e){return ye.from(e()["temporary-placeholder"]).getOr("!not found!")},ww=function(e,t){return ye.from(t()[e]).getOrThunk(function(){return yw(t)})},xw=function(e,t,n){return ye.from(t()[e]).or(n).getOrThunk(function(){return yw(t)})},Cw=function(e,t){return Ul(e,function(e){return ye.from(t()[e])}).getOrThunk(function(){return yw(t)})},kw={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},_w=function(e){var t=bw({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:ku([Db.config({})])}),n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},o=bw({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:ku([Db.config({})])}),i=function(e,t){e.getSystem().isConnected()&&o.getOpt(e).each(function(e){Db.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])})},a=function(e,n){if(e.getSystem().isConnected()){var r=t.get(e);Db.set(r,[Nl(n)])}},s={updateProgress:i,updateText:a},l=Je([e.icon.toArray(),e.level.toArray(),e.level.bind(function(e){return ye.from(kw[e])}).toArray()]);return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]}).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:Cw(l,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:ku([Db.config({})])}].concat(e.progress?[o.asSpec()]:[]).concat(vw.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ww("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}})),apis:s}},Ew=dm({name:"Notification",factory:_w,configFields:[xr("level"),fr("progress"),fr("icon"),fr("onAction"),fr("text"),fr("iconProvider"),fr("translationProvider")],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}}),Aw=tinymce.util.Tools.resolve("tinymce.util.Delay"),Sw=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&t.clearTimeout(r),r=t.setTimeout(function(){e.apply(null,o),r=null},n)}}},Ow=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Tw=function(e){return e.nodeType===t.Node.TEXT_NODE},Dw=bt.generate([{aborted:[]},{edge:["element"]},{success:["info"]}]),Nw=bt.generate([{abort:[]},{kontinue:[]},{finish:["info"]}]),Fw=function(e,t,n,r,o,i){var a=function(){return i.fold(Dw.aborted,Dw.edge)},s=function(){var n=o();return n?Fw(e,n,ye.none(),r,o,ye.some(t)):a()};if(e.isBlock(t))return a();if(Tw(t)){var l=t.textContent;return r(Nw,t,l,n).fold(Dw.aborted,function(){return s()},Dw.success)}return s()},Lw=function(e,t,n,r,o){var i=new Ow(t,o||e.getRoot());return Fw(e,t,ye.some(n),r,i.prev,ye.none())},Pw=function(e,t){return Bw(Hr.fromDom(e.selection.getNode())).getOrThunk(function(){var n=Hr.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return La(n,Hr.fromDom(t.extractContents())),t.insertNode(n.dom()),ka(n).each(function(e){return e.dom().normalize()}),Zf(n).map(function(t){e.selection.setCursorLocation(t.dom(),Kf(t))}),n})},Bw=function(e){return jl(e,"[data-mce-autocompleter]")},Rw=function(e){return e.collapsed&&3===e.startContainer.nodeType},qw=/[\u00a0 \t\r\n]/,Mw=function(e,t,n,r){var o;for(o=t-1;o>=0;o--){var i=e.charAt(o);if(qw.test(i))return ye.none();if(i===n)break}return-1===o||t-o<r?ye.none():ye.some(e.substring(o+1,t))},jw=function(e,t){return e.toString().substring(t.length).replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},Iw=function(e,t,n,r){if(void 0===r&&(r=0),!Rw(t))return ye.none();var o=function(e,o,i,a){var s=a.getOr(i.length);return Mw(i,s,n,1).fold(function(){return i.match(qw)?e.abort():e.kontinue()},function(a){var l=t.cloneRange();return l.setStart(o,s-a.length-1),l.setEnd(t.endContainer,t.endOffset),i.length<r?e.abort():e.finish({text:jw(l,n),range:l,triggerChar:n})})};return Lw(e,t.startContainer,t.startOffset,o).fold(ye.none,ye.none,ye.some)},$w=function(e,t,n,r){return void 0===r&&(r=0),Bw(Hr.fromDom(t.startContainer)).fold(function(){return Iw(e,t,n,r)},function(t){var r=e.createRng();return r.selectNode(t.dom()),ye.some({range:r,text:jw(r,n),triggerChar:n})})},zw=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){Bi(e,ri(),{raw:t})};t.on("keydown",function(t){var r=function(){return e.getView().bind(Im.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(Ri),t.preventDefault()):40===t.which?(r().fold(function(){e.getView().each(Im.highlightFirst)},function(e){n(e,t)}),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each(function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()}):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())}),t.on("NodeChange",function(t){e.isActive()&&Bw(Hr.fromDom(t.element)).isNone()&&e.cancelIfNecessary()})},Hw={setup:zw},Vw=tinymce.util.Tools.resolve("tinymce.util.Promise"),Uw=function(e,t){return{element:e,offset:t}},Ww=function(e){return e.nodeType===t.Node.TEXT_NODE},Kw=function(e){return e.nodeType===t.Node.ELEMENT_NODE},Gw=function(e){if(Ww(e))return Uw(e,e.data.length);var t=e.childNodes;return t.length>0?Gw(t[t.length-1]):Uw(e,t.length)},Yw=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?Yw(n[t],0):n.length>0&&Kw(e)&&n.length===t?Gw(n[n.length-1]):Uw(e,t)},Xw=function(e){var t=function(e,t,n,r){var o=r.getOr(n.length);return 0===o?e.kontinue():e.finish(/\s/.test(n.charAt(o-1)))};return function(n){var r=Yw(n.startContainer,n.startOffset);return Lw(e,r.element,r.offset,t).fold(ie(!0),ie(!0),ae)}},Jw=function(e,t,n){return Ul(n.triggerChars,function(n){return $w(e,t,n)})},Zw=function(e,t){var n=t(),r=e.selection.getRng();return Jw(e.dom,r,n).bind(function(n){return Qw(e,t,n)})},Qw=function(e,t,n,r){void 0===r&&(r={});var o=t(),i=e.selection.getRng(),a=i.startContainer.nodeValue,s=Ve(o.lookupByChar(n.triggerChar),function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk(function(){return Xw(e.dom)})(n.range,a,n.text)});if(0===s.length)return ye.none();var l=Vw.all(Ie(s,function(e){return e.fetch(n.text,e.maxResults,r).then(function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction}})}));return ye.some({lookupData:l,context:n})},ex=Rn([pr("type"),_r("text")]),tx=function(e){return Xn("separatormenuitem",ex,e)},nx=Rn([Rr("type",function(){return"autocompleteitem"}),Rr("active",function(){return!1}),Rr("disabled",function(){return!1}),Or("meta",{}),pr("value"),_r("text"),_r("icon")]),rx=Rn([pr("type"),pr("ch"),Dr("minChars",1),Or("columns",1),Dr("maxResults",10),Er("matches"),gr("fetch"),gr("onAction")]),ox=function(e){return Xn("Autocompleter.Separator",ex,e)},ix=function(e){return Xn("Autocompleter.Item",nx,e)},ax=function(e){return Xn("Autocompleter",rx,e)},sx=function(e){var t={};return $e(e,function(e){t[e]={}}),st(t)},lx=function(e){var t=e.ui.registry.getAll().popups,n=ct(t,function(e){return ax(e).fold(function(e){throw new Error(Qn(e))},function(e){return e})}),r=sx(dt(n,function(e){return e.ch})),o=pt(n);return{dataset:n,triggerChars:r,lookupByChar:function(e){return Ve(o,function(t){return t.ch===e})}}},ux=[Lr("disabled",!1),_r("text"),_r("shortcut"),zn("value","value",Nt(function(){return rs("menuitem-value")}),nr()),Or("meta",{})],cx=Rn([pr("type"),Pr("onSetup",function(){return ne}),Pr("onAction",ne),_r("icon")].concat(ux)),fx=function(e){return Xn("menuitem",cx,e)},dx=Rn([pr("type"),gr("getSubmenuItems"),Pr("onSetup",function(){return ne}),_r("icon")].concat(ux)),hx=function(e){return Xn("nestedmenuitem",dx,e)},px=Rn([pr("type"),Lr("active",!1),Pr("onSetup",function(){return ne}),gr("onAction")].concat(ux)),mx=function(e){return Xn("togglemenuitem",px,e)},gx=Rn([pr("type"),Lr("active",!1),_r("icon")].concat(ux)),vx=function(e){return Xn("choicemenuitem",gx,e)},bx=["inserttable","colorswatch"],yx=Rn([pr("type"),mr("fancytype",bx),Pr("onAction",ne)]),wx=function(e){return Xn("fancymenuitem",yx,e)},xx=function(e,t,n){var r=ud(e.element(),"."+n);if(r.length>0){var o=Ge(r,function(e){var n=e.dom().getBoundingClientRect().top,o=r[0].dom().getBoundingClientRect().top;return Math.abs(n-o)>t}).getOr(r.length);return ye.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return ye.none()},Cx=function(e,t){return ku([sy(e,t)])},kx=function(e){return Cx(rs("unnamed-events"),e)},_x={namedEvents:Cx,unnamedEvents:kx},Ex=[fr("lazySink"),fr("tooltipDom"),Or("exclusive",!0),Or("tooltipComponents",[]),Or("delay",300),Fr("mode","normal",["normal","follow-highlight"]),Or("anchor",function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:ie([Rc,Bc,Nc,Lc,Fc,Pc]),onRtl:ie([Rc,Bc,Nc,Lc,Fc,Pc])}}}),uu("onHide"),uu("onShow")],Ax=function(){var e=qr(ye.none()),n=qr(ye.none()),r=function(){return n.get()},o=function(e){n.set(ye.some(e))},i=function(){n.set(ye.none())},a=function(){e.get().each(function(e){t.clearTimeout(e)})},s=function(n,r){a(),e.set(ye.some(t.setTimeout(function(){n()},r)))},l=function(){return n.get().isSome()},u=ie("not-implemented");return _s({getTooltip:r,isShowing:l,setTooltip:o,clearTooltip:i,clearTimer:a,resetTimer:s,readState:u})},Sx=Object.freeze({init:Ax}),Ox=rs("tooltip.exclusive"),Tx=rs("tooltip.show"),Dx=rs("tooltip.hide"),Nx=function(e,t,n){e.getSystem().broadcastOn([Ox],{})},Fx=function(e,t,n,r){n.getTooltip().each(function(e){e.getSystem().isConnected()&&Db.set(e,r)})},Lx=Object.freeze({hideAllExclusive:Nx,setComponents:Fx}),Px=function(e,t){var n=function(n){t.getTooltip().each(function(r){Th(r),e.onHide(n,r),t.clearTooltip()}),t.clearTimer()},r=function(n){if(!t.isShowing()){Nx(n);var r=e.lazySink(n).getOrDie(),o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Zi("normal"===e.mode?[ta(ei(),function(e){Pi(n,Tx)}),ta(Zo(),function(e){Pi(n,Dx)})]:[]),behaviours:ku([Db.config({})])});t.setTooltip(o),Ah(r,o),e.onShow(n,o),kh.position(r,e.anchor(n),o)}};return Zi(Je([[ta(Tx,function(n){t.resetTimer(function(){r(n)},e.delay)}),ta(Dx,function(r){t.resetTimer(function(){n(r)},e.delay)}),ta(pi(),function(e,t){Re(t.channels(),Ox)&&n(e)}),fa(function(e){n(e)})],"normal"===e.mode?[ta(ti(),function(e){Pi(e,Tx)}),ta(di(),function(e){Pi(e,Dx)}),ta(ei(),function(e){Pi(e,Tx)}),ta(Zo(),function(e){Pi(e,Dx)})]:[ta(Fi(),function(e,t){Pi(e,Tx)}),ta(Li(),function(e){Pi(e,Dx)})]]))},Bx=Object.freeze({events:Px}),Rx=Eu({fields:Ex,name:"tooltipping",active:Bx,state:Sx,apis:Lx}),qx=function(e){var t=void 0!==e.dom().attributes?e.dom().attributes:[];return We(t,function(e,t){var n;return"class"===t.name?e:de({},e,(n={},n[t.name]=t.value,n))},{})},Mx=function(e){return Array.prototype.slice.call(e.dom().classList,0)},jx=function(e){var t=Hr.fromHtml(e),n=Aa(t),r=qx(t),o=Mx(t),i=0===n.length?{}:{innerHtml:Ia(t)};return de({tag:Ii(t),classes:o,attributes:r},i)},Ix=tinymce.util.Tools.resolve("tinymce.util.I18n"),$x="tox-menu-nav__js",zx={normal:$x,color:"tox-swatch"},Hx="tox-collection__item-label",Vx="tox-collection__item--active",Ux=function(e){return Vt(zx,e).getOr($x)},Wx=tinymce.util.Tools.resolve("tinymce.Env"),Kx=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},r=Wx.mac?t:n,o=e.split("+"),i=Ie(o,function(e){var t=e.toLowerCase().trim();return gt(r,t)?r[t]:e});return Wx.mac?i.join(""):i.join("+")},Gx={convertText:Kx},Yx=function(e){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:e}}},Xx=function(e){return{dom:{tag:"div",classes:[Hx]},components:[Nl(Ix.translate(e))]}},Jx=function(e){return{dom:{tag:"div",classes:[Hx],innerHtml:e}}},Zx=function(e,t){return{dom:{tag:"div",classes:[Hx]},components:[{dom:{tag:e.tag,attributes:{style:e.styleAttr}},components:[Nl(Ix.translate(t))]}]}},Qx=function(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:Gx.convertText(e)}}},eC=function(e){return{dom:{tag:"div",classes:["tox-collection__item-icon","tox-collection__item-checkmark"],innerHtml:ww("checkmark",e)}}},tC=function(e){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:ww("chevron-right",e)}}},nC=function(e,t,n,r){return{dom:function(){var o=n.getOr(""),i=e.map(function(e){return' title="'+r.translate(e)+'"'}).getOr("");return jx("custom"===t?'<button class="tox-swatch tox-swatches__picker-btn"'+i+">"+o+"</button>":"remove"===t?'<div class="tox-swatch tox-swatch--remove"'+i+">"+o+"</div>":'<div class="tox-swatch" style="background-color: '+t+'" data-mce-color="'+t+'"'+i+"></div>")}(),optComponents:[]}},rC=function(e,t,n,r,o){var i=n?e.checkMark.orThunk(function(){return t.or(ye.some("")).map(Yx)}):ye.none(),a=e.ariaLabel.map(function(e){return{attributes:{title:Ix.translate(e)}}}).getOr({});return{dom:_t({tag:"div",classes:[$x,"tox-collection__item"].concat(o?["tox-collection__item-icon-rtl"]:[])},a),optComponents:[i,e.htmlContent.fold(function(){return e.textContent.map(r)},function(e){return ye.some(Jx(e))}),e.shortcutContent.map(Qx),e.caret]}},oC=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],iC=["list-bull-circle","list-bull-default","list-bull-square"],aC=function(e,t,r,o){void 0===o&&(o=ye.none());var i=Ix.isRtl()&&e.iconContent.exists(function(e){return Re(iC,e)}),a=function(e){return e.map(function(e){return Ix.isRtl()&&Re(oC,e)?e+"-rtl":e})}(e.iconContent).map(function(e){return xw(e,t.icons,o)}),s=ye.from(e.meta).fold(function(){return Xx},function(e){return gt(e,"style")?n(Zx,e.style):Xx});return"color"===e.presets?nC(e.ariaLabel,e.value,a,t):rC(e,a,r,s,i)},sC=["input","button","textarea","select"],lC=function(e,t,n){t.disabled&&gC(e,t)},uC=function(e,t){return!0===t.useNative&&Re(sC,Ii(e.element()))},cC=function(e){return Ka(e.element(),"disabled")},fC=function(e){Va(e.element(),"disabled","disabled")},dC=function(e){Ga(e.element(),"disabled")},hC=function(e){return"true"===Wa(e.element(),"aria-disabled")},pC=function(e){Va(e.element(),"aria-disabled","true")},mC=function(e){Va(e.element(),"aria-disabled","false")},gC=function(e,t,n){t.disableClass.each(function(t){nl(e.element(),t)}),(uC(e,t)?fC:pC)(e),t.onDisabled(e)},vC=function(e,t,n){t.disableClass.each(function(t){ol(e.element(),t)}),(uC(e,t)?dC:mC)(e),t.onEnabled(e)},bC=function(e,t){return uC(e,t)?cC(e):hC(e)},yC=function(e,t,n,r){(r?gC:vC)(e,t,n)},wC=Object.freeze({enable:vC,disable:gC,isDisabled:bC,onLoad:lC,set:yC}),xC=function(e,t,n){return Ts({classes:t.disabled?t.disableClass.map(nt).getOr([]):[]})},CC=function(e,t){return Zi([Qi(mi(),function(t,n){return bC(t,e)}),vu(e,t,lC)])},kC=Object.freeze({exhibit:xC,events:CC}),_C=[Or("disabled",!1),Or("useNative",!0),xr("disableClass"),uu("onDisabled"),uu("onEnabled")],EC=Eu({fields:_C,name:"disabling",active:kC,apis:wC}),AC=function(e){return EC.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},SC=function(e){return EC.config({disabled:e})},OC=function(e){return EC.config({disabled:e,disableClass:"tox-tbtn--disabled"})},TC=function(e){return EC.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},DC={item:AC,button:SC,splitButton:OC,toolbarButton:TC},NC=function(e,t){var n=e.getApi(t);return function(e){e(n)}},FC=function(e,t){return ca(function(n){NC(e,n)(function(n){var r=e.onSetup(n);null!==r&&void 0!==r&&t.set(r)})})},LC=function(e,t){return fa(function(n){return NC(e,n)(t.get())})};!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(mg||(mg={}));var PC,BC=mg,RC=function(e,t){return ha(function(n,r){NC(e,n)(e.onAction),e.triggersSubmenu||t!==BC.CLOSE_ON_EXECUTE||(Pi(n,wi()),r.stop())})},qC={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},MC=function(e){return Ze(e,function(e){return e.toArray()})},jC=function(e,t,n){var r=qr(ne);return{type:"item",dom:t.dom,components:MC(t.optComponents),data:e.data,eventOrder:qC,hasSubmenu:e.triggersSubmenu,itemBehaviours:ku([sy("item-events",[RC(e,n),FC(e,r),LC(e,r)]),DC.item(e.disabled),Db.config({})].concat(e.itemBehaviours))}},IC=function(e){return{value:e.value,meta:_t({text:e.text.getOr("")},e.meta)}},$C=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),zC=function(e,t){return mt(e,"tooltipWorker").map(function(e){return[Rx.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:uh}}},mode:"follow-highlight",onShow:function(t,n){e(function(e){Rx.setComponents(t,[Fl({element:Hr.fromDom(e)})])})}})]}).getOr([])},HC=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},VC=function(e){return $C.DOM.encode(e)},UC=function(e,t){var n=Ix.translate(e),r=VC(n);if(t.length>0){var o=new RegExp(HC(t),"gi");return r.replace(o,function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"})}return r},WC=function(e,t,n,r,o,i,a,s){void 0===s&&(s=!0);var l=aC({presets:r,textContent:ye.none(),htmlContent:n?e.text.map(function(e){return UC(e,t)}):ye.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:ye.none(),checkMark:ye.none(),caret:ye.none(),value:e.value},a.providers,s,e.icon);return jC({data:IC(e),disabled:e.disabled,getApi:function(){return{}},onAction:function(t){return o(e.value,e.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:zC(e.meta,a)},l,i)},KC=function(e,t,n,r,o,i,a){var s=function(e){return{setActive:function(t){Py.set(e,t)},isActive:function(){return Py.isOn(e)},isDisabled:function(){return EC.isDisabled(e)},setDisabled:function(t){return EC.set(e,t)}}},l=aC({presets:n,textContent:t?e.text:ye.none(),htmlContent:ye.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:ye.none(),checkMark:t?ye.some(eC(a.icons)):ye.none(),caret:ye.none(),value:e.value},a,!0);return kt(jC({data:IC(e),disabled:e.disabled,getApi:s,onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(o),function(){}},triggersSubmenu:!1,itemBehaviours:[]},l,i),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},GC=ie(Hp("item-widget",Hy())),YC=rs("cell-over"),XC=rs("cell-execute"),JC=function(e,t,n){var r,o=function(n){return Bi(n,YC,{row:e,col:t})},i=function(n){return Bi(n,XC,{row:e,col:t})};return Pl({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:ku([sy("insert-table-picker-cell",[ta(ei(),gy.focus),ta(mi(),i),ta(bi(),i)]),Py.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),gy.config({onFocus:o})])})},ZC=function(e,t,n){for(var r=[],o=0;o<t;o++){for(var i=[],a=0;a<n;a++)i.push(JC(o,a,e));r.push(i)}return r},QC=function(e,t,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)Py.set(e[i][a],i<=t&&a<=n)},ek=function(e){return Ze(e,function(e){return Ie(e,Bl)})},tk=function(e,t){return Nl(t+1+"x"+(e+1))},nk=function(e){return{value:ie(e)}},rk=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ok=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ik=function(e){return rk.test(e)||ok.test(e)},ak=function(e){var t=e.value().replace(rk,function(e,t,n,r){return t+t+n+n+r+r});return{value:ie(t)}},sk=function(e){var t=ak(e),n=ok.exec(t.value());return null===n?["FFFFFF","FF","FF","FF"]:n},lk=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},uk=function(e){var t=lk(e.red())+lk(e.green())+lk(e.blue());return nk(t)},ck=Math.min,fk=Math.max,dk=Math.round,hk=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,pk=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,mk=function(e,t,n,r){return{red:ie(e),green:ie(t),blue:ie(n),alpha:ie(r)}},gk=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},vk=function(e){var t,n,r,o=(e.hue()||0)%360,i=e.saturation()/100,a=e.value()/100;if(i=fk(0,ck(i,1)),a=fk(0,ck(a,1)),0===i)return t=n=r=dk(255*a),mk(t,n,r,1);var s=o/60,l=a*i,u=l*(1-Math.abs(s%2-1)),c=a-l;switch(Math.floor(s)){case 0:t=l,n=u,r=0;break;case 1:t=u,n=l,r=0;break;case 2:t=0,n=l,r=u;break;case 3:t=0,n=u,r=l;break;case 4:t=u,n=0,r=l;break;case 5:t=l,n=0,r=u;break;default:t=n=r=0}return t=dk(255*(t+c)),n=dk(255*(n+c)),r=dk(255*(r+c)),mk(t,n,r,1)},bk=function(e){var t=sk(e),n=parseInt(t[1],16),r=parseInt(t[2],16),o=parseInt(t[3],16);return mk(n,r,o,1)},yk=function(e,t,n,r){var o=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),s=parseFloat(r);return mk(o,i,a,s)},wk=function(e){if("transparent"===e)return ye.some(mk(0,0,0,0));var t=hk.exec(e);if(null!==t)return ye.some(yk(t[1],t[2],t[3],"1"));var n=pk.exec(e);return null!==n?ye.some(yk(n[1],n[2],n[3],n[4])):ye.none()},xk=function(e){return"rgba("+e.red()+","+e.green()+","+e.blue()+","+e.alpha()+")"},Ck=ie(mk(255,0,0,1)),kk=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),_k="tinymce-custom-colors",Ek="choiceitem",Ak=[{type:Ek,text:"Light Green",value:"#BFEDD2"},{type:Ek,text:"Light Yellow",value:"#FBEEB8"},{type:Ek,text:"Light Red",value:"#F8CAC6"},{type:Ek,text:"Light Purple",value:"#ECCAFA"},{type:Ek,text:"Light Blue",value:"#C2E0F4"},{type:Ek,text:"Green",value:"#2DC26B"},{type:Ek,text:"Yellow",value:"#F1C40F"},{type:Ek,text:"Red",value:"#E03E2D"},{type:Ek,text:"Purple",value:"#B96AD9"},{type:Ek,text:"Blue",value:"#3598DB"},{type:Ek,text:"Dark Turquoise",value:"#169179"},{type:Ek,text:"Orange",value:"#E67E23"},{type:Ek,text:"Dark Red",value:"#BA372A"},{type:Ek,text:"Dark Purple",value:"#843FA1"},{type:Ek,text:"Dark Blue",value:"#236FA1"},{type:Ek,text:"Light Gray",value:"#ECF0F1"},{type:Ek,text:"Medium Gray",value:"#CED4D9"},{type:Ek,text:"Gray",value:"#95A5A6"},{type:Ek,text:"Dark Gray",value:"#7E8C8D"},{type:Ek,text:"Navy Blue",value:"#34495E"},{type:Ek,text:"Black",value:"#000000"},{type:Ek,text:"White",value:"#ffffff"}],Sk=function(e){void 0===e&&(e=10);var t=kk.getItem(_k),n=Ae(t)?JSON.parse(t):[],r=function(t){return e-t.length<0?t.slice(0,e):t}(n),o=function(e){r.splice(e,1)};return{add:function(t){Be(r,t).each(o),r.unshift(t),r.length>e&&r.pop(),kk.setItem(_k,JSON.stringify(r))},state:function(){return r.slice(0)}}}(10),Ok=function(e){var n=[],r=t.document.createElement("canvas");r.height=1,r.width=1;for(var o=r.getContext("2d"),i=function(e,t){var n=t/255;return("0"+Math.round(e*n+255*(1-n)).toString(16)).slice(-2).toUpperCase()},a=0;a<e.length;a+=2)n.push({text:e[a+1],value:function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase();o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=e,o.fillRect(0,0,1,1);var t=o.getImageData(0,0,1,1).data,n=t[0],a=t[1],s=t[2],l=t[3];return"#"+i(n,l)+i(a,l)+i(s,l)}(e[a]),type:"choiceitem"});return n},Tk=function(e,t){return e.getParam("color_cols",t,"number")},Dk=function(e){return!1!==e.getParam("custom_colors")},Nk=function(e){return e.getParam("color_map")},Fk=function(e){var t=Nk(e);return void 0!==t?Ok(t):Ak},Lk=function(){return Ie(Sk.state(),function(e){return{type:Ek,text:e,value:e}})},Pk=function(e){Sk.add(e)},Bk={mapColors:Ok,getColorCols:Tk,hasCustomColors:Dk,getColorMap:Nk,getColors:Fk,getCurrentColors:Lk,addColor:Pk},Rk=function(e){return e.fire("SkinLoaded")},qk=function(e){return e.fire("ResizeEditor")},Mk=function(e){return e.fire("BeforeRenderUI")},jk=function(e){return e.fire("ResizeContent")},Ik=function(e,t){e.fire("TextColorChange",t)},$k={fireSkinLoaded:Rk,fireResizeEditor:qk,fireBeforeRenderUI:Mk,fireResizeContent:jk,fireTextColorChange:Ik},zk=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)}),n},Hk=function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},Vk=function(e,t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})},Uk=function(e){e.addCommand("mceApplyTextcolor",function(t,n){Hk(e,t,n)}),e.addCommand("mceRemoveTextcolor",function(t){Vk(e,t)})},Wk=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))},Kk=function(e){var t=Bk.getColors(e),n=Wk(t.length);return Bk.getColorCols(e,n)},Gk=function(e){var t={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},n={type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"};return e?[t,n]:[t]},Yk=function(e,t,n,r){if("custom"===n){t_(e)(function(n){n.each(function(n){Bk.addColor(n),e.execCommand("mceApplyTextcolor",t,n),r(n)})},"#000000")}else"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},Xk=function(e,t){return e.concat(Bk.getCurrentColors().concat(Gk(t)))},Jk=function(e,t){return function(n){n(Xk(e,t))}},Zk=function(e,t,n){var r="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";!function(t,n){e.setIconFill(t,n),e.setIconStroke(t,n)}(r,n)},Qk=function(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){return ye.from(zk(e,n)).bind(function(e){return wk(e).map(function(e){var n=uk(e).value();return mo(t.toLowerCase(),n)})}).getOr(!1)},columns:Kk(e),fetch:Jk(Bk.getColors(e),Bk.hasCustomColors(e)),onAction:function(t){null!==o.get()&&Yk(e,n,o.get(),function(){})},onItemAction:function(r,i){Yk(e,n,i,function(n){o.set(n),$k.fireTextColorChange(e,{name:t,color:n})})},onSetup:function(n){null!==o.get()&&Zk(n,t,o.get());var r=function(e){e.name===t&&Zk(n,e.name,e.color)};return e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})},e_=function(e,t,n,r){e.ui.registry.addNestedMenuItem(t,{text:r,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){Yk(e,n,t.value,ne)}}]}})},t_=function(e){return function(t,n){var r=function(e,t){"hex-valid"===t.name&&(t.value?e.enable("ok"):e.disable("ok"))},o={colorpicker:n},i=function(e){return function(t){var n=t.getData();e(ye.from(n.colorpicker)),t.close()}}(t);e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:r,onSubmit:i,onClose:function(){},onCancel:function(){t(ye.none())}})}},n_=function(e){Uk(e);var t=qr(null),n=qr(null);Qk(e,"forecolor","forecolor","Text color",t),Qk(e,"backcolor","hilitecolor","Background color",n),e_(e,"forecolor","forecolor","Text color"),e_(e,"backcolor","hilitecolor","Background color")},r_={register:n_,getColors:Xk,getFetch:Jk,colorPickerDialog:t_,getCurrentColor:zk,getColorCols:Kk,calcCols:Wk},o_=function(e,t){return function(n){var r=je(n,t);return Ie(r,function(t){return{dom:e,components:t}})}},i_=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[ew.parts().items({preprocess:"auto"!==e?o_({tag:"div",classes:["tox-swatches__row"]},e):ae})]}]}},a_=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[ew.parts().items({preprocess:o_({tag:"div",classes:["tox-collection__group"]},e)})]}},s_=function(e,t){var n=[],r=[];return $e(e,function(e,o){t(e,o)?(r.length>0&&n.push(r),r=[],gt(e.dom,"innerHtml")&&r.push(e)):r.push(e)}),r.length>0&&n.push(r),Ie(n,function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}})},l_=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[ew.parts().items({preprocess:function(n){return"auto"!==e&&e>1?o_({tag:"div",classes:["tox-collection__group"]},e)(n):s_(n,function(e,n){return"separator"===t[n].type})}})]}},u_=function(e){return"color"===e?"tox-swatches":"tox-menu"},c_=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:u_(e),tieredMenu:"tox-tiered-menu"}},f_=function(e){var t=c_(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Ux(e)}},d_=function(e,t,n){var r=c_(n);return{tag:"div",classes:Je([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}},h_=[ew.parts().items({})],p_=function(e,t,n){var r=c_(n);return{dom:{tag:"div",classes:Je([[r.tieredMenu]])},markers:f_(n)}},m_=function(e){return void 0!==e.icon||"togglemenuitem"===e.type||"choicemenuitem"===e.type},g_=function(e){return qe(e,m_)},v_=function(e){return t.console.error(Qn(e)),t.console.log(e),ye.none()},b_=function(e,t,n,r,o){if("color"===o){var i=i_(r);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o&&"auto"===r){var i=l_(r,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o&&1===r){var i=l_(1,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o){var i=l_(r,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("listpreview"===o&&"auto"!==r){var i=a_(r);return{value:e,dom:i.dom,components:i.components,items:n}}return{value:e,dom:d_(t,r,o),components:h_,items:n}},y_=function(e,t,n,r,o,i,a,s){var l=g_(t),u="color"!==o?"normal":"color",c=w_(t,n,r,u,i,a,s);return b_(e,l,c,r,o)},w_=function(e,t,n,r,o,i,a){return Vl(Ie(e,function(e){return"choiceitem"===e.type?vx(e).fold(v_,function(s){return ye.some(KC(s,1===n,r,t,i(e.value),o,a))}):ye.none()}))},x_=function(e,t){var n=f_(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},C_=function(e,t){return 1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?".tox-swatch":".tox-collection__item"}}},k_={inserttable:l,colorswatch:u},__=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?ye.some(e[t]):ye.none()},E_=function(e,t){return __(k_,e.fancytype).map(function(n){return n(e,t)})},A_=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){return{isDisabled:function(){return EC.isDisabled(e)},setDisabled:function(t){return EC.set(e,t)}}},i=aC({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:ye.none(),ariaLabel:e.text,caret:ye.none(),checkMark:ye.none(),shortcutContent:e.shortcut},n,r);return jC({data:IC(e),getApi:o,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t)},S_=function(e,t,n,r){void 0===r&&(r=!0);var o=tC(n.icons),i=function(e){return{isDisabled:function(){return EC.isDisabled(e)},setDisabled:function(t){return EC.set(e,t)}}},a=aC({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:ye.none(),ariaLabel:e.text,caret:ye.some(o),checkMark:ye.none(),shortcutContent:e.shortcut},n,r);return jC({data:IC(e),getApi:i,disabled:e.disabled,onAction:ne,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,t)},O_=function(e){var t=e.text.fold(function(){return{}},function(e){return{innerHtml:e}});return{type:"separator",dom:de({tag:"div",classes:["tox-collection__item","tox-collection__group-heading"]},t),components:[]}},T_=function(e,t,n){var r=function(e){return{setActive:function(t){Py.set(e,t)},isActive:function(){return Py.isOn(e)},isDisabled:function(){return EC.isDisabled(e)},setDisabled:function(t){return EC.set(e,t)}}},o=aC({iconContent:ye.none(),textContent:e.text,htmlContent:ye.none(),ariaLabel:e.text,checkMark:ye.some(eC(n.icons)),caret:ye.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,!0);return kt(jC({data:IC(e),disabled:e.disabled,getApi:r,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},D_=WC,N_=O_,F_=A_,L_=S_,P_=T_,B_=E_;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(PC||(PC={}));var R_,q_=function(e){return void 0!==e.icon||"togglemenuitem"===e.type||"choicemenuitem"===e.type},M_=function(e){return qe(e,q_)},j_=function(e,n,r,o){void 0===o&&(o=!0);var i=r.shared.providers;switch(e.type){case"menuitem":return fx(e).fold(v_,function(e){return ye.some(F_(e,n,i,o))});case"nestedmenuitem":return hx(e).fold(v_,function(e){return ye.some(L_(e,n,i,o))});case"togglemenuitem":return mx(e).fold(v_,function(e){return ye.some(P_(e,n,i))});case"separator":return tx(e).fold(v_,function(e){return ye.some(N_(e))});case"fancymenuitem":return wx(e).fold(v_,function(e){return B_(e,r)});default:return t.console.error("Unknown item in general menu",e),ye.none()}},I_=function(e,t,n,r,o,i){var a=1===r,s=!a||M_(e);return Vl(Ie(e,function(e){return"separator"===e.type?ox(e).fold(v_,function(e){return ye.some(N_(e))}):ix(e).fold(v_,function(e){return ye.some(D_(e,t,a,"normal",n,o,i,s))})}))},$_=function(e,t,n,r){var o=M_(t),i=Vl(Ie(t,function(e){var t=function(e){return j_(e,n,r,o)};return t("nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?_t(e,{disabled:!0}):e)}));return b_(e,o,i,1,"normal")},z_=function(e){return fw.singleData(e.value,e)},H_=function(e,t,n,r){var o=n===PC.ContentFocus?pg():hg(),i=x_(t,r),a=f_(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===PC.ContentFocus,focusManager:o,menuBehaviours:_x.unnamedEvents("auto"!==t?[]:[ca(function(e,t){xx(e,4,a.item).each(function(t){var n=t.numColumns,r=t.numRows;yb.setGridSize(e,r,n)})})])}},V_=function(e,n){var r=qr(ye.none()),o=Pl(pw.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:ku([sy("dismissAutocompleter",[ta(Si(),function(){return l()})])]),lazySink:n.getSink})),i=function(){return pw.isOpen(o)},a=function(){return r.get().isSome()},s=function(){a()&&pw.hide(o)},l=function(){if(a()){var t=r.get().map(function(e){return e.element});Bw(t.getOr(Hr.fromDom(e.selection.getNode()))).each(ja),s(),r.set(ye.none())}},u=Et(function(){return lx(e)}),c=function(r,o){var i=Ul(o,function(e){return ye.from(e.columns)}).getOr(1);return Ze(o,function(o){var a=o.items;return I_(a,o.matchText,function(n,i){var a=e.selection.getRng();$w(e.dom,a,r).fold(function(){return t.console.error("Lost context. Cursor probably moved")},function(e){var t=e.range,r={hide:l,reload:function(e){s(),p(e)}};o.onAction(r,t,n,i)})},i,BC.BUBBLE_TO_SANDBOX,n)})},f=function(t){if(!a()){var n=Pw(e,t.range);r.set(ye.some({triggerChar:t.triggerChar,element:n,matchLength:t.text.length}))}},d=function(t,n,r,i){t.matchLength=n.text.length;var a=Ul(r,function(e){return ye.from(e.columns)}).getOr(1);pw.showAt(o,{anchor:"node",root:Hr.fromDom(e.getBody()),node:ye.from(t.element)},ew.sketch(H_(b_("autocompleter-value",!0,i,a,"normal"),a,PC.ContentFocus,"normal"))),pw.getContent(o).each(Im.highlightFirst)},h=function(t){return r.get().map(function(n){return $w(e.dom,e.selection.getRng(),n.triggerChar).bind(function(n){return Qw(e,u,n,t)})}).getOrThunk(function(){return Zw(e,u)})},p=function(e){h(e).fold(l,function(e){f(e.context),e.lookupData.then(function(t){r.get().map(function(n){var r=e.context;if(n.triggerChar===r.triggerChar){var o=c(r.triggerChar,t);o.length>0?d(n,r,t,o):r.text.length-n.matchLength>=10?l():s()}})})})},m=Sw(function(e){27!==e.which&&p()},50),g={onKeypress:m,cancelIfNecessary:l,isMenuOpen:i,isActive:a,getView:function(){return pw.getContent(o)}};Hw.setup(g,e)},U_={register:V_},W_=function(e,t,n,r,o,i,a){return{target:ie(e),x:ie(t),y:ie(n),stop:r,prevent:o,kill:i,raw:ie(a)}},K_=function(e,t){return function(n){if(e(n)){var r=Hr.fromDom(n.target),o=function(){n.stopPropagation()},i=function(){n.preventDefault()},a=oe(i,o),s=W_(r,n.clientX,n.clientY,o,i,a,n);t(s)}}},G_=function(e,t,r,o,i){var a=K_(r,o);return e.dom().addEventListener(t,a,i),{unbind:n(J_,e,t,a,i)}},Y_=function(e,t,n,r){return G_(e,t,n,r,!1)},X_=function(e,t,n,r){return G_(e,t,n,r,!0)},J_=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},Z_=ie(!0),Q_=function(e,t,n){return Y_(e,t,Z_,n)},eE=function(e,t,n){return X_(e,t,Z_,n)},tE=function(e,t,n){return jl(e,t,n).isSome()},nE=function(e){var t=e.raw();return void 0===t.touches||1!==t.touches.length?ye.none():ye.some(t.touches[0])},rE=function(e,t){var n=Math.abs(e.clientX-t.x()),r=Math.abs(e.clientY-t.y());return n>5||r>5},oE=function(e){var t=qr(ye.none()),n=c(function(n){t.set(ye.none()),e.triggerEvent(yi(),n)},400),r=function(e){return nE(e).each(function(r){n.cancel();var o={x:ie(r.clientX),y:ie(r.clientY),target:e.target};n.schedule(e),t.set(ye.some(o))}),ye.none()},o=function(e){return n.cancel(),nE(e).each(function(e){t.get().each(function(n){rE(e,n)&&t.set(ye.none())})}),ye.none()},i=function(r){n.cancel();var o=function(e){return Ro(e.target(),r.target())};return t.get().filter(o).map(function(t){return e.triggerEvent(vi(),r)})},a=Wt([{key:Ko(),value:r},{key:Go(),value:o},{key:Yo(),value:i}]);return{fireIfReady:function(e,t){return Vt(a,t).bind(function(t){return t(e)})}}},iE=function(e){return e.raw().which===$m()[0]&&!Re(["input","textarea"],Ii(e.target()))&&!tE(e.target(),'[contenteditable="true"]')},aE=Ao.detect().browser.isFirefox(),sE=Bn([gr("triggerEvent"),Or("stopBackspace",!0)]),lE=function(e,t){return aE?eE(e,"focus",t):Q_(e,"focusin",t)},uE=function(e,t){return aE?eE(e,"blur",t):Q_(e,"focusout",t)},cE=function(e,n){var r=Zn("Getting GUI events settings",sE,n),o=Ao.detect().deviceType.isTouch()?["touchstart","touchmove","touchend","gesturestart"]:["mousedown","mouseup","mouseover","mousemove","mouseout","click"],i=oE(r),a=Ie(o.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(t){return Q_(e,t,function(e){i.fireIfReady(e,t).each(function(t){t&&e.kill()}),r.triggerEvent(t,e)&&e.kill()})}),s=qr(ye.none()),l=Q_(e,"paste",function(e){i.fireIfReady(e,"paste").each(function(t){t&&e.kill()}),r.triggerEvent("paste",e)&&e.kill(),s.set(ye.some(t.setTimeout(function(){r.triggerEvent(hi(),e)},0)))}),u=Q_(e,"keydown",function(e){r.triggerEvent("keydown",e)?e.kill():!0===r.stopBackspace&&iE(e)&&e.prevent()}),c=lE(e,function(e){r.triggerEvent("focusin",e)&&e.kill()}),f=qr(ye.none()),d=uE(e,function(e){r.triggerEvent("focusout",e)&&e.kill(),f.set(ye.some(t.setTimeout(function(){r.triggerEvent(di(),e)},0)))});return{unbind:function(){$e(a,function(e){e.unbind()}),u.unbind(),c.unbind(),d.unbind(),l.unbind(),s.get().each(t.clearTimeout),f.get().each(t.clearTimeout)}}},fE=function(e,t){var n=Vt(e,"target").map(function(e){return e()}).getOr(t);return qr(n)},dE=function(e,t){var n=qr(!1),r=qr(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:ie(e),setSource:t.set,getSource:t.get}},hE=function(e){var t=qr(!1);return{stop:function(){t.set(!0)},cut:ne,isStopped:t.get,isCut:ie(!1),event:ie(e),setSource:le("Cannot set source of a broadcasted event"),getSource:le("Cannot get source of a broadcasted event")}},pE=bt.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),mE=function(e,t,n,r,o,i){var a=e(t,r),s=dE(n,o);return a.fold(function(){return i.logEventNoHandlers(t,r),pE.complete()},function(e){var n=e.descHandler();return Rs(n)(s),s.isStopped()?(i.logEventStopped(t,e.element(),n.purpose()),pE.stopped()):s.isCut()?(i.logEventCut(t,e.element(),n.purpose()),pE.complete()):ka(e.element()).fold(function(){return i.logNoParent(t,e.element(),n.purpose()),pE.complete()},function(r){return i.logEventResponse(t,e.element(),n.purpose()),pE.resume(r)})})},gE=function(e,t,n,r,o,i){return mE(e,t,n,r,o,i).fold(function(){return!0},function(r){return gE(e,t,n,r,o,i)},function(){return!1})},vE=function(e,t,n,r,o){var i=fE(n,r);return mE(e,t,n,r,i,o)},bE=function(e,t,n){var r=hE(t);return $e(e,function(e){var t=e.descHandler();Rs(t)(r)}),r.isStopped()},yE=function(e,t,n,r){var o=n.target();return wE(e,t,n,o,r)},wE=function(e,t,n,r,o){var i=fE(n,r);return gE(e,t,n,r,i,o)},xE=pa("element","descHandler"),CE=function(e,t){return{id:ie(e),descHandler:ie(t)}},kE=function(e){var t=e.dom,n=t.attributes,o=r(t,["attributes"]);return{uid:e.uid,dom:de({tag:"div",attributes:de({role:"presentation"},n)},o),components:e.components,behaviours:ap(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},_E=dm({name:"Container",factory:kE,configFields:[Or("components",[]),ip("containerBehaviours",[]),Or("events",{}),Or("domModification",{}),Or("eventOrder",{})]}),EE=function(e){var t=function(t){return ka(e.element()).fold(function(){return!0},function(e){return Ro(t,e)})},n=d(),r=function(e,r){return n.find(t,e,r)},o=cE(e.element(),{triggerEvent:function(e,t){return eu(e,t.target(),function(n){return yE(r,e,t,n)})}}),i={debugInfo:ie("real"),triggerEvent:function(e,t,n){eu(e,t,function(o){wE(r,e,n,t,o)})},triggerFocus:function(e,t){cs(e).fold(function(){sg(e)},function(n){eu(fi(),e,function(n){vE(r,fi(),{originator:ie(t),kill:ne,prevent:ne,target:ie(e)},e,n)})})},triggerEscape:function(e,t){i.triggerEvent("keydown",e.element(),t.event())},getByUid:function(e){return g(e)},getByDom:function(e){return v(e)},build:Pl,addToGui:function(e){l(e)},removeFromGui:function(e){u(e)},addToWorld:function(e){a(e)},removeFromWorld:function(e){s(e)},broadcast:function(e){h(e)},broadcastOn:function(e,t){p(e,t)},broadcastEvent:function(e,t){m(e,t)},isConnected:ie(!0)},a=function(e){e.connect(i),Vi(e.element())||(n.register(e),$e(e.components(),a),i.triggerEvent(Ci(),e.element(),{target:ie(e.element())}))},s=function(e){Vi(e.element())||($e(e.components(),s),n.unregister(e)),e.disconnect()},l=function(t){Ah(e,t)},u=function(e){Th(e)},c=function(){o.unbind(),Ma(e.element())},f=function(e){var t=n.filter(pi());$e(t,function(t){var n=t.descHandler();Rs(n)(e)})},h=function(e){f({universal:ie(!0),data:ie(e)})},p=function(e,t){f({universal:ie(!1),channels:ie(e),data:ie(t)})},m=function(e,t){var r=n.filter(e);return bE(r,t)},g=function(e){return n.getById(e).fold(function(){return ke.error(new Error('Could not find component with uid: "'+e+'" in system.'))},ke.value)},v=function(e){var t=cs(e).getOr("not found");return g(t)};return a(e),{root:ie(e),element:e.element,destroy:c,add:l,remove:u,getByUid:g,getByDom:v,addToWorld:a,removeFromWorld:s,broadcast:h,broadcastOn:p,broadcastEvent:m}},AE=tinymce.util.Tools.resolve("tinymce.EditorManager"),SE=function(e){var t=e.settings,n=t.skin,r=t.skin_url;if(!1!==n){var o=n||"oxide";r=r?e.documentBaseURI.toAbsolute(r):AE.baseURL+"/skins/ui/"+o}return r},OE=function(e){return e.getParam("readonly",!1,"boolean")},TE=function(e){return!1===e.getParam("skin")},DE=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},NE=function(e){return ye.from(e.settings.min_width).filter(Ne)},FE=function(e){return ye.from(e.settings.min_height).filter(Ne)},LE=function(e){return ye.from(e.getParam("max_width")).filter(Ne)},PE=function(e){return ye.from(e.getParam("max_height")).filter(Ne)},BE=function(e){return ye.from(e.getParam("style_formats")).filter(Oe)},RE=function(e){return e.getParam("style_formats_merge",!1,"boolean")},qE=function(e){return e.getParam("removed_menuitems","")},ME=function(e){return!1!==e.getParam("menubar",!0,"boolean")},jE=function(e){var t=e.getParam("toolbar",!0),n=!0===t,r=Ae(t),o=Oe(t)&&t.length>0;return!$E(e)&&(o||r||n)},IE=function(e){var t=st(e.settings),n=Ve(t,function(e){return/^toolbar([1-9])$/.test(e)}),r=Ie(n,function(t){return e.getParam(t,!1,"string")}),o=Ve(r,function(e){return"string"==typeof e});return o.length>0?ye.some(o):ye.none()},$E=function(e){return IE(e).fold(function(){return e.getParam("toolbar",[],"string[]").length>0},function(){return!0})};!function(e){e.default="",e.floating="floating",e.sliding="sliding"}(R_||(R_={}));var zE=function(e){return e.getParam("toolbar_drawer","","string")},HE=function(e){return e.getParam("fixed_toolbar_container","","string")},VE=function(e){var t=HE(e),n=e.getParam("inline",!1,"boolean");return t.length>0&&n?Ml(Wi(),t):ye.none()},UE=function(e){return e.getParam("inline",!1,"boolean")&&VE(e).isSome()},WE=function(e){return VE(e).getOr(Wi())},KE=function(e){return e.getParam("draggable_modal",!1,"boolean")},GE=rs("form-component-change"),YE=rs("form-close"),XE=rs("form-cancel"),JE=rs("form-action"),ZE=rs("form-submit"),QE=rs("form-block"),eA=rs("form-unblock"),tA=rs("form-tabchange"),nA=rs("form-resize"),rA=function(e,t){return _E.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[vw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:ww(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){Bi(t,JE,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},oA=ie([Or("prefix","form-field"),ip("fieldBehaviours",[bm,iy])]),iA=ie([qp({schema:[fr("dom")],name:"label"}),qp({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[fr("text")],name:"aria-descriptor"}),Bp({factory:{sketch:function(e){var t=$t(e,["factory"]);return e.factory.sketch(t)}},schema:[fr("factory")],name:"field"})]),aA=function(e,t,n,r){var o=sp(e.fieldBehaviours,[bm.config({find:function(t){return Xp(t,e,"field")}}),iy.config({store:{mode:"manual",getValue:function(e){return bm.getCurrent(e).bind(iy.getValue)},setValue:function(e,t){bm.getCurrent(e).each(function(e){iy.setValue(e,t)})}}})]),i=Zi([ca(function(t,n){var r=Zp(t,e,["label","field","aria-descriptor"]);r.field().each(function(t){var n=rs(e.prefix);r.label().each(function(e){Va(e.element(),"for",n),Va(t.element(),"id",n)}),r["aria-descriptor"]().each(function(n){var r=rs(e.prefix);Va(n.element(),"id",r),Va(t.element(),"aria-describedby",r)})})})]),a={getField:function(t){return Xp(t,e,"field")},getLabel:function(t){return Xp(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:a}},sA=hm({name:"FormField",configFields:oA(),partFields:iA(),factory:aA,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),lA=function(e,t,n,r){return n.getOrCreate(e,t,r)},uA=Object.freeze({getCoupled:lA}),cA=[dr("others",Gn(ke.value,nr()))],fA=function(e){var t={},n=function(e,n,r){var o=st(n.others);if(o)return Vt(t,r).getOrThunk(function(){var o=Vt(n.others,r).getOrDie("No information found for coupled component: "+r),i=o(e),a=e.getSystem().build(i);return t[r]=a,a});throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))},r=ie({});return _s({readState:r,getOrCreate:n})},dA=Object.freeze({init:fA}),hA=Eu({fields:cA,name:"coupling",apis:uA,state:dA}),pA=function(e,t){var n=e.stream.streams,r=n.setup(e,t);return Zi([ta(e.event,r),fa(function(){return t.cancel()})].concat(e.cancelEvent.map(function(e){return[ta(e,function(){return t.cancel()})]}).getOr([])))},mA=Object.freeze({events:pA}),gA=function(e){var t=qr(null);return _s({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},vA=function(e){return e.stream.streams.state(e)},bA=Object.freeze({throttle:gA,init:vA}),yA=function(e,t){var n=e.stream,r=Sw(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},wA=[dr("stream",tr("mode",{throttle:[fr("delay"),Or("stopEvent",!0),hu("streams",{setup:yA,state:gA})]})),Or("event","input"),xr("cancelEvent"),fu("onStream")],xA=Eu({fields:wA,name:"streaming",active:mA,state:bA}),CA={},kA={exports:CA};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof o&&o;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){return i(t[s][1][e]||e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&p&&(g=!1,p.length?m=p.concat(m):v=-1,m.length&&l())}function l(){if(!g){var e=i(s);g=!0;for(var t=m.length;t;){for(p=m,m=[];++v<t;)p&&p[v].run();v=-1,t=m.length}p=null,g=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var f,d,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var p,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||g||i(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:l)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void l(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,u(e)}catch(t){l(e,t)}}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,l(t,e))})}catch(e){if(n)return;n=!0,l(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new c(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,i(function(){l[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,CA,kA,void 0);var _A,EA=kA.exports.boltExport,AA=function(e){var n=ye.none(),r=[],o=function(e){return AA(function(t){i(function(n){t(e(n))})})},i=function(e){s()?u(e):r.push(e)},a=function(e){n=ye.some(e),l(r),r=[]},s=function(){return n.isSome()},l=function(e){$e(e,u)},u=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(a),{get:i,map:o,isReady:s}},SA=function(e){return AA(function(t){t(e)})},OA={nu:AA,pure:SA},TA=function(e){t.setTimeout(function(){throw e},0)},DA=function(e){var t=function(t){e().then(t,TA)};return{map:function(t){return DA(function(){return e().then(t)})},bind:function(t){return DA(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return DA(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return OA.nu(t)},toCached:function(){var t=null;return DA(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},NA=function(e){return DA(function(){return new EA(e)})},FA=function(e){return DA(function(){return EA.resolve(e)})},LA={nu:NA,pure:FA},PA=ie("sink"),BA=ie(qp({name:PA(),overrides:ie({dom:{tag:"div"},behaviours:ku([kh.config({useFixed:!0})]),events:Zi([sa(ri()),sa(Xo()),sa(si())])})}));!function(e){e[e.HighlightFirst=0]="HighlightFirst",e[e.HighlightNone=1]="HighlightNone"}(_A||(_A={}));var RA,qA=function(e,t){var n=e.getHotspot(t).getOr(t),r=e.getAnchorOverrides();return e.layouts.fold(function(){return{anchor:"hotspot",hotspot:n,overrides:r}},function(e){return{anchor:"hotspot",hotspot:n,overrides:r,layouts:e}})},MA=function(e,t,n){return(0,e.fetch)(n).map(t)},jA=function(e,t,n,r,o,i,a){var s=MA(e,t,r),l=VA(r,e);return s.map(function(e){return e.bind(function(e){return ye.from(fw.sketch(de({},i.menu(),{uid:fs(""),data:e,highlightImmediately:a===_A.HighlightFirst,onOpenMenu:function(e,t){var r=l().getOrDie();kh.position(r,n,t),Qh.decloak(o)},onOpenSubmenu:function(e,t,n){var r=l().getOrDie();kh.position(r,{anchor:"submenu",item:t},n),Qh.decloak(o)},onEscape:function(){return gy.focus(r),Qh.close(o),ye.some(!0)}})))})})},IA=function(e,t,n,r,o,i,a){var s=qA(e,n);return jA(e,t,s,n,r,o,a).map(function(e){return e.fold(function(){Qh.isOpen(r)&&Qh.close(r)},function(e){Qh.cloak(r),Qh.open(r,e),i(r)}),r})},$A=function(e,t,n,r,o,i,a){return Qh.close(r),LA.pure(r)},zA=function(e,t,n,r,o,i){var a=hA.getCoupled(n,"sandbox");return(Qh.isOpen(a)?$A:IA)(e,t,n,a,r,o,i)},HA=function(e,t,n){var r=bm.getCurrent(t).getOr(t),o=Gu(e.element());n?fl(r.element(),"min-width",o+"px"):Ku(r.element(),o)},VA=function(e,t){return e.getSystem().getByUid(t.uid+"-"+PA()).map(function(e){return function(){return ke.value(e)}}).getOrThunk(function(){return t.lazySink.fold(function(){return function(){return ke.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(t){return function(){return t(e)}})})},UA=function(e,t,n){var r=$l(),o=function(o,i){var a=qA(e,t);r.link(t.element()),e.matchWidth&&HA(a.hotspot,i,e.useMinWidth),e.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},i=function(e,o){r.unlink(t.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},a=VA(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id(),role:"listbox"}},behaviours:lp.augment(e.sandboxBehaviours,[iy.config({store:{mode:"memory",initialValue:t}}),Qh.config({onOpen:o,onClose:i,isPartOf:function(e,n,r){return Hl(n,r)||Hl(t,r)},getAttachPoint:function(){return a().getOrDie()}}),bm.config({find:function(e){return Qh.getState(e).bind(function(e){return bm.getCurrent(e)})}}),rp({isExtraPart:ie(!1)})])}},WA=function(e,t,n){var r=iy.getValue(n);iy.setValue(t,r),GA(t)},KA=function(e,t){var n=e.element(),r=wl(n),o=n.dom();"number"!==Wa(n,"type")&&t(o,r)},GA=function(e){KA(e,function(e,t){return e.setSelectionRange(t.length,t.length)})},YA=function(e,t){KA(e,function(e,n){return e.setSelectionRange(t,n.length)})},XA=function(e,t,n){if(e.selectsOver){var r=iy.getValue(t),o=e.getDisplayText(r),i=iy.getValue(n);return 0===e.getDisplayText(i).indexOf(o)?ye.some(function(){WA(0,t,n),YA(t,o.length)}):ye.none()}return ye.none()},JA=ie([xr("data"),Or("inputAttributes",{}),Or("inputStyles",{}),Or("tag","input"),Or("inputClasses",[]),uu("onSetValue"),Or("styles",{}),Or("eventOrder",{}),ip("inputBehaviours",[iy,gy]),Or("selectOnFocus",!0)]),ZA=function(e){return ku([gy.config({onFocus:!1===e.selectOnFocus?ne:function(e){var t=e.element(),n=wl(t);t.dom().setSelectionRange(0,n.length)}})])},QA=function(e){return de({},ZA(e),sp(e.inputBehaviours,[iy.config({store:{mode:"manual",initialValue:e.data.getOr(void 0),getValue:function(e){return wl(e.element())},setValue:function(e,t){wl(e.element())!==t&&xl(e.element(),t)}},onSetValue:e.onSetValue})]))},eS=function(e){return{tag:e.tag,attributes:de({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},tS=ie("alloy.typeahead.itemexecute"),nS=function(e,t,n,r){var o=function(t,n,o){e.previewing.set(!1);var i=hA.getCoupled(t,"sandbox");if(Qh.isOpen(i))bm.getCurrent(i).each(function(e){Im.getHighlighted(e).fold(function(){o(e)},function(){ji(i,e.element(),"keydown",n)})});else{var s=function(e){bm.getCurrent(e).each(o)};IA(e,a(t),t,i,r,s,_A.HighlightFirst).get(ne)}},i=ZA(e),a=function(e){return function(t){return t.map(function(t){var n=pt(t.menus),r=Ze(n,function(e){return Ve(e.items,function(e){return"item"===e.type})});return iy.getState(e).update(Ie(r,function(e){return e.data})),t})}},s=[gy.config({}),iy.config({onSetValue:e.onSetValue,store:de({mode:"dataset",getDataKey:function(e){return wl(e.element())},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){xl(t.element(),e.model.getDisplayText(n))}},e.initialData.map(function(e){return Ut("initialValue",e)}).getOr({}))}),xA.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var o=hA.getCoupled(t,"sandbox");if(gy.isFocused(t)&&wl(t.element()).length>=e.minChars){var i=bm.getCurrent(o).bind(function(e){return Im.getHighlighted(e).map(iy.getValue)});e.previewing.set(!0);var s=function(t){bm.getCurrent(o).each(function(t){i.fold(function(){e.model.selectsOver&&Im.highlightFirst(t)},function(e){Im.highlightBy(t,function(t){return iy.getValue(t).value===e.value}),Im.getHighlighted(t).orThunk(function(){return Im.highlightFirst(t),ye.none()})})})};IA(e,a(t),t,o,r,s,_A.HighlightFirst).get(ne)}},cancelEvent:xi()}),yb.config({mode:"special",onDown:function(e,t){return o(e,t,Im.highlightFirst),ye.some(!0)},onEscape:function(e){var t=hA.getCoupled(e,"sandbox");return Qh.isOpen(t)?(Qh.close(t),ye.some(!0)):ye.none()},onUp:function(e,t){return o(e,t,Im.highlightLast),ye.some(!0)},onEnter:function(t){var n=hA.getCoupled(t,"sandbox"),r=Qh.isOpen(n);if(r&&!e.previewing.get())return bm.getCurrent(n).bind(function(e){return Im.getHighlighted(e)}).map(function(e){return Bi(t,tS(),{item:e}),!0});var o=iy.getValue(t);return Pi(t,xi()),e.onExecute(n,t,o),r&&Qh.close(n),ye.some(!0)}}),Py.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),hA.config({others:{sandbox:function(t){return UA(e,t,{onOpen:function(){return Py.on(t)},onClose:function(){return Py.off(t)}})}}}),sy("typeaheadevents",[ha(function(t){var n=ne;zA(e,a(t),t,r,n,_A.HighlightFirst).get(ne)}),ta(tS(),function(t,n){var r=hA.getCoupled(t,"sandbox");WA(e.model,t,n.event().item()),Pi(t,xi()),e.onItemExecute(t,r,n.event().item(),iy.getValue(t)),Qh.close(r),GA(t)})].concat(e.dismissOnBlur?[ta(di(),function(e){var t=hA.getCoupled(e,"sandbox");fg(t.element()).isNone()&&Qh.close(t)})]:[]))];return{uid:e.uid,dom:eS(kt(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:de({},i,sp(e.typeaheadBehaviours,s)),eventOrder:e.eventOrder}},rS=function(){return[Or("sandboxClasses",[]),lp.field("sandboxBehaviours",[bm,Lu,Qh,iy])]},oS=ie([xr("lazySink"),fr("fetch"),Or("minChars",5),Or("responseTime",1e3),uu("onOpen"),Or("getHotspot",ye.some),Or("getAnchorOverrides",ie({})),Or("layouts",ye.none()),Or("eventOrder",{}),Br("model",{},[Or("getDisplayText",function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value}),Or("selectsOver",!0),Or("populateFromBrowse",!0)]),uu("onSetValue"),cu("onExecute"),uu("onItemExecute"),Or("inputClasses",[]),Or("inputAttributes",{}),Or("inputStyles",{}),Or("matchWidth",!0),Or("useMinWidth",!1),Or("dismissOnBlur",!0),su(["openClass"]),xr("initialData"),ip("typeaheadBehaviours",[gy,iy,xA,yb,Py,hA]),Rr("previewing",function(){return qr(!0)})].concat(JA()).concat(rS())),iS=ie([Rp({schema:[au()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each(function(r){XA(e.model,r,n).fold(function(){return Im.dehighlight(t,n)},function(e){return e()})}):t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&WA(e.model,t,n)}),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOption().map(function(e){return Bi(e,tS(),{item:n}),!0})},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&WA(e.model,t,n)})}}}})]),aS=hm({name:"Typeahead",configFields:oS(),partFields:iS(),factory:nS}),sS=function(e,t,n,r){var o=uS(e,t,n,r);return sA.sketch(o)},lS=function(e,t){return sS(e,t,[],[])},uS=function(e,t,n,r){return{dom:fS(n),components:e.toArray().concat([t]),fieldBehaviours:ku(r)}},cS=function(){return fS([])},fS=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},dS=function(e,t){return sA.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},hS=function(e){return Ae(e)},pS=function(e){return"separator"===e.type},mS=function(e){return gt(e,"getSubmenuItems")},gS={type:"separator"},vS=function(e,t){var n=We(e,function(e,n){return hS(n)?""===n?e:"|"===n?e.length>0&&!pS(e[e.length-1])?e.concat([gS]):e:gt(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])},[]);return n.length>0&&pS(n[n.length-1])&&n.pop(),n},bS=function(e,t){var n=e.getSubmenuItems(),r=xS(n,t);return{item:e,menus:kt(r.menus,Ut(e.value,r.items)),expansions:kt(r.expansions,Ut(e.value,e.value))}},yS=function(e,t){return mS(e)?bS(e,t):{item:e,menus:{},expansions:{}}},wS=function(e){if(pS(e))return e;var t=Vt(e,"value").getOrThunk(function(){return rs("generated-menu-item")});return kt({value:t},e)},xS=function(e,t){var n=vS(Ae(e)?e.split(" "):e,t);return Ue(n,function(e,n){var r=wS(n),o=yS(r,t);return{menus:kt(e.menus,o.menus),items:[o.item].concat(e.items),expansions:kt(e.expansions,o.expansions)}},{menus:{},expansions:{},items:[]})},CS=function(e,t,n){var r=rs("primary-menu"),o=xS(e,n.shared.providers.menuItems());if(0===o.items.length)return ye.none();var i=$_(r,o.items,t,n),a=ct(o.menus,function(e,r){return $_(r,e,t,n)}),s=kt(a,Ut(r,i));return ye.from(fw.tieredData(r,s,o.expansions))},kS=function(e,t){var n=dS(e.label.getOr("?"),t.shared.providers),r=sA.parts().field({factory:aS,dismissOnBlur:!1,inputClasses:["tox-textfield"],minChars:1,fetch:function(n){var r=iy.getValue(n),o=e.getItems(r),i=CS(o,BC.BUBBLE_TO_SANDBOX,t);return LA.pure(i)},markers:{openClass:"dog"},lazySink:t.shared.getSink,parts:{menu:p_(0,0,"normal")}});return lS(ye.some(n),r)},_S=function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ie(e.items,t.interpreter)}},ES=function(e,t){return{uid:e.uid,dom:eS(e),components:[],behaviours:QA(e),eventOrder:e.eventOrder}},AS=dm({name:"Input",configFields:JA(),factory:ES}),SS=["input","textarea"],OS=function(e){var t=Ii(e);return Re(SS,t)},TS=function(e,t){var n=t.getRoot(e).getOr(e.element());ol(n,t.invalidClass),t.notify.each(function(t){OS(e.element())&&Va(e.element(),"aria-invalid",!1),t.getContainer(e).each(function(e){$a(e,t.validHtml)}),t.onValid(e)})},DS=function(e,t,n,r){var o=t.getRoot(e).getOr(e.element());nl(o,t.invalidClass),t.notify.each(function(t){OS(e.element())&&Va(e.element(),"aria-invalid",!0),t.getContainer(e).each(function(e){$a(e,r)}),t.onInvalid(e,r)})},NS=function(e,t,n){return t.validator.fold(function(){return LA.pure(ke.value(!0))},function(t){return t.validate(e)})},FS=function(e,t,n){return t.notify.each(function(t){t.onValidate(e)}),NS(e,t).map(function(n){return e.getSystem().isConnected()?n.fold(function(n){return DS(e,t,0,n),ke.error(n)},function(n){return TS(e,t),ke.value(n)}):ke.error("No longer in system")})},LS=function(e,t){var n=t.getRoot(e).getOr(e.element());return il(n,t.invalidClass)},PS=Object.freeze({markValid:TS,markInvalid:DS,query:NS,run:FS,isInvalid:LS}),BS=function(e,t){return e.validator.map(function(t){return Zi([ta(t.onEvent,function(t){FS(t,e).get(ae)})].concat(t.validateOnLoad?[ca(function(t){FS(t,e).get(ne)})]:[]))}).getOr({})},RS=Object.freeze({events:BS}),qS=[fr("invalidClass"),Or("getRoot",ye.none),Ar("notify",[Or("aria","alert"),Or("getContainer",ye.none),Or("validHtml",""),uu("onValid"),uu("onInvalid"),uu("onValidate")]),Ar("validator",[fr("validate"),Or("onEvent","input"),Or("validateOnLoad",!0)])],MS=Eu({fields:qS,name:"invalidating",active:RS,apis:PS,extra:{validation:function(e){return function(t){var n=iy.getValue(t);return LA.pure(e(n))}}}}),jS=function(e,t){return Ts({attributes:Wt([{key:t.tabAttr,value:"true"}])})},IS=Object.freeze({exhibit:jS}),$S=[Or("tabAttr","data-alloy-tabstop")],zS=Eu({fields:$S,name:"tabstopping",active:IS}),HS=ie([fr("dom"),fr("fetch"),uu("onOpen"),cu("onExecute"),Or("getHotspot",ye.some),Or("getAnchorOverrides",ie({})),Or("layouts",ye.none()),ip("dropdownBehaviours",[Py,hA,yb,gy]),fr("toggleClass"),Or("eventOrder",{}),xr("lazySink"),Or("matchWidth",!1),Or("useMinWidth",!1),xr("role")].concat(rS())),VS=ie([Rp({schema:[au()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),BA()]),US=function(e,t,n,r){var o,i=function(e){Qh.getState(e).each(function(e){fw.highlightPrimary(e)})},a=function(t){var n=i;zA(e,function(e){return e},t,r,n,_A.HighlightFirst).get(ne)},s={expand:function(t){Py.isOn(t)||zA(e,function(e){return e},t,r,ne,_A.HighlightNone).get(ne)},open:function(t){Py.isOn(t)||zA(e,function(e){return e},t,r,ne,_A.HighlightFirst).get(ne)},isOpen:Py.isOn,close:function(t){Py.isOn(t)&&zA(e,function(e){return e},t,r,ne,_A.HighlightFirst).get(ne)}},l=function(e,t){return Ri(e),ye.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:sp(e.dropdownBehaviours,[Py.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),hA.config({others:{sandbox:function(t){return UA(e,t,{onOpen:function(){Py.on(t)},onClose:function(){Py.off(t)}})}}}),yb.config({mode:"special",onSpace:l,onEnter:l,onDown:function(e,t){if(WS.isOpen(e)){var n=hA.getCoupled(e,"sandbox");i(n)}else WS.open(e);return ye.some(!0)},onEscape:function(e,t){return WS.isOpen(e)?(WS.close(e),ye.some(!0)):ye.none()}}),gy.config({})]),events:mw(ye.some(a)),eventOrder:de({},e.eventOrder,(o={},o[mi()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:s,domModification:{attributes:de({"aria-haspopup":"true"},e.role.fold(function(){return{}},function(e){return{role:e}}),"button"===e.dom.tag?{type:function(t){return Vt(e.dom,"attributes").bind(function(e){return Vt(e,t)})}("type").getOr("button")}:{})}}},WS=hm({name:"Dropdown",configFields:HS(),partFields:VS(),factory:US,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)}}}),KS=function(e,t){return Ts({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},GS=function(e){return Zi([Qi(ui(),ie(!0))])},YS=Object.freeze({events:GS,exhibit:KS}),XS=Eu({fields:[],name:"unselecting",active:YS}),JS=function(e,t){return WS.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:ku([XS.config({}),zS.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return LA.nu(function(t){return e.fetch(t)}).map(function(r){return ye.from(z_(kt(y_(rs("menu-value"),r,function(t){e.onItemAction(n,t)},e.columns,e.presets,BC.CLOSE_ON_EXECUTE,function(){return!1},t.providers),{movement:x_(e.columns,e.presets)})))})},parts:{menu:p_(0,0,e.presets)}})},ZS=rs("color-input-change"),QS=rs("color-swatch-change"),eO=rs("color-picker-cancel"),tO=function(e,t,n){var r=sA.parts().field({factory:AS,inputClasses:["tox-textfield"],onSetValue:function(e){return MS.run(e).get(function(){})},inputBehaviours:ku([zS.config({}),MS.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return ka(e.element())},notify:{onValid:function(e){var t=iy.getValue(e);Bi(e,ZS,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=iy.getValue(e);if(0===t.length)return LA.pure(ke.value(!0));var n=Hr.fromTag("span");fl(n,"background-color",t);var r=gl(n,"background-color").fold(function(){return ke.error("blah")},function(e){return ke.value(t)});return LA.pure(r)}}})]),selectOnFocus:!1}),o=e.label.map(function(e){return dS(e,t.providers)}),i=function(e,t){Bi(e,QS,{value:t})},a=function(e,t){s.getOpt(e).each(function(e){"custom"===t?n.colorPicker(function(t){t.fold(function(){return Pi(e,eO)},function(t){i(e,t),Bk.addColor(t)})},"#ffffff"):"remove"===t?i(e,""):i(e,t)})},s=bw(JS({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:ye.some({onRtl:function(){return[Nc]},onLtr:function(){return[Fc]}}),components:[],fetch:r_.getFetch(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:a},t));return sA.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,s.asSpec()]}]),fieldBehaviours:ku([sy("form-field-events",[ta(ZS,function(t,n){s.getOpt(t).each(function(e){fl(e.element(),"background-color",n.event().color())}),Bi(t,GE,{name:e.name})}),ta(QS,function(e,t){sA.getField(e).each(function(n){iy.setValue(n,t.event().value()),bm.getCurrent(e).each(gy.focus)})}),ta(eO,function(e,t){sA.getField(e).each(function(t){bm.getCurrent(e).each(gy.focus)})})])])})},nO=function(e,t,n){return{hue:ie(e),saturation:ie(t),value:ie(n)}},rO=function(e){var t=0,n=0,r=0,o=e.red()/255,i=e.green()/255,a=e.blue()/255,s=Math.min(o,Math.min(i,a)),l=Math.max(o,Math.max(i,a));if(s===l)return r=s,nO(0,0,100*r);var u=o===s?i-a:a===s?o-i:a-o;return t=o===s?3:a===s?1:5,t=60*(t-u/(l-s)),n=(l-s)/l,r=l,nO(Math.round(t),Math.round(100*n),Math.round(100*r))},oO=function(e){var t=(100-e)/100*360,n=nO(t,100,100),r=vk(n);return uk(r)},iO=ie(rs("rgb-hex-update")),aO=ie(rs("slider-update")),sO=ie(rs("palette-update")),lO=Ao.detect(),uO=lO.deviceType.isTouch(),cO=qp({schema:[fr("dom")],name:"label"}),fO=function(e){return qp({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold(function(){return{}},function(e){var n=Zi([na(Ko(),e,[t])]),r=Zi([na(Xo(),e,[t]),na(Jo(),function(t,n){n.mouseIsDown.get()&&e(t,n)},[t])]);return{events:uO?n:r}})}})},dO=fO("top-left"),hO=fO("top"),pO=fO("top-right"),mO=fO("right"),gO=fO("bottom-right"),vO=fO("bottom"),bO=fO("bottom-left"),yO=fO("left"),wO=Bp({name:"thumb",defaults:ie({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:Zi([ia(Ko(),e,"spectrum"),ia(Go(),e,"spectrum"),ia(Yo(),e,"spectrum"),ia(Xo(),e,"spectrum"),ia(Jo(),e,"spectrum"),ia(Qo(),e,"spectrum")])}}}),xO=Bp({schema:[Rr("mouseIsDown",function(){return qr(!1)})],name:"spectrum",overrides:function(e){var t=e.model,n=t.manager,r=function(t,r){return n.getValueFromEvent(r).map(function(r){return n.setValueFrom(t,e,r)})},o=Zi([ta(Ko(),r),ta(Go(),r)]),i=Zi([ta(Xo(),r),ta(Jo(),function(t,n){e.mouseIsDown.get()&&r(t,n)})]);return{behaviours:ku(uO?[]:[yb.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),gy.config({})]),events:uO?o:i}}}),CO=[cO,yO,mO,hO,vO,dO,pO,bO,gO,wO,xO],kO=Ao.detect().deviceType.isTouch(),_O=ie("slider.change.value"),EO=function(e){var t=e.event().raw();if(kO){var n=t;return void 0!==n.touches&&1===n.touches.length?ye.some(n.touches[0]).map(function(e){return qu(e.clientX,e.clientY)}):ye.none()}var r=t;return void 0!==r.clientX?ye.some(r).map(function(e){return qu(e.clientX,e.clientY)}):ye.none()},AO=function(e){return e.model.minX},SO=function(e){return e.model.minY},OO=function(e){return e.model.minX-1},TO=function(e){return e.model.minY-1},DO=function(e){return e.model.maxX},NO=function(e){return e.model.maxY},FO=function(e){return e.model.maxX+1},LO=function(e){return e.model.maxY+1},PO=function(e,t,n){return t(e)-n(e)},BO=function(e){return PO(e,DO,AO)},RO=function(e){return PO(e,NO,SO)},qO=function(e){return BO(e)/2},MO=function(e){return RO(e)/2},jO=function(e){return e.stepSize},IO=function(e){return e.snapToGrid},$O=function(e){return e.snapStart},zO=function(e){return e.rounded},HO=function(e,t){return void 0!==e[t+"-edge"]},VO=function(e){return HO(e,"left")},UO=function(e){return HO(e,"right")},WO=function(e){return HO(e,"top")},KO=function(e){return HO(e,"bottom")},GO=function(e){return e.model.value.get()},YO=function(e){return{x:ie(e)}},XO=function(e){return{y:ie(e)}},JO=function(e,t){return{x:ie(e),y:ie(t)}},ZO=function(e,t){Bi(e,_O(),{value:t})},QO=function(e,t){ZO(e,JO(OO(t),TO(t)))},eT=function(e,t){ZO(e,XO(TO(t)))},tT=function(e,t){ZO(e,JO(qO(t),TO(t)))},nT=function(e,t){ZO(e,JO(FO(t),TO(t)))},rT=function(e,t){ZO(e,YO(FO(t)))},oT=function(e,t){ZO(e,JO(FO(t),MO(t)))},iT=function(e,t){ZO(e,JO(FO(t),LO(t)))},aT=function(e,t){ZO(e,XO(LO(t)))},sT=function(e,t){ZO(e,JO(qO(t),LO(t)))},lT=function(e,t){ZO(e,JO(OO(t),LO(t)))},uT=function(e,t){ZO(e,YO(OO(t)))},cT=function(e,t){ZO(e,JO(OO(t),MO(t)))},fT=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},dT=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},hT=function(e,t,n){return Math.max(t,Math.min(n,e))},pT=function(e,t,n,r,o){return o.fold(function(){var o=e-t,i=Math.round(o/r)*r;return hT(t+i,t-1,n+1)},function(t){var o=(e-t)%r,i=Math.round(o/r),a=Math.floor((e-t)/r),s=Math.floor((n-t)/r),l=Math.min(s,a+i),u=t+l*r;return Math.max(t,u)})},mT=function(e,t,n){return Math.min(n,Math.max(e,t))-t},gT=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.step,a=e.snap,s=e.snapStart,l=e.rounded,u=e.hasMinEdge,c=e.hasMaxEdge,f=e.minBound,d=e.maxBound,h=e.screenRange,p=u?t-1:t,m=c?n+1:n;if(o<f)return p;if(o>d)return m;var g=mT(o,f,d),v=hT(g/h*r+t,p,m);return a&&v>=t&&v<=n?pT(v,t,n,i,s):l?Math.round(v):v},vT=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,s=e.maxBound,l=e.maxOffset,u=e.centerMinEdge,c=e.centerMaxEdge;return o<t?i?0:u:o>n?a?s:c:(o-t)/r*l},bT=function(e){return e.element().dom().getBoundingClientRect()},yT=function(e,t){return e[t]},wT=function(e){var t=bT(e);return yT(t,"left")},xT=function(e){var t=bT(e);return yT(t,"right")},CT=function(e){var t=bT(e);return yT(t,"top")},kT=function(e){var t=bT(e);return yT(t,"bottom")},_T=function(e){var t=bT(e);return yT(t,"width")},ET=function(e){var t=bT(e);return yT(t,"height")},AT=function(e,t,n){return(e+t)/2-n},ST=function(e,t){var n=bT(e),r=bT(t),o=yT(n,"left"),i=yT(n,"right"),a=yT(r,"left");return AT(o,i,a)},OT=function(e,t){var n=bT(e),r=bT(t),o=yT(n,"top"),i=yT(n,"bottom"),a=yT(r,"top");return AT(o,i,a)},TT=function(e,t){Bi(e,_O(),{value:t})},DT=function(e){return{x:ie(e)}},NT=function(e,t,n){var r={min:AO(t),max:DO(t),range:BO(t),value:n,step:jO(t),snap:IO(t),snapStart:$O(t),rounded:zO(t),hasMinEdge:VO(t),hasMaxEdge:UO(t),minBound:wT(e),maxBound:xT(e),screenRange:_T(e)};return gT(r)},FT=function(e,t,n){var r=NT(e,t,n),o=DT(r);return TT(e,o),r},LT=function(e,t){var n=AO(t);TT(e,DT(n))},PT=function(e,t){var n=DO(t);TT(e,DT(n))},BT=function(e,t,n){var r=e>0?dT:fT,o=r(GO(n).x(),AO(n),DO(n),jO(n));return TT(t,DT(o)),ye.some(o)},RT=function(e){return function(t,n){return BT(e,t,n).map(function(){return!0})}},qT=function(e){return EO(e).map(function(e){return e.left()})},MT=function(e,t,n,r,o){var i=_T(e),a=r.bind(function(t){return ye.some(ST(t,e))}).getOr(0),s=o.bind(function(t){return ye.some(ST(t,e))}).getOr(i),l={min:AO(t),max:DO(t),range:BO(t),value:n,hasMinEdge:VO(t),hasMaxEdge:UO(t),minBound:wT(e),minOffset:0,maxBound:xT(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:s};return vT(l)},jT=function(e,t,n,r,o,i){var a=MT(t,i,n,r,o);return wT(t)-wT(e)+a},IT=function(e,t,n,r){var o=GO(n),i=jT(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=Gu(t.element())/2;fl(t.element(),"left",i-a+"px")},$T=RT(-1),zT=RT(1),HT=ye.none,VT=ye.none,UT={"top-left":ye.none(),top:ye.none(),"top-right":ye.none(),right:ye.some(rT),"bottom-right":ye.none(),bottom:ye.none(),"bottom-left":ye.none(),left:ye.some(uT)},WT=Object.freeze({setValueFrom:FT,setToMin:LT,setToMax:PT,findValueOfOffset:NT,getValueFromEvent:qT,findPositionOfValue:jT,setPositionFromValue:IT,onLeft:$T,onRight:zT,onUp:HT,onDown:VT,edgeActions:UT}),KT=function(e,t){Bi(e,_O(),{value:t})},GT=function(e){return{y:ie(e)}},YT=function(e,t,n){var r={min:SO(t),max:NO(t),range:RO(t),value:n,step:jO(t),snap:IO(t),snapStart:$O(t),rounded:zO(t),hasMinEdge:WO(t),hasMaxEdge:KO(t),minBound:CT(e),maxBound:kT(e),screenRange:ET(e)};return gT(r)},XT=function(e,t,n){var r=YT(e,t,n),o=GT(r);return KT(e,o),r},JT=function(e,t){var n=SO(t);KT(e,GT(n))},ZT=function(e,t){var n=NO(t);KT(e,GT(n))},QT=function(e,t,n){var r=e>0?dT:fT,o=r(GO(n).y(),SO(n),NO(n),jO(n));return KT(t,GT(o)),ye.some(o)},eD=function(e){return function(t,n){return QT(e,t,n).map(function(){return!0})}},tD=function(e){return EO(e).map(function(e){return e.top()})},nD=function(e,t,n,r,o){var i=ET(e),a=r.bind(function(t){return ye.some(OT(t,e))}).getOr(0),s=o.bind(function(t){return ye.some(OT(t,e))}).getOr(i),l={min:SO(t),max:NO(t),range:RO(t),value:n,hasMinEdge:WO(t),hasMaxEdge:KO(t),minBound:CT(e),minOffset:0,maxBound:kT(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:s};return vT(l)},rD=function(e,t,n,r,o,i){var a=nD(t,i,n,r,o);return CT(t)-CT(e)+a},oD=function(e,t,n,r){var o=GO(n),i=rD(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),a=Hu(t.element())/2;fl(t.element(),"top",i-a+"px")},iD=ye.none,aD=ye.none,sD=eD(-1),lD=eD(1),uD={"top-left":ye.none(),top:ye.some(eT),"top-right":ye.none(),right:ye.none(),"bottom-right":ye.none(),bottom:ye.some(aT),"bottom-left":ye.none(),left:ye.none()},cD=Object.freeze({setValueFrom:XT,setToMin:JT,setToMax:ZT,findValueOfOffset:YT,getValueFromEvent:tD,findPositionOfValue:rD,setPositionFromValue:oD,onLeft:iD,onRight:aD,onUp:sD,onDown:lD,edgeActions:uD}),fD=function(e,t){Bi(e,_O(),{value:t})},dD=function(e,t){return{x:ie(e),y:ie(t)}},hD=function(e,t,n){var r=NT(e,t,n.left()),o=YT(e,t,n.top()),i=dD(r,o);return fD(e,i),i},pD=function(e,t,n,r){var o=e>0?dT:fT,i=t?GO(r).x():o(GO(r).x(),AO(r),DO(r),jO(r)),a=t?o(GO(r).y(),SO(r),NO(r),jO(r)):GO(r).y();return fD(n,dD(i,a)),ye.some(i)},mD=function(e,t){return function(n,r){return pD(e,t,n,r).map(function(){return!0})}},gD=function(e,t){var n=AO(t),r=SO(t);fD(e,dD(n,r))},vD=function(e,t){var n=DO(t),r=NO(t);fD(e,dD(n,r))},bD=function(e){return EO(e)},yD=function(e,t,n,r){var o=GO(n),i=jT(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=rD(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),s=Gu(t.element())/2,l=Hu(t.element())/2;fl(t.element(),"left",i-s+"px"),fl(t.element(),"top",a-l+"px")},wD=mD(-1,!1),xD=mD(1,!1),CD=mD(-1,!0),kD=mD(1,!0),_D={"top-left":ye.some(QO),top:ye.some(tT),"top-right":ye.some(nT),right:ye.some(oT),"bottom-right":ye.some(iT),bottom:ye.some(sT),"bottom-left":ye.some(lT),left:ye.some(cT)},ED=Object.freeze({setValueFrom:hD,setToMin:gD,setToMax:vD,getValueFromEvent:bD,setPositionFromValue:yD,onLeft:wD,onRight:xD,onUp:CD,onDown:kD,edgeActions:_D}),AD=Ao.detect().deviceType.isTouch(),SD=[Or("stepSize",1),Or("onChange",ne),Or("onChoose",ne),Or("onInit",ne),Or("onDragStart",ne),Or("onDragEnd",ne),Or("snapToGrid",!1),Or("rounded",!0),xr("snapStart"),dr("model",tr("mode",{x:[Or("minX",0),Or("maxX",100),Rr("value",function(e){return qr(e.mode.minX)}),fr("getInitialValue"),hu("manager",WT)],y:[Or("minY",0),Or("maxY",100),Rr("value",function(e){return qr(e.mode.minY)}),fr("getInitialValue"),hu("manager",cD)],xy:[Or("minX",0),Or("maxX",100),Or("minY",0),Or("maxY",100),Rr("value",function(e){return qr({x:ie(e.mode.minX),y:ie(e.mode.minY)})}),fr("getInitialValue"),hu("manager",ED)]})),ip("sliderBehaviours",[yb,iy])].concat(AD?[]:[Rr("mouseIsDown",function(){return qr(!1)})]),OD=Ao.detect().deviceType.isTouch(),TD=function(e,t,n,r){var o=function(t){return Jp(t,e,"thumb")},i=function(t){return Jp(t,e,"spectrum")},a=function(t){return Xp(t,e,"left-edge")},s=function(t){return Xp(t,e,"right-edge")},l=function(t){return Xp(t,e,"top-edge")},u=function(t){return Xp(t,e,"bottom-edge")},c=e.model,f=c.manager,d=function(t,n){f.setPositionFromValue(t,n,e,{getLeftEdge:a,getRightEdge:s,getTopEdge:l,getBottomEdge:u,getSpectrum:i})},h=function(t,n){c.value.set(n);var r=o(t);return d(t,r),e.onChange(t,r,n),ye.some(!0)},p=function(t){f.setToMin(t,e)},m=function(t){f.setToMax(t,e)},g=[ta(Ko(),function(t,n){e.onDragStart(t,o(t))}),ta(Yo(),function(t,n){e.onDragEnd(t,o(t))})],v=[ta(Xo(),function(t,n){n.stop(),e.onDragStart(t,o(t)),e.mouseIsDown.set(!0)}),ta(Qo(),function(t,n){e.onDragEnd(t,o(t))})],b=OD?g:v;return{uid:e.uid,dom:e.dom,components:t,behaviours:sp(e.sliderBehaviours,Je([OD?[]:[yb.config({mode:"special",focusIn:function(t){return Xp(t,e,"spectrum").map(yb.focusIn).map(ie(!0))}})],[iy.config({store:{mode:"manual",getValue:function(e){return c.value.get()}}}),Lu.config({channels:{"mouse.released":{onReceive:function(t,n){var r=e.mouseIsDown.get();e.mouseIsDown.set(!1),r&&Xp(t,e,"thumb").each(function(n){var r=c.value.get();e.onChoose(t,n,r)})}}}})]])),events:Zi([ta(_O(),function(e,t){h(e,t.event().value())}),ca(function(t,n){var r=c.getInitialValue();c.value.set(r);var a=o(t);d(t,a);var s=i(t);e.onInit(t,a,s,c.value.get())})].concat(b)),apis:{resetToMin:p,resetToMax:m,changeValue:h,refresh:d},domModification:{styles:{position:"relative"}}}},DD=hm({name:"Slider",configFields:SD,partFields:CO,factory:TD,apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),ND=function(e,t){var n=DD.parts().spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=DD.parts().thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return DD.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ie({y:ie(0)})},components:[n,r],sliderBehaviours:ku([gy.config({})]),onChange:function(e,t,n){Bi(e,aO(),{value:n})}})},FD={sliderFactory:ND},LD=[ip("formBehaviours",[iy])],PD=function(e){return"<alloy.field."+e+">"},BD=function(e){var t=function(){var e=[];return{field:function(t,n){return e.push(t),Up("form",PD(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=Ie(r,function(e){return Bp({name:e,pname:PD(e)})});return lm("form",LD,o,qD,n)},RD=function(e,t){return e.fold(function(){return ke.error(t)},ke.value)},qD=function(e,t,n){return{uid:e.uid,dom:e.dom,components:t,behaviours:sp(e.formBehaviours,[iy.config({store:{mode:"manual",getValue:function(t){var n=Qp(t,e);return ct(n,function(e,t){return e().bind(function(e){var t=bm.getCurrent(e);return RD(t,"missing current")}).map(iy.getValue)})},setValue:function(t,n){ut(n,function(n,r){Xp(t,e,r).each(function(e){bm.getCurrent(e).each(function(e){iy.setValue(e,n)})})})}}})]),apis:{getField:function(t,n){return Xp(t,e,n).bind(bm.getCurrent)}}}},MD={getField:Cs(function(e,t,n){return e.getField(t,n)}),sketch:BD},jD=rs("valid-input"),ID=rs("invalid-input"),$D=rs("validating-input"),zD=function(e,t,n,r){var o=function(n,r){return MS.config({invalidClass:t("invalid"),notify:{onValidate:function(e){Bi(e,$D,{type:n})},onValid:function(e){Bi(e,jD,{type:n,value:iy.getValue(e)})},onInvalid:function(e){Bi(e,ID,{type:n,value:iy.getValue(e)})}},validator:{validate:function(t){var n=iy.getValue(t),o=r(n)?ke.value(!0):ke.error(e("aria.input.invalid"));return LA.pure(o)},validateOnLoad:!1}})},i=function(n,r,i,a,s){var l=e("colorcustom.rgb.range"),u=sA.parts().label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":a}}}),c=sA.parts().field({data:s,factory:AS,inputAttributes:de({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:ku([o(r,n),zS.config({})]),onSetValue:function(e){if(MS.isInvalid(e)){MS.run(e).get(ne)}}}),f=[u,c],d="hex"!==r?[sA.parts()["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:f.concat(d)}},a=function(e,t){var n=uk(t);return MD.getField(e,"hex").each(function(t){gy.isFocused(t)||iy.setValue(e,{hex:n.value()})}),n},s=function(e,t){var n=t.red(),r=t.green(),o=t.blue();iy.setValue(e,{red:n,green:r,blue:o})},l=bw({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),u=function(e,t){l.getOpt(e).each(function(e){fl(e.element(),"background-color","#"+t.value())})};return dm({factory:function(){var o={red:ie(qr(ye.some(255))),green:ie(qr(ye.some(255))),blue:ie(qr(ye.some(255))),hex:ie(qr(ye.some("ffffff")))},c=function(e,t){var n=bk(t);s(e,n),p(n)},f=function(e){return o[e]().get()},d=function(e,t){o[e]().set(t)},h=function(){return f("red").bind(function(e){return f("green").bind(function(t){return f("blue").map(function(n){return mk(e,t,n,1)})})})},p=function(e){var t=e.red(),n=e.green(),r=e.blue();d("red",ye.some(t)),d("green",ye.some(n)),d("blue",ye.some(r))},m=function(e,t){var n=t.event();"hex"!==n.type()?d(n.type(),ye.none()):r(e)},g=function(e,t){n(e);var r=nk(t);d("hex",ye.some(t));var o=bk(r);s(e,o),p(o),Bi(e,iO(),{hex:r}),u(e,r)},v=function(e,t,n){var r=parseInt(n,10);d(t,ye.some(r)),h().each(function(t){var n=a(e,t);u(e,n)})},b=function(e){return"hex"===e.type()},y=function(e,t){var n=t.event();b(n)?g(e,n.value()):v(e,n.type(),n.value())},w=function(t){return{label:e("colorcustom.rgb."+t+".label"),description:e("colorcustom.rgb."+t+".description")}},x=w("red"),C=w("green"),k=w("blue"),_=w("hex");return kt(MD.sketch(function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",sA.sketch(i(gk,"red",x.label,x.description,255))),n.field("green",sA.sketch(i(gk,"green",C.label,C.description,255))),n.field("blue",sA.sketch(i(gk,"blue",k.label,k.description,255))),n.field("hex",sA.sketch(i(ik,"hex",_.label,_.description,"ffffff"))),l.asSpec()],formBehaviours:ku([MS.config({invalidClass:t("form-invalid")}),sy("rgb-form-events",[ta(jD,y),ta(ID,m),ta($D,m)])])}}),{apis:{updateHex:function(e,t){iy.setValue(e,{hex:t.value()}),c(e,t),u(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})},HD={rgbFormFactory:zD},VD=function(e,t){var n=DD.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=DD.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),o=function(e,t){var n=e.width,r=e.height,o=e.getContext("2d");if(null!==o){o.fillStyle=t,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}},i=function(e,t){var n=e.components()[0].element().dom();o(n,xk(t))};return dm({factory:function(e){var i=ie({x:ie(0),y:ie(0)}),a=function(e,t,n){Bi(e,sO(),{value:n})},s=function(e,t,n,r){o(n.element().dom(),xk(Ck()))},l=ku([bm.config({find:ye.some}),gy.config({})]);return DD.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,r],onChange:a,onInit:s,sliderBehaviours:l})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(e,t,n){i(t,n)}},extraApis:{}})},UD={paletteFactory:VD},WD=function(e,t){var n=function(n){var r=HD.rgbFormFactory(e,t,n.onValidHex,n.onInvalidHex),o=UD.paletteFactory(e,t),i={paletteRgba:ie(qr(Ck()))},a=bw(o.sketch({})),s=bw(r.sketch({})),l=function(e,t){a.getOpt(e).each(function(e){var n=bk(t);i.paletteRgba().set(n),o.setRgba(e,n)})},u=function(e,t){s.getOpt(e).each(function(e){r.updateHex(e,t)})},c=function(e,t,n){$e(n,function(n){n(e,t)})};return{uid:n.uid,dom:n.dom,components:[a.asSpec(),FD.sliderFactory(e,t),s.asSpec()],behaviours:ku([sy("colour-picker-events",[ta(sO(),function(){var e=[u];return function(t,n){var r=n.event().value(),o=i.paletteRgba().get(),a=rO(o),s=nO(a.hue(),r.x(),100-r.y()),l=vk(s),u=uk(l);c(t,u,e)}}()),ta(aO(),function(){var e=[l,u];return function(t,n){var r=n.event().value(),o=oO(r.y());c(t,o,e)}}())]),bm.config({find:function(e){return s.getOpt(e)}}),yb.config({mode:"acyclic"})])}};return dm({name:"ColourPicker",configFields:[fr("dom"),Or("onValidHex",ne),Or("onInvalidHex",ne)],factory:n})},KD={makeFactory:WD},GD=function(){return bm.config({find:ye.some})},YD=function(e){return bm.config({find:e.getOpt})},XD=function(e){return bm.config({find:function(t){return Sa(t.element(),e).bind(function(e){return t.getSystem().getByDom(e).toOption()})}})},JD={self:GD,memento:YD,childAt:XD},ZD={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},QD=function(e){return ZD[e]},eN=function(e){return QD(e)},tN=function(e){var n=function(e){return"tox-"+e},r=KD.makeFactory(eN,n),o=function(e){Bi(e,JE,{name:"hex-valid",value:!0})},i=function(e){Bi(e,JE,{name:"hex-valid",value:!1})},a=bw(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:o,onInvalidHex:i}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:ku([iy.config({store:{mode:"manual",getValue:function(e){var t=a.get(e);return bm.getCurrent(t).bind(function(e){return iy.getValue(e).hex}).map(function(e){return"#"+e}).getOr("")},setValue:function(e,n){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,o=r.exec(n),i=a.get(e);bm.getCurrent(i).fold(function(){t.console.log("Can not find form")},function(e){iy.setValue(e,{hex:ye.from(o[1]).getOr("")}),MD.getField(e,"hex").each(function(e){Pi(e,ii())})})}}}),JD.self()])}},nN=tinymce.util.Tools.resolve("tinymce.Resource"),rN=function(e){return Object.prototype.hasOwnProperty.call(e,"init")},oN=function(e){var t=qr(ye.none()),n=bw({dom:{tag:e.tag}}),r=qr(ye.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ku([sy("editor-foo-events",[ca(function(o){n.getOpt(o).each(function(n){(rN(e)?e.init(n.element().dom()):nN.load(e.scriptId,e.scriptUrl).then(function(t){return t(n.element().dom(),e.settings)})).then(function(e){r.get().each(function(t){e.setValue(t)}),r.set(ye.none()),t.set(ye.some(e))})})})]),iy.config({store:{mode:"manual",getValue:function(){return t.get().fold(function(){return r.get().getOr("")},function(e){return e.getValue()})},setValue:function(e,n){t.get().fold(function(){r.set(ye.some(n))},function(e){return e.setValue(n)})}}}),JD.self()]),components:[n.asSpec()]}},iN=Rn([Or("preprocess",ae),Or("postprocess",ae)]),aN=function(e,t){var n=Zn("RepresentingConfigs.memento processors",iN,t);return iy.config({store:{mode:"manual",getValue:function(t){var r=e.get(t),o=iy.getValue(r);return n.postprocess(o)},setValue:function(t,r){var o=n.preprocess(r),i=e.get(t);iy.setValue(i,o)}}})},sN=function(e,t,n){return iy.config(kt({store:{mode:"manual",getValue:t,setValue:n}},e.map(function(e){return{store:{initialValue:e}}}).getOr({})))},lN=function(e,t,n){return sN(e,function(e){return t(e.element())},function(e,t){return n(e.element(),t)})},uN=function(e){return lN(e,wl,xl)},cN=function(e){return lN(e,Ia,$a)},fN=function(e){return iy.config({store:{mode:"memory",initialValue:e}})},dN={memento:aN,withElement:lN,withComp:sN,domValue:uN,domHtml:cN,memory:fN},hN=".jpg,.jpeg,.png,.gif",pN=function(e){var t=new RegExp("("+hN.split(/\s*,\s*/).join("|")+")$","i");return Ve(at(e),function(e){return t.test(e.name)})},mN=function(e,t){var n=function(e,t){t.stop()},r=function(e){return function(t,n){$e(e,function(e){e(t,n)})}},o=function(e,t){if(!EC.isDisabled(e)){var n=t.event().raw();a(e,n.dataTransfer.files)}},i=function(e,t){var n=t.event().raw().target.files;a(e,n)},a=function(t,n){iy.setValue(t,pN(n)),Bi(t,GE,{name:e.name})},s=bw({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ku([sy("input-file-events",[sa(bi())])])}),l=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ku([dN.memory([]),JD.self(),EC.config({}),Py.config({toggleClass:"dragenter",toggleOnExecute:!1}),sy("dropzone-events",[ta("dragenter",r([n,Py.toggle])),ta("dragleave",r([n,Py.toggle])),ta("dragover",n),ta("drop",r([n,o])),ta(ai(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},vw.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[s.asSpec()],action:function(e){s.get(e).element().dom().click()},buttonBehaviours:ku([zS.config({})])})]}]}},u=e.label.map(function(e){return dS(e,t)}),c=sA.parts().field({factory:{sketch:l}});return sS(u,c,["tox-form__group--stretched"],[])},gN=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:Ie(e.items,t.interpreter)}},vN=rs("alloy-fake-before-tabstop"),bN=rs("alloy-fake-after-tabstop"),yN=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:ku([gy.config({ignore:!0}),zS.config({})])}},wN=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[yN([vN]),e,yN([bN])],behaviours:ku([JD.childAt(1)])}},xN=function(e,t){Bi(e,ri(),{raw:{which:9,shiftKey:t}})},CN=function(e,t){var n=t.element();il(n,vN)?xN(e,!0):il(n,bN)&&xN(e,!1)},kN=function(e){return tE(e,["."+vN,"."+bN].join(","),ie(!1))},_N={isPseudoStop:kN,onFocus:CN,craft:wN},EN=!(Ao.detect().browser.isIE()||Ao.detect().browser.isEdge()),AN=function(e){var t=qr("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)Va(n.element(),"srcdoc",r);else{Va(n.element(),"src","javascript:''");var o=n.element().dom().contentWindow.document;o.open(),o.write(r),o.close()}t.set(r)}}},SN=function(e,t){var n=EN&&e.sandboxed,r=de({},e.label.map(function(e){return{title:e}}).getOr({}),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=AN(n),i=e.label.map(function(e){return dS(e,t)}),a=function(e){return _N.craft({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:ku([zS.config({}),gy.config({}),dN.withComp(ye.none(),o.getValue,o.setValue)])})},s=sA.parts().field({factory:{sketch:a}});return sS(i,s,["tox-form__group--stretched"],[])},ON=window.Promise?window.Promise:function(){function e(e,t){return function(){return e.apply(t,arguments)}}function n(e){var t=this;if(null===this._state)return void this._deferreds.push(e);u(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(r,this),e(o,this))}this._state=!0,this._value=t,i.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,i.call(this)}function i(){for(var e=0,t=this._deferreds;e<t.length;e++){var r=t[e];n.call(this,r)}this._deferreds=[]}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function s(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var l=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(r,this),e(o,this))},u=l.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(e){t.setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var r=this;return new l(function(o,i){n.call(r,new a(e,t,o,i))})},l.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(1===e.length&&c(e[0])?e[0]:e);return new l(function(e,t){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(i,e)},t)}n[i]=a,0==--o&&e(n)}catch(e){t(e)}}if(0===n.length)return e([]);for(var o=n.length,i=0;i<n.length;i++)r(i,n[i])})},l.resolve=function(e){return e&&"object"==typeof e&&e.constructor===l?e:new l(function(t){t(e)})},l.reject=function(e){return new l(function(t,n){n(e)})},l.race=function(e){return new l(function(t,n){for(var r=0,o=e;r<o.length;r++){o[r].then(t,n)}})},l}(),TN=function(e){return O(e)},DN=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],NN=function(e){return function(t){return R(t,e)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),FN=I(P),LN=I(L),PN=function(e,t,n,r){return R(e,B(N(),t,n,r))},BN=function(e){return function(t){return M(t,e)}}([0,-1,0,-1,5,-1,0,-1,0]),RN=function(e){var t=function(t,n,r){for(var o=m(t),i=new Array(256),a=0;a<i.length;a++)i[a]=e(a,r);var s=function(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e}(o.getImageData(0,0,t.width,t.height),i);return o.putImageData(s,0,0),T(t,n)};return function(e,n){return e.toCanvas().then(function(r){return t(r,e.getType(),n)})}}(function(e,t){return 255*Math.pow(e/255,1-t)}),qN=function(e){return NN(e)},MN=function(e){return BN(e)},jN=function(e,t){return RN(e,t)},IN=function(e,t,n,r){return PN(e,t,n,r)},$N=function(e,t){return FN(e,t)},zN=function(e,t){return LN(e,t)},HN=function(e,t){return U(e,t)},VN=function(e,t,n,r,o){return K(e,t,n,r,o)},UN=function(e,t,n){return Y(e,t,n)},WN=function(e,t){return H(e,t)},KN=function(e,t){return de({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},GN=function(e,t){return KN(ww(e,t),{})},YN=function(e,t){return KN(ww(e,t),{behaviours:ku([Db.config({})])})},XN=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:ku([Db.config({})])}},JN=rs("toolbar.button.execute"),ZN=function(e){return ha(function(t,n){NC(e,t)(function(n){Bi(t,JN,{buttonApi:n}),e.onAction(n)})})},QN={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},eF=rs("update-menu-text"),tF=rs("update-menu-icon"),nF=function(e,t,n){var r=qr(ne),o=e.text.map(function(e){return bw(XN(e,t,n.providers))}),i=e.icon.map(function(e){return bw(YN(e,n.providers.icons))}),a=function(e,t){var n=iy.getValue(e);return gy.focus(n),Bi(n,"keydown",{raw:t.event().raw()}),WS.close(n),ye.some(!0)},s=e.role.fold(function(){return{}},function(e){return{role:e}}),l=e.tooltip.fold(function(){return{}},function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}});return bw(WS.sketch(de({},s,{dom:{tag:"button",classes:[t,t+"--select"].concat(Ie(e.classes,function(e){return t+"--"+e})),attributes:de({},l)},components:MC([i.map(function(e){return e.asSpec()}),o.map(function(e){return e.asSpec()}),ye.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:ww("chevron-down",n.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:ku(e.dropdownBehaviours.concat([DC.button(e.disabled),XS.config({}),Db.config({}),sy("dropdown-events",[FC(e,r),LC(e,r)]),sy("menubutton-update-display-text",[ta(eF,function(e,t){o.bind(function(t){return t.getOpt(e)}).each(function(e){Db.set(e,[Nl(n.providers.translate(t.event().text()))])})}),ta(tF,function(e,t){i.bind(function(t){return t.getOpt(e)}).each(function(e){Db.set(e,[YN(t.event().icon(),n.providers.icons)])})})])])),eventOrder:kt(QN,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:ku([yb.config({mode:"special",onLeft:a,onRight:a})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:p_(0,e.columns,e.presets)},fetch:function(){return LA.nu(e.fetch)}}))).asSpec()},rF=function(e){return{isDisabled:function(){return EC.isDisabled(e)},setDisabled:function(t){return EC.set(e,t)},setActive:function(t){var n=e.element();t?(nl(n,"tox-tbtn--enabled"),Va(n,"aria-pressed",!0)):(ol(n,"tox-tbtn--enabled"),Ga(n,"aria-pressed"))},isActive:function(){return il(e.element(),"tox-tbtn--enabled")}}},oF=function(e,t,n,r){return nF({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t){e.fetch(function(e){t(CS(e,BC.CLOSE_ON_EXECUTE,n))})},onSetup:e.onSetup,getApi:rF,columns:1,presets:"normal",classes:[],dropdownBehaviours:[zS.config({})]},t,n.shared)},iF=function(e,t,n,r,o){void 0===n&&(n=[]);var i=t.fold(function(){return{}},function(e){return{action:e}}),a=de({buttonBehaviours:ku([DC.button(e.disabled),zS.config({}),sy("button press",[ea("click"),ea("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},i),s=kt(a,{dom:r});return kt(s,{components:o})},aF=function(e,t,n,r){void 0===r&&(r=[]);var o=e.tooltip.map(function(e){return{"aria-label":n.translate(e),title:n.translate(e)}}).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:o},a=e.icon.map(function(e){return GN(e,n.icons)}),s=MC([a]);return iF(e,t,r,i,s)},sF=function(e,t,n,r){void 0===r&&(r=[]);var o=aF(e,ye.some(t),n,r);return vw.sketch(o)},lF=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=n.translate(e.text),a=e.icon?e.icon.map(function(e){return GN(e,n.icons)}):ye.none(),s=a.isSome()?MC([a]):[],l=a.isSome()?{}:{innerHtml:i},u=(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"]).concat(a.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],o),c=de({tag:"button",classes:u},l,{attributes:{title:i}});return iF(e,t,r,c,s)},uF=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=lF(e,ye.some(t),n,r,o);return vw.sketch(i)},cF=function(e,n){return function(r){"custom"===n?Bi(r,JE,{name:e,value:{}}):"submit"===n?Pi(r,ZE):"cancel"===n?Pi(r,XE):t.console.error("Unknown button type: ",n)}},fF=function(e,t){return"menu"===t},dF=function(e,t){return"custom"===t||"cancel"===t||"submit"===t},hF=function(e,n,r){if(fF(0,n))return oF(e,"tox-tbtn",r,ye.none());if(dF(0,n)){var o=cF(e.name,n),i=de({},e,{borderless:!1});return uF(i,o,r.shared.providers,[])}t.console.error("Unknown footer button type: ",n)},pF=function(e,t){var n=cF(e.name,"custom");return lS(ye.none(),sA.parts().field(de({factory:vw},lF(e,ye.some(n),t,[dN.memory(""),JD.self()]))))},mF=ie([Or("field1Name","field1"),Or("field2Name","field2"),fu("onLockedChange"),su(["lockClass"]),Or("locked",!1),lp.field("coupledFieldBehaviours",[bm,iy])]),gF=function(e,t,n){return Xp(e,t,n).bind(bm.getCurrent)},vF=function(e,t){return Bp({factory:sA,name:e,overrides:function(e){return{fieldBehaviours:ku([sy("coupled-input-behaviour",[ta(ii(),function(n){gF(n,e,t).each(function(t){Xp(n,e,"lock").each(function(r){Py.isOn(r)&&e.onLockedChange(n,t,r)})})})])])}}})},bF=ie([vF("field1","field2"),vF("field2","field1"),Bp({factory:vw,schema:[fr("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:ku([Py.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),yF=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:lp.augment(e.coupledFieldBehaviours,[bm.config({find:ye.some}),iy.config({store:{mode:"manual",getValue:function(t){var n,r=tm(t,e,["field1","field2"]);return n={},n[e.field1Name]=iy.getValue(r.field1()),n[e.field2Name]=iy.getValue(r.field2()),n},setValue:function(t,n){var r=tm(t,e,["field1","field2"]);Xt(n,e.field1Name)&&iy.setValue(r.field1(),n[e.field1Name]),Xt(n,e.field2Name)&&iy.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return Xp(t,e,"field1")},getField2:function(t){return Xp(t,e,"field2")},getLock:function(t){return Xp(t,e,"lock")}}}},wF=hm({name:"FormCoupledInputs",configFields:mF(),partFields:bF(),factory:yF,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),xF=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=e.value.toFixed(function(e){return e in t?t[e]:1}(e.unit));return-1!==n.indexOf(".")&&(n=n.replace(/\.?0*$/,"")),n+e.unit},CF=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(null!==n){var r=parseFloat(n[1]),o=n[2];return ke.value({value:r,unit:o})}return ke.error(e)},kF=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(e){return Object.prototype.hasOwnProperty.call(n,e)};return e.unit===t?ye.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?ye.some(e.value):ye.some(e.value/n[e.unit]*n[t]):ye.none()},_F=function(e){return ye.none()},EF=function(e,t){return function(n){return kF(n,t).map(function(n){return{value:n*e,unit:t}})}},AF=function(e,t){var n=CF(e).toOption(),r=CF(t).toOption();return Wl([n,r],function(e,t){return kF(e,t.unit).map(function(e){return t.value/e}).map(function(e){return EF(e,t.unit)}).getOr(_F)}).getOr(_F)},SF=function(e,t){var n=_F,r=rs("ratio-event"),o=wF.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:ww("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:ww("unlock",t.icons)}}],buttonBehaviours:ku([DC.button(e.disabled),zS.config({})])}),i=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},a=function(t){return sA.parts().field({factory:AS,inputClasses:["tox-textfield"],inputBehaviours:ku([EC.config({disabled:e.disabled}),zS.config({}),sy("size-input-events",[ta(ti(),function(e,n){Bi(e,r,{isField1:t})}),ta(ai(),function(t,n){Bi(t,GE,{name:e.name})})])]),selectOnFocus:!1})},s=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},l=wF.parts().field1(i([sA.parts().label(s("Width")),a(!0)])),u=wF.parts().field2(i([sA.parts().label(s("Height")),a(!1)]));return wF.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[l,u,i([s("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){CF(iy.getValue(e)).each(function(e){n(e).each(function(e){iy.setValue(t,xF(e))})})},coupledFieldBehaviours:ku([EC.config({disabled:e.disabled,onDisabled:function(e){wF.getField1(e).bind(sA.getField).each(EC.disable),wF.getField2(e).bind(sA.getField).each(EC.disable),wF.getLock(e).each(EC.disable)},onEnabled:function(e){wF.getField1(e).bind(sA.getField).each(EC.enable),wF.getField2(e).bind(sA.getField).each(EC.enable),wF.getLock(e).each(EC.enable)}}),sy("size-input-events2",[ta(r,function(e,t){var r=t.event().isField1(),o=r?wF.getField1(e):wF.getField2(e),i=r?wF.getField2(e):wF.getField1(e),a=o.map(iy.getValue).getOr(""),s=i.map(iy.getValue).getOr("");n=AF(a,s)})])])})},OF=ie(rs("undo")),TF=ie(rs("redo")),DF=ie(rs("zoom")),NF=ie(rs("back")),FF=ie(rs("apply")),LF=ie(rs("swap")),PF=ie(rs("transform")),BF=ie(rs("temp-transform")),RF=ie(rs("transform-apply")),qF={undo:OF,redo:TF,zoom:DF,back:NF,apply:FF,swap:LF,transform:PF,tempTransform:BF,transformApply:RF},MF=ie("save-state"),jF=ie("disable"),IF=ie("enable"),$F={formActionEvent:JE,saveState:MF,disable:jF,enable:IF},zF=function(e,t){var n=function(e,n,r,o){return bw(uF({name:e,text:e,disabled:r,primary:o,icon:ye.none(),borderless:!1},n,t))},r=function(e,n,r,o){return bw(sF({name:e,icon:ye.some(e),tooltip:ye.some(n),disabled:o,primary:!1,borderless:!1},r,t))},o=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(EC)&&EC.disable(n)})},i=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(EC)&&EC.enable(n)})},a={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},s=ye.none(),l=ne,u=function(e,t,n){Bi(e,t,n)},c=function(e){return Pi(e,$F.disable())},f=function(e){return Pi(e,$F.enable())},d=function(e,t){c(e),u(e,qF.transform(),{transform:t}),f(e)},h=function(e,t){c(e),u(e,qF.tempTransform(),{transform:t}),f(e)},p=function(e){return function(){ae.getOpt(e).each(function(e){Db.set(e,[re])})}},m=function(e,t){c(e),u(e,qF.transformApply(),{transform:t,swap:p(e)}),f(e)},g=function(){return n("Back",function(e){return u(e,qF.back(),{swap:p(e)})},!1,!1)},v=function(){return bw({dom:{tag:"div",classes:["tox-spacer"]},behaviours:ku([EC.config({})])})},b=function(){return n("Apply",function(e){return u(e,qF.apply(),{swap:p(e)})},!0,!0)},y=function(){return function(t){var n=e.getRect();return VN(t,n.x,n.y,n.w,n.h)}},w=[g(),v(),n("Apply",function(t){var n=y();m(t,n),e.hideCrop()},!1,!0)],x=_E.sketch({dom:a,components:w.map(function(e){return e.asSpec()}),containerBehaviours:ku([sy("image-tools-crop-buttons-events",[ta($F.disable(),function(e,t){o(w,e)}),ta($F.enable(),function(e,t){i(w,e)})])])}),C=bw(SF({name:"size",label:s,constrain:!0,disabled:!1},t)),k=function(e,t){return function(n){return UN(n,e,t)}},_=[g(),v(),C,v(),n("Apply",function(e){C.getOpt(e).each(function(t){var n=iy.getValue(t),r=parseInt(n.width,10),o=parseInt(n.height,10),i=k(r,o);m(e,i)})},!1,!0)],E=_E.sketch({dom:a,components:_.map(function(e){return e.asSpec()}),containerBehaviours:ku([sy("image-tools-resize-buttons-events",[ta($F.disable(),function(e,t){o(_,e)}),ta($F.enable(),function(e,t){i(_,e)})])])}),A=function(e,t){return function(n){return e(n,t)}},S=A(HN,"h"),O=A(HN,"v"),T=A(WN,-90),D=A(WN,90),N=function(e,t){h(e,t)},F=[g(),v(),r("flip-horizontally","Flip horizontally",function(e){N(e,S)},!1),r("flip-vertically","Flip vertically",function(e){N(e,O)},!1),r("rotate-left","Rotate counterclockwise",function(e){N(e,T)},!1),r("rotate-right","Rotate clockwise",function(e){N(e,D)},!1),v(),b()],L=_E.sketch({dom:a,components:F.map(function(e){return e.asSpec()}),containerBehaviours:ku([sy("image-tools-fliprotate-buttons-events",[ta($F.disable(),function(e,t){o(F,e)}),ta($F.enable(),function(e,t){i(F,e)})])])}),P=function(e,n,r,o,i){var a=DD.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),s=DD.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),l=DD.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return bw(DD.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:i,getInitialValue:ie({x:ie(o)})},components:[a,s,l],sliderBehaviours:ku([gy.config({})]),onChoose:n}))},B=function(e,t,n,r,o){return P(e,function(e,n,r){var o=A(t,r.x()/100);d(e,o)},n,r,o)},R=function(e,t,n,r,o){return[g(),B(e,t,n,r,o),b()]},q=function(e,t,n,r,s){var l=R(e,t,n,r,s);return _E.sketch({dom:a,components:l.map(function(e){return e.asSpec()}),containerBehaviours:ku([sy("image-tools-filter-panel-buttons-events",[ta($F.disable(),function(e,t){o(l,e)}),ta($F.enable(),function(e,t){i(l,e)})])])})},M=[g(),v(),b()],j=_E.sketch({dom:a,components:M.map(function(e){return e.asSpec()})}),I=q("Brightness",$N,-100,0,100),$=q("Contrast",zN,-100,0,100),z=q("Gamma",jN,-100,0,100),H=function(e,t,n){return function(r){return IN(r,e,t,n)}},V=function(e){return P(e,function(e,t,n){var r=U.getOpt(e),o=K.getOpt(e),i=W.getOpt(e);r.each(function(t){o.each(function(n){i.each(function(r){var o=iy.getValue(t).x()/100,i=iy.getValue(r).x()/100,a=iy.getValue(n).x()/100,s=H(o,i,a);d(e,s)})})})},0,100,200)},U=V("R"),W=V("G"),K=V("B"),G=[g(),U,W,K,b()],Y=_E.sketch({dom:a,components:G.map(function(e){return e.asSpec()})}),X=function(e,t,n){return function(r){var o=function(){ae.getOpt(r).each(function(t){Db.set(t,[e]),n(t)})};u(r,qF.swap(),{transform:t,swap:o})}},J=function(t){e.showCrop()},Z=function(t){C.getOpt(t).each(function(t){var n=e.getMeasurements(),r=n.width,o=n.height;iy.setValue(t,{width:r,height:o})})},Q=ye.some(MN),ee=ye.some(qN),te=[r("crop","Crop",X(x,s,J),!1),r("resize","Resize",X(E,s,Z),!1),r("orientation","Orientation",X(L,s,l),!1),r("brightness","Brightness",X(I,s,l),!1),r("sharpen","Sharpen",X(j,Q,l),!1),r("contrast","Contrast",X($,s,l),!1),r("color-levels","Color levels",X(Y,s,l),!1),r("gamma","Gamma",X(z,s,l),!1),r("invert","Invert",X(j,ee,l),!1)],re=_E.sketch({dom:a,components:te.map(function(e){return e.asSpec()})}),oe=_E.sketch({dom:{tag:"div"},components:[re],containerBehaviours:ku([Db.config({})])}),ae=bw(oe);return{memContainer:ae,getApplyButton:function(e){return ae.getOpt(e).map(function(e){var t=e.components()[0];return t.components()[t.components().length-1]})}}},HF=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),VF=tinymce.util.Tools.resolve("tinymce.geom.Rect"),UF=tinymce.util.Tools.resolve("tinymce.util.Observable"),WF=tinymce.util.Tools.resolve("tinymce.util.Tools"),KF=tinymce.util.Tools.resolve("tinymce.util.VK"),GF=0,YF=function(e){return new Vw(function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)})},XF=function(e){var t=bw({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=qr(1),r=qr(ye.none()),o=qr({x:0,y:0,w:1,h:1}),i=qr({x:0,y:0,w:1,h:1}),a=function(e,i){p.getOpt(e).each(function(e){var a=n.get(),s=Gu(e.element()),l=Hu(e.element()),u=i.dom().naturalWidth*a,c=i.dom().naturalHeight*a,f=Math.max(0,s/2-u/2),d=Math.max(0,l/2-c/2),h={left:f.toString()+"px",top:d.toString()+"px",width:u.toString()+"px",height:c.toString()+"px",position:"absolute"};dl(i,h),t.getOpt(e).each(function(e){dl(e.element(),h)}),r.get().each(function(e){var t=o.get();e.setRect({x:t.x*a+f,y:t.y*a+d,w:t.w*a,h:t.h*a}),e.setClampRect({x:f,y:d,w:u,h:c}),e.setViewPortRect({x:0,y:0,w:s,h:l})})})},s=function(e,t){p.getOpt(e).each(function(e){var r=Gu(e.element()),o=Hu(e.element()),i=t.dom().naturalWidth,a=t.dom().naturalHeight,s=Math.min(r/i,o/a);s>=1?n.set(1):n.set(s)})},l=function(e,t){var n=Hr.fromTag("img");return Va(n,"src",t),YF(n.dom()).then(function(){return p.getOpt(e).map(function(e){var t=Fl({element:n});Db.replaceAt(e,1,ye.some(t));var r=i.get(),l={x:0,y:0,w:n.dom().naturalWidth,h:n.dom().naturalHeight};i.set(l);var u=VF.inflate(l,-20,-20);return o.set(u),r.w===l.w&&r.h===l.h||s(e,n),a(e,n),n})})},u=function(e,t){var r=n.get(),o=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),p.getOpt(e).each(function(e){var t=e.components()[1].element();a(e,t)})},c=function(){r.get().each(function(e){e.toggleVisibility(!0)})},f=function(){r.get().each(function(e){e.toggleVisibility(!1)})},d=function(){return o.get()},h=_E.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:ku([sy("image-panel-crop-events",[ca(function(e){p.getOpt(e).each(function(e){var t=e.element().dom(),i=Q({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,function(){});i.toggleVisibility(!1),i.on("updateRect",function(e){var t=e.rect,r=n.get(),i={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};o.set(i)}),r.set(ye.some(i))})})])])}],containerBehaviours:ku([Db.config({}),sy("image-panel-events",[ca(function(t){l(t,e)})])])}),p=bw(h);return{memContainer:p,updateSrc:l,zoom:u,showCrop:c,hideCrop:f,getRect:d,getMeasurements:function(){var e=i.get();return{width:e.w,height:e.h}}}},JF=function(e,t,n,r,o){return sF({name:e,icon:ye.some(t),disabled:n,tooltip:ye.some(e),primary:!1,borderless:!1},r,o)},ZF=function(e,t){t?EC.enable(e):EC.disable(e)},QF=function(e){var t=function(e,t,o){n.getOpt(e).each(function(e){ZF(e,t)}),r.getOpt(e).each(function(e){ZF(e,o)})},n=bw(JF("Undo","undo",!0,function(e){Bi(e,qF.undo(),{direction:1})},e)),r=bw(JF("Redo","redo",!0,function(e){Bi(e,qF.redo(),{direction:1})},e));return{container:_E.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),JF("Zoom in","zoom-in",!1,function(e){Bi(e,qF.zoom(),{direction:1})},e),JF("Zoom out","zoom-out",!1,function(e){Bi(e,qF.zoom(),{direction:-1})},e)]}),updateButtonUndoStates:t}},eL=function(e){var n=qr(e),r=qr(ye.none()),o=ee();o.add(e);var i=function(){return n.get()},a=function(e){n.set(e)},s=function(){return r.get().fold(function(){return n.get()},function(e){return e})},l=function(e){var t=u(e);return d(),r.set(ye.some(t)),t.url},u=function(e){return{blob:e,url:t.URL.createObjectURL(e)}},c=function(e){t.URL.revokeObjectURL(e.url)},f=function(e){WF.each(e,c)},d=function(){r.get().each(c),r.set(ye.none())},h=function(e){var t=u(e);a(t);var n=o.add(t).removed;return f(n),t.url};return{getBlobState:i,setBlobState:a,addBlobState:h,getTempState:s,updateTempState:l,addTempState:function(e){var t=u(e);return r.set(ye.some(t)),t.url},applyTempState:function(e){return r.get().fold(function(){},function(t){h(t.blob),e()})},destroyTempState:d,undo:function(){var e=o.undo();return a(e),e.url},redo:function(){var e=o.redo();return a(e),e.url},getHistoryStates:function(){return{undoEnabled:o.canUndo(),redoEnabled:o.canRedo()}}}},tL=function(e,n){var r=eL(e.currentState),o=function(e,t){var n=t.event().direction();_.zoom(e,n)},i=function(e){var t=r.getHistoryStates();E.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),Bi(e,$F.formActionEvent,{name:$F.saveState(),value:t.undoEnabled})},a=function(e){E.updateButtonUndoStates(e,!1,!1)},s=function(e,t){var n=r.undo();d(e,n).then(function(t){f(e),i(e)})},l=function(e,t){var n=r.redo();d(e,n).then(function(t){f(e),i(e)})},u=function(e){return e.toBlob()},c=function(e){Bi(e,$F.formActionEvent,{name:$F.disable(),value:{}})},f=function(e){A.getApplyButton(e).each(function(e){EC.enable(e)}),Bi(e,$F.formActionEvent,{name:$F.enable(),value:{}})},d=function(e,t){return c(e),_.updateSrc(e,t)},h=function(e,n,r,o,a){return c(e),TN(n).then(r).then(u).then(o).then(function(t){return d(e,t).then(function(t){return i(e),a(),f(e),t})}).catch(function(n){return t.console.log(n),f(e),n})},p=function(e,t,n){var o=r.getBlobState().blob;h(e,o,t,function(e){return r.updateTempState(e)},n)},m=function(e,t){var n=r.getTempState().blob;h(e,n,t,function(e){return r.addTempState(e)},ne)},g=function(e,t,n){var o=r.getBlobState().blob;h(e,o,t,function(t){var n=r.addBlobState(t);return b(e),n},n)},v=function(e,t){var n=function(){b(e),t.event().swap()()};r.applyTempState(n)},b=function(e){var t=r.getBlobState().url;return r.destroyTempState(),i(e),t},y=function(e){var t=b(e);d(e,t).then(function(t){f(e)})},w=function(e,t){y(e),t.event().swap()(),_.hideCrop()},x=function(e,t){return p(e,t.event().transform(),ne)},C=function(e,t){return m(e,t.event().transform())},k=function(e,t){return g(e,t.event().transform(),t.event().swap())},_=XF(e.currentState.url),E=QF(n),A=zF(_,n),S=function(e,t){a(e);var n=t.event().transform(),r=t.event().swap();n.fold(function(){r()},function(t){p(e,t,r)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[A.memContainer.asSpec(),_.memContainer.asSpec(),E.container],behaviours:ku([iy.config({store:{mode:"manual",getValue:function(){return r.getBlobState()}}}),sy("image-tools-events",[ta(qF.undo(),s),ta(qF.redo(),l),ta(qF.zoom(),o),ta(qF.back(),w),ta(qF.apply(),v),ta(qF.transform(),x),ta(qF.tempTransform(),C),ta(qF.transformApply(),k),ta(qF.swap(),S)]),JD.self()])}},nL=function(e,t){var n=Ie(e.options,function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}}),r=e.data.map(function(e){return Ut("initialValue",e)}).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:sp(e.selectBehaviours,[gy.config({}),iy.config({store:de({mode:"manual",getValue:function(e){return wl(e.element())},setValue:function(t,n){Ke(e.options,function(e){return e.value===n}).isSome()&&xl(t.element(),n)}},r)})])}},rL=dm({name:"HtmlSelect",configFields:[fr("options"),ip("selectBehaviours",[gy,iy]),Or("selectClasses",[]),Or("selectAttributes",{}),xr("data")],factory:nL}),oL=function(e,t){var n=Ie(e.items,function(e){return{text:t.translate(e.text),value:e.value}}),r=e.label.map(function(e){return dS(e,t)}),o=sA.parts().field({dom:{},selectAttributes:{size:e.size},options:n,factory:rL,selectBehaviours:ku([EC.config({disabled:e.disabled}),zS.config({}),sy("selectbox-change",[ta(ai(),function(t,n){Bi(t,GE,{name:e.name})})])])}),i=e.size>1?ye.none():ye.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:ww("chevron-down",t.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:Je([[o],i.toArray()])};return sA.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Je([r.toArray(),[a]]),fieldBehaviours:ku([EC.config({disabled:e.disabled,onDisabled:function(e){sA.getField(e).each(EC.disable)},onEnabled:function(e){sA.getField(e).each(EC.enable)}})])})},iL=function(e,t){var n=e.label.map(function(e){return dS(e,t)}),r=[EC.config({disabled:e.disabled}),yb.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return Pi(e,ZE),ye.some(!0)}}),sy("textfield-change",[ta(ii(),function(t,n){Bi(t,GE,{name:e.name})}),ta(hi(),function(t,n){Bi(t,GE,{name:e.name})})]),zS.config({})],o=e.validation.map(function(e){return MS.config({getRoot:function(e){return ka(e.element())},invalidClass:"tox-invalid",validator:{validate:function(t){var n=iy.getValue(t),r=e.validator(n);return LA.pure(!0===r?ke.value(n):ke.error(r))},validateOnLoad:e.validateOnLoad}})}).toArray(),i=sA.parts().field({tag:!0===e.multiline?"textarea":"input",inputAttributes:e.placeholder.fold(function(){},function(e){return{placeholder:t.translate(e)}}),inputClasses:[e.classname],inputBehaviours:ku(Je([r,o])),selectOnFocus:!1,factory:AS}),a=e.flex?["tox-form__group--stretched"]:[],s=a.concat(e.maximized?["tox-form-group--maximize"]:[]),l=[EC.config({disabled:e.disabled,onDisabled:function(e){sA.getField(e).each(EC.disable)},onEnabled:function(e){sA.getField(e).each(EC.enable)}})];return sS(n,i,s,l)},aL=function(e,t){return iL({name:e.name,multiline:!1,label:e.label,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:ye.none(),maximized:e.maximized},t)},sL=function(e,t){return iL({name:e.name,multiline:!0,label:e.label,placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:ye.none(),maximized:e.maximized},t)},lL=function(e){return de({},e,{toCached:function(){return lL(e.toCached())},bindFuture:function(t){return lL(e.bind(function(e){return e.fold(function(e){return LA.pure(ke.error(e))},function(e){return t(e)})}))},bindResult:function(t){return lL(e.map(function(e){return e.bind(t)}))},mapResult:function(t){return lL(e.map(function(e){return e.map(t)}))},mapError:function(t){return lL(e.map(function(e){return e.mapError(t)}))},foldResult:function(t,n){return e.map(function(e){return e.fold(t,n)})},withTimeout:function(n,r){return lL(LA.nu(function(o){var i=!1,a=t.setTimeout(function(){i=!0,o(ke.error(r()))},n);e.get(function(e){i||(t.clearTimeout(a),o(e))})}))}})},uL=function(e){return lL(LA.nu(e))},cL=function(e){return lL(LA.pure(ke.value(e)))},fL=function(e){return lL(LA.pure(ke.error(e)))},dL=function(e){return lL(LA.pure(e))},hL=function(e){return lL(e.map(ke.value))},pL=function(e){return uL(function(t){e.then(function(e){t(ke.value(e))},function(e){t(ke.error(e))})})},mL={nu:uL,wrap:lL,pure:cL,value:cL,error:fL,fromResult:dL,fromFuture:hL,fromPromise:pL},gL={type:"separator"},vL=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:function(){}}},bL=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:function(){}}},yL=function(e){return Ie(e,vL)},wL=function(e,t){return Ve(t,function(t){return t.type===e})},xL=function(e,t){return yL(wL(e,t))},CL=function(e){return xL("header",e.targets)},kL=function(e){return xL("anchor",e.targets)},_L=function(e){return ye.from(e.anchorTop).map(function(e){return bL("<top>",e)}).toArray()},EL=function(e){return ye.from(e.anchorBottom).map(function(e){return bL("<bottom>",e)}).toArray()},AL=function(e){return Ie(e,function(e){return bL(e,e)})},SL=function(e){return We(e,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(gL,t)},[])},OL=function(e,t){var n=e.toLowerCase();return Ve(t,function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return mo(t.toLowerCase(),n)||mo(e.value.toLowerCase(),n)})},TL=function(e,t,n){var r=iy.getValue(t),o=void 0!==r.meta.text?r.meta.text:r.value;return n.getLinkInformation().fold(function(){return[]},function(t){var r=OL(o,AL(n.getHistory(e)));return"file"===e?SL([r,OL(o,CL(t)),OL(o,Je([_L(t),kL(t),EL(t)]))]):r})},DL=rs("aria-invalid"),NL=function(e,t,n){var r,o=t.shared.providers,i=function(t){var r=iy.getValue(t);n.addToHistory(r.value,e.filetype)},a=sA.parts().field({factory:aS,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":DL},minChars:0,responseTime:0,fetch:function(r){var o=TL(e.filetype,r,n),i=CS(o,BC.BUBBLE_TO_SANDBOX,t);return LA.pure(i)},getHotspot:function(e){return d.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(MS)&&MS.run(e).get(ne)},typeaheadBehaviours:ku(Je([n.getValidationHandler().map(function(t){return MS.config({getRoot:function(e){return ka(e.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){l.getOpt(e).each(function(e){Va(e.element(),"title",o.translate(t))})}},validator:{validate:function(n){var r=iy.getValue(n);return mL.nu(function(n){t({type:e.filetype,url:r.value},function(e){n(("invalid"===e.status?ke.error:ke.value)(e.message))})})},validateOnLoad:!1}})}).toArray(),[EC.config({disabled:e.disabled}),zS.config({}),sy("urlinput-events",Je(["file"===e.filetype?[ta(ii(),function(t){Bi(t,GE,{name:e.name})})]:[],[ta(ai(),function(t){Bi(t,GE,{name:e.name}),i(t)}),ta(hi(),function(t){Bi(t,GE,{name:e.name}),i(t)})]]))]])),eventOrder:(r={},r[ii()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"dog"},lazySink:t.shared.getSink,parts:{menu:p_(0,0,"normal")},onExecute:function(e,t,n){Bi(t,ZE,{})},onItemExecute:function(t,n,r,o){i(t),Bi(t,GE,{name:e.name})}}),s=e.label.map(function(e){return dS(e,o)}),l=bw(function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=e),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],innerHtml:ww(n,o.icons),attributes:de({title:o.translate(r),"aria-live":"polite"},t.fold(function(){return{}},function(e){return{id:e}}))}}}("invalid",ye.some(DL),"warning")),u=bw({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[l.asSpec()]}),c=n.getUrlPicker(e.filetype),f=rs("browser.url.event"),d=bw({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,u.asSpec()],behaviours:ku([EC.config({disabled:e.disabled})])}),h=bw(uF({name:e.name,icon:ye.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},function(e){return Pi(e,f)},o,[],["tox-browse-url"])),p=function(t){bm.getCurrent(t).each(function(n){var r=iy.getValue(n);c.each(function(o){o(r).get(function(r){iy.setValue(n,r),Bi(t,GE,{name:e.name})})})})};return sA.sketch({dom:cS(),components:s.toArray().concat([function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Je([[d.asSpec()],c.map(function(){return h.asSpec()}).toArray()])}}()]),fieldBehaviours:ku([EC.config({disabled:e.disabled,onDisabled:function(e){sA.getField(e).each(EC.disable),h.getOpt(e).each(EC.disable)},onEnabled:function(e){sA.getField(e).each(EC.enable),h.getOpt(e).each(EC.enable)}}),sy("url-input-events",[ta(f,p)])])})},FL=function(e,t){var n=iy.config({store:{mode:"manual",getValue:function(e){return e.element().dom().checked},setValue:function(e,t){e.element().dom().checked=t}}}),r=function(e){return e.element().dom().click(),ye.some(!0)},o=sA.parts().field({factory:{sketch:ae},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ku([JD.self(),EC.config({disabled:e.disabled}),zS.config({}),gy.config({}),n,yb.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),sy("checkbox-events",[ta(ai(),function(t,n){Bi(t,GE,{name:e.name})})])])}),i=sA.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:ku([XS.config({})])}),a=function(e){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:ww("checked"===e?"selected":"unselected",t.icons)}}},s=bw({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return sA.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,s.asSpec(),i],fieldBehaviours:ku([EC.config({disabled:e.disabled,disableClass:"tox-checkbox--disabled",onDisabled:function(e){sA.getField(e).each(EC.disable)},onEnabled:function(e){sA.getField(e).each(EC.enable)}})])})},LL=function(e){return"presentation"===e.presets?_E.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):_E.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:ku([zS.config({}),gy.config({})])})},PL=function(e,t){var n=dS(e.label,t),r=sA.parts().field({factory:rL,dom:{classes:["mce-select-field"]},selectBehaviours:ku([zS.config({})]),options:e.values,data:e.initialValue.getOr(void 0)});return lS(ye.some(n),r)},BL=function(e,t){return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}}].concat(Ie(e.items,t.interpreter)),behaviours:ku([JD.self(),Db.config({}),dN.domHtml(ye.none()),yb.config({mode:"acyclic"})])}},RL=function(e,t){var n=e.label.map(function(e){return dS(e,t)}),r=function(e){return function(t,n){jl(n.event().target(),"[data-collection-item-value]").each(function(n){e(t,n,Wa(n,"data-collection-item-value"))})}},o=function(e){return'"'===e?"&quot;":e},i=function(t,n){var r=Ie(n,function(t){var n=Ix.translate(t.text),r=1===e.columns?'<div class="tox-collection__item-label">'+n+"</div>":"",i='<div class="tox-collection__item-icon">'+t.icon+"</div>",a={_:" "," - ":" ","-":" "},s=n.replace(/\_| \- |\-/g,function(e){return a[e]});return'<div class="tox-collection__item" tabindex="-1" data-collection-item-value="'+o(t.value)+'" title="'+s+'" aria-label="'+s+'">'+i+r+"</div>"}),i=e.columns>1&&"auto"!==e.columns?je(r,e.columns):[r],a=Ie(i,function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"});$a(t.element(),a.join(""))},a=[ta(ei(),r(function(e,t){sg(t)})),ta(bi(),r(function(t,n,r){Bi(t,JE,{name:e.name,value:r})})),ta(ti(),r(function(e,t,n){Ml(e.element(),"."+Vx).each(function(e){ol(e,Vx)}),nl(t,Vx)})),ta(ni(),r(function(e,t,n){Ml(e.element(),"."+Vx).each(function(e){ol(e,Vx)})})),ha(r(function(t,n,r){Bi(t,JE,{name:e.name,value:r})}))],s=sA.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:ae},behaviours:ku([Db.config({}),iy.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){i(t,n),"auto"===e.columns&&xx(t,5,"tox-collection__item").each(function(e){var n=e.numRows,r=e.numColumns;yb.setGridSize(t,n,r)}),Pi(t,nA)}}),zS.config({}),yb.config(C_(e.columns,"normal")),sy("collection-events",a)])});return sS(n,s,["tox-form__group--collection"],[])},qL=function(e,t){var n=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},r=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},o=function(e){return{dom:{tag:"tr"},components:Ie(e,r)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[function(e){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ie(e,n)}]}}(e.header),function(e){return{dom:{tag:"tbody"},components:Ie(e,o)}}(e.cells)],behaviours:ku([zS.config({}),gy.config({})])}},ML=function(e,t){return{dom:{tag:"div",classes:e.classes},components:Ie(e.items,t.shared.interpreter)}},jL=function(e){return function(t,n,r){return Vt(n,"name").fold(function(){return e(n,r)},function(o){return t.field(o,e(n,r))})}},IL={bar:jL(function(e,t){return _S(e,t.shared)}),collection:jL(function(e,t){return RL(e,t.shared.providers)}),alloy:jL(ae),alertbanner:jL(function(e,t){return rA(e,t.shared.providers)}),input:jL(function(e,t){return aL(e,t.shared.providers)}),textarea:jL(function(e,t){return sL(e,t.shared.providers)}),listbox:jL(function(e,t){return PL(e,t.shared.providers)}),label:jL(function(e,t){return BL(e,t.shared)}),iframe:function(e){return function(t,n,r){var o=kt(n,{source:"dynamic"});return jL(e)(t,o,r)}}(function(e,t){return SN(e,t.shared.providers)}),autocomplete:jL(function(e,t){return kS(e,t)}),button:jL(function(e,t){return pF(e,t.shared.providers)}),checkbox:jL(function(e,t){return FL(e,t.shared.providers)}),colorinput:jL(function(e,t){return tO(e,t.shared,t.colorinput)}),colorpicker:jL(tN),dropzone:jL(function(e,t){return mN(e,t.shared.providers)}),grid:jL(function(e,t){return gN(e,t.shared)}),selectbox:jL(function(e,t){return oL(e,t.shared.providers)}),sizeinput:jL(function(e,t){return SF(e,t.shared.providers)}),urlinput:jL(function(e,t){return NL(e,t,t.urlinput)}),customeditor:jL(oN),htmlpanel:jL(LL),imagetools:jL(function(e,t){return tL(e,t.shared.providers)}),table:jL(function(e,t){return qL(e,t.shared.providers)}),panel:jL(function(e,t){return ML(e,t)})},$L={field:function(e,t){return t}},zL=function(e,t,n){var r=kt(n,{shared:{interpreter:function(t){return HL(e,t,r)}}});return HL(e,t,r)},HL=function(e,n,r){return Vt(IL,n.type).fold(function(){return t.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n},function(t){return t(e,n,r)})},VL=function(e,t){return HL($L,e,t)},UL=function(e){return e.x()},WL=function(e,t){return e.x()+e.width()/2-t.width()/2},KL=function(e,t){return e.x()+e.width()-t.width()},GL=function(e){return e.y()},YL=function(e,t){return e.y()+e.height()-t.height()},XL=function(e,t,n){return fc(UL(e),YL(e,t),n.innerSoutheast(),mc(),"layout-se")},JL=function(e,t,n){return fc(KL(e,t),YL(e,t),n.innerSouthwest(),gc(),"layout-sw")},ZL=function(e,t,n){return fc(UL(e),GL(e),n.innerNortheast(),vc(),"layout-ne")},QL=function(e,t,n){return fc(KL(e,t),GL(e),n.innerNorthwest(),bc(),"layout-nw")},eP=function(e,t,n){return fc(WL(e,t),GL(e),n.innerNorth(),wc(),"layout-n")},tP=function(e,t,n){return fc(WL(e,t),YL(e,t),n.innerSouth(),yc(),"layout-s")},nP={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},rP=function(e,t,n){var r=function(){return{anchor:"node",root:e(),node:ye.from(e()),bubble:uc(-12,-12,nP),layouts:{onRtl:function(){return[ZL]},onLtr:function(){return[QL]}}}},o=function(){return{anchor:"hotspot",hotspot:t(),bubble:uc(-12,12,nP),layouts:{onRtl:function(){return[Nc]},onLtr:function(){return[Fc]}}}};return n?r:o},oP=function(e,t,n){var r=function(){return{anchor:"node",root:e(),node:ye.from(e()),layouts:{onRtl:function(){return[eP]},onLtr:function(){return[eP]}}}},o=function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[Rc]},onLtr:function(){return[Rc]}}}};return n?r:o},iP=function(e){return function(){return{anchor:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[Nc]},onLtr:function(){return[Fc]}}}}},aP=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return ye.some(_f.range(Hr.fromDom(t.startContainer),t.startOffset,Hr.fromDom(t.endContainer),t.endOffset))}}}},sP=function(e){return function(t){return{anchor:"node",root:e(),node:t}}},lP=function(e,t,n){var r=UE(e),o=function(){return Hr.fromDom(e.getBody())};return{toolbar:rP(o,t,r),toolbarOverflow:iP(n),banner:oP(o,t,n),cursor:aP(e,o),node:sP(o)}},uP={getAnchors:lP},cP=function(e){return function(t,n){r_.colorPickerDialog(e)(t,n)}},fP=function(e){return function(){return Bk.hasCustomColors(e)}},dP=function(e){return function(){return Bk.getColors(e)}},hP=function(e){return function(){return r_.getColorCols(e)}},pP=function(e){return{colorPicker:cP(e),hasCustomColors:fP(e),getColors:dP(e),getColorCols:hP(e)}},mP=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strike-through",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}]}],gP=function(e){return gt(e,"items")},vP=function(e){return gt(e,"block")},bP=function(e){return gt(e,"inline")},yP=function(e){return gt(e,"selector")},wP=function(e){return We(e,function(e,t){if(gP(t)){var n=wP(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(bP(t)||vP(t)||yP(t)){var r="custom-"+t.title.toLowerCase();return{customFormats:e.customFormats.concat([{name:r,format:t}]),formats:e.formats.concat([{title:t.title,format:r,icon:t.icon}])}}return de({},e,{formats:e.formats.concat(t)})},{customFormats:[],formats:[]})},xP=function(e,t){var n=wP(t),r=function(t){$e(t,function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)})};return e.formatter?r(n.customFormats):e.on("init",function(){r(n.customFormats)}),n.formats},CP=function(e){return BE(e).map(function(t){var n=xP(e,t);return RE(e)?mP.concat(n):n}).getOr(mP)},kP=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return kt(e,r)},_P=function(e,t,n,r){var o=function(e){return kP(e,n,r)},i=function(e){var t={type:"submenu",isSelected:ie(!1),getStylePreview:function(){return ye.none()}};return kt(e,t)},a=function(t){var o=rs(t.title),i={type:"formatter",format:o,isSelected:n(o),getStylePreview:r(o)},a=kt(t,i);return e.formatter.register(o,a),a},s=function(e){return Ie(e,function(e){var t=st(e);if(Xt(e,"items")){var n=s(e.items);return kt(i(e),{getStyleItems:function(){return n}})}return Xt(e,"format")?o(e):1===t.length&&Re(t,"title")?kt(e,{type:"separator"}):a(e)})};return s(t)},EP=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?ye.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styleAttr:e.formatter.getCssText(t)}):ye.none()}},r=function(e){var t=e.items;return void 0!==t&&t.length>0?Ze(t,r):[e.format]},o=qr([]),i=qr([]),a=qr([]),s=qr([]),l=qr(!1);return e.on("init",function(){var a=CP(e),s=_P(e,a,t,n);o.set(s),i.set(Ze(s,r))}),e.on("addStyleModifications",function(o){var i=_P(e,o.items,t,n);a.set(i),l.set(o.replace),s.set(Ze(i,r))}),{getData:function(){var e=l.get()?[]:o.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=l.get()?[]:i.get(),t=s.get();return e.concat(t)}}},AP=WF.trim,SP=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},OP=SP("true"),TP=SP("false"),DP=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},NP=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return OP(e)}return!1},FP=function(e,t){return Ie(ud(Hr.fromDom(t),e),function(e){return e.dom()})},LP=function(e){return e.innerText||e.textContent},PP=function(e){return e.id?e.id:rs("h")},BP=function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)},RP=function(e){return BP(e)&&MP(e)},qP=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},MP=function(e){return NP(e)&&!TP(e)},jP=function(e){return qP(e)&&MP(e)},IP=function(e){return qP(e)?parseInt(e.nodeName.substr(1),10):0},$P=function(e){var t=PP(e),n=function(){e.id=t};return DP("header",LP(e),"#"+t,IP(e),n)},zP=function(e){var t=e.id||e.name,n=LP(e);return DP("anchor",n||"#"+t,"#"+t,0,ne)},HP=function(e){return Ie(Ve(e,jP),$P)},VP=function(e){return Ie(Ve(e,RP),zP)},UP=function(e){return FP("h1,h2,h3,h4,h5,h6,a:not([href])",e)},WP=function(e){return AP(e.title).length>0},KP=function(e){var t=UP(e);return Ve(HP(t).concat(VP(t)),WP)},GP={find:KP},YP="tinymce-url-history",XP=function(e){return Ae(e)&&/^https?/.test(e)},JP=function(e){return Oe(e)&&e.length<=5&&Qe(e,XP)},ZP=function(e){return Se(e)&&ht(e,function(e){return!JP(e)}).isNone()},QP=function(){var e=t.localStorage.getItem(YP);if(null===e)return{};var n;try{n=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return t.console.log("Local storage "+YP+" was not valid JSON",e),{};throw e}return ZP(n)?n:(t.console.log("Local storage "+YP+" was not valid format",n),{})},eB=function(e){if(!ZP(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));t.localStorage.setItem(YP,JSON.stringify(e))},tB=function(e){var t=QP();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},nB=function(e,t){if(XP(e)){var n=QP(),r=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],o=Ve(r,function(t){return t!==e});n[t]=[e].concat(o).slice(0,5),eB(n)}},rB=Object.prototype.hasOwnProperty,oB=function(e){return!!e},iB=function(e){return ct(WF.makeMap(e,/[, ]/),oB)},aB=function(e,t){return rB.call(e,t)?ye.some(e[t]):ye.none()},sB=function(e,t,n){var r=aB(e,t).getOr(n);return Ae(r)?ye.some(r):ye.none()},lB=function(e){return ye.some(e.file_picker_callback).filter(De)},uB=function(e){var t=ye.some(e.file_picker_types).filter(oB),n=ye.some(e.file_browser_callback_types).filter(oB),r=t.or(n).map(iB);return lB(e).fold(function(){return!1},function(e){return r.fold(function(){return!0},function(e){return st(e).length>0&&e})})},cB=function(e,t){var n=uB(e);return Te(n)?n?lB(e):ye.none():n[t]?lB(e):ye.none()},fB=function(e,t){return cB(e.settings,t).map(function(n){return function(r){return LA.nu(function(o){var i=function(e,t){if(!Ae(e))throw new Error("Expected value to be string");if(void 0!==t&&!Se(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})},a=WF.extend({filetype:t},ye.from(r.meta).getOr({}));n.call(e,i,r.value,a)})}})},dB=function(e){return!1===e.settings.typeahead_urls?ye.none():ye.some({targets:GP.find(e.getBody()),anchorTop:sB(e.settings,"anchor_top","#top").getOrUndefined(),anchorBottom:sB(e.settings,"anchor_bottom","#bottom").getOrUndefined()})},hB=function(e){return ye.from(e.settings.file_picker_validator_handler).filter(De).orThunk(function(){return ye.from(e.settings.filepicker_validator_handler).filter(De)})},pB=function(e){return{getHistory:tB,addToHistory:nB,getLinkInformation:function(){return dB(e)},getValidationHandler:function(){return hB(e)},getUrlPicker:function(t){return fB(e,t)}}},mB=function(e){return function(){return KE(e)}},gB=function(e){return{isDraggableModal:mB(e)}},vB=function(e,t,n,r){var o={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:Ix.translate},interpreter:function(e){return VL(e,o)},anchors:uP.getAnchors(t,n,r),getSink:function(){return ke.value(e)}},urlinput:pB(t),styleselect:EP(t),colorinput:pP(t),dialog:gB(t)};return o},bB=ie([fr("dom"),Or("shell",!0),ip("toolbarBehaviours",[Db])]),yB=function(e){return{behaviours:ku([Db.config({})])}},wB=ie([qp({name:"groups",overrides:yB})]),xB=function(e,n,r,o){var i=function(e,n){a(e).fold(function(){throw t.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(e){Db.set(e,n)})},a=function(t){return e.shell?ye.some(t):Xp(t,e,"groups")},s=e.shell?{behaviours:[Db.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:s.components,behaviours:sp(e.toolbarBehaviours,s.behaviours),apis:{setGroups:i},domModification:{attributes:{role:"group"}}}},CB=hm({name:"Toolbar",configFields:bB(),partFields:wB(),factory:xB,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),kB=function(e,t){var n={len:0,list:[]};return We(e,function(e,n){return t(n,e.len).fold(ie(e),function(t){return{len:t.finish(),list:e.list.concat([t])}})},n).list},_B=pa("within","extra","withinWidth"),EB=function(e,t,n){var r=kB(e,function(e,t){var r=n(e);return ye.some({element:ie(e),start:ie(t),finish:ie(t+r),width:ie(r)})}),o=Ve(r,function(e){return e.finish()<=t}),i=Ue(o,function(e,t){return e+t.width()},0),a=r.slice(o.length);return{within:ie(o),extra:ie(a),withinWidth:ie(i)}},AB=function(e){return Ie(e,function(e){return e.element()})},SB=function(e,t,n){var r=AB(e.concat(t));return _B(r,[],n)},OB=function(e,t,n,r){var o=AB(e).concat([n]);return _B(o,AB(t),r)},TB=function(e,t,n){return _B(AB(e),[],n)},DB=function(e,t,n){var r=EB(t,e,n);return 0===r.extra().length?ye.some(r):ye.none()},NB=function(e,t,n,r){var o=DB(e,t,n).getOrThunk(function(){return EB(t,e-n(r),n)}),i=o.within(),a=o.extra(),s=o.withinWidth();return 1===a.length&&a[0].width()<=n(r)?SB(i,a,s):a.length>=1?OB(i,a,r,s):TB(i,0,s)},FB=function(e,t){var n=Ie(t,function(e){return Bl(e)});CB.setGroups(e,n)},LB=function(e,t){return e.bind(function(e){return fg(e.element()).bind(function(t){return e.getSystem().getByDom(t).toOption()})}).orThunk(function(){return t.filter(gy.isFocused)})},PB=function(e,t,n,r){var o=Jp(e,t,"primary"),i=Xp(e,t,"overflow-button"),a=hA.getCoupled(e,"overflowGroup");fl(o.element(),"visibility","hidden");var s=LB(n,i);n.each(function(e){CB.setGroups(e,[])});var l=t.builtGroups.get();FB(o,l.concat([a]));var u=Gu(o.element()),c=NB(u,l,function(e){return Gu(e.element())},a);0===c.extra().length?(Db.remove(o,a),n.each(function(e){CB.setGroups(e,[])})):(FB(o,c.within()),n.each(function(e){FB(e,c.extra())})),bl(o.element(),"visibility"),yl(o.element()),n.each(function(e){i.each(function(t){return Py.set(t,r(e))}),s.each(gy.focus)})},BB=ie([fr("items"),su(["itemSelector"]),ip("tgroupBehaviours",[yb])]),RB=ie([Mp({name:"items",unit:"item"})]),qB=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:sp(e.tgroupBehaviours,[yb.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},MB=hm({name:"ToolbarGroup",configFields:BB(),partFields:RB(),factory:qB}),jB=ie([ip("splitToolbarBehaviours",[]),Rr("builtGroups",function(){return qr([])})]),IB=function(e,t,n,r,o){var i=function(t,n){var r=Ie(n,t.getSystem().build);e.builtGroups.set(r)},a=function(t,n){i(t,n),o.refresh(t,e)},s=function(t){return Xp(t,e,"overflow-button")},l=function(e){return o.getOverflow(e)};return{uid:e.uid,dom:e.dom,components:t,behaviours:sp(e.splitToolbarBehaviours,[hA.config({others:de({},o.coupling,{overflowGroup:function(e){return MB.sketch(de({},r["overflow-group"](),{items:[vw.sketch(de({},r["overflow-button"](),{action:function(t){Pi(e,"alloy.toolbar.toggle")}}))]}))}})}),sy("toolbar-toggle-events",[ta("alloy.toolbar.toggle",function(t){o.toggleToolbar(t,e,r)})])]),apis:{setGroups:a,refresh:function(t){o.refresh(t,e)},getMoreButton:function(e){return s(e)},getOverflow:function(e){return l(e)},toggle:function(t){o.toggleToolbar(t,e,r)}},domModification:{attributes:{role:"group"}}}},$B=ie([su(["overflowToggledClass"]),fr("getAnchor"),fr("lazySink")].concat(jB())),zB=ie([Bp({factory:CB,schema:bB(),name:"primary"}),Rp({factory:CB,schema:bB(),name:"overflow",overrides:function(e){return{toolbarBehaviours:ku([yb.config({mode:"cyclic",onEscape:function(t){return Xp(t,e,"overflow-button").each(gy.focus),ye.none()}})])}}}),Rp({name:"overflow-button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ku([Py.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Rp({name:"overflow-group"})]),HB=function(e,t,n){var r=hA.getCoupled(e,"sandbox");Qh.isOpen(r)?Qh.close(r):Qh.open(r,n.overflow())},VB=function(e){return e.getSystem().isConnected()},UB=function(e,t){var n=Qh.getState(hA.getCoupled(e,"sandbox"));PB(e,t,n,VB),n.each(function(n){var r=t.lazySink(e).getOrDie(),o=t.getAnchor(e);kh.position(r,o,n)})},WB=function(e,t){var n=$l(),r=function(r,o){UB(e,t),Xp(e,t,"overflow-button").each(function(e){Py.on(e),n.link(e.element())}),yb.focusIn(o)},o=function(){Xp(e,t,"overflow-button").each(function(e){Py.off(e),gy.focus(e),n.unlink(e.element())})};return{dom:{tag:"div",attributes:{id:n.id()}},behaviours:ku([yb.config({mode:"special",onEscape:function(e){return Qh.close(e),ye.some(!0)}}),Qh.config({onOpen:r,onClose:o,isPartOf:function(t,n,r){return Hl(n,r)||Hl(e,r)},getAttachPoint:function(){return t.lazySink(e).getOrDie()}})])}},KB=function(e,t,n,r){return IB(e,t,0,r,{refresh:UB,toggleToolbar:HB,getOverflow:function(e){return Qh.getState(hA.getCoupled(e,"sandbox"))},coupling:{sandbox:function(t){return WB(t,e)}}})},GB=hm({name:"SplitFloatingToolbar",configFields:$B(),partFields:zB(),factory:KB,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},getMoreButton:function(e,t){return e.getMoreButton(t)},getOverflow:function(e,t){return e.getOverflow(t)},toggle:function(e,t){e.toggle(t)}}}),YB=function(e,t){return t.getAnimationRoot.fold(function(){return e.element()},function(t){return t(e)})},XB=function(e){return e.dimension.property},JB=function(e,t){return e.dimension.getDimension(t)},ZB=function(e,t){var n=YB(e,t);sl(n,[t.shrinkingClass,t.growingClass])},QB=function(e,t){ol(e.element(),t.openClass),nl(e.element(),t.closedClass),fl(e.element(),XB(t),"0px"),yl(e.element())},eR=function(e,t){ol(e.element(),t.closedClass),nl(e.element(),t.openClass),bl(e.element(),XB(t))},tR=function(e,t,n,r){n.setCollapsed(),fl(e.element(),XB(t),JB(t,e.element())),yl(e.element()),ZB(e,t),QB(e,t),t.onStartShrink(e),t.onShrunk(e)},nR=function(e,t,n,r){var o=r.getOrThunk(function(){return JB(t,e.element())});n.setCollapsed(),fl(e.element(),XB(t),o),yl(e.element());var i=YB(e,t);ol(i,t.growingClass),nl(i,t.shrinkingClass),QB(e,t),t.onStartShrink(e)},rR=function(e,t,n){var r=JB(t,e.element());("0px"===r?tR:nR)(e,t,n,ye.some(r))},oR=function(e,t,n){var r=YB(e,t),o=il(r,t.shrinkingClass),i=JB(t,e.element());eR(e,t);var a=JB(t,e.element()),s=function(){fl(e.element(),XB(t),i),yl(e.element())},l=function(){QB(e,t)};(o?s:l)(),ol(r,t.shrinkingClass),nl(r,t.growingClass),eR(e,t),fl(e.element(),XB(t),a),n.setExpanded(),t.onStartGrow(e)},iR=function(e,t,n){if(n.isExpanded()){bl(e.element(),XB(t));var r=JB(t,e.element());fl(e.element(),XB(t),r)}},aR=function(e,t,n){n.isExpanded()||oR(e,t,n)},sR=function(e,t,n){n.isExpanded()&&rR(e,t,n)},lR=function(e,t,n){n.isExpanded()&&tR(e,t,n)},uR=function(e,t,n){return n.isExpanded()},cR=function(e,t,n){return n.isCollapsed()},fR=function(e,t,n){var r=YB(e,t);return!0===il(r,t.growingClass)},dR=function(e,t,n){var r=YB(e,t);return!0===il(r,t.shrinkingClass)},hR=function(e,t,n){return!0===fR(e,t)||!0===dR(e,t)},pR=function(e,t,n){(n.isExpanded()?rR:oR)(e,t,n)},mR=Object.freeze({refresh:iR,grow:aR,shrink:sR,immediateShrink:lR,hasGrown:uR,hasShrunk:cR,isGrowing:fR,isShrinking:dR,isTransitioning:hR,toggleGrow:pR,disableTransitions:ZB}),gR=function(e,t){var n=t.expanded;return Ts(n?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Ut(t.dimension.property,"0px")})},vR=function(e,t){return Zi([ua(li(),function(n,r){r.event().raw().propertyName===e.dimension.property&&(ZB(n,e),t.isExpanded()&&bl(n.element(),e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))})])},bR=Object.freeze({exhibit:gR,events:vR}),yR=[fr("closedClass"),fr("openClass"),fr("shrinkingClass"),fr("growingClass"),xr("getAnimationRoot"),uu("onShrunk"),uu("onStartShrink"),uu("onGrown"),uu("onStartGrow"),Or("expanded",!1),dr("dimension",tr("property",{width:[hu("property","width"),hu("getDimension",function(e){return Gu(e)+"px"})],height:[hu("property","height"),hu("getDimension",function(e){return Hu(e)+"px"})]}))],wR=function(e){var t=qr(e.expanded),r=function(){return"expanded: "+t.get()};return _s({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:n(t.set,!1),setExpanded:n(t.set,!0),readState:r})},xR=Object.freeze({init:wR}),CR=Eu({fields:yR,name:"sliding",active:bR,apis:mR,state:xR}),kR=ie([su(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"])].concat(jB())),_R=ie([Bp({factory:CB,schema:bB(),name:"primary"}),Bp({factory:CB,schema:bB(),name:"overflow",overrides:function(e){return{toolbarBehaviours:ku([CR.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Xp(t,e,"overflow-button").each(function(e){Py.off(e),gy.focus(e)})},onGrown:function(e){yb.focusIn(e)},onStartGrow:function(t){Xp(t,e,"overflow-button").each(Py.on)}}),yb.config({mode:"acyclic",onEscape:function(t){return Xp(t,e,"overflow-button").each(gy.focus),ye.some(!0)}})])}}}),Rp({name:"overflow-button",overrides:function(e){return{buttonBehaviours:ku([Py.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Rp({name:"overflow-group"})]),ER=function(e,t){Xp(e,t,"overflow").each(function(n){SR(e,t),CR.toggleGrow(n)})},AR=function(e){return CR.hasGrown(e)},SR=function(e,t){var n=Xp(e,t,"overflow");PB(e,t,n,AR),n.each(CR.refresh)},OR=function(e,t,n,r){return IB(e,t,0,r,{refresh:SR,toggleToolbar:ER,getOverflow:function(t){return Xp(t,e,"overflow")},coupling:{}})},TR=hm({name:"SplitSlidingToolbar",configFields:kR(),partFields:_R(),factory:OR,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},getMoreButton:function(e,t){return e.getMoreButton(t)},getOverflow:function(e,t){return e.getOverflow(t)},toggle:function(e,t){e.toggle(t)}}}),DR=Rn([function(e){return dr(e,ar)}("readonly")]),NR=function(e,t){Po("*",e.element()).forEach(function(n){e.getSystem().getByDom(n).each(function(e){e.hasConfigured(EC)&&EC.set(e,t)})})},FR=function(e,t){var n=e.outerContainer,r=n.element();t&&(e.mothership.broadcastOn([ep()],{target:r}),e.uiMothership.broadcastOn([ep()],{target:r})),e.mothership.broadcastOn(["silver.readonly"],{readonly:t}),e.uiMothership.broadcastOn(["silver.readonly"],{readonly:t})},LR=function(e,t){var n=e.outerContainer;FR(e,t),Po("*",n.element()).forEach(function(e){n.getSystem().getByDom(e).each(function(e){e.hasConfigured(EC)&&EC.set(e,t)})})},PR=function(e,t){e.on("init",function(){e.readonly&&LR(t,!0)}),e.on("SwitchMode",function(){return LR(t,e.readonly)}),OE(e)&&e.setMode("readonly")},BR=function(e){var t;return Lu.config({channels:(t={},t["silver.readonly"]={schema:DR,onReceive:function(t,n){e(t).each(function(e){NR(e,n.readonly)})}},t)})},RR=function(e){var t=e.title.fold(function(){return{}},function(e){return{attributes:{title:e}}});return{dom:de({tag:"div",classes:["tox-toolbar__group"]},t),components:[MB.parts().items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:ku([zS.config({}),gy.config({})])}},qR=function(e){return MB.sketch(RR(e))},MR=function(e,t,n){var r=ca(function(t){var n=Ie(e.initGroups,qR);CB.setGroups(t,n)});return ku([yb.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),sy("toolbar-events",[r]),BR(n)])},jR=function(e,t){var n=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":RR({title:ye.none(),items:[]}),"overflow-button":aF({name:"more",icon:ye.some("more-drawer"),disabled:!1,tooltip:ye.some("More..."),primary:!1,borderless:!1},ye.none(),e.backstage.shared.providers)},splitToolbarBehaviours:MR(e,n,t)}},IR=function(e){var t=jR(e,GB.getOverflow),n=GB.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return GB.sketch(de({},t,{lazySink:e.getSink,getAnchor:function(){return e.backstage.shared.anchors.toolbarOverflow()},parts:de({},t.parts,{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"]}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},$R=function(e){var t=TR.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=TR.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=jR(e,TR.getOverflow);return TR.sketch(de({},r,{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"}}))},zR=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return CB.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"]},components:[CB.parts().groups({})],toolbarBehaviours:MR(e,t,ie(ye.none()))})},HR=[Lr("disabled",!1),_r("tooltip"),_r("icon"),_r("text"),Pr("onSetup",function(){return ne})],VR=Rn([pr("type"),gr("onAction")].concat(HR)),UR=function(e){return Xn("toolbarbutton",VR,e)},WR=[_r("text"),_r("tooltip"),_r("icon"),gr("fetch"),Pr("onSetup",function(){return ne})],KR=Rn([pr("type")].concat(WR)),GR=function(e){return Xn("menubutton",KR,e)},YR=Rn([pr("type"),_r("tooltip"),_r("icon"),_r("text"),Er("select"),gr("fetch"),Pr("onSetup",function(){return ne}),Fr("presets","normal",["normal","color","listpreview"]),Or("columns",1),gr("onAction"),gr("onItemAction")]),XR=function(e){return Xn("SplitButton",YR,e)},JR=[Lr("active",!1)].concat(HR),ZR=Rn(JR.concat([pr("type"),gr("onAction")])),QR=function(e){return Xn("ToggleButton",ZR,e)},eq=[Pr("predicate",function(){return!1}),Fr("scope","node",["node","editor"]),Fr("position","selection",["node","selection","line"])],tq=HR.concat([Or("type","contextformbutton"),Or("primary",!1),gr("onAction"),Rr("original",ae)]),nq=JR.concat([Or("type","contextformbutton"),Or("primary",!1),gr("onAction"),Rr("original",ae)]),rq=HR.concat([Or("type","contextformbutton")]),oq=JR.concat([Or("type","contextformtogglebutton")]),iq=tr("type",{contextformbutton:tq,contextformtogglebutton:nq}),aq=Rn([Or("type","contextform"),Pr("initValue",function(){return""}),_r("label"),wr("commands",iq),Cr("launch",tr("type",{contextformbutton:rq,contextformtogglebutton:oq}))].concat(eq)),sq=Rn([Or("type","contexttoolbar"),pr("items")].concat(eq)),lq=function(e){return Xn("ContextToolbar",sq,e)},uq=function(e){return Xn("ContextForm",aq,e)},cq=function(e,t,n){return n},fq=Object.freeze({getState:cq}),dq=function(e,t){var n=function(n,r){e.updateState.each(function(e){var o=e(n,r);t.set(o)}),e.renderComponents.each(function(e){var o=e(r,t.get());Dh(n),$e(o,function(e){Ah(n,n.getSystem().build(e))})})};return Zi([ta(pi(),function(t,r){var o=e.channel;Re(r.channels(),o)&&n(t,r.data())}),ca(function(t,r){e.initialData.each(function(e){n(t,e)})})])},hq=Object.freeze({events:dq}),pq=function(e){var t=qr(ye.none()),n=function(e){return t.set(e)},r=function(){return t.set(ye.none())},o=function(){return t.get()};return{readState:function(){return t.get().fold(function(){return"none"},function(e){return e})},get:o,set:n,clear:r}},mq=Object.freeze({init:pq}),gq=[fr("channel"),xr("renderComponents"),xr("updateState"),xr("initialData")],vq=Eu({fields:gq,name:"reflecting",active:hq,apis:fq,state:mq}),bq=ie([fr("toggleClass"),fr("fetch"),fu("onExecute"),Or("getHotspot",ye.some),Or("getAnchorOverrides",ie({})),Or("layouts",ye.none()),fu("onItemExecute"),xr("lazySink"),fr("dom"),uu("onOpen"),ip("splitDropdownBehaviours",[hA,yb,gy]),Or("matchWidth",!1),Or("useMinWidth",!1),Or("eventOrder",{}),xr("role")].concat(rS())),yq=Bp({factory:vw,schema:[fr("dom")],name:"arrow",defaults:function(e){return{buttonBehaviours:ku([gy.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(Ri)},buttonBehaviours:ku([Py.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),wq=Bp({factory:vw,schema:[fr("dom")],name:"button",defaults:function(e){return{buttonBehaviours:ku([gy.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(function(n){e.onExecute(n,t)})}}}}),xq=ie([yq,wq,qp({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[fr("text")],name:"aria-descriptor"}),Rp({schema:[au()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each(function(r){e.onItemExecute(r,t,n)})}}}}),BA()]),Cq=function(e,t,n,r){var o=function(e){bm.getCurrent(e).each(function(e){Im.highlightFirst(e),yb.focusIn(e)})},i=function(t){var n=o;zA(e,function(e){return e},t,r,n,_A.HighlightFirst).get(ne)},a=function(e){return i(e),ye.some(!0)},s=function(t){var n=Jp(t,e,"button");return Ri(n),ye.some(!0)},l=_t(Zi([ca(function(t,n){Xp(t,e,"aria-descriptor").each(function(e){var n=rs("aria");Va(e.element(),"id",n),Va(t.element(),"aria-describedby",n)})})]),mw(ye.some(i)));return{uid:e.uid,dom:e.dom,components:t,eventOrder:de({},e.eventOrder,{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:l,behaviours:sp(e.splitDropdownBehaviours,[hA.config({others:{sandbox:function(t){var n=Jp(t,e,"arrow");return UA(e,t,{onOpen:function(){Py.on(n),Py.on(t)},onClose:function(){Py.off(n),Py.off(t)}})}}}),yb.config({mode:"special",onSpace:s,onEnter:s,onDown:a}),gy.config({}),Py.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},kq=hm({name:"SplitDropdown",configFields:bq(),partFields:xq(),factory:Cq}),_q=function(e){return{isDisabled:function(){return EC.isDisabled(e)},setDisabled:function(t){return EC.set(e,t)}}},Eq=function(e){return{setActive:function(t){Py.set(e,t)},isActive:function(){return Py.isOn(e)},isDisabled:function(){return EC.isDisabled(e)},setDisabled:function(t){return EC.set(e,t)}}},Aq=function(e,t){return e.map(function(e){return{"aria-label":t.translate(e),title:t.translate(e)}}).getOr({})},Sq=rs("focus-button"),Oq=["checklist","ordered-list"],Tq=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],Dq=function(e,t,n,r,o,i){var a,s=function(e){return Ix.isRtl()&&Re(Oq,e)?e+"-rtl":e},l=Ix.isRtl()&&e.exists(function(e){return Re(Tq,e)});return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(l?["tox-tbtn__icon-rtl"]:[]),attributes:Aq(n,i)},components:MC([e.map(function(e){return GN(s(e),i.icons)}),t.map(function(e){return XN(e,"tox-tbtn",i)})]),eventOrder:(a={},a[Xo()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:ku([sy("common-button-display-events",[ta(Xo(),function(e,t){t.event().prevent(),Pi(e,Sq)})])].concat(r.map(function(n){return vq.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return MC([e.icon.map(function(e){return GN(s(e),i.icons)}),e.text.map(function(e){return XN(e,"tox-tbtn",i)})])}})}).toArray()).concat(o.getOr([])))}},Nq=function(e,t,n){var r=qr(ne),o=Dq(e.icon,e.text,e.tooltip,ye.none(),ye.none(),n);return vw.sketch({dom:o.dom,components:o.components,eventOrder:QN,buttonBehaviours:ku([sy("toolbar-button-events",[ZN({onAction:e.onAction,getApi:t.getApi}),FC(t,r),LC(t,r)]),DC.toolbarButton(e.disabled)].concat(t.toolbarButtonBehaviours))})},Fq=function(e,t){return Lq(e,t,[])},Lq=function(e,t,n){return Nq(e,{toolbarButtonBehaviours:[].concat(n.length>0?[sy("toolbarButtonWith",n)]:[]),getApi:_q,onSetup:e.onSetup},t)},Pq=function(e,t){return Bq(e,t,[])},Bq=function(e,t,n){return kt(Nq(e,{toolbarButtonBehaviours:[Db.config({}),Py.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[sy("toolbarToggleButtonWith",n)]:[]),getApi:Eq,onSetup:e.onSetup},t))},Rq=function(e,t,n){return function(r){return LA.nu(function(e){return t.fetch(e)}).map(function(o){return ye.from(z_(kt(y_(rs("menu-value"),o,function(n){t.onItemAction(e(r),n)},t.columns,t.presets,BC.CLOSE_ON_EXECUTE,t.select.getOr(function(){return!1}),n),{movement:x_(t.columns,t.presets),menuBehaviours:_x.unnamedEvents("auto"!==t.columns?[]:[ca(function(e,n){xx(e,4,Ux(t.presets)).each(function(t){var n=t.numRows,r=t.numColumns;yb.setGridSize(e,n,r)})})])})))})}},qq=function(e,t){var n,r=rs("channel-update-split-dropdown-display"),o=function(e){return{isDisabled:function(){return EC.isDisabled(e)},setDisabled:function(t){return EC.set(e,t)},setIconFill:function(t,n){Ml(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){Va(e,"fill",n)})},setIconStroke:function(t,n){Ml(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){Va(e,"stroke",n)})},setActive:function(t){Va(e.element(),"aria-pressed",t),Ml(e.element(),"span").each(function(n){e.getSystem().getByDom(n).each(function(e){return Py.set(e,t)})})},isActive:function(){return Ml(e.element(),"span").exists(function(t){return e.getSystem().getByDom(t).exists(Py.isOn)})}}},i=qr(ne),a={getApi:o,onSetup:e.onSetup};return kq.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:_t({"aria-pressed":!1},Aq(e.tooltip,t.providers))},onExecute:function(t){e.onAction(o(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:ku([DC.splitButton(!1),sy("split-dropdown-events",[ta(Sq,gy.focus),FC(a,i),LC(a,i)])]),eventOrder:(n={},n[Ei()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:Rq(o,e,t.providers),parts:{menu:p_(0,e.columns,e.presets)},components:[kq.parts().button(Dq(e.icon,e.text,ye.none(),ye.some(r),ye.some([Py.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),kq.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ww("chevron-down",t.providers.icons)}}),kq.parts()["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},Mq=function(e){return{hide:function(){return Pi(e,wi())},getValue:function(){return iy.getValue(e)}}},jq=function(e,t){return ta(JN,function(n,r){var o=e.get(n),i=Mq(o);t.onAction(i,r.event().buttonApi())})},Iq=function(e,t,n){var o=t.original,i=(o.primary,r(o,["primary"])),a=Jn(UR(de({},i,{type:"button",onAction:function(){}})));return Lq(a,n.backstage.shared.providers,[jq(e,t)])},$q=function(e,t,n){var o=t.original,i=(o.primary,r(o,["primary"])),a=Jn(QR(de({},i,{type:"togglebutton",onAction:function(){}})));return Bq(a,n.backstage.shared.providers,[jq(e,t)])},zq=function(e,t,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?$q(e,t,r):Iq(e,t,r)},Hq=function(e,t,n){var r=Ie(t,function(t){return bw(zq(e,t,n))});return{asSpecs:function(){return Ie(r,function(e){return e.asSpec()})},findPrimary:function(e){return Ul(t,function(t,n){return t.primary?ye.from(r[n]).bind(function(t){return t.getOpt(e)}).filter(se(EC.isDisabled)):ye.none()})}}},Vq=function(e,t){var n=e.label.fold(function(){return{}},function(e){return{"aria-label":e}}),r=bw(AS.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:ku([yb.config({mode:"special",onEnter:function(e){return o.findPrimary(e).map(function(e){return Ri(e),!0})},onLeft:function(e,t){return t.cut(),ye.none()},onRight:function(e,t){return t.cut(),ye.none()}})])})),o=Hq(r,e.commands,t.shared.providers);return zR({uid:rs("context-toolbar"),initGroups:[{title:ye.none(),items:[r.asSpec()]},{title:ye.none(),items:o.asSpecs()}],onEscape:ye.none,cyclicKeying:!0,backstage:t,getSink:function(){return ke.error("")}})},Uq={renderContextForm:Vq},Wq=rs("forward-slide"),Kq=rs("backward-slide"),Gq=rs("change-slide-event"),Yq=function(e){var t=qr([]);return pw.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]),pw.getContent(e).each(function(e){bl(e.element(),"visibility")}),ol(e.element(),"tox-pop--resizing"),bl(e.element(),"width")},inlineBehaviours:ku([sy("context-toolbar-events",[ua(li(),function(e,t){pw.getContent(e).each(function(e){}),ol(e.element(),"tox-pop--resizing"),bl(e.element(),"width")}),ta(Gq,function(e,t){bl(e.element(),"width");var n=Gu(e.element());pw.setContent(e,t.event().contents()),nl(e.element(),"tox-pop--resizing");var r=Gu(e.element());fl(e.element(),"width",n+"px"),pw.getContent(e).each(function(n){t.event().focus().bind(function(t){return sg(t),fg(e.element())}).orThunk(function(){return yb.focusIn(n),cg()})}),Aw.setTimeout(function(){fl(e.element(),"width",r+"px")},0)}),ta(Wq,function(e,n){pw.getContent(e).each(function(e){t.set(t.get().concat([{bar:e,focus:cg()}]))}),Bi(e,Gq,{contents:n.event().forwardContents(),focus:ye.none()})}),ta(Kq,function(e,n){it(t.get()).each(function(n){t.set(t.get().slice(0,t.get().length-1)),Bi(e,Gq,{contents:Bl(n.bar),focus:n.focus})})})]),yb.config({mode:"special",onEscape:function(n){return it(t.get()).fold(function(){return e.onEscape()},function(e){return Pi(n,Kq),ye.some(!0)})}})]),lazySink:function(){return ke.value(e.sink)}})},Xq=function(e,n,r){var o=Math.max(n.left(),r.x()),i=r.right()-o,a=t.window.innerWidth-(o-n.left());return{x:o,width:Math.min(i,a)}},Jq=function(e,n,r){var o=Xq(0,n,r),i=o.x,a=o.width,s=ac(Hr.fromDom(e.getContainer())),l=Math.max(n.top(),r.y()),u=s.bottom()-l,c=t.window.innerHeight-(l-n.top()),f=Math.min(u,c);return ic(i,l,a,f)},Zq=function(e,n,r){var o=Xq(0,n,r),i=o.x,a=o.width,s=ac(Hr.fromDom(e.getContainer())),l=t.window.innerHeight,u=n.top();if(s.y()>=r.bottom()){var c=Math.min(l+u,s.y()),f=c-u;return ic(i,u,a,f)}var d=Math.max(u,s.bottom()),f=l-(d-u);return ic(i,d,a,f)},Qq=function(e,n,r){var o=Xq(0,n,r),i=o.x,a=o.width;return ic(i,n.top(),a,t.window.innerHeight)},eM=function(e,t,n){for(var r=e.dom(),o=De(n)?n:ie(!1);r.parentNode;){r=r.parentNode;var i=Hr.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return ye.none()},tM=function(e,t){return Ul(t,function(t){return t.predicate(e.dom())?ye.some({toolbarApi:t,elem:e}):ye.none()})},nM=function(e,t){var n=function(e){return e.dom()===t.getBody()},r=Hr.fromDom(t.selection.getNode());return tM(r,e.inNodeScope).orThunk(function(){return tM(r,e.inEditorScope).orThunk(function(){return eM(r,function(t){return tM(t,e.inNodeScope)},n)})})},rM={lookup:nM},oM=function(e,t){var n={},r=[],o=[],i={},a={},s=function(e,s){var l=Jn(uq(s));n[e]=l,l.launch.map(function(n){i["form:"+e]=de({},s.launch,{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(l)}})}),"editor"===l.scope?o.push(l):r.push(l),a[e]=l},l=function(e,t){lq(t).each(function(n){"editor"===t.scope?o.push(n):r.push(n),a[e]=n})},u=st(e);return $e(u,function(t){var n=e[t];"contextform"===n.type?s(t,n):"contexttoolbar"===n.type&&l(t,n)}),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},iM={categorise:oM},aM=function(e,t){return function(n){var r=qr(ye.none()),o=function(){n.setActive(e.formatter.match(t));var o=e.formatter.formatChanged(t,n.setActive).unbind;r.set(ye.some(o))};return e.initialized?o():e.on("init",o),function(){return r.get().each(function(e){return e()})}}},sM=function(e){return function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)})}}},lM=function(e,t,n){var r=function(e,r,i,a){var s=t.shared.providers.translate(e.title);if("separator"===e.type)return ye.some({type:"separator",text:s});if("submenu"===e.type){var l=Ze(e.getStyleItems(),function(e){return o(e,r,a)});return 0===r&&l.length<=0?ye.none():ye.some({type:"nestedmenuitem",text:s,disabled:l.length<=0,getSubmenuItems:function(){return Ze(e.getStyleItems(),function(e){return o(e,r,a)})}})}return ye.some(de({type:"togglemenuitem",text:s,active:e.isSelected(a),disabled:i,onAction:n.onAction(e)},e.getStylePreview().fold(function(){return{}},function(e){return{meta:{style:e}}})))},o=function(e,t,o){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:r(e,t,!1,o).toArray():r(e,t,i,o).toArray()},i=function(e){var t=n.getCurrentValue(),r=n.shouldHide?0:1;return Ze(e,function(e){return o(e,r,t)})};return{validateItems:i,getFetch:function(e,t){return function(n){var r=t(),o=i(r);n(CS(o,BC.CLOSE_ON_EXECUTE,e))}}}},uM=function(e,t,n,r){var o="basic"===n.type?function(){return Ie(n.data,function(e){return kP(e,r.isSelectedFor,r.getPreviewFor)})}:n.getData;return{items:lM(0,t,r),getStyleItems:o}},cM=function(e,t,n,r){var o=uM(0,t,n,r),i=o.items,a=o.getStyleItems,s=function(e){return{getComponent:function(){return e}}},l=function(t){return r.setInitialValue.each(function(e){return e(t.getComponent())}),r.nodeChangeHandler.map(function(n){var r=n(t.getComponent());return e.on("NodeChange",r),function(){e.off("NodeChange",r)}}).getOr(ne)};return nF({text:r.icon.isSome()?ye.none():ye.some(""),icon:r.icon,tooltip:ye.from(r.tooltip),role:ye.none(),fetch:i.getFetch(t,a),onSetup:l,getApi:s,columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)},fM=function(e){return Ie(e,function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}})},dM=function(e){return{type:"basic",data:e}};!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(RA||(RA={}));var hM,pM=function(e,t){return t===RA.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")},mM=function(e,t,n,r){var o=Vt(e.settings,t).getOr(n);return{type:"basic",data:fM(pM(o,r))}},gM=[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}],vM=function(e){var t=function(){return Ke(gM,function(t){return e.formatter.match(t.format)})},n=function(t){return function(){return e.formatter.match(t)}},r=function(e){return function(){return ye.none()}},o=function(e){var n=t(),r=n.fold(function(){return"left"},function(e){return e.title.toLowerCase()});Bi(e,tF,{icon:"align-"+r})},i=ye.some(function(e){return function(){return o(e)}}),a=ye.some(function(e){return o(e)}),s=dM(gM);return{tooltip:"Align",icon:ye.some("align-left"),isSelectedFor:n,getCurrentValue:ie(ye.none()),getPreviewFor:r,onAction:sM(e),setInitialValue:a,nodeChangeHandler:i,dataset:s,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},bM=function(e,t){var n=vM(e);return cM(e,t,n.dataset,n)},yM=function(e,t){var n=vM(e),r=uM(0,t,n.dataset,n);e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},wM=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],xM=function(e){var t=e.split(/\s*,\s*/);return Ie(t,function(e){return e.replace(/^['"]+|['"]+$/g,"")})},CM=function(e){return 0===e.indexOf("-apple-system")&&function(){var t=xM(e.toLowerCase());return Qe(wM,function(e){return t.indexOf(e.toLowerCase())>-1})}()},kM=function(e){var t=function(){var t=function(e){return e?xM(e)[0]:""},n=e.queryCommandValue("FontName"),r=u.data,o=n?n.toLowerCase():"";return{matchOpt:Ke(r,function(e){var n=e.format;return n.toLowerCase()===o||t(n).toLowerCase()===t(o).toLowerCase()}).orThunk(function(){return CM(o)?ye.from({title:"System Font",format:o}):ye.none()}),font:n}},n=function(e){return function(t){return t.exists(function(t){return t.format===e})}},r=function(){return t().matchOpt},o=function(e){return function(){return ye.some({tag:"div",styleAttr:-1===e.indexOf("dings")?"font-family:"+e:""})}},i=function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontName",!1,t.format)})}},a=function(e){var n=t(),r=n.matchOpt,o=n.font,i=r.fold(function(){return o},function(e){return e.title});Bi(e,eF,{text:i})},s=ye.some(function(e){return function(){return a(e)}}),l=ye.some(function(e){return a(e)}),u=mM(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",RA.SemiColon);return{tooltip:"Fonts",icon:ye.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:o,onAction:i,setInitialValue:l,nodeChangeHandler:s,dataset:u,shouldHide:!1,isInvalid:function(){return!1}}},_M=function(e,t){var n=kM(e);return cM(e,t,n.dataset,n)},EM=function(e,t){var n=kM(e),r=uM(0,t,n.dataset,n);e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},AM={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},SM=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},OM=function(e,t){return/[0-9.]+px$/.test(e)?SM(72*parseInt(e,10)/96,t||0)+"pt":e},TM=function(e){return mt(AM,e).getOr("")},DM=function(e){var t=function(){var t=ye.none(),n=u.data,r=e.queryCommandValue("FontSize");if(r)for(var o=3;t.isNone()&&o>=0;o--)!function(e){var o=OM(r,e),i=TM(o);t=Ke(n,function(e){return e.format===r||e.format===o||e.format===i})}(o);return{matchOpt:t,px:r}},n=function(e){return function(t){return t.exists(function(t){return t.format===e})}},r=function(){return t().matchOpt},o=function(){return ie(ye.none())},i=function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontSize",!1,t.format)})}},a=function(e){var n=t(),r=n.matchOpt,o=n.px,i=r.fold(function(){return o},function(e){return e.title});Bi(e,eF,{text:i})},s=ye.some(function(e){return function(){return a(e)}}),l=ye.some(function(e){return a(e)}),u=mM(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",RA.Space);return{tooltip:"Font sizes",icon:ye.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:i,setInitialValue:l,nodeChangeHandler:s,dataset:u,shouldHide:!1,isInvalid:function(){return!1}}},NM=function(e,t){var n=DM(e);return cM(e,t,n.dataset,n)},FM=function(e,t){var n=DM(e),r=uM(0,t,n.dataset,n);e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},LM=function(e,t,n){var r=t();return Ul(n,function(t){return Ke(r,function(n){return e.formatter.matchNode(t,n.format)})}).orThunk(function(){return e.formatter.match("p")?ye.some({title:"Paragraph",format:"p"}):ye.none()})},PM=function(e){var t=e.selection.getStart(!0)||e.getBody();return e.dom.getParents(t,function(){return!0},e.getBody())},BM=function(e){var t=function(t){return LM(e,function(){return s.data},t)},n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return ye.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styleAttr:e.formatter.getCssText(t)})}},o=function(e,n){var r=t(e),o=r.fold(function(){return"Paragraph"},function(e){return e.title});Bi(n,eF,{text:o})},i=ye.some(function(e){return function(t){return o(t.parents,e)}}),a=ye.some(function(t){var n=PM(e);o(n,t)}),s=mM(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",RA.SemiColon);return{tooltip:"Blocks",icon:ye.none(),isSelectedFor:n,getCurrentValue:ie(ye.none()),getPreviewFor:r,onAction:sM(e),setInitialValue:a,nodeChangeHandler:i,dataset:s,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},RM=function(e,t){var n=BM(e);return cM(e,t,n.dataset,n)},qM=function(e,t){var n=BM(e),r=uM(0,t,n.dataset,n);e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},MM=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?ye.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styleAttr:e.formatter.getCssText(t)}):ye.none()}},r=function(t,n){var r=function(e){var t=e.items;return void 0!==t&&t.length>0?Ze(t,r):[{title:e.title,format:e.format}]},o=Ze(CP(e),r),i=LM(e,function(){return o},t),a=i.fold(function(){return"Paragraph"},function(e){return e.title});Bi(n,eF,{text:a})},o=ye.some(function(e){return function(t){return r(t.parents,e)}}),i=ye.some(function(t){var n=PM(e);r(n,t)});return{tooltip:"Formats",icon:ye.none(),isSelectedFor:t,getCurrentValue:ie(ye.none()),getPreviewFor:n,onAction:sM(e),setInitialValue:i,nodeChangeHandler:o,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)}}},jM=function(e,t){var n=t.styleselect;return cM(e,t,n,MM(e))},IM=function(e,t){var n=t.styleselect,r=uM(0,t,n,MM(e));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},$M=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],zM=function(e,t){return function(n,r){var o=e(n).mapError(function(e){return Qn(e)}).getOrDie();return t(o,r)}},HM={button:zM(UR,function(e,t){return Fq(e,t.backstage.shared.providers)}),togglebutton:zM(QR,function(e,t){return Pq(e,t.backstage.shared.providers)}),menubutton:zM(GR,function(e,t){return oF(e,"tox-tbtn",t.backstage,ye.none())}),splitbutton:zM(XR,function(e,t){return qq(e,t.backstage.shared)}),styleSelectButton:function(e,t){return jM(e,t.backstage)},fontsizeSelectButton:function(e,t){return NM(e,t.backstage)},fontSelectButton:function(e,t){return _M(e,t.backstage)},formatButton:function(e,t){return RM(e,t.backstage)},alignMenuButton:function(e,t){return bM(e,t.backstage)}},VM=function(e,n){return mt(HM,e.type).fold(function(){return t.console.error("skipping button defined by",e),ye.none()},function(t){return ye.some(t(e,n))})},UM={styleselect:HM.styleSelectButton,fontsizeselect:HM.fontsizeSelectButton,fontselect:HM.fontSelectButton,formatselect:HM.formatButton,align:HM.alignMenuButton},WM=function(e){var t=Ie($M,function(t){var n=Ve(t.items,function(t){return gt(e,t)||gt(UM,t)});return{name:t.name,items:n}});return Ve(t,function(e){return e.items.length>0})},KM=function(e){var t=e.split("|");return Ie(t,function(e){return{items:e.trim().split(" ")}})},GM=function(e){return Fe(e,function(e){return gt(e,"name")&&gt(e,"items")})},YM=function(e){var n=e.toolbar,r=e.buttons;return!1===n?[]:void 0===n||!0===n?WM(r):Ae(n)?KM(n):GM(n)?n:(t.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},XM=function(e,t,n,r,o){return mt(t,n.toLowerCase()).orThunk(function(){return o.bind(function(e){return Ul(e,function(e){return mt(t,e+n.toLowerCase())})})}).fold(function(){return mt(UM,n.toLowerCase()).map(function(t){return t(e,r)}).orThunk(function(){return ye.none()})},function(e){return VM(e,r)})},JM=function(e,t,n,r){var o=YM(t),i=Ie(o,function(o){var i=Ze(o.items,function(o){return 0===o.trim().length?[]:XM(e,t.buttons,o,n,r).toArray()});return{title:ye.from(e.translate(o.name)),items:i}});return Ve(i,function(e){return e.items.length>0})},ZM=function(e,t,n,r){var o=Pl(Yq({sink:n,onEscape:function(){return e.focus(),ye.some(!0)}})),i=ME(e)||jE(e)||$E(e),a=function(){var t=Xu(),n=ac(Hr.fromDom(e.getContentAreaContainer()));return e.inline&&!i?ye.some(Qq(0,t,n)):e.inline?ye.some(Zq(e,t,n)):ye.some(Jq(e,t,n))},s=function(){var t="fixed"===pl(Hr.fromDom(e.getContainer()),"position");return e.inline&&i&&t?e.getContainer().getBoundingClientRect().bottom:0},l=function(){var t=f.get().map(function(e){return e.getBoundingClientRect()}).getOr(e.selection.getRng().getBoundingClientRect()),n=Ca(Hr.fromDom(e.getBody())).dom().innerHeight,r=t.bottom<s(),o=t.top>n;return r||o},u=function(){c.get().each(function(e){var t=o.element();bl(t,"display"),l()?fl(t,"display","none"):kh.positionWithinBounds(n,e,o,a())})};e.on("init",function(){if(e.on("ScrollWindow",u),!e.inline){var t=Ca(Hr.fromDom(e.getBody())),n=Q_(t,"scroll",u);e.on("remove",function(){n.unbind()})}});var c=qr(ye.none()),f=qr(ye.none()),d=qr(null),h=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:ku([yb.config({mode:"acyclic"}),sy("pop-dialog-wrap-events",[ca(function(t){e.shortcuts.add("ctrl+F9","focus statusbar",function(){return yb.focusIn(t)})}),fa(function(t){e.shortcuts.remove("ctrl+F9")})])])}},p=Et(function(){return iM.categorise(t,function(e){var t=m(e);Bi(o,Wq,{forwardContents:h(t)})})}),m=function(t){var n=e.ui.registry.getAll().buttons,o=p();return"contexttoolbar"===t.type?function(){var i=_t(n,o.formNavigators),a=JM(e,{buttons:i,toolbar:t.items},r,ye.some(["form:"]));return zR({uid:rs("context-toolbar"),initGroups:a,onEscape:ye.none,cyclicKeying:!0,backstage:r.backstage,getSink:function(){return ke.error("")}})}():function(){return Uq.renderContextForm(t,r.backstage)}()};e.on("contexttoolbar-show",function(t){var n=p();Vt(n.lookupTable,t.toolbarKey).each(function(n){x(n,t.target===e?ye.none():ye.some(t)),pw.getContent(o).each(yb.focusIn)})});var g={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},v={maxHeightFunction:uh()},b={bubble:uc(12,0,g),layouts:{onLtr:function(){return[qc]},onRtl:function(){return[Mc]}},overrides:v},y={bubble:uc(0,12,g),layouts:{onLtr:function(){return[Bc,Rc,Lc,Nc,Pc,Fc,eP,tP,ZL,XL,QL,JL]},onRtl:function(){return[Bc,Rc,Pc,Fc,Lc,Nc,eP,tP,QL,JL,ZL,XL]}},overrides:v},w=function(e,t){var n="node"===e?r.backstage.shared.anchors.node(t):r.backstage.shared.anchors.cursor();return kt(n,"line"===e?b:y)},x=function(e,t){k();var n=m(e),r=t.map(Hr.fromDom),i=w(e.position,r);c.set(ye.some(i)),f.set(t);var s=o.element();bl(s,"display"),pw.showWithinBounds(o,i,h(n),a()),l()&&fl(s,"display","none")},C=function(){var t=p();rM.lookup(t,e).fold(function(){c.set(ye.none()),pw.hide(o)},function(e){x(e.toolbarApi,ye.some(e.elem.dom()))})},k=function(){var e=d.get();null!==e&&(Aw.clearTimeout(e),d.set(null))},_=function(e){k(),d.set(e)};e.on("init",function(){e.on("click keyup SetContent ObjectResized ResizeEditor",function(t){_(Aw.setEditorTimeout(e,C,0))}),e.on("focusout",function(t){Aw.setEditorTimeout(e,function(){fg(n.element()).isNone()&&fg(o.element()).isNone()&&(c.set(ye.none()),pw.hide(o))},0)}),e.on("SwitchMode",function(){e.readonly&&(c.set(ye.none()),pw.hide(o))}),e.on("NodeChange",function(t){fg(o.element()).fold(function(){_(Aw.setEditorTimeout(e,C,0))},function(e){})})})},QM={register:ZM},ej=function(e,n,r){var o=Q_(Hr.fromDom(t.document),"mousedown",function(e){$e([n,r],function(t){t.broadcastOn([ep()],{target:e.target()})})}),i=Q_(Hr.fromDom(t.document),"touchstart",function(e){$e([n,r],function(t){t.broadcastOn([ep()],{target:e.target()})})}),a=Q_(Hr.fromDom(t.document),"mouseup",function(e){0===e.raw().button&&$e([n,r],function(t){t.broadcastOn([tp()],{target:e.target()})})}),s=function(e){$e([n,r],function(t){t.broadcastOn([ep()],{target:Hr.fromDom(e.target)})})};e.on("mousedown",s),e.on("touchstart",s);var l=function(e){0===e.button&&$e([n,r],function(t){t.broadcastOn([tp()],{target:Hr.fromDom(e.target)})})};e.on("mouseup",l);var u=function(e){$e([n,r],function(t){t.broadcastEvent(ki(),e)})};e.on("ScrollWindow",u);var c=function(e){$e([n,r],function(t){t.broadcastEvent(_i(),e)})};e.on("ResizeWindow",c),e.on("remove",function(){e.off("mousedown",s),e.off("touchstart",s),e.off("mouseup",l),e.off("ResizeWindow",c),e.off("ScrollWindow",u),o.unbind(),i.unbind(),a.unbind()}),e.on("detach",function(){Ph(n),Ph(r),n.destroy(),r.destroy()})},tj={setup:ej},nj=ie([Or("shell",!1),fr("makeItem"),Or("setupItem",ne),lp.field("listBehaviours",[Db])]),rj=function(e){return{behaviours:ku([Db.config({})])}},oj=qp({name:"items",overrides:rj}),ij=ie([oj]),aj=ie("CustomList"),sj=function(e,n,r,o){var i=function(n,r){s(n).fold(function(){throw t.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(t){var o=Db.contents(t),i=r.length,a=i-o.length,s=a>0?Me(a,function(){return e.makeItem()}):[],l=o.slice(i);$e(l,function(e){return Db.remove(t,e)}),$e(s,function(e){return Db.append(t,e)});var u=Db.contents(t);$e(u,function(t,o){e.setupItem(n,t,r[o],o)})})},a=e.shell?{behaviours:[Db.config({})],components:[]}:{behaviours:[],components:n},s=function(t){return e.shell?ye.some(t):Xp(t,e,"items")};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:sp(e.listBehaviours,a.behaviours),apis:{setItems:i}}},lj=hm({name:aj(),configFields:nj(),partFields:ij(),factory:sj,apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),uj=om,cj=Ip,fj=function(e,t){var n=function(e,n){var r=Ie(n,function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},r=GR(n).mapError(function(e){return Qn(e)}).getOrDie();return oF(r,"tox-mbtn",t.backstage,ye.some("menuitem"))});Db.set(e,r)},r={focus:yb.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:ku([Db.config({}),sy("menubar-events",[ca(function(t){e.onSetup(t)}),ta(ei(),function(e,t){Ml(e.element(),".tox-mbtn--active").each(function(n){jl(t.event().target(),".tox-mbtn").each(function(t){Ro(n,t)||e.getSystem().getByDom(n).each(function(n){e.getSystem().getByDom(t).each(function(e){WS.expand(e),WS.close(n),gy.focus(e)})})})})}),ta(Oi(),function(e,t){t.event().prevFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(n){t.event().newFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(e){WS.isOpen(n)&&(WS.expand(e),WS.close(n))})})})]),yb.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),ye.some(!0)}}),zS.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},dj=dm({factory:fj,name:"silver.Menubar",configFields:[fr("dom"),fr("uid"),fr("onEscape"),fr("backstage"),Or("onSetup",ne)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),hj=[ip("slotBehaviours",[])],pj=function(e){return"<alloy.field."+e+">"},mj=function(e){var t=function(){var e=[];return{slot:function(t,n){return e.push(t),Up("container",pj(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=Ie(r,function(e){return Bp({name:e,pname:pj(e)})});return lm("container",hj,o,gj,n)},gj=function(e,t,n){var r=function(t){return em(e)},o=function(t,n){return Xp(t,e,n)},i=function(t,n){return void 0===n&&(n=void 0),function(r,o){return Xp(r,e,o).map(function(e){return t(e,o)}).getOr(n)}},a=function(e,t){return"true"!==Wa(e.element(),"aria-hidden")},s=function(e,t){if(!a(e)){var n=e.element();bl(n,"display"),Ga(n,"aria-hidden"),Bi(e,Ti(),{name:t,visible:!0})}},l=function(e,t){if(a(e)){var n=e.element();fl(n,"display","none"),Va(n,"aria-hidden","true"),Bi(e,Ti(),{name:t,visible:!1})}},u=i(a,!1),c=i(l),f=function(e){return function(t,n){$e(n,function(n){return e(t,n)})}}(c),d=function(e){return f(e,r())},h=i(s),p={getSlotNames:r,getSlot:o,isShowing:u,hideSlot:c,hideAllSlots:d,showSlot:h};return{uid:e.uid,dom:e.dom,components:t,behaviours:ap(e.slotBehaviours),apis:p}},vj=ct({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},Cs),bj=de({},vj,{sketch:mj}),yj=Rn([_r("icon"),_r("tooltip"),Pr("onShow",ne),Pr("onHide",ne),Pr("onSetup",function(){return ne})]),wj=function(e){return Xn("sidebar",yj,e)},xj=function(e){var t=e.ui.registry.getAll().sidebars;$e(st(t),function(n){var r=t[n],o=function(){return ye.from(e.queryCommandValue("ToggleSidebar")).is(n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(o())},onSetup:function(t){var n=function(){return t.setActive(o())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})})},Cj=function(e){return{element:function(){return e.element().dom()}}},kj=function(e,t){var n=Ie(st(t),function(e){var n=t[e],r=Jn(wj(n));return{name:e,getApi:Cj,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return Ie(n,function(t){var r=qr(ne);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:_x.unnamedEvents([FC(t,r),LC(t,r),ta(Ti(),function(e,t){var r=t.event();Ke(n,function(e){return e.name===r.name()}).each(function(t){(r.visible()?t.onShow:t.onHide)(t.getApi(e))})})])})})},_j=function(e){return bj.sketch(function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:kj(t,e),slotBehaviours:_x.unnamedEvents([ca(function(e){return bj.hideAllSlots(e)})])}})},Ej=function(e,t){bm.getCurrent(e).each(function(e){return Db.set(e,[_j(t)])})},Aj=function(e,t){bm.getCurrent(e).each(function(e){bm.getCurrent(e).each(function(n){CR.hasGrown(e)?bj.isShowing(n,t)?CR.shrink(e):(bj.hideAllSlots(n),bj.showSlot(n,t)):(bj.hideAllSlots(n),bj.showSlot(n,t),CR.grow(e))})})},Sj=function(e){return bm.getCurrent(e).bind(function(e){return CR.isGrowing(e)||CR.hasGrown(e)?bm.getCurrent(e).bind(function(e){return Ke(bj.getSlotNames(e),function(t){return bj.isShowing(e,t)})}):ye.none()})},Oj=rs("FixSizeEvent"),Tj=rs("AutoSizeEvent"),Dj=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ku([zS.config({}),gy.config({}),CR.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){bm.getCurrent(e).each(bj.hideAllSlots),Pi(e,Tj)},onGrown:function(e){Pi(e,Tj)},onStartGrow:function(e){Bi(e,Oj,{width:gl(e.element(),"width").getOr("")})},onStartShrink:function(e){Bi(e,Oj,{width:Gu(e.element())+"px"})}}),Db.config({}),bm.config({find:function(e){var t=Db.contents(e);return ot(t)}})])}],behaviours:ku([JD.childAt(0),sy("sidebar-sliding-events",[ta(Oj,function(e,t){fl(e.element(),"width",t.event().width())}),ta(Tj,function(e,t){bl(e.element(),"width")})])])}},Nj=function(e){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:jx('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:ku([yb.config({mode:"special",onTab:function(){return ye.some(!0)},onShiftTab:function(){return ye.some(!0)}}),gy.config({})])}},Fj=function(e,t,n){var r=e.element();!0===t?(Db.set(e,[Nj(n)]),bl(r,"display"),Ga(r,"aria-hidden")):(Db.set(e,[]),fl(r,"display","none"),Va(r,"aria-hidden","true"))},Lj=function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ku([Db.config({})]),components:[]}},Pj=function(e,t,n){var r=qr(!1),o=qr(ye.none()),i=function(e){e!==r.get()&&(Fj(t(),e,n.providers),r.set(e))};e.on("ProgressState",function(t){if(o.get().each(Aw.clearTimeout),Ne(t.time)){var n=Aw.setEditorTimeout(e,function(){return i(t.state)},t.time);o.set(ye.some(n))}else i(t.state),o.set(ye.none())})},Bj=function(e,t,n){var r={getSocket:function(t){return uj.getPart(t,e,"socket")},setSidebar:function(t,n){uj.getPart(t,e,"sidebar").each(function(e){return Ej(e,n)})},toggleSidebar:function(t,n){uj.getPart(t,e,"sidebar").each(function(e){return Aj(e,n)})},whichSidebar:function(t){return uj.getPart(t,e,"sidebar").bind(Sj).getOrNull()},getToolbar:function(t){return uj.getPart(t,e,"toolbar")},setToolbar:function(t,n){uj.getPart(t,e,"toolbar").each(function(e){e.getApis().setGroups(e,n)})},setToolbars:function(t,n){uj.getPart(t,e,"multiple-toolbar").each(function(e){lj.setItems(e,n)})},refreshToolbar:function(t){uj.getPart(t,e,"toolbar").each(function(e){return e.getApis().refresh(e)})},getMoreButton:function(t){return uj.getPart(t,e,"toolbar").bind(function(e){return e.getApis().getMoreButton(e)})},getThrobber:function(t){return uj.getPart(t,e,"throbber")},focusToolbar:function(t){uj.getPart(t,e,"toolbar").orThunk(function(){return uj.getPart(t,e,"multiple-toolbar")}).each(function(e){yb.focusIn(e)})},setMenubar:function(t,n){uj.getPart(t,e,"menubar").each(function(e){dj.setMenus(e,n)})},focusMenubar:function(t){uj.getPart(t,e,"menubar").each(function(e){dj.focus(e)})}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},Rj=cj.optional({factory:dj,name:"menubar",schema:[fr("backstage")]}),qj=function(e){return e.split===R_.sliding?$R:e.split===R_.floating?IR:zR},Mj=cj.optional({factory:{sketch:function(e){return lj.sketch({uid:e.uid,dom:e.dom,listBehaviours:ku([yb.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return zR({uid:rs("multiple-toolbar-item"),backstage:e.backstage,cyclicKeying:!1,getSink:e.getSink,initGroups:[],onEscape:function(){return ye.none()}})},setupItem:function(e,t,n,r){CB.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[fr("dom"),fr("onEscape")]}),jj=cj.optional({factory:{sketch:function(e){return qj(e)({uid:e.uid,onEscape:function(){return e.onEscape(),ye.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,backstage:e.backstage,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton}})}},name:"toolbar",schema:[fr("dom"),fr("onEscape"),fr("getSink")]}),Ij=cj.optional({name:"socket",schema:[fr("dom")]}),$j=cj.optional({factory:{sketch:Dj},name:"sidebar",schema:[fr("dom")]}),zj=cj.optional({factory:{sketch:Lj},name:"throbber",schema:[fr("dom")]}),Hj=hm({name:"OuterContainer",factory:Bj,configFields:[fr("dom"),fr("behaviours")],partFields:[Rj,jj,Mj,Ij,$j,zj],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=Ie(n,function(e){return qR(e)});e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=Ie(n,function(e){return Ie(e,qR)});e.setToolbars(t,r)},getMoreButton:function(e,t){return e.getMoreButton(t)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),Vj={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable tableprops deletetable row column cell"},help:{title:"Help",items:"help"}},Uj=function(e,t,n){var r=qE(n).split(/[ ,]/);return{text:e.title,getItems:function(){return Ze(e.items,function(e){var n=e.toLowerCase();return 0===n.trim().length?[]:qe(r,function(e){return e===n})?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]})}}},Wj=function(e){return"string"==typeof e?e.split(" "):e},Kj=function(e,t){var n=_t(Vj,t.menus),r=st(t.menus).length>0,o=Wj(void 0===t.menubar||!0===t.menubar?"file edit view insert format tools table help":!1===t.menubar?"":t.menubar),i=Ve(o,function(e){return r?t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||Vj.hasOwnProperty(e):Vj.hasOwnProperty(e)}),a=Ie(i,function(r){var o=n[r];return Uj({title:o.title,items:Wj(o.items)},t,e)});return Ve(a,function(e){var t=function(e){return"separator"!==e.type};return e.getItems().length>0&&qe(e.getItems(),t)})},Gj=function(e){var t=function(){e._skinLoaded=!0,$k.fireSkinLoaded(e)};return function(){e.initialized?t():e.on("init",t)}},Yj={fireSkinLoaded:Gj},Xj=function(e,t){var n,r=SE(t);r&&(n=r+"/skin.min.css",t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css")),!1===TE(t)&&n?$C.DOM.styleSheetLoader.load(n,Yj.fireSkinLoaded(t)):Yj.fireSkinLoaded(t)()},Jj=n(Xj,!1),Zj=n(Xj,!0),Qj=function(e,t,n,r){var o=t.outerContainer,i=n.toolbar,a=n.buttons;if(Fe(i,Ae)){var s=i.map(function(t){return JM(e,{toolbar:t,buttons:a},{backstage:r},ye.none())});Hj.setToolbars(o,s)}else Hj.setToolbar(o,JM(e,n,{backstage:r},ye.none()))},eI=$C.DOM,tI=Ao.detect(),nI=tI.deviceType.isTouch(),rI=function(e){var t=e.getWin(),n=e.getDoc().documentElement,r=qr(qu(t.innerWidth,t.innerHeight)),o=qr(qu(n.offsetWidth,n.offsetHeight)),i=function(){var n=e.getDoc().documentElement,i=r.get(),a=o.get();i.left()!==t.innerWidth||i.top()!==t.innerHeight?(r.set(qu(t.innerWidth,t.innerHeight)),$k.fireResizeContent(e)):a.left()===n.offsetWidth&&a.top()===n.offsetHeight||(o.set(qu(n.offsetWidth,n.offsetHeight)),$k.fireResizeContent(e))};eI.bind(t,"resize",i);var a=eE(Hr.fromDom(e.getBody()),"load",i);e.on("remove",function(){a.unbind(),eI.unbind(t,"resize",i)})},oI=function(e,t,n,r,o){var i=qr(0);Jj(e),Fh(Hr.fromDom(o.targetNode),t.mothership),Nh(Wi(),t.uiMothership),e.on("init",function(){Qj(e,t,n,r),i.set(e.getWin().innerWidth),Hj.setMenubar(t.outerContainer,Kj(e,n)),Hj.setSidebar(t.outerContainer,n.sidebar),rI(e)});var a=Hj.getSocket(t.outerContainer).getOrDie("Could not find expected socket element");!0===nI&&dl(a.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"}),PR(e,t),e.addCommand("ToggleSidebar",function(n,r){Hj.toggleSidebar(t.outerContainer,r),e.fire("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",function(){return Hj.whichSidebar(t.outerContainer)});var s=zE(e),l=function(){Hj.refreshToolbar(t.outerContainer)};return s!==R_.sliding&&s!==R_.floating||e.on("ResizeContent",function(){var t=e.getWin().innerWidth;t!==i.get()&&l(),i.set(t)}),{iframeContainer:a.element().dom(),editorContainer:t.outerContainer.element().dom()}},iI={render:oI,getBehaviours:function(e){return[]}},aI=function(e,t){return _a(e).orThunk(function(){var t=Hr.fromTag("span");Da(e,t);var n=_a(t);return Ma(t),n}).map(function(e){return Iu(e).translate(-t.left(),-t.top())}).getOrThunk(function(){return qu(0,0)})},sI=bt.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),lI=function(e){return function(t){return t.translate(-e.left(),-e.top())}},uI=function(e){return function(t){return t.translate(e.left(),e.top())}},cI=function(e){return function(t,n){return We(e,function(e,t){return t(e)},qu(t,n))}},fI=function(e,t,n){return e.fold(cI([uI(n),lI(t)]),cI([lI(t)]),cI([]))},dI=function(e,t,n){return e.fold(cI([uI(n)]),cI([]),cI([uI(t)]))},hI=function(e,t,n){return e.fold(cI([]),cI([lI(n)]),cI([uI(t),lI(n)]))},pI=function(e,t,n,r,o,i){var a=dI(e,o,i),s=dI(t,o,i);return Math.abs(a.left()-s.left())<=n&&Math.abs(a.top()-s.top())<=r},mI=function(e,t,n){return e.fold(function(e,t){return{position:"absolute",left:e+"px",top:t+"px"}},function(e,t){return{position:"absolute",left:e-n.left()+"px",top:t-n.top()+"px"}},function(e,t){return{position:"fixed",left:e+"px",top:t+"px"}})},gI=function(e,t,n){return e.fold(function(e,r){return sI.offset(e+t,r+n)},function(e,r){return sI.absolute(e+t,r+n)},function(e,r){return sI.fixed(e+t,r+n)})},vI=function(e,t,n,r){var o=function(e,o){return function(i,a){var s=e(t,n,r);return o(i.getOr(s.left()),a.getOr(s.top()))}};return e.fold(o(hI,sI.offset),o(dI,sI.absolute),o(fI,sI.fixed))},bI=sI.offset,yI=sI.absolute,wI=sI.fixed,xI=function(e,t){nl(e.element(),t.transitionClass),ol(e.element(),t.fadeOutClass),nl(e.element(),t.fadeInClass)},CI=function(e,t){nl(e.element(),t.transitionClass),ol(e.element(),t.fadeInClass),nl(e.element(),t.fadeOutClass)},kI=function(e,t){return e.y()<t.bottom()&&e.bottom()>t.y()},_I=function(e,t){return e.y()>=t.y()&&e.bottom()<=t.bottom()},EI=function(e,t){return Ka(e,t)?ye.some(parseInt(Wa(e,t),10)):ye.none()},AI=function(e,t){var n=e.element();return EI(n,t.leftAttr).bind(function(r){return EI(n,t.topAttr).map(function(t){var n=Gu(e.element()),o=Hu(e.element());return ic(r,t,n,o)})})},SI=function(e,t,n,r){var o=e.element();Va(o,t.leftAttr,n),Va(o,t.topAttr,r)},OI=function(e,t){var n=e.element();Ga(n,t.leftAttr),Ga(n,t.topAttr)},TI=function(e,t,n){return AI(e,t).bind(function(r){return _I(r,n)?(OI(e,t),ye.some(yI(r.x(),r.y()))):ye.none()})},DI=function(e,t,n,r,o){var i=Iu(e.element()),a=ic(i.left(),i.top(),Gu(e.element()),Hu(e.element()));if(_I(a,n))return ye.none();SI(e,t,i.left(),i.top());var s=yI(i.left(),i.top()),l=fI(s,r,o),u=yI(n.x(),n.y()),c=fI(u,r,o),f=a.y()<=n.y()?c.top():c.top()+n.height()-a.height();return ye.some(wI(l.left(),f))},NI=function(e,t,n,r,o){return gl(e.element(),"position").is("fixed")?TI(e,t,n):DI(e,t,n,r,o)},FI=function(e,t,n){var r=t.lazyViewport(e);t.contextual.each(function(t){t.lazyContext(e).each(function(n){var o=ac(n);(kI(o,r)?xI:CI)(e,t)})});var o=xa(e.element()),i=Xu(o),a=aI(e.element(),i);NI(e,t,r,i,a).each(function(t){var n=mI(t,0,a);dl(e.element(),n)})},LI=Object.freeze({refresh:FI}),PI=function(e,t){return Zi([ta(li(),function(t,n){e.contextual.each(function(e){Ro(t.element(),n.event().target())&&(ol(t.element(),e.transitionClass),n.stop())})}),ta(ki(),function(t,n){FI(t,e)})])},BI=Object.freeze({events:PI}),RI=function(e){var n=Xu();return ic(n.left(),n.top(),t.window.innerWidth,t.window.innerHeight)},qI=[Ar("contextual",[fr("fadeInClass"),fr("fadeOutClass"),fr("transitionClass"),fr("lazyContext")]),Or("lazyViewport",RI),fr("leftAttr"),fr("topAttr")],MI=Eu({fields:qI,name:"docking",active:BI,apis:LI}),jI=function(e,t,n,r,o){var i,a=$C.DOM,s=UE(e),l=zE(e),u=l===R_.sliding||l===R_.floating;Zj(e);var c=function(t){void 0===t&&(t=0);var n=Iu(Hr.fromDom(e.getBody()));return{top:Math.round(n.top()-Hu(i.element()))+t,left:Math.round(n.left())}},f=function(e){var t=gl(i.element(),"position").is("fixed"),n=u?e.fold(function(){return 0},function(e){return e.components().length>1?Hu(e.components()[1].element()):0}):0,r=c(n);t?Ua(i.element(),ft(r,function(e,t){return{k:"data-dock-"+t,v:e}})):dl(i.element(),ct(r,function(e){return e+"px"})),MI.refresh(i)},d=function(){var e=Hj.getToolbar(t.outerContainer);u&&Hj.refreshToolbar(t.outerContainer),s||f(e)},h=function(){fl(t.outerContainer.element(),"display","flex"),a.addClass(e.getBody(),"mce-edit-focus"),bl(t.uiMothership.element(),"display"),d()},p=function(){t.outerContainer&&(fl(t.outerContainer.element(),"display","none"),a.removeClass(e.getBody(),"mce-edit-focus")),fl(t.uiMothership.element(),"display","none")},m=function(){if(i)return void h();i=t.outerContainer;var o=WE(e);Nh(o,t.mothership),Nh(o,t.uiMothership),Qj(e,t,n,r),Hj.setMenubar(t.outerContainer,Kj(e,n)),s||fl(i.element(),"position","absolute"),d(),h(),e.on("NodeChange ResizeWindow",d),e.on("activate",h),e.on("deactivate",p),e.nodeChanged()};return e.on("focus",m),e.on("blur hide",p),e.on("init",function(){e.hasFocus()&&m()}),PR(e,t),{editorContainer:t.outerContainer.element().dom()}},II=function(e){return UE(e)?[]:[MI.config({leftAttr:"data-dock-left",topAttr:"data-dock-top",contextual:{lazyContext:function(t){return ye.from(e).map(function(e){return Hr.fromDom(e.getBody())})},fadeInClass:"tox-toolbar-dock-fadein",fadeOutClass:"tox-toolbar-dock-fadeout",transitionClass:"tox-toolbar-dock-transition"}}),gy.config({})]},$I={render:jI,getBehaviours:II},zI=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];WF.each(t,function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:aM(e,t.name)})});var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};e.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return e.execCommand(n.cmd)},icon:n.icon})},HI={register:zI},VI=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},UI=function(e){WF.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:aM(e,t.name),onAction:VI(e,t.name)})});for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:aM(e,n),onAction:VI(e,n)})}},WI=function(e){WF.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})})},KI=function(e){WF.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:aM(e,t.name)})})},GI=function(e){UI(e),WI(e),KI(e)},YI=function(e){WF.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:VI(e,"code")})},XI=function(e){GI(e),YI(e)},JI={register:XI},ZI=function(e,t,n){var r=function(){return!!t.undoManager&&t.undoManager[n]()},o=function(){e.setDisabled(t.readonly||!r())};return e.setDisabled(!r()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},QI=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return ZI(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return ZI(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},e$=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return ZI(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return ZI(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},t$=function(e){QI(e),e$(e)},n$={register:t$},r$=function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}},o$=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return r$(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})},i$=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})},a$=function(e){i$(e),o$(e)},s$={register:a$},l$=function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},u$=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return l$(t,e)},onAction:function(){return e.execCommand("outdent")}}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})},c$=function(e){u$(e)},f$={register:c$},d$=function(e,t){yM(e,t),EM(e,t),IM(e,t),qM(e,t),FM(e,t)},h$={register:d$},p$=function(e,t){HI.register(e),JI.register(e),h$.register(e,t),n$.register(e),r_.register(e),s$.register(e),f$.register(e)},m$={setup:p$},g$=function(e,t){return{anchor:"makeshift",x:e,y:t}},v$=function(e,t,n){return g$(e.x+t,e.y+n)},b$=function(e){return g$(e.pageX,e.pageY)},y$=function(e){return g$(e.clientX,e.clientY)},w$=function(e,t){var n=$C.DOM.getPos(e);return v$(t,n.x,n.y)},x$=function(e,t){return"contextmenu"===t.type?e.inline?b$(t):w$(e.getContentAreaContainer(),y$(t)):C$(e)},C$=function(e){return{anchor:"selection",root:Hr.fromDom(e.selection.getNode())}},k$=function(e){return{anchor:"node",node:ye.some(Hr.fromDom(e.selection.getNode())),root:Hr.fromDom(e.getBody())}},_$=function(e){return"string"==typeof e?e.split(/[ ,]/):e},E$=function(e){return e.settings.contextmenu_never_use_native||!1},A$=function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return mt(e.settings,t).map(_$).getOrThunk(function(){return Ve(_$(n),function(e){return gt(r,e)})})},S$=function(e){return!1===e.getParam("contextmenu")},O$=function(e){return A$(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},T$={shouldNeverUseNative:E$,getContextMenu:O$,isContextMenuDisabled:S$},D$=function(e){return Ae(e)?"|"===e:"separator"===e.type},N$={type:"separator"},F$=function(e){if(Ae(e))return e;switch(e.type){case"separator":return N$;case"submenu":return{type:"nestedmenuitem",text:e.text,icon:e.icon,getSubmenuItems:function(){var t=e.getSubmenuItems();return Ae(t)?t:Ie(t,F$)}};default:return{type:"menuitem",text:e.text,icon:e.icon,onAction:re(e.onAction)}}},L$=function(e,t){if(0===t.length)return e;var n=it(e).filter(function(e){return!D$(e)}),r=n.fold(function(){return[]},function(e){return[N$]});return e.concat(r).concat(t).concat([N$])},P$=function(e,t,n){var r=We(t,function(t,r){if(gt(e,r)){var o=e[r].update(n);if(Ae(o))return L$(t,o.split(" "));if(o.length>0){var i=Ie(o,F$);return L$(t,i)}return t}return t.concat([r])},[]);return r.length>0&&D$(r[r.length-1])&&r.pop(),r},B$=function(e,t){return t.ctrlKey&&!T$.shouldNeverUseNative(e)},R$=function(e,t,n){var r=Pl(pw.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},fireDismissalEventInstead:{},inlineBehaviours:ku([sy("dismissContextMenu",[ta(Si(),function(t,n){Qh.close(t),e.focus()})])])}));e.on("init",function(){e.on("contextmenu",function(t){if(T$.shouldNeverUseNative(e)&&t.preventDefault(),!B$(e,t)&&!T$.isContextMenuDisabled(e)){var o=2!==t.button||t.target===e.getBody(),i=o?k$(e):x$(e,t),a=e.ui.registry.getAll(),s=T$.getContextMenu(e),l=o?e.selection.getStart(!0):t.target,u=P$(a.contextMenus,s,l);CS(u,BC.CLOSE_ON_EXECUTE,n).map(function(e){t.preventDefault(),pw.showMenuAt(r,i,{menu:{markers:f_("normal")},data:e})})}})})},q$=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?ye.some(parseInt(e,10)):ye.none()},M$=function(e){return Ne(e)?e+"px":e},j$={parseToInt:q$,numToPx:M$},I$=function(e){ka(e.element()).filter(Hi).each(function(e){var t=Wa(e,"data-initial-z-index");Ka(e,"data-initial-z-index")?fl(e,"z-index",t):bl(e,"z-index"),Ga(e,"data-initial-z-index")})},$$=function(e){ka(e.element()).filter(Hi).each(function(t){gl(t,"z-index").each(function(e){Va(t,"data-initial-z-index",e)}),fl(t,"z-index",pl(e.element(),"z-index"))})},z$=function(e,t){e.getSystem().addToGui(t),$$(t)},H$=function(e){I$(e),e.getSystem().removeFromGui(e)},V$=function(e,t){var n=e.element(),r=parseInt(Wa(n,t.leftAttr),10),o=parseInt(Wa(n,t.topAttr),10);return isNaN(r)||isNaN(o)?ye.none():ye.some(qu(r,o))},U$=function(e,t,n){var r=e.element();Va(r,t.leftAttr,n.left()+"px"),Va(r,t.topAttr,n.top()+"px")},W$=function(e,t){var n=e.element();Ga(n,t.leftAttr),Ga(n,t.topAttr)},K$=function(e,t,n,r){return V$(e,t).fold(function(){return n},function(e){return wI(e.left()+r.left(),e.top()+r.top())})},G$=function(e,t,n,r,o,i){var a=K$(e,t,n,r),s=X$(e,t,a,o,i),l=fI(a,o,i);return U$(e,t,l),s.fold(function(){return{coord:wI(l.left(),l.top()),extra:ye.none()}},function(e){return{coord:e.output(),extra:e.extra()}})},Y$=function(e,t){W$(e,t)},X$=function(e,t,n,r,o){var i=t.getSnapPoints(e);return Ul(i,function(e){var t=e.sensor();return pI(n,t,e.range().left(),e.range().top(),r,o)?ye.some({output:ie(vI(e.output(),n,r,o)),extra:e.extra}):ye.none()})},J$=function(e){return gl(e,"left").bind(function(t){return gl(e,"top").bind(function(n){return gl(e,"position").map(function(e){return("fixed"===e?wI:bI)(parseInt(t,10),parseInt(n,10))})})}).getOrThunk(function(){var t=Iu(e);return yI(t.left(),t.top())})},Z$=function(e,t,n,r,o){var i=o.bounds,a=dI(t,n,r),s=wm(a.left(),i.x(),i.width()-o.width),l=wm(a.top(),i.y(),i.height()-o.height),u=yI(s,l);return t.fold(function(){var e=hI(u,n,r);return bI(e.left(),e.top())},function(){return u},function(){var e=fI(u,n,r);return wI(e.left(),e.top())})},Q$=function(e,t,n,r,o,i,a){var s=t.fold(function(){var e=gI(n,i.left(),i.top()),t=fI(e,r,o);return wI(t.left(),t.top())},function(t){var a=G$(e,t,n,i,r,o);return a.extra.each(function(n){t.onSensor(e,n)}),a.coord});return Z$(0,s,r,o,a)},ez=function(e,t,n,r){var o=t.getTarget(e.element());if(t.repositionTarget){var i=xa(e.element()),a=Xu(i),s=aI(o,a),l=J$(o),u=Q$(e,t.snaps,l,a,s,r,n),c=mI(u,0,s);dl(o,c)}t.onDrag(e,o,r)},tz=function(e,t){return{bounds:e.getBounds(),height:Vu(t.element()),width:Yu(t.element())}},nz=function(){var e=Xu();return{x:e.left,y:e.top,width:ie(t.window.innerWidth),height:ie(t.window.innerHeight),bottom:ie(e.top()+t.window.innerHeight),right:ie(e.left()+t.window.innerWidth)}},rz=Ar("snaps",[fr("getSnapPoints"),uu("onSensor"),fr("leftAttr"),fr("topAttr"),Or("lazyViewport",nz)]),oz=function(e){return Zi([ta(Xo(),e.forceDrop),ta(Qo(),e.drop),ta(Jo(),function(t,n){e.move(n.event())}),ta(Zo(),e.delayDrop)])},iz=function(e){return ye.from(qu(e.x(),e.y()))},az=function(e,t){return qu(t.left()-e.left(),t.top()-e.top())},sz=Object.freeze({getData:iz,getDelta:az}),lz=function(e,t){var n=function(n){t.setStartData(tz(e,n))};return Zi([ta(ki(),n),ta(Xo(),function(r,o){if(0===o.event().raw().button){o.stop();var i={drop:function(){s()},delayDrop:function(){l.schedule()},forceDrop:function(){s()},move:function(n){l.cancel();var o=t.update(sz,n),i=t.getStartData().getOrThunk(function(){return tz(e,r)});o.each(function(t){ez(r,e,i,t)})}},a=r.getSystem().build(_E.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e.blockerClass]},events:oz(i)})),s=function(){H$(a),e.snaps.each(function(e){Y$(r,e)});var n=e.getTarget(r.element());t.reset(),e.onDrop(r,n)},l=c(s,200);!function(){n(r),z$(r,a)}()}})])},uz=[Or("useFixed",!1),fr("blockerClass"),Or("getTarget",ae),Or("onDrag",ne),Or("repositionTarget",!0),uu("onDrop"),Pr("getBounds",sc),rz,hu("dragger",{handlers:lz})],cz=function(e){var t=e[0];return ye.some(qu(t.clientX,t.clientY))},fz=function(e){var t=e.raw(),n=t.touches;return 1===n.length?cz(n):ye.none()},dz=function(e,t){return qu(t.left()-e.left(),t.top()-e.top())},hz=Object.freeze({getData:fz,getDelta:dz}),pz=function(e,t){var n=function(n){t.setStartData(tz(e,n))};return Zi([ta(ki(),n),ta(Ko(),function(e,t){n(e),t.stop()}),ta(Go(),function(n,r){r.stop();var o=t.update(hz,r.event()),i=t.getStartData().getOrThunk(function(){return tz(e,n)});o.each(function(t){ez(n,e,i,t)})}),ta(Yo(),function(n,r){e.snaps.each(function(e){Y$(n,e)});var o=e.getTarget(n.element());t.reset(),e.onDrop(n,o)})])},mz=[Or("useFixed",!1),Or("getTarget",ae),Or("onDrag",ne),Or("repositionTarget",!0),Or("onDrop",ne),Pr("getBounds",sc),rz,hu("dragger",{handlers:pz})],gz=uz,vz=mz,bz=Object.freeze({mouse:gz,touch:vz}),yz=function(){var e=ye.none(),t=ye.none(),n=function(){e=ye.none(),t=ye.none()},r=function(t,n){var r=e.map(function(e){return t.getDelta(e,n)});return e=ye.some(n),r},o=function(e,t){return e.getData(t).bind(function(t){return r(e,t)})},i=function(e){t=ye.some(e)},a=function(){return t},s=ie({});return _s({readState:s,reset:n,update:o,getStartData:a,setStartData:i})},wz=Object.freeze({init:yz}),xz=Su({branchKey:"mode",branches:bz,name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:wa(["sensor","range","output"],["extra"])},state:wz});!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(hM||(hM={}));var Cz=function(e,t,n,r){var o=e+t,i=n.filter(function(e){return o<e}),a=r.filter(function(e){return o>e});return i.or(a).getOr(o)},kz=function(e,t,n,r,o){var i={};return i.height=Cz(r,t.top(),FE(e),PE(e)),n===hM.Both&&(i.width=Cz(o,t.left(),NE(e),LE(e))),i},_z=function(e,t,n){var r=Hr.fromDom(e.getContainer()),o=kz(e,t,n,Hu(r),Gu(r));ut(o,function(e,t){return fl(r,t,j$.numToPx(e))}),$k.fireResizeEditor(e)},Ez=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},Az=function(e,t){t.delimiter||(t.delimiter="»");var n=function(n){var r=n||[],o=Ie(r,function(t,n){return vw.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":n,"tab-index":-1,"aria-level":n+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()}})}),i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}};return We(o.slice(1),function(e,t){var n=e;return n.push(i),n.push(t),n},[o[0]])},r=function(t){for(var n=[],r=t.length;r-- >0;){var o=t[r];if(1===o.nodeType&&!Ez(o)){var i=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ku([yb.config({mode:"flow",selector:"div[role=button]"}),zS.config({}),Db.config({}),sy("elementPathEvents",[ca(function(t,o){e.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return yb.focusIn(t)}),e.on("NodeChange",function(e){var o=r(e.parents);o.length>0&&Db.set(t,n(o))})})])]),components:[]}},Sz={renderElementPath:Az},Oz=function(e,t){var n,r=function(e,n,r){return Db.set(e,[Nl(t.translate(["{0} "+r,n[r]]))])};return vw.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ku([zS.config({}),Db.config({}),iy.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),sy("wordcount-events",[ta(bi(),function(e){var t=iy.getValue(e),n="words"===t.mode?"characters":"words";iy.setValue(e,{mode:n,count:t.count}),r(e,t.count,n)}),ca(function(t){e.on("wordCountUpdate",function(e){var n=iy.getValue(t).mode;iy.setValue(t,{mode:n,count:e.wordCount}),r(t,e.wordCount,n)})})])]),eventOrder:(n={},n[bi()]=["wordcount-events","alloy.base.behaviour"],n)})},Tz=function(e,t){var n=function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},innerHtml:ww("resize-handle",t.icons)},behaviours:ku([xz.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,r,o){_z(e,o,n)},blockerClass:"tox-blocker"})])}},r=function(){var e=Ix.translate(["Powered by {0}","Tiny"]);return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>"}}},o=function(e){var t=!mo(e.settings.plugins,"autoresize"),n=e.getParam("resize",t);return!1===n?hM.None:"both"===n?hM.Both:hM.Vertical},i=function(){var n=[];return e.getParam("elementpath",!0,"boolean")&&n.push(Sz.renderElementPath(e,{})),mo(e.settings.plugins,"wordcount")&&n.push(Oz(e,t)),e.getParam("branding",!0,"boolean")&&n.push(r()),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var t=i(),r=o(e);return r!==hM.None&&t.push(n(r)),t}()}},Dz=function(e){var n=e.getParam("inline",!1,"boolean"),r=n?$I:iI,o=ye.none(),i=Ao.detect(),a=i.browser.isIE(),s=a?["tox-platform-ie"]:[],l=Ix.isRtl()?{attributes:{dir:"rtl"}}:{},u=Pl({dom:de({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(s)},l),behaviours:ku([kh.config({useFixed:!1})])}),c=bw({dom:{tag:"div",classes:["tox-anchorbar"]}}),f=function(){return o.bind(function(e){return c.getOpt(e)}).getOrDie("Could not find a anchor bar element")},d=function(){return o.bind(function(e){return Hj.getMoreButton(e)}).getOrDie("Could not find more button element")},h=function(){return o.bind(function(e){return Hj.getToolbar(e)}).getOrDie("Could not find more toolbar element")},p=function(){return o.bind(function(e){return Hj.getThrobber(e)}).getOrDie("Could not find throbber element")},m=vB(u,e,f,d),g=function(){return ke.value(u)},v=Hj.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:m,onEscape:function(){e.focus()}}),b=function(e){return zE(e)},y=Hj.parts().toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:g,backstage:m,onEscape:function(){e.focus()},split:b(e),lazyToolbar:h,lazyMoreButton:d}),w=Hj.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},onEscape:function(){}}),x=Hj.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),C=Hj.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),k=Hj.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:m}),_=e.getParam("statusbar",!0,"boolean")&&!n?ye.some(Tz(e,m.shared.providers)):ye.none(),E={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[x,C]},A=$E(e),S=jE(e),O=ME(e),T=b(e)!==R_.default,D=Je([O?[v]:[],function(){return A?(T&&t.console.warn("Toolbar drawer cannot be applied when multiple toolbars are active"),[w]):S?[y]:[]}(),UE(e)?[]:[c.asSpec()],n?[]:[E]]),N={dom:{tag:"div",classes:["tox-editor-container"]},components:D},F=Je([[N],n?[]:_.toArray(),[k]]),L=n&&!O&&!S&&!A,P=de({role:"application"},Ix.isRtl()?{dir:"rtl"}:{},L?{"aria-hidden":"true"}:{}),B=Pl(Hj.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(s),styles:de({visibility:"hidden"},L?{opacity:"0",border:"0"}:{}),attributes:P},components:F,behaviours:ku(r.getBehaviours(e).concat([yb.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})]))}));o=ye.some(B),e.shortcuts.add("alt+F9","focus menubar",function(){Hj.focusMenubar(B)}),e.shortcuts.add("alt+F10","focus toolbar",function(){Hj.focusToolbar(B)});var R=EE(B),q=EE(u);tj.setup(e,R,q);var M=function(){return{channels:{broadcastAll:q.broadcast,broadcastOn:q.broadcastOn,register:function(){}}}},j=function(t){var n=$C.DOM,r=e.getParam("width",n.getStyle(t,"width")),o=DE(e),i=NE(e),a=FE(e),s=j$.parseToInt(r).bind(function(e){return j$.numToPx(i.map(function(t){return Math.max(e,t)}))}).getOr(j$.numToPx(r)),l=j$.parseToInt(o).bind(function(e){return a.map(function(t){return Math.max(e,t)})}).getOr(o),u=j$.numToPx(s);if(vl("div","width",u)&&fl(B.element(),"width",u),!e.inline){var c=j$.numToPx(l);vl("div","height",c)?fl(B.element(),"height",c):fl(B.element(),"height","200px")}return l};return{mothership:R,uiMothership:q,backstage:m,renderUI:function(){m$.setup(e,m),R$(e,g,m),xj(e),Pj(e,p,m.shared);var t=e.ui.registry.getAll(),n=t.buttons,o=t.menuItems,i=t.contextToolbars,a=t.sidebars,s=IE(e),l={menuItems:o,menus:e.settings.menu?ct(e.settings.menu,function(e){return _t(e,{items:e.items})}):{},menubar:e.settings.menubar,toolbar:s.getOrThunk(function(){return e.getParam("toolbar",!0)}),buttons:n,sidebar:a};QM.register(e,i,u,{backstage:m});var c=e.getElement(),f=j(c),d={mothership:R,uiMothership:q,outerContainer:B},h={targetNode:c,height:f};return r.render(e,d,l,m,h)},getUi:M}},Nz={setup:Dz},Fz=function(e,t){var n=ye.from(Wa(e,"id")).fold(function(){var e=rs("dialog-describe");return Va(t,"id",e),e},ae);Va(e,"aria-describedby",n)},Lz={labelledBy:function(e,t){var n=ye.from(Wa(e,"id")).fold(function(){var e=rs("dialog-label");return Va(t,"id",e),e},ae);Va(e,"aria-labelledby",n)}},Pz=ie([fr("lazySink"),xr("dragBlockClass"),Pr("getBounds",sc),Or("useTabstopAt",ie(!0)),Or("eventOrder",{}),ip("modalBehaviours",[yb]),cu("onExecute"),du("onEscape")]),Bz={sketch:ae},Rz=ie([qp({name:"draghandle",overrides:function(e,t){return{behaviours:ku([xz.config({mode:"mouse",getTarget:function(e){return ql(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Bp({schema:[fr("dom")],name:"title"}),Bp({factory:Bz,schema:[fr("dom")],name:"close"}),Bp({factory:Bz,schema:[fr("dom")],name:"body"}),qp({factory:Bz,schema:[fr("dom")],name:"footer"}),Rp({factory:{sketch:function(e,t){return de({},e,{dom:t.dom,components:t.components})}},schema:[Or("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Or("components",[])],name:"blocker"})]),qz=function(e,t,n,r){var o=rs("alloy.dialog.busy"),i=rs("alloy.dialog.idle"),a=ku([yb.config({mode:"special",onTab:function(){return ye.some(!0)},onShiftTab:function(){return ye.some(!0)}}),gy.config({})]),s=function(t){var n=e.lazySink(t).getOrDie(),s=qr(ye.none()),l=r.blocker(),u=n.getSystem().build(de({},l,{components:l.components.concat([Bl(t)]),behaviours:ku([sy("dialog-blocker-events",[ta(i,function(e,n){Ka(t.element(),"aria-busy")&&(Ga(t.element(),"aria-busy"),s.get().each(function(e){return Db.remove(t,e)}))}),ta(o,function(e,n){Va(t.element(),"aria-busy","true");var r=n.event().getBusySpec();s.get().each(function(e){Db.remove(t,e)});var o=r(t,a),i=e.getSystem().build(o);s.set(ye.some(i)),Db.append(t,Bl(i)),i.hasConfigured(yb)&&yb.focusIn(i)})])])}));Ah(n,u),yb.focusIn(t)},l=function(e){ka(e.element()).each(function(t){e.getSystem().getByDom(t).each(function(e){Th(e)})})},u=function(t){return Jp(t,e,"body")},c=function(t){return Jp(t,e,"footer")},f=function(e,t){Bi(e,o,{getBusySpec:t})},d=function(e){Pi(e,i)},h=rs("modal-events"),p=de({},e.eventOrder,{"alloy.system.attached":[h].concat(e.eventOrder["alloy.system.attached"]||[])});return{uid:e.uid,dom:e.dom,components:t,apis:{show:s,hide:l,getBody:u,getFooter:c,setIdle:d,setBusy:f},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:sp(e.modalBehaviours,[Db.config({}),yb.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),sy(h,[ca(function(t){Lz.labelledBy(t.element(),Jp(t,e,"title").element()),Fz(t.element(),Jp(t,e,"body").element())})])])}},Mz=hm({name:"ModalDialog",configFields:Pz(),partFields:Rz(),factory:qz,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),jz=[pr("type"),pr("text"),mr("level",["info","warn","error","success"]),pr("icon"),Or("url","")],Iz=Rn(jz),$z=function(e){return[pr("type"),e]},zz=[pr("type"),pr("text"),Lr("disabled",!1),Lr("primary",!1),zn("name","name",Nt(function(){return rs("button-name")}),ir),_r("icon"),Lr("borderless",!1)],Hz=Rn(zz),Vz=[pr("type"),pr("name"),pr("label"),Lr("disabled",!1)],Uz=Rn(Vz),Wz=ar,Kz=[pr("type"),pr("name")],Gz=Kz.concat([_r("label")]),Yz=Gz,Xz=Rn(Yz),Jz=ir,Zz=Gz,Qz=Rn(Zz),eH=ir,tH=Gz,nH=Rn(tH),rH=function(){return qn(Un)}(),oH=function(e){return[pr("type"),hr("columns"),e]},iH=Gz.concat([Lr("sandboxed",!0)]),aH=Rn(iH),sH=ir,lH=Gz.concat([_r("placeholder"),Lr("maximized",!1),Lr("disabled",!1)]),uH=Rn(lH),cH=ir,fH=Gz.concat([yr("items",[pr("text"),pr("value")]),Dr("size",1),Lr("disabled",!1)]),dH=Rn(fH),hH=ir,pH=Gz.concat([Lr("constrain",!0),Lr("disabled",!1)]),mH=Rn(pH),gH=Rn([pr("width"),pr("height")]),vH=Gz.concat([_r("placeholder"),Lr("maximized",!1),Lr("disabled",!1)]),bH=Rn(vH),yH=ir,wH=Gz.concat([Fr("filetype","file",["image","media","file"]),Or("disabled",!1)]),xH=Rn(wH),CH=Rn([pr("value"),Or("meta",{})]),kH=Kz.concat([Nr("tag","textarea"),pr("scriptId"),pr("scriptUrl"),function(e,t){return Tr(e,t,ur)}("settings",void 0)]),_H=Kz.concat([Nr("tag","textarea"),gr("init")]),EH=Kn(function(e){return Xn("customeditor.old",Bn(_H),e).orThunk(function(){return Xn("customeditor.new",Bn(kH),e)})}),AH=ir,SH=[pr("type"),pr("html"),Fr("presets","presentation",["presentation","document"])],OH=Rn(SH),TH=Gz.concat([dr("currentState",Rn([fr("blob"),pr("url")]))]),DH=Rn(TH),NH=Gz.concat([Or("columns","auto")]),FH=Rn(NH),LH=function(e){return In(e)}([pr("value"),pr("text"),pr("icon")]),PH=function(e){return[pr("type"),pr("label"),e]},BH=[pr("type"),wr("header",ir),wr("cells",qn(ir))],RH=Rn(BH),qH=function(e){return zn("items","items",Tt(),qn(Kn(function(t){return Xn("Checking item of "+e,MH,t).fold(function(e){return ke.error(Qn(e))},function(e){return ke.value(e)})})))},MH=Wn(function(){return er("type",{alertbanner:Iz,bar:Rn($z(qH("bar"))),button:Hz,checkbox:Uz,colorinput:Xz,colorpicker:Qz,dropzone:nH,grid:Rn(oH(qH("grid"))),iframe:aH,input:uH,selectbox:dH,sizeinput:mH,textarea:bH,urlinput:xH,customeditor:EH,htmlpanel:OH,imagetools:DH,collection:FH,label:Rn(PH(qH("label"))),table:RH,panel:IH})}),jH=[pr("type"),Or("classes",[]),wr("items",MH)],IH=Rn(jH),$H=[zn("name","name",Nt(function(){return rs("tab-name")}),ir),pr("title"),wr("items",MH)],zH=[pr("type"),yr("tabs",$H)],HH=Rn(zH),VH=[zn("name","name",Nt(function(){return rs("button-name")}),ir),_r("icon"),Fr("align","end",["start","end"]),Lr("primary",!1),Lr("disabled",!1)],UH=VH.concat([pr("text")]),WH=[mr("type",["submit","cancel","custom"])].concat(UH),KH=[mr("type",["menu"])].concat(VH,WR),GH=tr("type",{submit:WH,cancel:WH,custom:WH,menu:KH}),YH=Rn([pr("title"),dr("body",er("type",{panel:IH,tabpanel:HH})),Nr("size","normal"),wr("buttons",GH),Or("initialData",{}),Pr("onAction",ne),Pr("onChange",ne),Pr("onSubmit",ne),Pr("onClose",ne),Pr("onCancel",ne),Or("onTabChange",ne)]),XH=function(e){return Xn("dialog",YH,e)},JH=function(e){return Se(e)?[e].concat(Ze(pt(e),JH)):Oe(e)?Ze(e,JH):[]},ZH=function(e){return Ae(e.type)&&Ae(e.name)},QH={checkbox:Wz,colorinput:Jz,colorpicker:eH,dropzone:rH,input:cH,iframe:sH,sizeinput:gH,selectbox:hH,size:gH,textarea:yH,urlinput:CH,customeditor:AH,collection:LH},eV=function(e){return ye.from(QH[e.type])},tV=function(e){return Ve(JH(e),ZH)},nV=function(e){var t=Ze(tV(e),function(e){return eV(e).fold(function(){return[]},function(t){return[dr(e.name,t)]})});return Rn(t)},rV=Rn([mr("type",["cancel","custom"])].concat(UH)),oV=Rn([pr("title"),pr("url"),kr("height"),kr("width"),function(e,t){return Cr(e,qn(t))}("buttons",rV),Pr("onAction",ne),Pr("onCancel",ne),Pr("onClose",ne),Pr("onMessage",ne)]),iV=function(e){return Xn("dialog",oV,e)},aV=function(e){return{internalDialog:Jn(XH(e)),dataValidator:nV(e),initialData:e.initialData}},sV={open:function(e,t){var n=aV(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){return e(Jn(iV(t)))},redial:function(e){return aV(e)}},lV=function(e){var t=[],n={};return ut(e,function(e,r){e.fold(function(){t.push(r)},function(e){n[r]=e})}),t.length>0?ke.error(t):ke.value(n)},uV=function(e,n){var r=bw(MD.sketch(function(t){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:Ie(e.items,function(e){return zL(t,e,n)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:ku([yb.config({mode:"acyclic",useTabstopAt:se(_N.isPseudoStop)}),JD.memento(r),dN.memento(r,{postprocess:function(e){return lV(e).fold(function(e){return t.console.error(e),{}},function(e){return e})}})])}},cV=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:mw(e.action),behaviours:sp(e.tabButtonBehaviours,[gy.config({}),yb.config({mode:"execution",useSpace:!0,useEnter:!0}),iy.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}},fV=dm({name:"TabButton",configFields:[Or("uid",void 0),fr("value"),zn("dom","dom",Ft(function(e){return{attributes:{role:"tab",id:rs("aria"),"aria-selected":"false"}}}),nr()),xr("action"),Or("domModification",{}),ip("tabButtonBehaviours",[gy,yb,iy]),fr("view")],factory:cV}),dV=ie([fr("tabs"),fr("dom"),Or("clickToDismiss",!1),ip("tabbarBehaviours",[Im,yb]),su(["tabClass","selectedClass"])]),hV=Mp({factory:fV,name:"tabs",unit:"tab",overrides:function(e,t){var n=function(e,t){Im.dehighlight(e,t),Bi(e,Ni(),{tabbar:e,button:t})},r=function(e,t){Im.highlight(e,t),Bi(e,Di(),{tabbar:e,button:t})};return{action:function(t){var o=t.getSystem().getByUid(e.uid).getOrDie(),i=Im.isHighlighted(o,t);!function(){return i&&e.clickToDismiss?n:i?ne:r}()(o,t)},domModification:{classes:[e.markers.tabClass]}}}}),pV=ie([hV]),mV=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:sp(e.tabbarBehaviours,[Im.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Va(t.element(),"aria-selected","true")},onDehighlight:function(e,t){Va(t.element(),"aria-selected","false")}}),yb.config({mode:"flow",getInitial:function(e){return Im.getHighlighted(e).map(function(e){return e.element()})},selector:"."+e.markers.tabClass,executeOnMove:!0})])}},gV=hm({name:"Tabbar",configFields:dV(),partFields:pV(),factory:mV}),vV=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:sp(e.tabviewBehaviours,[Db.config({})]),domModification:{attributes:{role:"tabpanel"}}}},bV=dm({name:"Tabview",configFields:[ip("tabviewBehaviours",[Db])],factory:vV}),yV=ie([Or("selectFirst",!0),uu("onChangeTab"),uu("onDismissTab"),Or("tabs",[]),ip("tabSectionBehaviours",[])]),wV=Bp({factory:gV,schema:[fr("dom"),br("markers",[fr("tabClass"),fr("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),xV=Bp({factory:bV,name:"tabview"}),CV=ie([wV,xV]),kV=function(e,t,n,r){var o=function(t){var n=iy.getValue(t);Xp(t,e,"tabview").each(function(r){Ke(e.tabs,function(e){return e.value===n}).each(function(n){var o=n.view();Va(r.element(),"aria-labelledby",Wa(t.element(),"id")),Db.set(r,o),e.onChangeTab(r,t,o)})})},i=function(t,n){Xp(t,e,"tabbar").each(function(e){n(e).each(Ri)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:ap(e.tabSectionBehaviours),events:Zi(Je([e.selectFirst?[ca(function(e,t){i(e,Im.getFirst)})]:[],[ta(Di(),function(e,t){var n=t.event().button();o(n)}),ta(Ni(),function(t,n){var r=n.event().button();e.onDismissTab(t,r)})]])),apis:{getViewItems:function(t){return Xp(t,e,"tabview").map(function(e){return Db.contents(e)}).getOr([])},showTab:function(e,t){i(e,function(e){var n=Im.getCandidates(e);return Ke(n,function(e){return iy.getValue(e)===t}).filter(function(t){return!Im.isHighlighted(e,t)})})}}}},_V=hm({name:"TabSection",configFields:yV(),partFields:CV(),factory:kV,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),EV=function(e,t,n){return Ie(e,function(r,o){Db.set(n,e[o].view());var i=t.dom().getBoundingClientRect();return Db.set(n,[]),i.height})},AV=function(e){return ot(rt(e,function(e,t){return e>t?-1:e<t?1:0}))},SV=function(e,n){var r=ql(e,".tox-dialog-wrap").getOr(e),o="fixed"===pl(r,"position");return(o?Math.max(t.document.documentElement.clientHeight,t.window.innerHeight):Math.max(t.document.documentElement.offsetHeight,t.document.documentElement.scrollHeight))-(e.dom().getBoundingClientRect().height-n.dom().getBoundingClientRect().height)},OV=function(e,t){ot(e).each(function(e){return _V.showTab(t,e.value)})},TV=function(e,t,n){ql(e,'[role="dialog"]').each(function(r){n.get().map(function(n){return fl(t,"height","0"),Math.min(n,SV(r,e))}).each(function(e){fl(t,"height",e+"px")})})},DV=function(e){return{smartTabHeight:function(){var t=qr(ye.none());return{extraEvents:[ca(function(n){Ml(n.element(),'[role="tabpanel"]').each(function(r){fl(r,"visibility","hidden"),n.getSystem().getByDom(r).toOption().each(function(n){var o=EV(e,r,n),i=AV(o);t.set(i)}),TV(n.element(),r,t),bl(r,"visibility"),OV(e,n),Aw.requestAnimationFrame(function(){TV(n.element(),r,t)})})}),ta(_i(),function(e){Ml(e.element(),'[role="tabpanel"]').each(function(n){TV(e.element(),n,t)})}),ta(nA,function(e,n){Ml(e.element(),'[role="tabpanel"]').each(function(n){var r=cg();fl(n,"visibility","hidden");var o=gl(n,"height").map(function(e){return parseInt(e,10)});bl(n,"height");var i=n.dom().getBoundingClientRect().height;o.forall(function(e){return i>e})?(t.set(ye.from(i)),TV(e.element(),n,t)):o.each(function(e){fl(n,"height",e+"px")}),bl(n,"visibility"),r.each(sg)})})],selectFirst:!1}}(),naiveTabHeight:function(){return{extraEvents:[],selectFirst:!0}}()}},NV=function(e,t){var n=qr({}),r=function(e){var t=iy.getValue(e),r=lV(t).getOr({}),o=n.get(),i=kt(o,r);n.set(i)},o=function(e){var t=n.get();iy.setValue(e,t)},i=qr(null),a=Ie(e.tabs,function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[MD.sketch(function(n){return{dom:{tag:"div",classes:["tox-form"]},components:Ie(e.items,function(e){return zL(n,e,t)}),formBehaviours:ku([yb.config({mode:"acyclic",useTabstopAt:se(_N.isPseudoStop)}),sy("TabView.form.events",[ca(o),fa(r)]),Lu.config({channels:Wt([{key:"send-data-to-section",value:{onReceive:r}},{key:"send-data-to-view",value:{onReceive:o}}])})])}})]}}}),s=DV(a).smartTabHeight;return _V.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=iy.getValue(t);Bi(e,tA,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[_V.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[gV.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ku([zS.config({})])}),_V.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:s.selectFirst,tabSectionBehaviours:ku([sy("tabpanel",s.extraEvents),yb.config({mode:"acyclic"}),bm.config({find:function(e){return ot(_V.getViewItems(e))}}),iy.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},FV=rs("update-dialog"),LV=rs("update-title"),PV=rs("update-body"),BV=rs("update-footer"),RV=rs("body-send-message"),qV=function(e,t,n,r){var o=function(e){switch(e.body.type){case"tabpanel":return[NV(e.body,n)];default:return[uV(e.body,n)]}},i=function(e,t){return ye.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},a={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:de({},t.map(function(e){return{id:e}}).getOr({}),r?a:{})},components:[],behaviours:ku([JD.childAt(0),vq.config({channel:PV,updateState:i,renderComponents:o,initialData:e})])}},MV=function(e,t,n,r){return qV(e,ye.some(t),n,r)},jV=function(e,t){var n=qV(e,ye.none(),t,!1);return Mz.parts().body(n)},IV=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[_N.craft({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:ku([zS.config({}),gy.config({})])})]}],behaviours:ku([yb.config({mode:"acyclic",useTabstopAt:se(_N.isPseudoStop)})])};return Mz.parts().body(t)},$V=function(e,t){return[aa(ti(),_N.onFocus),e(YE,function(e,n){t.onClose(),n.onClose()}),e(XE,function(e,t,n,r){t.onCancel(e),Pi(r,YE)}),ta(eA,function(e,n){return t.onUnblock()}),ta(QE,function(e,n){return t.onBlock(n.event())})]},zV=function(e,t){var n=function(t,n){return ta(t,function(t,o){r(t,function(r,i){n(e(),r,o.event(),t)})})},r=function(e,t){vq.getState(e).get().each(function(n){t(n,e)})};return $V(n,t).concat([n(JE,function(e,t,n){t.onAction(e,{name:n.name()})})])},HV=function(e,t){var n=function(t,n){return ta(t,function(t,o){r(t,function(r,i){n(e(),r,o.event(),t)})})},r=function(e,t){vq.getState(e).get().each(function(n){t(n.internalDialog,e)})};return $V(n,t).concat([n(ZE,function(e,t){return t.onSubmit(e)}),n(GE,function(e,t,n){t.onChange(e,{name:n.name()})}),n(JE,function(e,t,n,r){var o=function(){return yb.focusIn(r)},i=cg();t.onAction(e,{name:n.name(),value:n.value()}),cg().fold(function(){o()},function(e){!Io(r.element(),e)||Ka(e,"disabled")?o():Io(e,i.getOrNull())&&Ka(i.getOrDie(),"disabled")&&o()})}),n(tA,function(e,t,n){t.onTabChange(e,{newTabName:n.name(),oldTabName:n.oldName()})}),fa(function(t){var n=e();iy.setValue(t,n.getData())})])},VV={initUrlDialog:zV,initDialog:HV},UV=function(e,t){return hF(e,e.type,t)},WV=function(e,t,n){return Ke(t,function(e){return e.name===n}).bind(function(t){return t.memento.getOpt(e)})},KV=function(e,t){var n=t.map(function(e){return e.footerButtons}).getOr([]),r=He(n,function(e){return"start"===e.align}),o=function(e,t){return _E.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:Ie(t,function(e){return e.memento.asSpec()})})};return[o("start",r.pass),o("end",r.fail)]},GV=function(e,t){var n=function(e,n){var r=Ie(n.buttons,function(e){var n=bw(UV(e,t));return{name:e.name,align:e.align,memento:n}}),o=function(e,t){return WV(e,r,t)};return ye.some({lookupByName:o,footerButtons:r})};return{dom:jx('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ku([vq.config({channel:BV,initialData:e,updateState:n,renderComponents:KV})])}},YV=function(e,t){return GV(e,t)},XV=function(e,t){return Mz.parts().footer(GV(e,t))},JV=function(e,t){if(e.getRoot().getSystem().isConnected()){var n=bm.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return MD.getField(n,t).fold(function(){var r=e.getFooter();return vq.getState(r).get().bind(function(e){return e.lookupByName(n,t)})},function(e){return ye.some(e)})}return ye.none()},ZV=function(e,t){var n=e.getRoot();return vq.getState(n).get().map(function(e){return Jn(Xn("data",e.dataValidator,t))}).getOr(t)},QV=function(e,t){var n=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},r=function(){var t=e.getRoot(),n=t.getSystem().isConnected()?e.getFormWrapper():t;return iy.getValue(n)},o=function(t){n(function(n){var r=h.getData(),o=_t(r,t),i=ZV(e,o),a=e.getFormWrapper();iy.setValue(a,i)})},i=function(t){JV(e,t).each(EC.disable)},a=function(t){JV(e,t).each(EC.enable)},s=function(t){JV(e,t).each(gy.focus)},l=function(e){if(!Ae(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n(function(t){Bi(t,QE,{message:e})})},u=function(){n(function(e){Pi(e,eA)})},c=function(t){n(function(n){var r=e.getBody();vq.getState(r).get().exists(function(e){return e.isTabPanel()})&&bm.getCurrent(r).each(function(e){_V.showTab(e,t)})})},f=function(e){n(function(n){var r=t(e);n.getSystem().broadcastOn([FV],r),n.getSystem().broadcastOn([LV],r.internalDialog),n.getSystem().broadcastOn([PV],r.internalDialog),n.getSystem().broadcastOn([BV],r.internalDialog),h.setData(r.initialData)})},d=function(){n(function(e){Pi(e,YE)})},h={getData:r,setData:o,disable:i,enable:a,focus:s,block:l,unblock:u,showTab:c,redial:f,close:d};return h},eU=function(e){return vw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(e){Pi(e,XE)}})},tU=function(e,t,n){var r=function(e){return[Nl(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:de({},t.map(function(e){return{id:e}}).getOr({}))},components:r(e),behaviours:ku([vq.config({channel:LV,renderComponents:r})])}},nU=function(){return{dom:jx('<div class="tox-dialog__draghandle"></div>')}},rU=function(e,t,n){return _E.sketch({dom:jx('<div class="tox-dialog__header"></div>'),components:[tU(e,ye.some(t),n),nU(),eU(n)],containerBehaviours:ku([xz.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return jl(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},oU=function(e,t){var n=Mz.parts().title(tU(e,ye.none(),t)),r=Mz.parts().draghandle(nU()),o=Mz.parts().close(eU(t)),i=[n].concat(e.draggable?[r]:[]).concat([o]);return _E.sketch({dom:jx('<div class="tox-dialog__header"></div>'),components:i})},iU=function(e,t){return oU({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},aU=function(e,t){return{onClose:function(){return t.closeWindow()},onBlock:function(t){Mz.setBusy(e(),function(e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":t.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:jx('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})},onUnblock:function(){Mz.setIdle(e())}}},sU=function(e,t,n,r){var o,i=function(e,t){return ye.some(t)};return Pl(Mz.sketch({lazySink:r.shared.getSink,onEscape:function(e){return Pi(e,XE),ye.some(!0)},useTabstopAt:function(e){return!_N.isPseudoStop(e)},modalBehaviours:ku([vq.config({channel:FV,updateState:i,initialData:t}),dN.memory({}),gy.config({}),sy("execute-on-form",n.concat([ua(ti(),function(e,t){yb.focusIn(e)})])),sy("scroll-lock",[ca(function(){nl(Wi(),"tox-dialog__disable-scroll")}),fa(function(){ol(Wi(),"tox-dialog__disable-scroll")})])].concat(e.extraBehaviours)),eventOrder:(o={},o[mi()]=["execute-on-form"],o[pi()]=["reflecting","receiving"],o[Ei()]=["scroll-lock","reflecting","messages","execute-on-form","alloy.base.behaviour"],o[Ai()]=["alloy.base.behaviour","execute-on-form","messages","reflecting","scroll-lock"],o),dom:{tag:"div",classes:["tox-dialog"].concat(e.extraClasses),styles:de({position:"relative"},e.extraStyles)},components:[e.header,e.body].concat(e.footer.toArray()),dragBlockClass:"tox-dialog-wrap",parts:{blocker:{dom:jx('<div class="tox-dialog-wrap"></div>'),components:[{dom:{tag:"div",classes:["tox-dialog-wrap__backdrop"]}}]}}}))},lU=function(e,t,n){var r=iU(e.internalDialog.title,n),o=jV({body:e.internalDialog.body},n),i=XV({buttons:e.internalDialog.buttons},n),a=VV.initDialog(function(){return f},aU(function(){return u},t)),s="normal"!==e.internalDialog.size?"large"===e.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],l={header:r,body:o,footer:ye.some(i),extraClasses:s,extraBehaviours:[],extraStyles:{}},u=sU(l,e,a,n),c=function(){var e=function(){var e=Mz.getBody(u);return bm.getCurrent(e).getOr(e)};return{getRoot:function(){return u},getBody:function(){return Mz.getBody(u)},getFooter:function(){return Mz.getFooter(u)},getFormWrapper:e}}(),f=QV(c,t.redial);return{dialog:u,instanceApi:f}},uU=tinymce.util.Tools.resolve("tinymce.util.URI"),cU=function(e){var t=function(t){e.getSystem().isConnected()&&t(e)};return{block:function(e){if(!Ae(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t(function(t){Bi(t,QE,{message:e})})},unblock:function(){t(function(e){Pi(e,eA)})},close:function(){t(function(e){Pi(e,YE)})},sendMessage:function(e){t(function(t){t.getSystem().broadcastOn([RV],e)})}}},fU=["insertContent","setContent","execCommand","close","block","unblock"],dU=function(e){return Se(e)&&-1!==fU.indexOf(e.mceAction)},hU=function(e){return!dU(e)&&Se(e)&&gt(e,"mceAction")},pU=function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=!!Te(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}},mU=function(e,n,r,o){var i,a=iU(e.title,o),s=IV(e),l=e.buttons.bind(function(e){return 0===e.length?ye.none():ye.some(XV({buttons:e},o))}),u=VV.initUrlDialog(function(){return b},aU(function(){return v},n)),c=de({},e.height.fold(function(){return{}},function(e){return{height:e+"px","max-height":e+"px"}}),e.width.fold(function(){return{}},function(e){return{width:e+"px","max-width":e+"px"}})),f=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],d=new uU(e.url,{base_uri:new uU(t.window.location.href)}),h=d.protocol+"://"+d.host+(d.port?":"+d.port:""),p=qr(ye.none()),m=[sy("messages",[ca(function(){var n=Q_(Hr.fromDom(t.window),"message",function(t){if(d.isSameOrigin(new uU(t.raw().origin))){var n=t.raw().data;dU(n)?pU(r,b,n):hU(n)&&e.onMessage(b,n)}});p.set(ye.some(n))}),fa(function(){p.get().each(function(e){return e.unbind()})})]),Lu.config({channels:(i={},i[RV]={onReceive:function(e,t){Ml(e.element(),"iframe").each(function(e){e.dom().contentWindow.postMessage(t,h)})}},i)})],g={header:a,body:s,footer:l,extraClasses:f,extraBehaviours:m,extraStyles:c},v=sU(g,e,u,o),b=cU(v);return{dialog:v,instanceApi:b}},gU=function(e,t,n,r){var o,i,a=rs("dialog-label"),s=rs("dialog-content"),l=function(e,t){return ye.some(t)},u=bw(rU({title:e.internalDialog.title,draggable:!0},a,n.shared.providers)),c=bw(MV({body:e.internalDialog.body},s,n,r)),f=bw(YV({buttons:e.internalDialog.buttons},n)),d=VV.initDialog(function(){return p},{onBlock:function(){},onUnblock:function(){},onClose:function(){return t.closeWindow()}}),h=Pl({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=a,o["aria-describedby"]=""+s,o)},eventOrder:(i={},i[pi()]=[vq.name(),Lu.name()],i[mi()]=["execute-on-form"],i[Ei()]=["reflecting","execute-on-form"],i),behaviours:ku([yb.config({mode:"cyclic",onEscape:function(e){return Pi(e,YE),ye.some(!0)},useTabstopAt:function(e){return!_N.isPseudoStop(e)&&("button"!==Ii(e)||"disabled"!==Wa(e,"disabled"))}}),vq.config({channel:FV,updateState:l,initialData:e}),gy.config({}),sy("execute-on-form",d.concat([ua(ti(),function(e,t){yb.focusIn(e)})])),dN.memory({})]),components:[u.asSpec(),c.asSpec(),f.asSpec()]}),p=QV({getRoot:function(){return h},getFooter:function(){return f.get(h)},getBody:function(){return c.get(h)},getFormWrapper:function(){var e=c.get(h);return bm.getCurrent(e).getOr(e)}},t.redial);return{dialog:h,instanceApi:p}},vU={dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]}},bU={dom:{tag:"div",classes:["tox-dialog__header"]}},yU=function(e,t){return Mz.parts().close(vw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:ku([zS.config({})])}))},wU=function(){return Mz.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},xU=function(e,t){return Mz.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:jx("<p>"+t.translate(e)+"</p>")}]}]})},CU=function(e){return Mz.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},kU=function(e,t){return[_E.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),_E.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},_U=function(e){return Mz.sketch({lazySink:e.lazySink,onEscape:function(){return e.onCancel(),ye.some(!0)},dom:{tag:"div",classes:["tox-dialog"].concat(e.extraClasses)},components:[kt(e.headerOverride.getOr(bU),{components:[e.partSpecs.title,e.partSpecs.close]}),e.partSpecs.body,e.partSpecs.footer],parts:{blocker:{dom:jx('<div class="tox-dialog-wrap"></div>'),components:[{dom:{tag:"div",classes:["tox-dialog-wrap__backdrop"]}}]}},modalBehaviours:ku([sy("basic-dialog-events",[ta(XE,function(t,n){e.onCancel()}),ta(ZE,function(t,n){e.onSubmit()})])])})},EU=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(){Mz.hide(a),r()},i=bw(hF({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:ye.none()},"cancel",e.backstage)),a=Pl(_U({lazySink:function(){return t.getSink()},headerOverride:ye.some(vU),partSpecs:{title:wU(),close:yU(function(){o()},t.providers),body:xU(n,t.providers),footer:CU(kU([],[i.asSpec()]))},onCancel:function(){return o()},onSubmit:ne,extraClasses:["tox-alert-dialog"]}));Mz.show(a);var s=i.get(a);gy.focus(s)}}},AU=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(e){Mz.hide(s),r(e)},i=bw(hF({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:ye.none()},"submit",e.backstage)),a=hF({name:"no",text:"No",primary:!0,align:"end",disabled:!1,icon:ye.none()},"cancel",e.backstage),s=Pl(_U({lazySink:function(){return t.getSink()},headerOverride:ye.some(vU),partSpecs:{title:wU(),close:yU(function(){o(!1)},t.providers),body:xU(n,t.providers),footer:CU(kU([],[a,i.asSpec()]))},onCancel:function(){return o(!1)},onSubmit:function(){return o(!0)},extraClasses:["tox-confirm-dialog"]}));Mz.show(s);var l=i.get(s);gy.focus(l)}}},SU=function(e,t){return Jn(Xn("data",t,e))},OU=function(e){var t=EU(e),n=AU(e),r=function(t,n,r){return void 0!==n&&"toolbar"===n.inline?s(t,e.backstage.shared.anchors.toolbar(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?s(t,e.backstage.shared.anchors.cursor(),r,n.ariaAttrs):a(t,r)},o=function(e,t){return i(e,t)},i=function(t,n){var r=function(t){var r=mU(t,{closeWindow:function(){Mz.hide(r.dialog),n(r.instanceApi)}},e.editor,e.backstage);return Mz.show(r.dialog),r.instanceApi};return sV.openUrl(r,t)},a=function(t,n){var r=function(t,r,o){var i=r,a={dataValidator:o,initialData:i,internalDialog:t},s=lU(a,{redial:sV.redial,closeWindow:function(){Mz.hide(s.dialog),n(s.instanceApi)}},e.backstage);return Mz.show(s.dialog),s.instanceApi.setData(i),s.instanceApi};return sV.open(r,t)},s=function(t,n,r,o){var i=function(t,i,a){var s=SU(i,a),l={dataValidator:a,initialData:s,internalDialog:t},u=gU(l,{redial:sV.redial,closeWindow:function(){pw.hide(c),r(u.instanceApi)}},e.backstage,o),c=Pl(pw.sketch({lazySink:e.backstage.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},inlineBehaviours:ku([sy("window-manager-inline-events",[ta(Si(),function(e,t){Pi(u.dialog,XE)})])])}));return pw.showAt(c,n,Bl(u.dialog)),u.instanceApi.setData(s),yb.focusIn(u.dialog),u.instanceApi};return sV.open(i,t)},l=function(e,t){n.open(e,function(e){t(e)})};return{open:r,openUrl:o,alert:function(e,n){t.open(e,function(){n()})},close:function(e){e.close()},confirm:l}},TU={setup:OU};!function(){fe.add("silver",function(e){var t=Nz.setup(e),n=t.uiMothership,r=t.backstage,o=t.renderUI,i=t.getUi;U_.register(e,r.shared);var a=TU.setup({editor:e,backstage:r});return{renderUI:o,getWindowManagerImpl:ie(a),getNotificationManagerImpl:function(){return s(e,{backstage:r},n)},ui:i()}})}()}(window)}).call(t,n(3))},function(e,t,n){n(149)},function(e,t,n){(function(e){!function(t){"use strict";function n(e){var n=function(n,r,o,i){var a,s;a=new t.XMLHttpRequest,a.open("POST",e.url),a.withCredentials=e.credentials,a.upload.onprogress=function(e){i(e.loaded/e.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var t;return a.status<200||a.status>=300?void o("HTTP Error: "+a.status):(t=JSON.parse(a.responseText))&&"string"==typeof t.location?void r(Dt(e.basePath,t.location)):void o("Invalid JSON: "+a.responseText)},s=new t.FormData,s.append("file",n.blob(),n.filename()),a.send(s)},r=function(e,t){return new ue(function(n,r){try{t(e,n,r,o)}catch(e){r(e.message)}})},i=function(e){return e===n},a=function(t){return!e.url&&i(e.handler)?ue.reject("Upload url missing from the settings."):r(t,e.handler)};return e=xt.extend({credentials:!1,handler:n},e),{upload:a}}var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(){},i=function(e){return function(){return e}},a=function(e){return e},s=function(e){return function(){throw new Error(e)}},l=i(!1),u=i(!0),c=l,f=u,d=function(){return h},h=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},a=function(){},s={fold:function(e,t){return e()},is:c,isSome:c,isNone:f,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:a,or:n,orThunk:t,map:d,ap:d,each:r,bind:d,flatten:d,exists:c,forall:f,filter:d,equals:e,equals_:e,toArray:function(){return[]},toString:i("none()")};return Object.freeze&&Object.freeze(s),s}(),p=function(e){var t=function(){return e},n=function(){return i},r=function(t){return p(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:f,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(d,function(t){return p(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:h},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},m=function(e){return null===e||void 0===e?h:p(e)},g={some:p,none:d,from:m},v=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},b=function(e){return function(t){return v(t)===e}},y=b("string"),w=b("object"),x=b("array"),C=b("boolean"),k=b("function"),_=Array.prototype.slice,E=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},A=Array.prototype.push,S=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!x(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);A.apply(t,e[n])}return t},O=function(e){return 0===e.length?g.none():g.some(e[0])},T=(k(Array.from)&&Array.from,function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},T.apply(this,arguments)}),D={},N={exports:D};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof o&&o;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){return i(t[s][1][e]||e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&p&&(g=!1,p.length?m=p.concat(m):v=-1,m.length&&l())}function l(){if(!g){var e=i(s);g=!0;for(var t=m.length;t;){for(p=m,m=[];++v<t;)p&&p[v].run();v=-1,t=m.length}p=null,g=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var f,d,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var p,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||g||i(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:l)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void l(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,u(e)}catch(t){l(e,t)}}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,l(t,e))})}catch(e){if(n)return;n=!0,l(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new c(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,i(function(){l[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,D,N,void 0);var F=N.exports.boltExport,L=function(e){var n=g.none(),r=[],o=function(e){return L(function(t){i(function(n){t(e(n))})})},i=function(e){s()?u(e):r.push(e)},a=function(e){n=g.some(e),l(r),r=[]},s=function(){return n.isSome()},l=function(e){E(e,u)},u=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(a),{get:i,map:o,isReady:s}},P=function(e){return L(function(t){t(e)})},B={nu:L,pure:P},R=function(e){t.setTimeout(function(){throw e},0)},q=function(e){var t=function(t){e().then(t,R)};return{map:function(t){return q(function(){return e().then(t)})},bind:function(t){return q(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return q(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return B.nu(t)},toCached:function(){var t=null;return q(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},M=function(e){return q(function(){return new F(e)})},j=function(e){return q(function(){return F.resolve(e)})},I={nu:M,pure:j},$=function(e){var t=function(t){return e===t},n=function(t){return $(e)},r=function(t){return $(e)},o=function(t){return $(t(e))},a=function(t){return $(e)},s=function(t){t(e)},c=function(t){return t(e)},f=function(t,n){return n(e)},d=function(t){return t(e)},h=function(t){return t(e)},p=function(){return g.some(e)};return{is:t,isValue:u,isError:l,getOr:i(e),getOrThunk:i(e),getOrDie:i(e),or:n,orThunk:r,fold:f,map:o,mapError:a,each:s,bind:c,exists:d,forall:h,toOption:p}},z=function(e){var t=function(e){return e()},n=function(){return s(String(e))()},r=function(e){return e},i=function(e){return e()},c=function(t){return z(e)},f=function(t){return z(t(e))},d=function(t){return z(e)};return{is:l,isValue:l,isError:u,getOr:a,getOrThunk:t,getOrDie:n,or:r,orThunk:i,fold:function(t,n){return t(e)},map:c,mapError:f,each:o,bind:d,exists:l,forall:u,toOption:g.none}},H=function(e,t){return e.fold(function(){return z(t)},$)},V={value:$,error:z,fromOption:H},U=function(e){return T({},e,{toCached:function(){return U(e.toCached())},bindFuture:function(t){return U(e.bind(function(e){return e.fold(function(e){return I.pure(V.error(e))},function(e){return t(e)})}))},bindResult:function(t){return U(e.map(function(e){return e.bind(t)}))},mapResult:function(t){return U(e.map(function(e){return e.map(t)}))},mapError:function(t){return U(e.map(function(e){return e.mapError(t)}))},foldResult:function(t,n){return e.map(function(e){return e.fold(t,n)})},withTimeout:function(n,r){return U(I.nu(function(o){var i=!1,a=t.setTimeout(function(){i=!0,o(V.error(r()))},n);e.get(function(e){i||(t.clearTimeout(a),o(e))})}))}})},W=function(e){return U(I.nu(e))},K=function(e){return U(I.pure(V.value(e)))},G=function(e){return U(I.pure(V.error(e)))},Y=function(e){return U(I.pure(e))},X=function(e){return U(e.map(V.value))},J=function(e){return W(function(t){e.then(function(e){t(V.value(e))},function(e){t(V.error(e))})})},Z={nu:W,wrap:U,pure:K,value:K,error:G,fromResult:Y,fromFuture:X,fromPromise:J},Q=Object.prototype.hasOwnProperty,ee=function(e,t){return t},te=function(e,t){return w(e)&&w(t)?re(e,t):t},ne=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)Q.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},re=ne(te),oe=ne(ee),ie=function(e){var t={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=e.imageList.map(function(e){return{name:"images",type:"selectbox",label:"Image list",items:e}}),r={name:"alt",type:"input",label:"Image description"},o={name:"title",type:"input",label:"Image title"},i={name:"dimensions",type:"sizeinput"},a=e.classList.map(function(e){return{name:"classes",type:"selectbox",label:"Class",items:e}}),s={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return S([[t],n.toArray(),e.hasDescription?[r]:[],e.hasImageTitle?[o]:[],e.hasDimensions?[i]:[],[{type:"grid",columns:2,items:S([a.toArray(),e.hasImageCaption?[s]:[]])}]])},ae=function(e){return{title:"General",name:"general",items:ie(e)}},se={makeTab:ae,makeItems:ie},le=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ue=tinymce.util.Tools.resolve("tinymce.util.Promise"),ce=tinymce.util.Tools.resolve("tinymce.util.XHR"),fe=function(e){return e.getParam("image_dimensions",!0,"boolean")},de=function(e){return e.getParam("image_advtab",!1,"boolean")},he=function(e){return e.getParam("image_uploadtab",!0,"boolean")},pe=function(e){return e.getParam("image_prepend_url","","string")},me=function(e){return e.getParam("image_class_list")},ge=function(e){return e.getParam("image_description",!0,"boolean")},ve=function(e){return e.getParam("image_title",!1,"boolean")},be=function(e){return e.getParam("image_caption",!1,"boolean")},ye=function(e){return e.getParam("image_list",!1)},we=function(e){return!!Ce(e)},xe=function(e){return!!ke(e)},Ce=function(e){return e.getParam("images_upload_url","","string")},ke=function(e){return e.getParam("images_upload_handler",void 0,"function")},_e=function(e){return e.getParam("images_upload_base_path",void 0,"string")},Ee=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Ae={hasDimensions:fe,hasUploadTab:he,hasAdvTab:de,getPrependUrl:pe,getClassList:me,hasDescription:ge,hasImageTitle:ve,hasImageCaption:be,getImageList:ye,hasUploadUrl:we,hasUploadHandler:xe,getUploadUrl:Ce,getUploadHandler:ke,getUploadBasePath:_e,getUploadCredentials:Ee},Se=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},Oe=function(e,n){var r=t.document.createElement("img"),o=function(e){r.parentNode&&r.parentNode.removeChild(r),n(e)};r.onload=function(){var e=Se(r.width,r.clientWidth),t=Se(r.height,r.clientHeight),n={width:e,height:t};o(V.value(n))},r.onerror=function(){o(V.error("Failed to get image dimensions for: "+e))};var i=r.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",t.document.body.appendChild(r),r.src=e},Te=function(e){return e&&(e=e.replace(/px$/,"")),e},De=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},Ne=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},Fe=function(e,t){var n=Ae.getImageList(e);"string"==typeof n?ce.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},Le=function(e,t,n){var r=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!Ae.hasDimensions(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},Pe=function(e){return new ue(function(n,r){var o=new t.FileReader;o.onload=function(){n(o.result)},o.onerror=function(){r(o.error.message)},o.readAsDataURL(e)})},Be=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},Re={getImageSize:Oe,removePixelSuffix:Te,addPixelSuffix:De,mergeMargins:Ne,createImageList:Fe,waitLoadImage:Le,blobToDataUri:Pe,isPlaceholderImage:Be},qe=le.DOM,Me=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?Re.removePixelSuffix(e.style.marginLeft):""},je=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?Re.removePixelSuffix(e.style.marginTop):""},Ie=function(e){return e.style.borderWidth?Re.removePixelSuffix(e.style.borderWidth):""},$e=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},ze=function(e,t){return e.style[t]?e.style[t]:""},He=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},Ve=function(e,t,n){e.setAttribute(t,n)},Ue=function(e){var t=qe.create("figure",{class:"image"});qe.insertAfter(t,e),t.appendChild(e),t.appendChild(qe.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},We=function(e){var t=e.parentNode;qe.insertAfter(e,t),qe.remove(t)},Ke=function(e){He(e)?We(e):Ue(e)},Ge=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},Ye=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=Re.addPixelSuffix(r),Ge(e,t)):Ve(e,n,r)}},Xe=function(e,t){return e.style[t]?Re.removePixelSuffix(e.style[t]):$e(e,t)},Je=function(e,t){var n=Re.addPixelSuffix(t);e.style.marginLeft=n,e.style.marginRight=n},Ze=function(e,t){var n=Re.addPixelSuffix(t);e.style.marginTop=n,e.style.marginBottom=n},Qe=function(e,t){var n=Re.addPixelSuffix(t);e.style.borderWidth=n},et=function(e,t){e.style.borderStyle=t},tt=function(e){return ze(e,"borderStyle")},nt=function(e){return"FIGURE"===e.nodeName},rt=function(e){return"IMG"===e.nodeName},ot=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:""}},it=function(e,n){var r=t.document.createElement("img");return Ve(r,"style",n.style),(Me(r)||""!==n.hspace)&&Je(r,n.hspace),(je(r)||""!==n.vspace)&&Ze(r,n.vspace),(Ie(r)||""!==n.border)&&Qe(r,n.border),(tt(r)||""!==n.borderStyle)&&et(r,n.borderStyle),e(r.getAttribute("style"))},at=function(e,n){var r=t.document.createElement("img");if(ct(e,oe(n,{caption:!1}),r),Ve(r,"alt",n.alt),n.caption){var o=qe.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(qe.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r},st=function(e,t){return{src:$e(t,"src"),alt:$e(t,"alt"),title:$e(t,"title"),width:Xe(t,"width"),height:Xe(t,"height"),class:$e(t,"class"),style:e($e(t,"style")),caption:He(t),hspace:Me(t),vspace:je(t),border:Ie(t),borderStyle:ze(t,"borderStyle")}},lt=function(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])},ut=function(e,t){return function(n,r,o){e(n,o),Ge(n,t)}},ct=function(e,t,n){var r=st(e,n);lt(n,r,t,"caption",function(e,t,n){return Ke(e)}),lt(n,r,t,"src",Ve),lt(n,r,t,"alt",Ve),lt(n,r,t,"title",Ve),lt(n,r,t,"width",Ye(0,e)),lt(n,r,t,"height",Ye(0,e)),lt(n,r,t,"class",Ve),lt(n,r,t,"style",ut(function(e,t){return Ve(e,"style",t)},e)),lt(n,r,t,"hspace",ut(Je,e)),lt(n,r,t,"vspace",ut(Ze,e)),lt(n,r,t,"border",ut(Qe,e)),lt(n,r,t,"borderStyle",ut(et,e))},ft=function(e,t){var n=e.dom.styles.parse(t),r=Re.mergeMargins(n),o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)},dt=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||Re.isPlaceholderImage(t))?null:t},ht=function(e,t){var n=e.dom,r=n.getParent(t.parentNode,function(t){return e.schema.getTextBlockElements()[t.nodeName]},e.getBody());return r?n.split(r,t):t},pt=function(e){var t=dt(e);return t?st(function(t){return ft(e,t)},t):ot()},mt=function(e,t){var n=at(function(t){return ft(e,t)},t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),nt(r)){var o=ht(e,r);e.selection.select(o)}else e.selection.select(r)},gt=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},vt=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},bt=function(e,t){var n=dt(e);if(ct(function(t){return ft(e,t)},t,n),gt(e,n),nt(n.parentNode)){var r=n.parentNode;ht(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),Re.waitLoadImage(e,t,n)},yt=function(e,t){var n=dt(e);n?t.src?bt(e,t):vt(e,n):t.src&&mt(e,t)},wt=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return g.none()},xt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ct=function(e){return y(e.value)?e.value:""},kt=function(e,t){var n=[];return xt.each(e,function(e){var r=y(e.text)?e.text:y(e.title)?e.title:"";if(void 0!==e.menu){var o=kt(e.menu,t);n.push({text:r,items:o})}else{var i=t(e);n.push({text:r,value:i})}}),n},_t=function(e){return void 0===e&&(e=Ct),function(t){return t?g.from(t).map(function(t){return kt(t,e)}):g.none()}},Et=function(e){return _t(Ct)(e)},At=function(e){return Object.prototype.hasOwnProperty.call(e,"items")},St=function(e,t){return wt(e,function(e){return At(e)?St(e.items,t):e.value===t?g.some(e):g.none()})},Ot=function(e,t){return e.bind(function(e){return St(e,t)})},Tt={sanitizer:_t,sanitize:Et,findEntry:Ot},Dt=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},Nt=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace"},{type:"input",label:"Horizontal space",name:"hspace"},{type:"input",label:"Border width",name:"border"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ft={makeTab:Nt},Lt=function(e){var t=Tt.sanitizer(function(t){return e.convertURL(t.value||t.url,"src")}),n=I.nu(function(n){Re.createImageList(e,function(e){n(t(e).map(function(e){return S([[{text:"None",value:""}],e])}))})}),r=Tt.sanitize(Ae.getClassList(e)),o=Ae.hasAdvTab(e),i=Ae.hasUploadTab(e),a=Ae.hasUploadUrl(e),s=Ae.hasUploadHandler(e),l=pt(e),u=Ae.hasDescription(e),c=Ae.hasImageTitle(e),f=Ae.hasDimensions(e),d=Ae.hasImageCaption(e),h=Ae.getUploadUrl(e),p=Ae.getUploadBasePath(e),m=Ae.getUploadCredentials(e),v=Ae.getUploadHandler(e),b=g.some(Ae.getPrependUrl(e)).filter(function(e){return y(e)&&e.length>0});return n.map(function(e){return{image:l,imageList:e,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:a,hasUploadHandler:s,hasDescription:u,hasImageTitle:c,hasDimensions:f,hasImageCaption:d,url:h,basePath:p,credentials:m,handler:v,prependURL:b}})},Pt=function(e){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},Bt={makeTab:Pt},Rt=function(e){return{prevImage:Tt.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}},qt=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[]}},Mt=function(e){return{src:e.src.value,alt:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle}},jt=function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?g.none():e.prependURL.bind(function(e){return t.substring(0,e.length)!==e?g.some(e+t):g.none()})},It=function(e,t){var n=t.getData();jt(e,n.src.value).each(function(e){t.setData({src:{value:e,meta:n.src.meta}})})},$t=function(e,t,n){e.hasDescription&&y(n.alt)&&(t.alt=n.alt),e.hasImageTitle&&y(n.title)&&(t.title=n.title),e.hasDimensions&&(y(n.width)&&(t.dimensions.width=n.width),y(n.height)&&(t.dimensions.height=n.height)),y(n.class)&&Tt.findEntry(e.classList,n.class).each(function(e){t.classes=e.value}),e.hasImageCaption&&C(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(y(n.vspace)&&(t.vspace=n.vspace),y(n.border)&&(t.border=n.border),y(n.hspace)&&(t.hspace=n.hspace),y(n.borderstyle)&&(t.borderstyle=n.borderstyle))},zt=function(e,t){var n=t.getData(),r=n.src.meta;if(void 0!==r){var o=re({},n);$t(e,o,r),t.setData(o)}},Ht=function(e,t,n,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!t.hasDimensions||e.imageSize(i).get(function(e){e.each(function(e){n.open&&r.setData({dimensions:e})})})},Vt=function(e,t,n){var r=n.getData(),o=Tt.findEntry(e.imageList,r.src.value);t.prevImage=o,n.setData({images:o.map(function(e){return e.value}).getOr("")})},Ut=function(e,t,n,r){It(t,r),zt(t,r),Ht(e,t,n,r),Vt(t,n,r)},Wt=function(e,t,n,r){var o=r.getData(),i=Tt.findEntry(t.imageList,o.images);i.each(function(e){""===o.alt||n.prevImage.map(function(e){return e.text===o.alt}).getOr(!1)?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})}),n.prevImage=i,Ut(e,t,n,r)},Kt=function(e){return e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"]?Re.removePixelSuffix(String(e["margin-top"])):""},Gt=function(e){return e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"]?Re.removePixelSuffix(String(e["margin-right"])):""},Yt=function(e){return e["border-width"]?Re.removePixelSuffix(String(e["border-width"])):""},Xt=function(e){return e["border-style"]?String(e["border-style"]):""},Jt=function(e,t,n){return t(e(t(n)))},Zt=function(e,t,n){var r=Re.mergeMargins(e(n.style)),o=re({},n);return o.vspace=Kt(r),o.hspace=Gt(r),o.border=Yt(r),o.borderstyle=Xt(r),o.style=Jt(e,t,r),o},Qt=function(e,t){var n=t.getData(),r=Zt(e.parseStyle,e.serializeStyle,n);t.setData(r)},en=function(e,t,n){var r=re(qt(t.image),n.getData()),o=it(e.normalizeCss,Mt(r));n.setData({style:o})},tn=function(e,r,o,i){var a=i.getData();i.block("Uploading image"),O(a.fileinput).fold(function(){i.unblock()},function(a){var s=t.URL.createObjectURL(a),l=n({url:r.url,basePath:r.basePath,credentials:r.credentials,handler:r.handler}),u=function(){i.unblock(),t.URL.revokeObjectURL(s)};Re.blobToDataUri(a).then(function(t){var n=e.createBlobCache(a,s,t);l.upload(n).then(function(t){i.setData({src:{value:t,meta:{}}}),i.showTab("general"),Ut(e,r,o,i),u()}).catch(function(t){u(),e.alertErr(i,t)})})})},nn=function(e,t,n){return function(r,o){"src"===o.name?Ut(e,t,n,r):"images"===o.name?Wt(e,t,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?Qt(e,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?en(e,t,r):"fileinput"===o.name&&tn(e,t,n,r)}},rn=function(e){return function(){e.open=!1}},on=function(e){if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){return{type:"tabpanel",tabs:S([[se.makeTab(e)],e.hasAdvTab?[Ft.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[Bt.makeTab(e)]:[]])}}return{type:"panel",items:se.makeItems(e)}},an=function(e){return function(t){var n=Rt(t);return{title:"Insert/Edit Image",size:"normal",body:on(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:qt(t.image),onSubmit:e.onSubmit(t),onChange:nn(e,t,n),onClose:rn(n)}}},sn=function(e){return function(t){return function(n){var r=re(qt(t.image),n.getData());e.undoManager.transact(function(){yt(e,Mt(r))}),e.editorUpload.uploadImagesAuto(),n.close()}}},ln=function(e){return function(t){return Z.nu(function(n){Re.getImageSize(e.documentBaseURI.toAbsolute(t),function(e){var t=e.map(function(e){return{width:String(e.width),height:String(e.height)}});n(t)})})}},un=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},cn=function(e){return function(t,n){e.windowManager.alert(n,t.close)}},fn=function(e){return function(t){return ft(e,t)}},dn=function(e){return function(t){return e.dom.parseStyle(t)}},hn=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},pn=function(e){var t={onSubmit:sn(e),imageSize:ln(e),createBlobCache:un(e),alertErr:cn(e),normalizeCss:fn(e),parseStyle:dn(e),serializeStyle:hn(e)};return{open:function(){return Lt(e).map(an(t)).get(function(t){e.windowManager.open(t)})}}},mn=function(e){e.addCommand("mceImage",pn(e).open)},gn={register:mn},vn=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},bn=function(e){return function(t){for(var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};n--;){var o=t[n];vn(o)&&(o.attr("contenteditable",e?"false":null),xt.each(o.getAll("figcaption"),r))}}},yn=function(e){e.on("PreInit",function(){e.parser.addNodeFilter("figure",bn(!0)),e.serializer.addNodeFilter("figure",bn(!1))})},wn={setup:yn},xn=function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:pn(e).open,onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:pn(e).open}),e.ui.registry.addContextMenu("image",{update:function(e){return nt(e)||rt(e)&&!Re.isPlaceholderImage(e)?["image"]:[]}})},Cn={register:xn};!function(){r.add("image",function(e){wn.setup(e),Cn.register(e),gn.register(e)})}()}(window)}).call(t,n(3))},function(e,t,n){n(151)},function(e,t){!function(e){"use strict";function t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function n(e,t,n,r,o){return e(n,r)?O.some(n):B(o)&&o(n)?O.none():t(n,r,o)}function r(){var e=function(e){return We.fromDom(e.dom().cloneNode(!1))},t=function(e){return e.dom().ownerDocument},n=function(e){return!!Ee(e)&&("body"===xe(e)||j(co,xe(e)))},r=function(e){return!!Ee(e)&&j(["br","img","hr","input"],xe(e))},o=function(e,t){return e.dom().compareDocumentPosition(t.dom())},i=function(e,t){var n=Le(e);Te(t,n)};return{up:g({selector:qn,closest:In,predicate:Ln,all:Zt}),down:g({selector:Fn,predicate:Tn}),styles:g({get:et,getRaw:nt,set:Ze,remove:rt}),attrs:g({get:De,set:Oe,remove:Fe,copyTo:i}),insert:g({before:on,after:an,afterAll:fn,append:ln,appendAll:dn,prepend:sn,wrap:un}),remove:g({unwrap:mn,remove:pn}),create:g({nu:We.fromTag,clone:e,text:We.fromText}),query:g({comparePosition:o,prevSibling:Qt,nextSibling:en}),property:g({children:tn,name:xe,parent:Jt,document:t,isText:Ae,isComment:_e,isElement:Ee,getText:Cr,setText:_r,isBoundary:n,isEmptyTag:r}),eq:Ht,is:Gt}}function o(e,t){var n=function(t,n){if(!R(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();je(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=et(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return W(t,function(t,n){var r=et(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}function i(e){var t=function(t){return e(t).isRtl()?Ta.rtl:Ta.ltr},n=function(e,n){return t(n).delta(e,n)},r=function(e,n){return t(n).positions(e,n)};return{delta:n,edge:function(e){return t(e).edge(e)},positions:r}}function a(){var e=O.none(),t=function(){e=O.none()},n=function(t,n){var r=e.map(function(e){return t.compare(e,n)});return e=O.some(n),r},r=function(e,t){t.extract(e).each(function(e){n(t,e).each(function(e){o.trigger.move(e)})})},o=qd.create({move:Bd(["info"])});return{onEvent:r,reset:t,events:o.registry}}function s(){return{onEvent:p,reset:p}}function l(){var e=s(),t=a(),n=e,r=function(){n.reset(),n=t},o=function(){n.reset(),n=e},i=function(e,t){n.onEvent(e,t)};return{on:r,off:o,isOn:function(){return n===t},onEvent:i,events:t.events}}function u(e,t){var n=Oa.height,r=dh(e,t,n),o=qd.create({beforeResize:Bd(["table"]),afterResize:Bd(["table"]),startDrag:Bd([])});return r.events.adjustHeight.bind(function(e){o.trigger.beforeResize(e.table());var t=n.delta(e.delta(),e.table());mu.adjustHeight(e.table(),t,e.row(),n),o.trigger.afterResize(e.table())}),r.events.startAdjust.bind(function(e){o.trigger.startDrag()}),r.events.adjustWidth.bind(function(e){o.trigger.beforeResize(e.table());var n=t.delta(e.delta(),e.table());mu.adjustWidth(e.table(),n,e.column(),t),o.trigger.afterResize(e.table())}),{on:r.on,off:r.off,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:o.registry}}function c(e,t,n,r){var o=O.none(),i=function(){o=O.none()};return{mousedown:function(e){r.clear(t),o=Ug(e.target(),n)},mouseover:function(i){o.each(function(o){r.clear(t),Ug(i.target(),n).each(function(i){Jo.identify(o,i,n).each(function(n){var a=n.boxes().getOr([]);(a.length>1||1===a.length&&!Ht(o,i))&&(r.selectRange(t,a,n.start(),n.finish()),e.selectContents(i))})})})},mouseup:function(e){o.each(i)}}}function f(e,t){var n=ge(["mousedown","mouseover","mouseup","keyup","keydown"],[]),r=O.none(),o=pv.byAttr(ni);e.on("init",function(i){var a=e.getWin(),s=Ec(e),l=Oc(e),u=function(){var t=e.selection,n=We.fromDom(t.getStart()),r=We.fromDom(t.getEnd());$o.sharedOne(rr.table,[n,r]).fold(function(){o.clear(s)},p)},c=lv.mouse(a,s,l,o),f=lv.keyboard(a,s,l,o),d=function(e){return!0===e.raw().shiftKey},h=function(t,n){d(t)&&(n.kill()&&t.kill(),n.selection().each(function(t){var n=Uh.relative(t.start(),t.finish()),r=ip(a,n);e.selection.setRng(r)}))},v=function(t){var n=w(t);if(n.raw().shiftKey&&Qg.isNavigation(n.raw().which)){var r=e.selection.getRng(),o=We.fromDom(r.startContainer),i=We.fromDom(r.endContainer);f.keyup(n,o,r.startOffset,i,r.endOffset).each(function(e){h(n,e)})}},b=function(n){var r=w(n);t().each(function(e){e.hideBars()});var o=e.selection.getRng(),i=We.fromDom(e.selection.getStart()),a=We.fromDom(o.startContainer),s=We.fromDom(o.endContainer),l=Rc.directionAt(i).isRtl()?Qg.rtl:Qg.ltr;f.keydown(r,a,o.startOffset,s,o.endOffset,l).each(function(e){h(r,e)}),t().each(function(e){e.showBars()})},y=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},w=function(e){var t=We.fromDom(e.target),n=function(){e.stopPropagation()},r=function(){e.preventDefault()},o=m(r,n);return{target:g(t),x:g(y(e)?e.x:null),y:g(y(e)?e.y:null),stop:n,prevent:r,kill:o,raw:g(e)}},x=function(e){return 0===e.button},C=function(e){return void 0===e.buttons||0!=(1&e.buttons)},k=function(e){x(e)&&mv(e)&&c.mousedown(w(e))},_=function(e){C(e)&&mv(e)&&c.mouseover(w(e))},E=function(e){x(e)&&mv(e)&&c.mouseup(w(e))};e.on("mousedown",k),e.on("mouseover",_),e.on("mouseup",E),e.on("keyup",v),e.on("keydown",b),e.on("NodeChange",u),r=O.some(n({mousedown:k,mouseover:_,mouseup:E,keyup:v,keydown:b}))});var i=function(){r.each(function(e){})};return{clear:o.clear,destroy:i}}function d(e){var t=wh(e),n=f(e,t.lazyResize),r=lf(e,t.lazyWire),o=gv(e),i=vv(e,o),a=h(O.none());Dd.registerCommands(e,r,n,o,a),Ci.registerEvents(e,o,r,n);var s=Cv.addMenuItems(e,i);return wv.addButtons(e,i),wv.addToolbars(e),e.on("PreInit",function(){e.serializer.addTempAttr(ni.firstSelected()),e.serializer.addTempAttr(ni.lastSelected())}),zc(e)&&e.on("keydown",function(n){Qp.handle(n,e,r,t.lazyWire)}),e.on("remove",function(){t.destroy(),n.destroy()}),Ev(e,a,t,i,s)}var h=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return h(n())}}},p=function(){},m=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},g=function(e){return function(){return e}},v=function(e){return e},b=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},y=function(e){return function(){throw new Error(e)}},w=g(!1),x=g(!0),C=w,k=x,_=function(){return E},E=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},i=function(){},a={fold:function(e,t){return e()},is:C,isSome:C,isNone:k,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:i,or:n,orThunk:t,map:_,ap:_,each:r,bind:_,flatten:_,exists:C,forall:k,filter:_,equals:e,equals_:e,toArray:function(){return[]},toString:g("none()")};return Object.freeze&&Object.freeze(a),a}(),A=function(e){var t=function(){return e},n=function(){return i},r=function(t){return A(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:k,isNone:C,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(_,function(t){return A(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:E},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(C,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},S=function(e){return null===e||void 0===e?E:A(e)},O={some:A,none:_,from:S},T=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},N=function(e){return function(t){return D(t)===e}},F=N("string"),L=N("array"),P=N("boolean"),B=N("function"),R=N("number"),q=Array.prototype.slice,M=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return Y(e,t)};return void 0===e?n:t}(),j=function(e,t){return M(e,t)>-1},I=function(e,t){return G(e,t).isSome()},$=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},z=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},H=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},V=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},U=function(e,t,n){return H(e,function(e){n=t(n,e)}),n},W=function(e,t,n){return z(e,function(e){n=t(n,e)}),n},K=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return O.some(o)}return O.none()},G=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n,e))return O.some(n)}return O.none()},Y=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},X=Array.prototype.push,J=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!L(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);X.apply(t,e[n])}return t},Z=function(e,t){var n=$(e,t);return J(n)},Q=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},ee=function(e){var t=q.call(e,0);return t.reverse(),t},te=function(e){return 0===e.length?O.none():O.some(e[e.length-1])},ne=(B(Array.from)&&Array.from,Object.keys),re=Object.hasOwnProperty,oe=function(e,t){for(var n=ne(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},ie=function(e,t){return ae(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},ae=function(e,t){var n={};return oe(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},se=function(e,t){return le(e,t)?O.from(e[t]):O.none()},le=function(e,t){return re.call(e,t)},ue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return z(e,function(e,n){r[e]=g(t[n])}),r}},ce=function(e){return e.slice(0).sort()},fe=function(e,t){throw new Error("All required keys ("+ce(e).join(", ")+") were not specified. Specified keys were: "+ce(t).join(", ")+".")},de=function(e){throw new Error("Unsupported keys for object: "+ce(e).join(", "))},he=function(e,t){if(!L(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");z(t,function(t){if(!F(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},pe=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+ce(e).join(", ")+") were not.")},me=function(e){var t=ce(e);K(t,function(e,n){return n<t.length-1&&e===t[n+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},ge=function(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return he("required",e),he("optional",t),me(n),function(r){var o=ne(r);Q(e,function(e){return j(o,e)})||fe(e,o);var i=V(o,function(e){return!j(n,e)});i.length>0&&de(i);var a={};return z(e,function(e){a[e]=g(r[e])}),z(t,function(e){a[e]=g(Object.prototype.hasOwnProperty.call(r,e)?O.some(r[e]):O.none())}),a}},ve=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE),be=e.Node.DOCUMENT_NODE,ye=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),we=e.Node.TEXT_NODE,xe=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,void 0!==e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),Ce=function(e){return e.dom().nodeType},ke=function(e){return function(t){return Ce(t)===e}},_e=function(e){return Ce(e)===ve||"#comment"===xe(e)},Ee=ke(ye),Ae=ke(we),Se=function(t,n,r){if(!(F(r)||P(r)||R(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},Oe=function(e,t,n){Se(e.dom(),t,n)},Te=function(e,t){var n=e.dom();oe(t,function(e,t){Se(n,t,e)})},De=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Ne=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Fe=function(e,t){e.dom().removeAttribute(t)},Le=function(e){return W(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Pe=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},Be=function(e,t){return-1!==e.indexOf(t)},Re=function(e,t){return Pe(e,t,0)},qe=function(e,t){return Pe(e,t,e.length-t.length)},Me=function(e){return e.replace(/^\s+|\s+$/g,"")},je=function(e){return void 0!==e.style&&B(e.style.getPropertyValue)},Ie=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},$e=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Ve(o.childNodes[0])},ze=function(t,n){var r=n||e.document,o=r.createElement(t);return Ve(o)},He=function(t,n){var r=n||e.document,o=r.createTextNode(t);return Ve(o)},Ve=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:g(e)}},Ue=function(e,t,n){var r=e.dom();return O.from(r.elementFromPoint(t,n)).map(Ve)},We={fromHtml:$e,fromTag:ze,fromText:He,fromDom:Ve,fromPoint:Ue},Ke=function(e){var t=Ae(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},Ge=Ie(function(){return Ye(We.fromDom(e.document))}),Ye=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return We.fromDom(t)},Xe=function(t,n,r){if(!F(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);je(t)&&t.style.setProperty(n,r)},Je=function(e,t){je(e)&&e.style.removeProperty(t)},Ze=function(e,t,n){var r=e.dom();Xe(r,t,n)},Qe=function(e,t){var n=e.dom();oe(t,function(e,t){Xe(n,t,e)})},et=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r),i=o.getPropertyValue(n),a=""!==i||Ke(t)?i:tt(r,n);return null===a?void 0:a},tt=function(e,t){return je(e)?e.style.getPropertyValue(t):""},nt=function(e,t){var n=e.dom(),r=tt(n,t);return O.from(r).filter(function(e){return e.length>0})},rt=function(e,t){var n=e.dom();Je(n,t),Ne(e,"style")&&""===Me(De(e,"style"))&&Fe(e,"style")},ot=function(e,t){var n=e.dom(),r=t.dom();je(n)&&je(r)&&(r.style.cssText=n.style.cssText)},it=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},at=function(t,n){return it(t,n,e.Node.DOCUMENT_POSITION_PRECEDING)},st=function(t,n){return it(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},lt={documentPositionPreceding:at,documentPositionContainedBy:st},ut=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},ct=function(e,t){var n=ut(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return ht(r(1),r(2))},ft=function(e,t){var n=String(t).toLowerCase();return 0===e.length?dt():ct(e,n)},dt=function(){return ht(0,0)},ht=function(e,t){return{major:e,minor:t}},pt={nu:ht,detect:ft,unknown:dt},mt=function(e,t){return function(){return t===e}},gt=function(){return vt({current:void 0,version:pt.unknown()})},vt=function(e){var t=e.current;return{current:t,version:e.version,isEdge:mt("Edge",t),isChrome:mt("Chrome",t),isIE:mt("IE",t),isOpera:mt("Opera",t),isFirefox:mt("Firefox",t),isSafari:mt("Safari",t)}},bt={unknown:gt,nu:vt,edge:g("Edge"),chrome:g("Chrome"),ie:g("IE"),opera:g("Opera"),firefox:g("Firefox"),safari:g("Safari")},yt=function(e,t){return function(){return t===e}},wt=function(){return xt({current:void 0,version:pt.unknown()})},xt=function(e){var t=e.current;return{current:t,version:e.version,isWindows:yt("Windows",t),isiOS:yt("iOS",t),isAndroid:yt("Android",t),isOSX:yt("OSX",t),isLinux:yt("Linux",t),isSolaris:yt("Solaris",t),isFreeBSD:yt("FreeBSD",t)}},Ct={unknown:wt,nu:xt,windows:g("Windows"),ios:g("iOS"),android:g("Android"),linux:g("Linux"),osx:g("OSX"),solaris:g("Solaris"),freebsd:g("FreeBSD")},kt=function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||i||a&&!0===/mobile/i.test(n),l=e.isiOS()||e.isAndroid(),u=l&&!s,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:g(r),isiPhone:g(o),isTablet:g(s),isPhone:g(u),isTouch:g(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:g(c)}},_t=function(e,t){var n=String(t).toLowerCase();return K(e,function(e){return e.search(n)})},Et=function(e,t){return _t(e,t).map(function(e){var n=pt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},At=function(e,t){return _t(e,t).map(function(e){var n=pt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},St={detectBrowser:Et,detectOs:At},Ot=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Tt=function(e){return function(t){return Be(t,e)}},Dt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Be(e,"edge/")&&Be(e,"chrome")&&Be(e,"safari")&&Be(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ot],search:function(e){return Be(e,"chrome")&&!Be(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Be(e,"msie")||Be(e,"trident")}},{name:"Opera",versionRegexes:[Ot,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Tt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Tt("firefox")},{name:"Safari",versionRegexes:[Ot,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Be(e,"safari")||Be(e,"mobile/"))&&Be(e,"applewebkit")}}],Nt=[{name:"Windows",search:Tt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Be(e,"iphone")||Be(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Tt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Tt("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Tt("linux"),versionRegexes:[]},{name:"Solaris",search:Tt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Tt("freebsd"),versionRegexes:[]}],Ft={browsers:g(Dt),oses:g(Nt)},Lt=function(e){var t=Ft.browsers(),n=Ft.oses(),r=St.detectBrowser(t,e).fold(bt.unknown,bt.nu),o=St.detectOs(n,e).fold(Ct.unknown,Ct.nu);return{browser:r,os:o,deviceType:kt(o,r,e)}},Pt={detect:Lt},Bt=Ie(function(){var t=e.navigator.userAgent;return Pt.detect(t)}),Rt={detect:Bt},qt=ye,Mt=be,jt=function(e,t){var n=e.dom();if(n.nodeType!==qt)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},It=function(e){return e.nodeType!==qt&&e.nodeType!==Mt||0===e.childElementCount},$t=function(t,n){var r=void 0===n?e.document:n.dom();return It(r)?[]:$(r.querySelectorAll(t),We.fromDom)},zt=function(t,n){var r=void 0===n?e.document:n.dom();return It(r)?O.none():O.from(r.querySelector(t)).map(We.fromDom)},Ht=function(e,t){return e.dom()===t.dom()},Vt=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Ut=function(e,t){return lt.documentPositionContainedBy(e.dom(),t.dom())},Wt=Rt.detect().browser,Kt=Wt.isIE()?Ut:Vt,Gt=jt,Yt=function(e){return We.fromDom(e.dom().ownerDocument)},Xt=function(e){return We.fromDom(e.dom().ownerDocument.defaultView)},Jt=function(e){return O.from(e.dom().parentNode).map(We.fromDom)},Zt=function(e,t){for(var n=B(t)?t:w,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=We.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},Qt=function(e){return O.from(e.dom().previousSibling).map(We.fromDom)},en=function(e){return O.from(e.dom().nextSibling).map(We.fromDom)},tn=function(e){return $(e.dom().childNodes,We.fromDom)},nn=function(e,t){var n=e.dom().childNodes;return O.from(n[t]).map(We.fromDom)},rn=function(e){return nn(e,0)},on=(ue("element","offset"),function(e,t){Jt(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})}),an=function(e,t){en(e).fold(function(){Jt(e).each(function(e){ln(e,t)})},function(e){on(e,t)})},sn=function(e,t){rn(e).fold(function(){ln(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},ln=function(e,t){e.dom().appendChild(t.dom())},un=function(e,t){on(e,t),ln(t,e)},cn=function(e,t){z(t,function(t){on(e,t)})},fn=function(e,t){z(t,function(n,r){var o=0===r?e:t[r-1];an(o,n)})},dn=function(e,t){z(t,function(t){ln(e,t)})},hn=function(e){e.dom().textContent="",z(tn(e),function(e){pn(e)})},pn=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},mn=function(e){var t=tn(e);t.length>0&&cn(e,t),pn(e)},gn=(ue("width","height"),ue("width","height"),ue("rows","columns")),vn=ue("row","column"),bn=(ue("x","y"),ue("element","rowspan","colspan")),yn=ue("element","rowspan","colspan","isNew"),wn=ue("element","rowspan","colspan","row","column"),xn=ue("element","cells","section"),Cn=ue("element","isNew"),kn=ue("element","cells","section","isNew"),_n=ue("cells","section"),En=ue("details","section"),An=ue("startRow","startCol","finishRow","finishCol"),Sn=function(e,t,n){return V(Zt(e,n),t)},On=function(e,t){return V(tn(e),t)},Tn=function(e,t){var n=[];return z(tn(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Tn(e,t))}),n},Dn=function(e,t,n){return Sn(e,function(e){return jt(e,t)},n)},Nn=function(e,t){return On(e,function(e){return jt(e,t)})},Fn=function(e,t){return $t(t,e)},Ln=function(e,t,n){for(var r=e.dom(),o=B(n)?n:g(!1);r.parentNode;){r=r.parentNode;var i=We.fromDom(r);if(t(i))return O.some(i);if(o(i))break}return O.none()},Pn=function(e,t,r){return n(function(e,t){return t(e)},Ln,e,t,r)},Bn=function(e,t){var n=function(e){return t(We.fromDom(e))};return K(e.dom().childNodes,n).map(We.fromDom)},Rn=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=We.fromDom(e.childNodes[r]);if(t(o))return O.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return O.none()};return n(e.dom())},qn=function(e,t,n){return Ln(e,function(e){return jt(e,t)},n)},Mn=function(e,t){return Bn(e,function(e){return jt(e,t)})},jn=function(e,t){return zt(t,e)},In=function(e,t,r){return n(jt,qn,e,t,r)},$n=function(e,t){return zn(e,t,g(!0))},zn=function(e,t,n){return Z(tn(e),function(e){return jt(e,t)?n(e)?[e]:[]:zn(e,t,n)})},Hn={firstLayer:$n,filterFirstLayer:zn},Vn=function(e,t,n){if(void 0===n&&(n=w),n(t))return O.none();if(j(e,xe(t)))return O.some(t);var r=function(e){return jt(e,"table")||n(e)};return qn(t,e.join(","),r)},Un=function(e,t){return Vn(["td","th"],e,t)},Wn=function(e){return Hn.firstLayer(e,"th,td")},Kn=function(e,t){return Vn(["caption","tr","tbody","tfoot","thead"],e,t)},Gn=function(e,t){return Jt(t).map(function(t){return Nn(t,e)})},Yn=t(Gn,"th,td"),Xn=t(Gn,"tr"),Jn=function(e){return jn(e,"th,td")},Zn=function(e,t){return In(e,"table",t)},Qn=function(e,t){return Vn(["tr"],e,t)},er=function(e){return Hn.firstLayer(e,"tr")},tr=function(e,t){return parseInt(De(e,t),10)},nr=function(e,t,n){var r=tr(e,t),o=tr(e,n);return gn(r,o)},rr={cell:Un,firstCell:Jn,cells:Wn,neighbourCells:Yn,table:Zn,row:Qn,rows:er,notCell:Kn,neighbourRows:Xn,attr:tr,grid:nr},or=function(e){var t=rr.rows(e);return $(t,function(e){var t=e,n=Jt(t),r=n.map(function(e){var t=xe(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"}).getOr("tbody"),o=$(rr.cells(e),function(e){var t=Ne(e,"rowspan")?parseInt(De(e,"rowspan"),10):1,n=Ne(e,"colspan")?parseInt(De(e,"colspan"),10):1;return bn(e,t,n)});return xn(t,o,r)})},ir=function(e,t){return $(e,function(e){var n=$(rr.cells(e),function(e){var t=Ne(e,"rowspan")?parseInt(De(e,"rowspan"),10):1,n=Ne(e,"colspan")?parseInt(De(e,"colspan"),10):1;return bn(e,t,n)});return xn(e,n,t.section())})},ar={fromTable:or,fromPastedRows:ir},sr=function(e,t){return e+","+t},lr=function(e,t,n){var r=e.access()[sr(t,n)];return void 0!==r?O.some(r):O.none()},ur=function(e,t,n){var r=cr(e,function(e){return n(t,e.element())});return r.length>0?O.some(r[0]):O.none()},cr=function(e,t){var n=Z(e.all(),function(e){return e.cells()});return V(n,t)},fr=function(e){var t={},n=[],r=e.length,o=0;z(e,function(e,r){var i=[];z(e.cells(),function(e){for(var n=0;void 0!==t[sr(r,n)];)n++;for(var a=wn(e.element(),e.rowspan(),e.colspan(),r,n),s=0;s<e.colspan();s++)for(var l=0;l<e.rowspan();l++){var u=r+l,c=n+s,f=sr(u,c);t[f]=a,o=Math.max(o,c+1)}i.push(a)}),n.push(xn(e.element(),i,e.section()))});var i=gn(r,o);return{grid:g(i),access:g(t),all:g(n)}},dr=function(e){var t=$(e.all(),function(e){return e.cells()});return J(t)},hr={generate:fr,getAt:lr,findItem:ur,filterItems:cr,justCells:dr},pr=ue("minRow","minCol","maxRow","maxCol"),mr=function(e,t){var n=e.grid().columns(),r=e.grid().rows(),o=r,i=n,a=0,s=0;return oe(e.access(),function(e){if(t(e)){var n=e.row(),r=n+e.rowspan()-1,l=e.column(),u=l+e.colspan()-1;n<o?o=n:r>a&&(a=r),l<i?i=l:u>s&&(s=u)}}),pr(o,i,a,s)},gr=function(e,t,n){var r=e[n].element(),o=We.fromTag("td");ln(o,We.fromTag("br")),(t?ln:sn)(r,o)},vr=function(e,t,n,r){for(var o=t.grid().columns(),i=t.grid().rows(),a=0;a<i;a++)for(var s=!1,l=0;l<o;l++)if(!(a<n.minRow()||a>n.maxRow()||l<n.minCol()||l>n.maxCol())){var u=hr.getAt(t,a,l).filter(r).isNone();u?gr(e,s,a):s=!0}},br=function(e,t){var n=V(Hn.firstLayer(e,"tr"),function(e){return 0===e.dom().childElementCount});z(n,pn),t.minCol()!==t.maxCol()&&t.minRow()!==t.maxRow()||z(Hn.firstLayer(e,"th,td"),function(e){Fe(e,"rowspan"),Fe(e,"colspan")}),Fe(e,"width"),Fe(e,"height"),rt(e,"width"),rt(e,"height")},yr=function(e,t){var n=function(e){return jt(e.element(),t)},r=ar.fromTable(e),o=hr.generate(r),i=mr(o,n),a="th:not("+t+"),td:not("+t+")",s=Hn.filterFirstLayer(e,"th,td",function(e){return jt(e,a)});return z(s,pn),vr(r,o,i,n),br(e,i),e},wr={extract:yr},xr=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?O.from(t.dom().nodeValue):O.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(Ae,"text"),Cr=function(e){return xr.get(e)},kr=function(e){return xr.getOption(e)},_r=function(e,t){xr.set(e,t)},Er=function(e){return"img"===xe(e)?1:kr(e).fold(function(){return tn(e).length},function(e){return e.length})},Ar=function(e){return kr(e).filter(function(e){return 0!==e.trim().length||e.indexOf(" ")>-1}).isSome()},Sr=["img","br"],Or=function(e){return Ar(e)||j(Sr,xe(e))},Tr=function(e){return Rn(e,Or)},Dr=function(e){return Nr(e,Or)},Nr=function(e,t){var n=function(e){for(var r=tn(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return O.some(i);var a=n(i);if(a.isSome())return a}return O.none()};return n(e)},Fr=function(e,t){return We.fromDom(e.dom().cloneNode(t))},Lr=function(e){return Fr(e,!1)},Pr=function(e){return Fr(e,!0)},Br=function(e,t){var n=We.fromTag(t),r=Le(e);return Te(n,r),n},Rr=function(e,t){var n=Br(e,t),r=tn(Pr(e));return dn(n,r),n},qr=function(){var e=We.fromTag("td");return ln(e,We.fromTag("br")),e},Mr=function(e,t,n){var r=Rr(e,t);return oe(n,function(e,t){null===e?Fe(r,t):Oe(r,t,e)}),r},jr=function(e){return e},Ir=function(e){return function(){return We.fromTag("tr",e.dom())}},$r=function(e,t,n){return Tr(e).map(function(r){var o=n.join(","),i=Dn(r,o,function(t){return Ht(t,e)});return U(i,function(e,t){var n=Lr(t);return Fe(n,"contenteditable"),ln(e,n),n},t)}).getOr(t)},zr=function(e,t,n){var r=function(t){var r=Yt(t.element()),o=We.fromTag(xe(t.element()),r.dom()),i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=i.length>0?$r(t.element(),o,i):o;return ln(a,We.fromTag("br")),ot(t.element(),o),rt(o,"height"),1!==t.colspan()&&rt(t.element(),"width"),e(t.element(),o),o};return{row:Ir(t),cell:r,replace:Mr,gap:qr}},Hr=function(e){return{row:Ir(e),cell:qr,replace:jr,gap:qr}},Vr={cellOperations:zr,paste:Hr},Ur=function(t,n){var r=n||e.document,o=r.createElement("div");return o.innerHTML=t,tn(We.fromDom(o))},Wr=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),i=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&i>=e.startRow()},Kr=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},Gr=function(e,n){for(var r=!0,o=t(Kr,n),i=n.startRow();i<=n.finishRow();i++)for(var a=n.startCol();a<=n.finishCol();a++)r=r&&hr.getAt(e,i,a).exists(o);return r?O.some(n):O.none()},Yr={inSelection:Wr,isWithin:Kr,isRectangular:Gr},Xr=function(e,t){return An(Math.min(e.row(),t.row()),Math.min(e.column(),t.column()),Math.max(e.row()+e.rowspan()-1,t.row()+t.rowspan()-1),Math.max(e.column()+e.colspan()-1,t.column()+t.colspan()-1))},Jr=function(e,t,n){var r=hr.findItem(e,t,Ht),o=hr.findItem(e,n,Ht);return r.bind(function(e){return o.map(function(t){return Xr(e,t)})})},Zr=function(e,t,n){return Jr(e,t,n).bind(function(t){return Yr.isRectangular(e,t)})},Qr={getAnyBox:Jr,getBox:Zr},eo=function(e,t,n,r){return hr.findItem(e,t,Ht).bind(function(t){var o=n>0?t.row()+t.rowspan()-1:t.row(),i=r>0?t.column()+t.colspan()-1:t.column();return hr.getAt(e,o+n,i+r).map(function(e){return e.element()})})},to=function(e,n,r){return Qr.getAnyBox(e,n,r).map(function(n){var r=hr.filterItems(e,t(Yr.inSelection,n));return $(r,function(e){return e.element()})})},no=function(e,t){var n=function(e,t){return Kt(t,e)};return hr.findItem(e,t,n).map(function(e){return e.element()})},ro={moveBy:eo,intercepts:to,parentCell:no},oo=function(e,t,n){return rr.table(e).bind(function(r){var o=lo(r);return ro.moveBy(o,e,t,n)})},io=function(e,t,n){var r=lo(e);return ro.intercepts(r,t,n)},ao=function(e,t,n,r,o){var i=lo(e),a=Ht(e,n)?O.some(t):ro.parentCell(i,t),s=Ht(e,o)?O.some(r):ro.parentCell(i,r);return a.bind(function(e){return s.bind(function(t){return ro.intercepts(i,e,t)})})},so=function(e,t,n){var r=lo(e);return Qr.getBox(r,t,n)},lo=function(e){var t=ar.fromTable(e);return hr.generate(t)},uo={moveBy:oo,intercepts:io,nestedIntercepts:ao,getBox:so},co=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],fo=ue("left","right"),ho=ue("first","second","splits"),po=function(e,n,r){var o=e.property().children(n);return G(o,t(e.eq,r)).map(function(e){return{before:g(o.slice(0,e)),after:g(o.slice(e+1))}})},mo=function(e,t,n){return po(e,t,n).map(function(n){var r=e.create().clone(t);return e.insert().appendAll(r,n.after()),e.insert().after(t,r),fo(t,r)})},go=function(e,t,n){return po(e,t,n).map(function(r){var o=e.create().clone(t);return e.insert().appendAll(o,r.before().concat([n])),e.insert().appendAll(t,r.after()),e.insert().before(t,o),fo(o,t)})},vo=function(e,t,n,r){var o=function(t,i,a){var s=ho(t,O.none(),a);return n(t)?ho(t,i,a):e.property().parent(t).bind(function(i){return r(e,i,t).map(function(e){var t=[{first:e.left,second:e.right}],r=n(i)?i:e.left();return o(r,O.some(e.right()),a.concat(t))})}).getOr(s)};return o(t,O.none(),[])},bo=function(e,t,n,r){return r(e,t,n[0],n.slice(1))},yo=function(e,t,n){return n.length>0?bo(e,t,n,wo):O.none()},wo=function(e,t,n,r){var o=t(e,n);return U(r,function(n,r){var o=t(e,r);return xo(e,n,o)},o)},xo=function(e,n,r){return n.bind(function(n){return r.filter(t(e.eq,n))})},Co=function(e,n){return t(e.eq,n)},ko=function(e,t,n,r){var o=e.property().children(t);if(e.eq(t,n[0]))return O.some([n[0]]);if(e.eq(t,r[0]))return O.some([r[0]]);var i=function(n){var r=ee(n),i=G(r,Co(e,t)).getOr(-1),a=i<r.length-1?r[i+1]:r[i];return G(o,Co(e,a))},a=i(n),s=i(r);return a.bind(function(e){return s.map(function(t){var n=Math.min(e,t),r=Math.max(e,t);return o.slice(n,r+1)})})},_o=function(e,t,n,r){void 0===r&&(r=w);var o=[t].concat(e.up().all(t)),i=[n].concat(e.up().all(n)),a=function(e){return G(e,r).fold(function(){return e},function(t){return e.slice(0,t+1)})},s=a(o),l=a(i),u=K(s,function(t){return I(l,Co(e,t))});return{firstpath:g(s),secondpath:g(l),shared:g(u)}},Eo=function(e,t,n){var r=_o(e,t,n);return r.shared().bind(function(t){return ko(e,t,r.firstpath(),r.secondpath())})},Ao={subset:Eo,ancestors:_o},So=yo,Oo=Ao.subset,To=Ao.ancestors,Do=go,No=mo,Fo=vo,Lo={sharedOne:So,subset:Oo,ancestors:To,breakToLeft:Do,breakToRight:No,breakPath:Fo},Po=r(),Bo=function(e,t){return Lo.sharedOne(Po,function(t,n){return e(n)},t)},Ro=function(e,t){return Lo.subset(Po,e,t)},qo=function(e,t,n){return Lo.ancestors(Po,e,t,n)},Mo=function(e,t){return Lo.breakToLeft(Po,e,t)},jo=function(e,t){return Lo.breakToRight(Po,e,t)},Io=function(e,t,n){return Lo.breakPath(Po,e,t,function(e,t,r){return n(t,r)})},$o={sharedOne:Bo,subset:Ro,ancestors:qo,breakToLeft:Mo,breakToRight:jo,breakPath:Io},zo=ge(["boxes","start","finish"],[]),Ho={create:zo},Vo=function(e){return qn(e,"table")},Uo=function(e,t,n){var r=function(e){return function(t){return void 0!==n&&n(t)||Ht(t,e)}};return Ht(e,t)?O.some(Ho.create({boxes:O.some([e]),start:e,finish:t})):Vo(e).bind(function(o){return Vo(t).bind(function(i){if(Ht(o,i))return O.some(Ho.create({boxes:uo.intercepts(o,e,t),start:e,finish:t}));if(Kt(o,i)){var a=Dn(t,"td,th",r(o)),s=a.length>0?a[a.length-1]:t;return O.some(Ho.create({boxes:uo.nestedIntercepts(o,e,o,t,i),start:e,finish:s}))}if(Kt(i,o)){var a=Dn(e,"td,th",r(i)),l=a.length>0?a[a.length-1]:e;return O.some(Ho.create({boxes:uo.nestedIntercepts(i,e,o,t,i),start:e,finish:l}))}return $o.ancestors(e,t).shared().bind(function(a){return In(a,"table",n).bind(function(n){var a=Dn(t,"td,th",r(n)),s=a.length>0?a[a.length-1]:t,l=Dn(e,"td,th",r(n)),u=l.length>0?l[l.length-1]:e;return O.some(Ho.create({boxes:uo.nestedIntercepts(n,e,o,t,i),start:u,finish:s}))})})})})},Wo=function(e,t){var n=Fn(e,t);return n.length>0?O.some(n):O.none()},Ko=function(e,t){return K(e,function(e){return jt(e,t)})},Go=function(e,t,n){return jn(e,t).bind(function(t){return jn(e,n).bind(function(e){return $o.sharedOne(Vo,[t,e]).map(function(n){return{first:g(t),last:g(e),table:g(n)}})})})},Yo=function(e,t){return qn(e,"table").bind(function(n){return jn(n,t).bind(function(t){return Uo(t,e).bind(function(e){return e.boxes().map(function(t){return{boxes:g(t),start:g(e.start()),finish:g(e.finish())}})})})})},Xo=function(e,t,n,r,o){return Ko(e,o).bind(function(e){return uo.moveBy(e,t,n).bind(function(e){return Yo(e,r)})})},Jo={identify:Uo,retrieve:Wo,shiftSelection:Xo,getEdges:Go},Zo=function(e,t){return Jo.retrieve(e,t)},Qo=function(e,t,n){return Jo.getEdges(e,t,n).bind(function(t){var n=function(t){return Ht(e,t)},r=qn(t.first(),"thead,tfoot,tbody,table",n),o=qn(t.last(),"thead,tfoot,tbody,table",n);return r.bind(function(e){return o.bind(function(n){return Ht(e,n)?uo.getBox(t.table(),t.first(),t.last()):O.none()})})})},ei={retrieve:Zo,retrieveBox:Qo},ti="data-mce-selected",ni={selected:g(ti),selectedSelector:g("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:g("[data-mce-selected]"),firstSelected:g("data-mce-first-selected"),firstSelectedSelector:g("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:g("data-mce-last-selected"),lastSelectedSelector:g("td[data-mce-last-selected],th[data-mce-last-selected]")},ri=function(t){if(!L(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return z(t,function(o,i){var a=ne(o);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!L(l))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var u=function(e){var t=ne(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!Q(n,function(e){return j(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:u,log:function(t){e.console.log(t,{constructors:n,constructor:s,params:o})}}}}),r},oi={generate:ri},ii=oi.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]),ai=function(e,t,n,r){return e.fold(t,n,r)},si={cata:ai,none:ii.none,multiple:ii.multiple,single:ii.single},li=function(e,t){return si.cata(t.get(),g([]),v,g([e]))},ui=function(e,t){var n=function(e){return Ne(e,"rowspan")&&parseInt(De(e,"rowspan"),10)>1||Ne(e,"colspan")&&parseInt(De(e,"colspan"),10)>1},r=li(e,t);return r.length>0&&Q(r,n)?O.some(r):O.none()},ci=function(e,t){return si.cata(t.get(),O.none,function(t,n){return 0===t.length?O.none():ei.retrieveBox(e,ni.firstSelectedSelector(),ni.lastSelectedSelector()).bind(function(e){return t.length>1?O.some({bounds:g(e),cells:g(t)}):O.none()})},O.none)},fi={mergable:ci,unmergable:ui,selection:li},di=function(e){return{element:g(e),mergable:O.none,unmergable:O.none,selection:g([e])}},hi=function(e,t,n){return{element:g(n),mergable:g(fi.mergable(t,e)),unmergable:g(fi.unmergable(n,e)),selection:g(fi.selection(n,e))}},pi=function(e){return di(e)},mi=ue("element","clipboard","generators"),gi=function(e,t,n,r,o){return{element:g(n),mergable:O.none,unmergable:O.none,selection:g(fi.selection(n,e)),clipboard:g(r),generators:g(o)}},vi={noMenu:di,forMenu:hi,notCell:pi,paste:mi,pasteRows:gi},bi=function(e){return rr.table(e[0]).map(Pr).map(function(e){return[wr.extract(e,ni.attributeSelector())]})},yi=function(e,t){return $(t,function(t){return e.selection.serializer.serialize(t.dom(),{})}).join("")},wi=function(e){return $(e,function(e){return e.dom().innerText}).join("")},xi=function(e,t,n,r){e.on("BeforeGetContent",function(n){var r=function(t){n.preventDefault(),bi(t).each(function(t){n.content="text"===n.format?wi(t):yi(e,t)})};!0===n.selection&&si.cata(t.get(),p,r,p)}),e.on("BeforeSetContent",function(t){if(!0===t.selection&&!0===t.paste){O.from(e.dom.getParent(e.selection.getStart(),"th,td")).each(function(o){var i=We.fromDom(o);rr.table(i).each(function(o){var a=V(Ur(t.content),function(e){return"meta"!==xe(e)});if(1===a.length&&"table"===xe(a[0])){t.preventDefault();var s=We.fromDom(e.getDoc()),l=Vr.paste(s),u=vi.paste(i,a[0],l);n.pasteCells(o,u).each(function(t){e.selection.setRng(t),e.focus(),r.clear(o)})}})})}})},Ci={registerEvents:xi},ki=o("height",function(e){var t=e.dom();return Ke(e)?t.getBoundingClientRect().height:t.offsetHeight}),_i=function(e){return ki.get(e)},Ei=function(e){return ki.getOuter(e)},Ai=o("width",function(e){return e.dom().offsetWidth}),Si=function(e){return Ai.get(e)},Oi=function(e){return Ai.getOuter(e)},Ti=Rt.detect(),Di=function(){return Ti.browser.isIE()||Ti.browser.isEdge()},Ni=function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},Fi=function(e,t,n){return Ni(et(e,t),n)},Li=function(e){var t=Fi(e,"padding-top",0),n=Fi(e,"padding-bottom",0),r=Fi(e,"border-top-width",0),o=Fi(e,"border-bottom-width",0),i=e.dom().getBoundingClientRect().height,a=et(e,"box-sizing"),s=r+o;return"border-box"===a?i:i-t-n-s},Pi=function(e){return Fi(e,"width",Si(e))},Bi=function(e){return Di()?Li(e):Fi(e,"height",_i(e))},Ri={getWidth:Pi,getHeight:Bi},qi=/(\d+(\.\d+)?)(\w|%)*/,Mi=/(\d+(\.\d+)?)%/,ji=/(\d+(\.\d+)?)px|em/,Ii=function(e,t){Ze(e,"width",t+"px")},$i=function(e,t){Ze(e,"width",t+"%")},zi=function(e,t){Ze(e,"height",t+"px")},Hi=function(e){return nt(e,"height").getOrThunk(function(){return Ri.getHeight(e)+"px"})},Vi=function(e,t,n,r){var o=rr.table(e).map(function(e){var r=n(e);return Math.floor(t/100*r)}).getOr(t);return r(e,o),o},Ui=function(e,t,n,r){var o=parseInt(e,10);return qe(e,"%")&&"table"!==xe(t)?Vi(t,o,n,r):o},Wi=function(e){var t=Hi(e);return t?Ui(t,e,_i,zi):_i(e)},Ki=function(e,t,n){return n(e)/Gi(e,t)},Gi=function(e,t){return Ne(e,t)?parseInt(De(e,t),10):1},Yi=function(e){return nt(e,"width").fold(function(){return O.from(De(e,"width"))},function(e){return O.some(e)})},Xi=function(e,t){return e/t.pixelWidth()*100},Ji=function(e,t,n){var r=Mi.exec(t);if(null!==r)return parseFloat(r[1]);var o=Si(e);return Xi(o,n)},Zi=function(e,t){return Yi(e).fold(function(){var n=Si(e);return Xi(n,t)},function(n){return Ji(e,n,t)})},Qi=function(e,t){return e/100*t.pixelWidth()},ea=function(e,t,n){var r=ji.exec(t);if(null!==r)return parseInt(r[1],10);var o=Mi.exec(t);if(null!==o){var i=parseFloat(o[1]);return Qi(i,n)}return Si(e)},ta=function(e,t){return Yi(e).fold(function(){return Si(e)},function(n){return ea(e,n,t)})},na=function(e){return Ki(e,"rowspan",Wi)},ra=function(e){return Yi(e).bind(function(e){var t=qi.exec(e);return null!==t?O.some({width:g(parseFloat(t[1])),unit:g(t[3])}):O.none()})},oa=function(e,t,n){Ze(e,"width",t+n)},ia={percentageBasedSizeRegex:g(Mi),pixelBasedSizeRegex:g(ji),setPixelWidth:Ii,setPercentageWidth:$i,setHeight:zi,getPixelWidth:ta,getPercentageWidth:Zi,getGenericWidth:ra,setGenericWidth:oa,getHeight:na,getRawWidth:Yi},aa=function(e,t){ia.getGenericWidth(e).each(function(n){var r=n.width()/2;ia.setGenericWidth(e,r,n.unit()),ia.setGenericWidth(t,r,n.unit())})},sa={halve:aa},la=function(e,t){var n=function(n,r){return la(e+n,t+r)};return{left:g(e),top:g(t),translate:n}},ua=la,ca=function(e){var t=e.getBoundingClientRect();return ua(t.left,t.top)},fa=function(e,t){return void 0!==e?e:void 0!==t?t:0},da=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement,i=fa(r.pageYOffset,o.scrollTop),a=fa(r.pageXOffset,o.scrollLeft),s=fa(o.clientTop,n.clientTop),l=fa(o.clientLeft,n.clientLeft);return ha(e).translate(a-l,i-s)},ha=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?ua(r.offsetLeft,r.offsetTop):Ke(e)?ca(t):ua(0,0)},pa=ue("row","y"),ma=ue("col","x"),ga=function(e){return da(e).left()+Oi(e)},va=function(e){return da(e).left()},ba=function(e,t){return ma(e,va(t))},ya=function(e,t){return ma(e,ga(t))},wa=function(e){return da(e).top()},xa=function(e,t){return pa(e,wa(t))},Ca=function(e,t){return pa(e,wa(t)+Ei(t))},ka=function(e,t,n){if(0===n.length)return[];var r=$(n.slice(1),function(t,n){return t.map(function(t){return e(n,t)})}),o=n[n.length-1].map(function(e){return t(n.length-1,e)});return r.concat([o])},_a=function(e){return-e},Ea={delta:v,positions:function(e){return ka(xa,Ca,e)},edge:wa},Aa={delta:v,edge:va,positions:function(e){return ka(ba,ya,e)}},Sa={delta:_a,edge:ga,positions:function(e){return ka(ya,ba,e)}},Oa={height:Ea,rtl:Sa,ltr:Aa},Ta={ltr:Oa.ltr,rtl:Oa.rtl},Da=function(e){var t=ar.fromTable(e);return hr.generate(t).grid()},Na={getGridSize:Da},Fa=function(){return Fa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Fa.apply(this,arguments)},La=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Pa=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return O.none()},Ba=function(e,t,n,r){n===r?Fe(e,t):Oe(e,t,n)},Ra=function(e,t){var n=[],r=[],o=function(t,o){var i=Mn(e,o).getOrThunk(function(){var t=We.fromTag(o,Yt(e).dom());return ln(e,t),t});hn(i);var a=$(t,function(e){e.isNew()&&n.push(e.element());var t=e.element();return hn(t),z(e.cells(),function(e){e.isNew()&&r.push(e.element()),Ba(e.element(),"colspan",e.colspan(),1),Ba(e.element(),"rowspan",e.rowspan(),1),ln(t,e.element())}),t});dn(i,a)},i=function(t){Mn(e,t).each(pn)},a=function(e,t){e.length>0?o(e,t):i(t)},s=[],l=[],u=[];return z(t,function(e){switch(e.section()){case"thead":s.push(e);break;case"tbody":l.push(e);break;case"tfoot":u.push(e)}}),a(s,"thead"),a(l,"tbody"),a(u,"tfoot"),{newRows:g(n),newCells:g(r)}},qa=function(e){return $(e,function(e){var t=Lr(e.element());return z(e.cells(),function(e){var n=Pr(e.element());Ba(n,"colspan",e.colspan(),1),Ba(n,"rowspan",e.rowspan(),1),ln(t,n)}),t})},Ma={render:Ra,copy:qa},ja=function(e,t){var n=De(e,t);return void 0===n||""===n?[]:n.split(" ")},Ia=function(e,t,n){var r=ja(e,t),o=r.concat([n]);return Oe(e,t,o.join(" ")),!0},$a=function(e,t,n){var r=V(ja(e,t),function(e){return e!==n});return r.length>0?Oe(e,t,r.join(" ")):Fe(e,t),!1},za=function(e){return void 0!==e.dom().classList},Ha=function(e){return ja(e,"class")},Va=function(e,t){return Ia(e,"class",t)},Ua=function(e,t){return $a(e,"class",t)},Wa=function(e,t){za(e)?e.dom().classList.add(t):Va(e,t)},Ka=function(e){0===(za(e)?e.dom().classList:Ha(e)).length&&Fe(e,"class")},Ga=function(e,t){if(za(e)){e.dom().classList.remove(t)}else Ua(e,t);Ka(e)},Ya=function(e,t){return za(e)&&e.dom().classList.contains(t)},Xa=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},Ja=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},Za=function(e,t){if(t<0||t>=e.length-1)return O.none();var n=e[t].fold(function(){var n=ee(e.slice(0,t));return Pa(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return O.some({value:e,delta:0})}),r=e[t+1].fold(function(){var n=e.slice(t+1);return Pa(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return O.some({value:e,delta:1})});return n.bind(function(e){return r.map(function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n})})},Qa=function(e){var t=e.grid(),n=Ja(0,t.columns()),r=Ja(0,t.rows());return $(n,function(t){return es(function(){return Z(r,function(n){return hr.getAt(e,n,t).filter(function(e){return e.column()===t}).fold(g([]),function(e){return[e]})})},function(e){return 1===e.colspan()},function(){return hr.getAt(e,0,t)})})},es=function(e,t,n){var r=e();return K(r,t).orThunk(function(){return O.from(r[0]).orThunk(n)}).map(function(e){return e.element()})},ts=function(e){var t=e.grid(),n=Ja(0,t.rows()),r=Ja(0,t.columns());return $(n,function(t){return es(function(){return Z(r,function(n){return hr.getAt(e,t,n).filter(function(e){return e.row()===t}).fold(g([]),function(e){return[e]})})},function(e){return 1===e.rowspan()},function(){return hr.getAt(e,t,0)})})},ns={columns:Qa,rows:ts},rs=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},os=rs("ephox-snooker"),is={resolve:os.resolve},as=function(e,t,n,r,o){var i=We.fromTag("div");return Qe(i,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Te(i,{"data-column":e,role:"presentation"}),i},ss=function(e,t,n,r,o){var i=We.fromTag("div");return Qe(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Te(i,{"data-row":e,role:"presentation"}),i},ls={col:as,row:ss},us=is.resolve("resizer-bar"),cs=is.resolve("resizer-rows"),fs=is.resolve("resizer-cols"),ds=function(e){var t=Fn(e.parent(),"."+us);z(t,pn)},hs=function(e,t,n){var r=e.origin();z(t,function(t,o){t.each(function(t){var o=n(r,t);Wa(o,us),ln(e.parent(),o)})})},ps=function(e,t,n,r){hs(e,t,function(e,t){var o=ls.col(t.col(),t.x()-e.left(),n.top()-e.top(),7,r);return Wa(o,fs),o})},ms=function(e,t,n,r){hs(e,t,function(e,t){var o=ls.row(t.row(),n.left()-e.left(),t.y()-e.top(),r,7);return Wa(o,cs),o})},gs=function(e,t,n,r,o,i){var a=da(t),s=n.length>0?o.positions(n,t):[];ms(e,s,a,Oi(t));var l=r.length>0?i.positions(r,t):[];ps(e,l,a,Ei(t))},vs=function(e,t,n,r){ds(e);var o=ar.fromTable(t),i=hr.generate(o),a=ns.rows(i),s=ns.columns(i);gs(e,t,a,s,n,r)},bs=function(e,t){var n=Fn(e.parent(),"."+us);z(n,t)},ys=function(e){bs(e,function(e){Ze(e,"display","none")})},ws=function(e){bs(e,function(e){Ze(e,"display","block")})},xs=function(e){return Ya(e,cs)},Cs=function(e){return Ya(e,fs)},ks={refresh:vs,hide:ys,show:ws,destroy:ds,isRowBar:xs,isColBar:Cs},_s=function(e,t,n){var r=e.cells(),o=r.slice(0,t),i=r.slice(t),a=o.concat([n]).concat(i);return As(e,a)},Es=function(e,t,n){e.cells()[t]=n},As=function(e,t){return _n(t,e.section())},Ss=function(e,t){var n=e.cells(),r=$(n,t);return _n(r,e.section())},Os=function(e,t){return e.cells()[t]},Ts=function(e,t){return Os(e,t).element()},Ds=function(e){return e.cells().length},Ns={addCell:_s,setCells:As,mutateCell:Es,getCell:Os,getCellElement:Ts,mapCells:Ss,cellLength:Ds},Fs=function(e,t){return $(e,function(e){return Ns.getCell(e,t)})},Ls=function(e,t){return e[t]},Ps=function(e,t){if(0===e.length)return 0;var n=e[0];return G(e,function(e){return!t(n.element(),e.element())}).fold(function(){return e.length},function(e){return e})},Bs=function(e,t,n,r){var o=Ls(e,t).cells().slice(n),i=Ps(o,r),a=Fs(e,n).slice(t),s=Ps(a,r);return{colspan:g(i),rowspan:g(s)}},Rs={subgrid:Bs},qs=function(e,t){var n=$(e,function(e,t){return $(e.cells(),function(e,t){return!1})}),r=function(e,t,r,o){for(var i=e;i<e+r;i++)for(var a=t;a<t+o;a++)n[i][a]=!0};return $(e,function(o,i){var a=Z(o.cells(),function(o,a){if(!1===n[i][a]){var s=Rs.subgrid(e,i,a,t);return r(i,a,s.rowspan(),s.colspan()),[yn(o.element(),s.rowspan(),s.colspan(),o.isNew())]}return[]});return En(a,o.section())})},Ms=function(e,t,n){for(var r=[],o=0;o<e.grid().rows();o++){for(var i=[],a=0;a<e.grid().columns();a++){var s=hr.getAt(e,o,a).map(function(e){return Cn(e.element(),n)}).getOrThunk(function(){return Cn(t.gap(),!0)});i.push(s)}var l=_n(i,e.all()[o].section());r.push(l)}return r},js={toDetails:qs,toGrid:Ms},Is=function(e,t){return js.toGrid(e,t,!1)},$s=function(e,t){var n=function(e){return Pa(e,function(e){return Jt(e.element()).map(function(e){var t=Jt(e).isNone();return Cn(e,t)})}).getOrThunk(function(){return Cn(t.row(),!0)})};return $(e,function(e){var t=n(e.details());return kn(t.element(),e.details(),e.section(),t.isNew())})},zs=function(e,t){var n=js.toDetails(e,Ht);return $s(n,t)},Hs=function(e,t){var n=J($(e.all(),function(e){return e.cells()}));return K(n,function(e){return Ht(t,e.element())})},Vs=function(e,t,n,r,o){return function(i,a,s,l,u){var c=ar.fromTable(a),f=hr.generate(c);return t(f,s).map(function(t){var n=Is(f,l),r=e(n,t,Ht,o(l)),i=zs(r.grid(),l);return{grid:g(i),cursor:r.cursor}}).fold(function(){return O.none()},function(e){var t=Ma.render(a,e.grid());return n(a,e.grid(),u),r(a),ks.refresh(i,a,Oa.height,u),O.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})}},Us=function(e,t){return rr.cell(t.element()).bind(function(t){return Hs(e,t)})},Ws=function(e,t){return rr.cell(t.element()).bind(function(n){return Hs(e,n).map(function(e){return Fa({},e,{generators:t.generators,clipboard:t.clipboard})})})},Ks=function(e,t){var n=$(t.selection(),function(t){return rr.cell(t).bind(function(t){return Hs(e,t)})}),r=La(n);return r.length>0?O.some({cells:r,generators:t.generators,clipboard:t.clipboard}):O.none()},Gs=function(e,t){return t.mergable()},Ys=function(e,t){return t.unmergable()},Xs=function(e,t){var n=$(t.selection(),function(t){return rr.cell(t).bind(function(t){return Hs(e,t)})}),r=La(n);return r.length>0?O.some(r):O.none()},Js=function(e){var t=function(t){return e===t},n=function(t){return Js(e)},r=function(t){return Js(e)},o=function(t){return Js(t(e))},i=function(t){return Js(e)},a=function(t){t(e)},s=function(t){return t(e)},l=function(t,n){return n(e)},u=function(t){return t(e)},c=function(t){return t(e)},f=function(){return O.some(e)};return{is:t,isValue:x,isError:w,getOr:g(e),getOrThunk:g(e),getOrDie:g(e),or:n,orThunk:r,fold:l,map:o,mapError:i,each:a,bind:s,exists:u,forall:c,toOption:f}},Zs=function(e){var t=function(e){return e()},n=function(){return y(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return Zs(e)},a=function(t){return Zs(t(e))},s=function(t){return Zs(e)};return{is:w,isValue:w,isError:x,getOr:v,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:p,bind:s,exists:w,forall:x,toOption:O.none}},Qs=function(e,t){return e.fold(function(){return Zs(t)},Js)},el={value:Js,error:Zs,fromOption:Qs},tl=function(e,t,n){if(e.row()>=t.length||e.column()>Ns.cellLength(t[0]))return el.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),o=r[0].cells().slice(e.column()),i=Ns.cellLength(n[0]),a=n.length;return el.value({rowDelta:g(r.length-a),colDelta:g(o.length-i)})},nl=function(e,t){var n=Ns.cellLength(e[0]),r=Ns.cellLength(t[0]);return{rowDelta:g(0),colDelta:g(n-r)}},rl=function(e,t){return $(e,function(){return Cn(t.cell(),!0)})},ol=function(e,t,n){return e.concat(Xa(t,function(t){return Ns.setCells(e[e.length-1],rl(e[e.length-1].cells(),n))}))},il=function(e,t,n){return $(e,function(e){return Ns.setCells(e,e.cells().concat(rl(Ja(0,t),n)))})},al=function(e,t,n){var r=t.colDelta()<0?il:v;return(t.rowDelta()<0?ol:v)(r(e,Math.abs(t.colDelta()),n),Math.abs(t.rowDelta()),n)},sl={measure:tl,measureWidth:nl,tailor:al},ll=function(e,t,n,r){if(0===e.length)return e;for(var o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)Ns.mutateCell(e[o],i,Cn(r(),!1));return e},ul=function(e,t,n,r){for(var o=!0,i=0;i<e.length;i++)for(var a=0;a<Ns.cellLength(e[0]);a++){var s=Ns.getCellElement(e[i],a),l=n(s,t);!0===l&&!1===o?Ns.mutateCell(e[i],a,Cn(r(),!0)):!0===l&&(o=!1)}return e},cl=function(e,t){return W(e,function(e,n){return I(e,function(e){return t(e.element(),n.element())})?e:e.concat([n])},[])},fl=function(e,t,n,r){if(t>0&&t<e.length){var o=e[t-1].cells(),i=cl(o,n);z(i,function(o){for(var i=O.none(),a=t;a<e.length;a++)!function(t){for(var a=0;a<Ns.cellLength(e[0]);a++)!function(a){var s=e[t].cells()[a];n(s.element(),o.element())&&(i.isNone()&&(i=O.some(r())),i.each(function(n){Ns.mutateCell(e[t],a,Cn(n,!0))}))}(a)}(a)})}return e},dl={merge:ll,unmerge:ul,splitRows:fl},hl=function(e,n,r,o){var i=Ns.getCell(e[n],r),a=t(o,i.element()),s=e[n];return e.length>1&&Ns.cellLength(s)>1&&(r>0&&a(Ns.getCellElement(s,r-1))||r<s.cells().length-1&&a(Ns.getCellElement(s,r+1))||n>0&&a(Ns.getCellElement(e[n-1],r))||n<e.length-1&&a(Ns.getCellElement(e[n+1],r)))},pl=function(e,t,n,r,o){for(var i=e.row(),a=e.column(),s=n.length,l=Ns.cellLength(n[0]),u=i+s,c=a+l,f=i;f<u;f++)for(var d=a;d<c;d++){hl(t,f,d,o)&&dl.unmerge(t,Ns.getCellElement(t[f],d),o,r.cell);var h=Ns.getCellElement(n[f-i],d-a),p=r.replace(h);Ns.mutateCell(t[f],d,Cn(p,!0))}return t},ml=function(e,t,n,r,o){return sl.measure(e,t,n).map(function(i){var a=sl.tailor(t,i,r);return pl(e,a,n,r,o)})},gl=function(e,t,n,r,o){dl.splitRows(t,e,o,r.cell);var i=sl.measureWidth(n,t),a=sl.tailor(n,i,r),s=sl.measureWidth(t,a),l=sl.tailor(t,s,r);return l.slice(0,e).concat(a).concat(l.slice(e,l.length))},vl={merge:ml,insert:gl},bl=function(e,t,n,r,o){var i=e.slice(0,t),a=e.slice(t),s=Ns.mapCells(e[n],function(n,i){return t>0&&t<e.length&&r(Ns.getCellElement(e[t-1],i),Ns.getCellElement(e[t],i))?Ns.getCell(e[t],i):Cn(o(n.element(),r),!0)});return i.concat([s]).concat(a)},yl=function(e,t,n,r,o){return $(e,function(e){var i=t>0&&t<Ns.cellLength(e)&&r(Ns.getCellElement(e,t-1),Ns.getCellElement(e,t)),a=i?Ns.getCell(e,t):Cn(o(Ns.getCellElement(e,n),r),!0);return Ns.addCell(e,t,a)})},wl=function(e,t,n,r,o){var i=n+1;return $(e,function(e,a){var s=a===t,l=s?Cn(o(Ns.getCellElement(e,n),r),!0):Ns.getCell(e,n);return Ns.addCell(e,i,l)})},xl=function(e,t,n,r,o){var i=t+1,a=e.slice(0,i),s=e.slice(i),l=Ns.mapCells(e[t],function(e,t){return t===n?Cn(o(e.element(),r),!0):e});return a.concat([l]).concat(s)},Cl=function(e,t,n){var r=$(e,function(e){var r=e.cells().slice(0,t).concat(e.cells().slice(n+1));return _n(r,e.section())});return V(r,function(e){return e.cells().length>0})},kl=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},_l={insertRowAt:bl,insertColumnAt:yl,splitCellIntoColumns:wl,splitCellIntoRows:xl,deleteRowsAt:kl,deleteColumnsAt:Cl},El=function(e,t,n,r){var o=function(e){return I(t,function(t){return n(e.element(),t.element())})};return $(e,function(e){return Ns.mapCells(e,function(e){return o(e)?Cn(r(e.element(),n),!0):e})})},Al=function(e,t,n,r){return void 0!==Ns.getCellElement(e[t],n)&&t>0&&r(Ns.getCellElement(e[t-1],n),Ns.getCellElement(e[t],n))},Sl=function(e,t,n){return t>0&&n(Ns.getCellElement(e,t-1),Ns.getCellElement(e,t))},Ol=function(e,t,n,r){var o=Z(e,function(r,o){return Al(e,o,t,n)||Sl(r,t,n)?[]:[Ns.getCell(r,t)]});return El(e,o,n,r)},Tl=function(e,t,n,r){var o=e[t],i=Z(o.cells(),function(r,i){return Al(e,t,i,n)||Sl(o,i,n)?[]:[r]});return El(e,i,n,r)},Dl={replaceColumn:Ol,replaceRow:Tl},Nl=oi.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Fl=Fa({},Nl),Ll=function(e,t){return 0===e.length?Fl.none():1===e.length?Fl.only(0):0===t?Fl.left(0,1):t===e.length-1?Fl.right(t-1,t):t>0&&t<e.length-1?Fl.middle(t-1,t,t+1):Fl.none()},Pl=function(e,t,n,r){var o=e.slice(0),i=Ll(e,t),a=function(e){return $(e,g(0))},s=g(a(o)),l=function(e){return r.singleColumnWidth(o[e],n)},u=function(e,t){if(n>=0){var i=Math.max(r.minCellWidth(),o[t]-n);return a(o.slice(0,e)).concat([n,i-o[t]]).concat(a(o.slice(t+1)))}var s=Math.max(r.minCellWidth(),o[e]+n),l=o[e]-s;return a(o.slice(0,e)).concat([s-o[e],l]).concat(a(o.slice(t+1)))},c=u,f=function(e,t,n){return u(t,n)},d=function(e,t){if(n>=0)return a(o.slice(0,t)).concat([n]);var i=Math.max(r.minCellWidth(),o[t]+n);return a(o.slice(0,t)).concat([i-o[t]])};return i.fold(s,l,c,f,d)},Bl={determine:Pl},Rl=function(e,t){return Ne(e,t)&&parseInt(De(e,t),10)>1},ql=function(e){return Rl(e,"colspan")},Ml=function(e){return Rl(e,"rowspan")},jl=function(e,t){return parseInt(et(e,t),10)},Il={hasColspan:ql,hasRowspan:Ml,minWidth:g(10),minHeight:g(10),getInt:jl},$l=function(e,t,n){return nt(e,t).fold(function(){return n(e)+"px"},function(e){return e})},zl=function(e,t){return $l(e,"width",function(e){return ia.getPixelWidth(e,t)})},Hl=function(e){return $l(e,"height",ia.getHeight)},Vl=function(e,t,n,r,o){var i=ns.columns(e),a=$(i,function(e){return e.map(t.edge)});return $(i,function(e,t){return e.filter(b(Il.hasColspan)).fold(function(){var e=Za(a,t);return r(e)},function(e){return n(e,o)})})},Ul=function(e){return e.map(function(e){return e+"px"}).getOr("")},Wl=function(e,t,n){return Vl(e,t,zl,Ul,n)},Kl=function(e,t,n){return Vl(e,t,ia.getPercentageWidth,function(e){return e.fold(function(){return n.minCellWidth()},function(e){return e/n.pixelWidth()*100})},n)},Gl=function(e,t,n){return Vl(e,t,ia.getPixelWidth,function(e){return e.getOrThunk(n.minCellWidth)},n)},Yl=function(e,t,n,r){var o=ns.rows(e),i=$(o,function(e){return e.map(t.edge)});return $(o,function(e,t){return e.filter(b(Il.hasRowspan)).fold(function(){var e=Za(i,t);return r(e)},function(e){return n(e)})})},Xl=function(e,t){return Yl(e,t,ia.getHeight,function(e){return e.getOrThunk(Il.minHeight)})},Jl=function(e,t){return Yl(e,t,Hl,Ul)},Zl={getRawWidths:Wl,getPixelWidths:Gl,getPercentageWidths:Kl,getPixelHeights:Xl,getRawHeights:Jl},Ql=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},eu=function(e,t){var n=hr.justCells(e);return $(n,function(e){var n=Ql(e.column(),e.column()+e.colspan(),t);return{element:e.element,width:g(n),colspan:e.colspan}})},tu=function(e,t){var n=hr.justCells(e);return $(n,function(e){var n=Ql(e.row(),e.row()+e.rowspan(),t);return{element:e.element,height:g(n),rowspan:e.rowspan}})},nu=function(e,t){return $(e.all(),function(e,n){return{element:e.element,height:g(t[n])}})},ru={recalculateWidth:eu,recalculateHeight:tu,matchRowHeight:nu},ou=function(e,t){var n=parseFloat(e),r=Si(t),o=function(e){return e/r*100},i=function(e,t){return[100-e]},a=function(){return Il.minWidth()/r*100},s=function(e,t,r){var o=r/100,i=o*n;ia.setPercentageWidth(e,n+i)};return{width:g(n),pixelWidth:g(r),getWidths:Zl.getPercentageWidths,getCellDelta:o,singleColumnWidth:i,minCellWidth:a,setElementWidth:ia.setPercentageWidth,setTableWidth:s}},iu=function(e){var t=v,n=function(e,t){return[Math.max(Il.minWidth(),e+t)-e]},r=function(e,t,n){var r=U(t,function(e,t){return e+t},0);ia.setPixelWidth(e,r)};return{width:g(e),pixelWidth:g(e),getWidths:Zl.getPixelWidths,getCellDelta:t,singleColumnWidth:n,minCellWidth:Il.minWidth,setElementWidth:ia.setPixelWidth,setTableWidth:r}},au=function(e,t){var n=ia.percentageBasedSizeRegex().exec(t);if(null!==n)return ou(n[1],e);var r=ia.pixelBasedSizeRegex().exec(t);if(null!==r){var o=parseInt(r[1],10);return iu(o)}var i=Si(e);return iu(i)},su=function(e){return ia.getRawWidth(e).fold(function(){var t=Si(e);return iu(t)},function(t){return au(e,t)})},lu={getTableSize:su},uu=function(e){return hr.generate(e)},cu=function(e){return U(e,function(e,t){return e+t},0)},fu=function(e){var t=ar.fromTable(e);return uu(t)},du=function(e,t,n,r){var o=lu.getTableSize(e),i=o.getCellDelta(t),a=fu(e),s=o.getWidths(a,r,o),l=Bl.determine(s,n,i,o),u=$(l,function(e,t){return e+s[t]}),c=ru.recalculateWidth(a,u);z(c,function(e){o.setElementWidth(e.element(),e.width())}),n===a.grid().columns()-1&&o.setTableWidth(e,u,i)},hu=function(e,t,n,r){var o=fu(e),i=Zl.getPixelHeights(o,r),a=$(i,function(e,r){return n===r?Math.max(t+e,Il.minHeight()):e}),s=ru.recalculateHeight(o,a),l=ru.matchRowHeight(o,a);z(l,function(e){ia.setHeight(e.element(),e.height())}),z(s,function(e){ia.setHeight(e.element(),e.height())});var u=cu(a);ia.setHeight(e,u)},pu=function(e,t,n){var r=lu.getTableSize(e),o=uu(t),i=r.getWidths(o,n,r),a=ru.recalculateWidth(o,i);z(a,function(e){r.setElementWidth(e.element(),e.width())}),a.length>0&&r.setTableWidth(e,i,r.getCellDelta(0))},mu={adjustWidth:du,adjustHeight:hu,adjustWidthTo:pu},gu=function(e,t){return vu(e,t,{validate:B,label:"function"})},vu=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return he("required",t),me(t),function(r){var o=ne(r);Q(t,function(e){return j(o,e)})||fe(t,o),e(t,o);var i=V(t,function(e){return!n.validate(r[e],e)});return i.length>0&&pe(i,n.label),r}},bu=function(e,t){var n=V(t,function(t){return!j(e,t)});n.length>0&&de(n)},yu=function(e){return gu(bu,e)},wu=yu(["cell","row","replace","gap"]),xu=function(e){var t=Ne(e,"colspan")?parseInt(De(e,"colspan"),10):1,n=Ne(e,"rowspan")?parseInt(De(e,"rowspan"),10):1;return{element:g(e),colspan:g(t),rowspan:g(n)}},Cu=function(e,t){void 0===t&&(t=xu),wu(e);var n=h(O.none()),r=function(t){return e.cell(t)},o=function(e){var n=t(e);return r(n)},i=function(e){var t=o(e);return n.get().isNone()&&n.set(O.some(t)),a=O.some({item:e,replacement:t}),t},a=O.none();return{getOrInit:function(e,t){return a.fold(function(){return i(e)},function(n){return t(e,n.item)?n.replacement:i(e)})},cursor:n.get}},ku=function(e,t){return function(n){var r=h(O.none());wu(n);var o=[],i=function(e,t){return K(o,function(n){return t(n.item,e)})},a=function(i){var a={scope:e},s=n.replace(i,t,a);return o.push({item:i,sub:s}),r.get().isNone()&&r.set(O.some(s)),s};return{replaceOrInit:function(e,t){return i(e,t).fold(function(){return a(e)},function(n){return t(e,n.item)?n.sub:a(e)})},cursor:r.get}}},_u=function(e){wu(e);var t=h(O.none());return{combine:function(n){return t.get().isNone()&&t.set(O.some(n)),function(){var t=e.cell({element:g(n),colspan:g(1),rowspan:g(1)});return rt(t,"width"),rt(n,"width"),t}},cursor:t.get}},Eu={modification:Cu,transform:ku,merging:_u},Au=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Su=function(e,t){var n=e.property().name(t);return j(["ol","ul"],n)},Ou=function(e,t){var n=e.property().name(t);return j(Au,n)},Tu=function(e,t){var n=e.property().name(t);return j(["address","pre","p","h1","h2","h3","h4","h5","h6"],n)},Du=function(e,t){var n=e.property().name(t);return j(["h1","h2","h3","h4","h5","h6"],n)},Nu=function(e,t){return j(["div","li","td","th","blockquote","body","caption"],e.property().name(t))},Fu=function(e,t){return j(["br","img","hr","input"],e.property().name(t))},Lu=function(e,t){return"iframe"===e.property().name(t)},Pu=function(e,t){return!(Ou(e,t)||Fu(e,t))&&"li"!==e.property().name(t)},Bu={isBlock:Ou,isList:Su,isFormatting:Tu,isHeading:Du,isContainer:Nu,isEmptyTag:Fu,isFrame:Lu,isInline:Pu},Ru=r(),qu=function(e){return Bu.isBlock(Ru,e)},Mu=function(e){return Bu.isList(Ru,e)},ju=function(e){return Bu.isFormatting(Ru,e)},Iu=function(e){return Bu.isHeading(Ru,e)},$u=function(e){return Bu.isContainer(Ru,e)},zu=function(e){return Bu.isEmptyTag(Ru,e)},Hu=function(e){return Bu.isFrame(Ru,e)},Vu=function(e){return Bu.isInline(Ru,e)},Uu={isBlock:qu,isList:Mu,isFormatting:ju,isHeading:Iu,isContainer:$u,isEmptyTag:zu,isFrame:Hu,isInline:Vu},Wu=function(e){var t=function(e){return"br"===xe(e)},n=function(e){return Q(e,function(e){return t(e)||Ae(e)&&0===Cr(e).trim().length})},r=function(e){return"li"===xe(e)||Ln(e,Uu.isList).isSome()},o=function(e){return en(e).map(function(e){return!!Uu.isBlock(e)||!!Uu.isEmptyTag(e)&&"img"!==xe(e)}).getOr(!1)},i=function(e){return Dr(e).bind(function(n){var i=o(n);return Jt(n).map(function(o){return!0===i||r(o)||t(n)||Uu.isBlock(o)&&!Ht(e,o)?[]:[We.fromTag("br")]})}).getOr([])},a=function(){var t=Z(e,function(e){var t=tn(e);return n(t)?[]:t.concat(i(e))});return 0===t.length?[We.fromTag("br")]:t}();hn(e[0]),dn(e[0],a)},Ku={merge:Wu},Gu=function(e){0===rr.cells(e).length&&pn(e)},Yu=ue("grid","cursor"),Xu=function(e,t,n){return Ju(e,t,n).orThunk(function(){return Ju(e,0,0)})},Ju=function(e,t,n){return O.from(e[t]).bind(function(e){return O.from(e.cells()[n]).bind(function(e){return O.from(e.element())})})},Zu=function(e,t,n){return Yu(e,Ju(e,t,n))},Qu=function(e){return W(e,function(e,t){return I(e,function(e){return e.row()===t.row()})?e:e.concat([t])},[]).sort(function(e,t){return e.row()-t.row()})},ec=function(e){return W(e,function(e,t){return I(e,function(e){return e.column()===t.column()})?e:e.concat([t])},[]).sort(function(e,t){return e.column()-t.column()})},tc=function(e,t,n,r){var o=t.row(),i=t.row(),a=_l.insertRowAt(e,i,o,n,r.getOrInit);return Zu(a,i,t.column())},nc=function(e,t,n,r){var o=t[0].row(),i=t[0].row(),a=Qu(t),s=W(a,function(e,t){return _l.insertRowAt(e,i,o,n,r.getOrInit)},e);return Zu(s,i,t[0].column())},rc=function(e,t,n,r){var o=t.row(),i=t.row()+t.rowspan(),a=_l.insertRowAt(e,i,o,n,r.getOrInit);return Zu(a,i,t.column())},oc=function(e,t,n,r){var o=Qu(t),i=o[o.length-1].row(),a=o[o.length-1].row()+o[o.length-1].rowspan(),s=W(o,function(e,t){return _l.insertRowAt(e,a,i,n,r.getOrInit)},e);return Zu(s,a,t[0].column())},ic=function(e,t,n,r){var o=t.column(),i=t.column(),a=_l.insertColumnAt(e,i,o,n,r.getOrInit);return Zu(a,t.row(),i)},ac=function(e,t,n,r){var o=ec(t),i=o[0].column(),a=o[0].column(),s=W(o,function(e,t){return _l.insertColumnAt(e,a,i,n,r.getOrInit)},e);return Zu(s,t[0].row(),a)},sc=function(e,t,n,r){var o=t.column(),i=t.column()+t.colspan(),a=_l.insertColumnAt(e,i,o,n,r.getOrInit);return Zu(a,t.row(),i)},lc=function(e,t,n,r){var o=t[t.length-1].column(),i=t[t.length-1].column()+t[t.length-1].colspan(),a=ec(t),s=W(a,function(e,t){return _l.insertColumnAt(e,i,o,n,r.getOrInit)},e);return Zu(s,t[0].row(),i)},uc=function(e,t,n,r){var o=Dl.replaceRow(e,t.row(),n,r.replaceOrInit);return Zu(o,t.row(),t.column())},cc=function(e,t,n,r){var o=Dl.replaceColumn(e,t.column(),n,r.replaceOrInit);return Zu(o,t.row(),t.column())},fc=function(e,t,n,r){var o=Dl.replaceRow(e,t.row(),n,r.replaceOrInit);return Zu(o,t.row(),t.column())},dc=function(e,t,n,r){var o=Dl.replaceColumn(e,t.column(),n,r.replaceOrInit);return Zu(o,t.row(),t.column())},hc=function(e,t,n,r){var o=_l.splitCellIntoColumns(e,t.row(),t.column(),n,r.getOrInit);return Zu(o,t.row(),t.column())},pc=function(e,t,n,r){var o=_l.splitCellIntoRows(e,t.row(),t.column(),n,r.getOrInit);return Zu(o,t.row(),t.column())},mc=function(e,t,n,r){var o=ec(t),i=_l.deleteColumnsAt(e,o[0].column(),o[o.length-1].column()),a=Xu(i,t[0].row(),t[0].column());return Yu(i,a)},gc=function(e,t,n,r){var o=Qu(t),i=_l.deleteRowsAt(e,o[0].row(),o[o.length-1].row()),a=Xu(i,t[0].row(),t[0].column());return Yu(i,a)},vc=function(e,t,n,r){var o=t.cells();Ku.merge(o);var i=dl.merge(e,t.bounds(),n,g(o[0]));return Yu(i,O.from(o[0]))},bc=function(e,t,n,r){var o=U(t,function(e,t){return dl.unmerge(e,t,n,r.combine(t))},e);return Yu(o,O.from(t[0]))},yc=function(e,t,n,r){var o=function(e,t){var n=ar.fromTable(e),r=hr.generate(n);return js.toGrid(r,t,!0)}(t.clipboard(),t.generators()),i=vn(t.row(),t.column());return vl.merge(i,e,o,t.generators(),n).fold(function(){return Yu(e,O.some(t.element()))},function(e){var n=Xu(e,t.row(),t.column());return Yu(e,n)})},wc=function(e,t,n){var r=ar.fromPastedRows(e,n),o=hr.generate(r);return js.toGrid(o,t,!0)},xc=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].row(),a=wc(t.clipboard(),t.generators(),o),s=vl.insert(i,e,a,t.generators(),n),l=Xu(s,t.cells[0].row(),t.cells[0].column());return Yu(s,l)},Cc=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),a=wc(t.clipboard(),t.generators(),o),s=vl.insert(i,e,a,t.generators(),n),l=Xu(s,t.cells[0].row(),t.cells[0].column());return Yu(s,l)},kc=mu.adjustWidthTo,_c={insertRowBefore:Vs(tc,Us,p,p,Eu.modification),insertRowsBefore:Vs(nc,Xs,p,p,Eu.modification),insertRowAfter:Vs(rc,Us,p,p,Eu.modification),insertRowsAfter:Vs(oc,Xs,p,p,Eu.modification),insertColumnBefore:Vs(ic,Us,kc,p,Eu.modification),insertColumnsBefore:Vs(ac,Xs,kc,p,Eu.modification),insertColumnAfter:Vs(sc,Us,kc,p,Eu.modification),insertColumnsAfter:Vs(lc,Xs,kc,p,Eu.modification),splitCellIntoColumns:Vs(hc,Us,kc,p,Eu.modification),splitCellIntoRows:Vs(pc,Us,p,p,Eu.modification),eraseColumns:Vs(mc,Xs,kc,Gu,Eu.modification),eraseRows:Vs(gc,Xs,p,Gu,Eu.modification),makeColumnHeader:Vs(cc,Us,p,p,Eu.transform("row","th")),unmakeColumnHeader:Vs(dc,Us,p,p,Eu.transform(null,"td")),makeRowHeader:Vs(uc,Us,p,p,Eu.transform("col","th")),unmakeRowHeader:Vs(fc,Us,p,p,Eu.transform(null,"td")),mergeCells:Vs(vc,Gs,p,p,Eu.merging),unmergeCells:Vs(bc,Ys,kc,p,Eu.merging),pasteCells:Vs(yc,Ws,kc,p,Eu.modification),pasteRowsBefore:Vs(xc,Ks,p,p,Eu.modification),pasteRowsAfter:Vs(Cc,Ks,p,p,Eu.modification)},Ec=function(e){return We.fromDom(e.getBody())},Ac=function(e){return e.getBoundingClientRect().width},Sc=function(e){return e.getBoundingClientRect().height},Oc=function(e){return function(t){return Ht(t,Ec(e))}},Tc=function(e){return e?e.replace(/px$/,""):""},Dc=function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},Nc=function(e){var t=Fn(e,"td[data-mce-style],th[data-mce-style]");Fe(e,"data-mce-style"),z(t,function(e){Fe(e,"data-mce-style")})},Fc=function(e){return"rtl"===et(e,"direction")?"rtl":"ltr"},Lc={isRtl:g(!1)},Pc={isRtl:g(!0)},Bc=function(e){return"rtl"===Fc(e)?Pc:Lc},Rc={directionAt:Bc},qc={"border-collapse":"collapse",width:"100%"},Mc={border:"1"},jc=function(e){return e.getParam("table_default_attributes",Mc,"object")},Ic=function(e){return e.getParam("table_default_styles",qc,"object")},$c=function(e){return e.getParam("table_resize_bars",!0,"boolean")},zc=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},Hc=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},Vc=function(e){return e.getParam("table_row_advtab",!0,"boolean")},Uc=function(e){return e.getParam("table_advtab",!0,"boolean")},Wc=function(e){return e.getParam("table_appearance_options",!0,"boolean")},Kc=function(e){return e.getParam("table_grid",!0,"boolean")},Gc=function(e){return e.getParam("table_style_by_css",!1,"boolean")},Yc=function(e){return e.getParam("table_cell_class_list",[],"array")},Xc=function(e){return e.getParam("table_row_class_list",[],"array")},Jc=function(e){return e.getParam("table_class_list",[],"array")},Zc=function(e){return!0===e.getParam("table_responsive_width")},Qc=function(e){return!1===e.getParam("table_responsive_width")},ef=function(e){return e.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")},tf=function(e){var t=e.getParam("table_clone_elements");return F(t)?O.some(t.split(/[ ,]/)):Array.isArray(t)?O.some(t):O.none()},nf=function(e){var t=e.getParam("object_resizing",!0);return F(t)?"table"===t:t},rf=function(e,t){return e.fire("newrow",{node:t})},of=function(e,t){return e.fire("newcell",{node:t})},af=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},sf=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},lf=function(e,t){var n=function(e){return"table"===xe(Ec(e))},r=function(t){var r=Na.getGridSize(t);return!1===n(e)||r.rows()>1},o=function(t){var r=Na.getGridSize(t);return!1===n(e)||r.columns()>1},a=tf(e),s=function(t,n,r,o){return function(s,l){Nc(s);var u=o(),c=We.fromDom(e.getDoc()),f=i(Rc.directionAt),d=Vr.cellOperations(r,c,a);return n(s)?t(u,s,l,d,f).bind(function(t){return z(t.newRows(),function(t){rf(e,t.dom())}),z(t.newCells(),function(t){of(e,t.dom())}),t.cursor().map(function(t){var n=e.dom.createRng();return n.setStart(t.dom(),0),n.setEnd(t.dom(),0),n})}):O.none()}};return{deleteRow:s(_c.eraseRows,r,p,t),deleteColumn:s(_c.eraseColumns,o,p,t),insertRowsBefore:s(_c.insertRowsBefore,x,p,t),insertRowsAfter:s(_c.insertRowsAfter,x,p,t),insertColumnsBefore:s(_c.insertColumnsBefore,x,sa.halve,t),insertColumnsAfter:s(_c.insertColumnsAfter,x,sa.halve,t),mergeCells:s(_c.mergeCells,x,p,t),unmergeCells:s(_c.unmergeCells,x,p,t),pasteRowsBefore:s(_c.pasteRowsBefore,x,p,t),pasteRowsAfter:s(_c.pasteRowsAfter,x,p,t),pasteCells:s(_c.pasteCells,x,p,t)}},uf=function(e,t,n){var r=ar.fromTable(e),o=hr.generate(r);return Xs(o,t).map(function(e){var t=js.toGrid(o,n,!1),r=t.slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),i=zs(r,n);return Ma.copy(i)})},cf={copyRows:uf},ff=tinymce.util.Tools.resolve("tinymce.util.Tools"),df=function(e,t,n){var r,o=e.select("td,th",t);return r=function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if(void 0===t&&(t=i),t!==i)return""}return t}(r,o)},hf=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},pf=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},mf=function(e,t){ff.each("left center right".split(" "),function(n){e.formatter.remove("align"+n,{},t)})},gf=function(e,t){ff.each("top middle bottom".split(" "),function(n){e.formatter.remove("valign"+n,{},t)})},vf={applyAlign:hf,applyVAlign:pf,unApplyAlign:mf,unApplyVAlign:gf,getTDTHOverallStyle:df},bf=function(e,t,n){var r=function(e,n){return n=n||[],ff.each(e,function(e){var o={text:e.text||e.title};e.menu?o.menu=r(e.menu):(o.value=e.value,t&&t(o)),n.push(o)}),n};return r(e,n||[])},yf=function(e,t){var n=function(t){return Re(t,"rgb")?e.toHex(t):t};return{borderstyle:nt(We.fromDom(t),"border-style").getOr(""),bordercolor:nt(We.fromDom(t),"border-color").map(n).getOr(""),backgroundcolor:nt(We.fromDom(t),"background-color").map(n).getOr("")}},wf=function(e){var t=e[0],n=e.slice(1),r=ne(t);return z(n,function(e){z(r,function(n){oe(e,function(e,r,o){var i=t[n];""!==i&&n===r&&i!==e&&(t[n]="")})})}),t},xf=function(){return{title:"Advanced",name:"advanced",items:[{name:"borderstyle",type:"selectbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}]}},Cf=function(e,t,n,r,o){var i={};return ff.each(e.split(" "),function(e){r.formatter.matchNode(o,t+e)&&(i[n]=e)}),i[n]||(i[n]=""),i},kf=t(Cf,"left center right"),_f=t(Cf,"top middle bottom"),Ef=function(e,t){var n=Ic(e),r=jc(e),o={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},i=e.dom,a=t?function(e){var t=function(t){return Re(t,"rgb")?e.toHex(t):t},r=se(n,"border-style").getOr(""),o=se(n,"border-color").getOr(""),i=se(n,"background-color").getOr("");return{borderstyle:r,bordercolor:t(o),backgroundcolor:t(i)}}(i):{};return Fa({},o,n,r,a,function(){var t=n["border-width"];return Gc(e)&&t?{border:t}:se(r,"border").fold(function(){return{}},function(e){return{border:e}})}(),function(){var e=se(n,"border-spacing").or(se(r,"cellspacing")).fold(function(){return{}},function(e){return{cellspacing:e}}),t=se(n,"border-padding").or(se(r,"cellpadding")).fold(function(){return{}},function(e){return{cellpadding:e}});return Fa({},e,t)}())},Af=function(e,t,n){var r=e.dom;return Fa({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),cellspacing:r.getStyle(t,"border-spacing")||r.getAttrib(t,"cellspacing"),cellpadding:r.getAttrib(t,"cellpadding")||vf.getTDTHOverallStyle(e.dom,t,"padding"),border:function(t,n){var r=nt(We.fromDom(n),"border-width");return Gc(e)&&r.isSome()?r.getOr(""):t.getAttrib(n,"border")||vf.getTDTHOverallStyle(e.dom,n,"border-width")||vf.getTDTHOverallStyle(e.dom,n,"border")}(r,t),caption:!!r.select("caption",t)[0],class:r.getAttrib(t,"class","")},kf("align","align",e,t),n?yf(r,t):{})},Sf=function(e,t,n){var r=e.dom;return Fa({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),class:r.getAttrib(t,"class",""),align:"",type:t.parentNode.nodeName.toLowerCase()},kf("align","align",e,t),n?yf(r,t):{})},Of=function(e,t,n){var r=e.dom;return Fa({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),celltype:t.nodeName.toLowerCase(),class:r.getAttrib(t,"class","")},kf("align","halign",e,t),_f("valign","valign",e,t),n?yf(r,t):{})},Tf={buildListItems:bf,extractAdvancedStyles:yf,getSharedValues:wf,getAdvancedTab:xf,extractDataFromTableElement:Af,extractDataFromRowElement:Sf,extractDataFromCellElement:Of,extractDataFromSettings:Ef},Df=function(e){var t=Yc(e),n=Tf.buildListItems(t,function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"tr",classes:[t.value]})})});return t.length>0?O.some({name:"class",type:"selectbox",label:"Class",items:n}):O.none()},Nf=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"selectbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"selectbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"selectbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"selectbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Ff=function(e){return Df(e).fold(function(){return Nf},function(e){return Nf.concat(e)})},Lf={getItems:Ff},Pf=function(e,t){return{setAttrib:function(n,r){e.setAttrib(t,n,r)},setStyle:function(n,r){e.setStyle(t,n,r)}}},Bf=function(e,t){return{setAttrib:function(n,r){r&&e.setAttrib(t,n,r)},setStyle:function(n,r){r&&e.setStyle(t,n,r)}}},Rf={normal:Pf,ifTruthy:Bf},qf=function(e,t){e.setAttrib("scope",t.scope),e.setAttrib("class",t.class),e.setStyle("width",Dc(t.width)),e.setStyle("height",Dc(t.height))},Mf=function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)},jf=function(e,t,n){var r=e.dom,o=n.celltype&&t[0].nodeName.toLowerCase()!==n.celltype?r.rename(t[0],n.celltype):t[0],i=Rf.normal(r,o);qf(i,n),Hc(e)&&Mf(i,n),vf.unApplyAlign(e,o),vf.unApplyVAlign(e,o),n.halign&&vf.applyAlign(e,o,n.halign),n.valign&&vf.applyVAlign(e,o,n.valign)},If=function(e,t,n){var r=e.dom;ff.each(t,function(t){n.celltype&&t.nodeName.toLowerCase()!==n.celltype&&(t=r.rename(t,n.celltype));var o=Rf.ifTruthy(r,t);qf(o,n),Hc(e)&&Mf(o,n),n.halign&&vf.applyAlign(e,t,n.halign),n.valign&&vf.applyVAlign(e,t,n.valign)})},$f=function(e,t,n){var r=n.getData();n.close(),e.undoManager.transact(function(){(1===t.length?jf:If)(e,t,r),e.focus()})},zf=function(e){var n,r=[];if(r=e.dom.select("td[data-mce-selected],th[data-mce-selected]"),n=e.dom.getParent(e.selection.getStart(),"td,th"),!r.length&&n&&r.push(n),n=n||r[0]){var o=ff.map(r,function(t){return Tf.extractDataFromCellElement(e,t,Hc(e))}),i=Tf.getSharedValues(o),a={type:"tabpanel",tabs:[{title:"General",name:"general",items:Lf.getItems(e)},Tf.getAdvancedTab()]},s={type:"panel",items:[{type:"grid",columns:2,items:Lf.getItems(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Hc(e)?a:s,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onSubmit:t($f,e,r)})}},Hf={open:zf},Vf=function(e){var t=Xc(e),n=Tf.buildListItems(t,function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"tr",classes:[t.value]})})});return t.length>0?O.some({name:"class",type:"selectbox",label:"Class",items:n}):O.none()},Uf=[{type:"selectbox",name:"type",label:"Row type",items:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Wf=function(e){return Vf(e).fold(function(){return Uf},function(e){return Uf.concat(e)})},Kf={getItems:Wf},Gf=function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=e.select(n,r)[0];i||(i=e.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?e.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),i.appendChild(t),o.hasChildNodes()||e.remove(o)},Yf=function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)},Xf=function(e,t,n,r){var o=e.dom,i=r.getData();r.close();var a=1===t.length?Rf.normal:Rf.ifTruthy;e.undoManager.transact(function(){ff.each(t,function(t){i.type!==t.parentNode.nodeName.toLowerCase()&&Gf(e.dom,t,i.type);var r=a(o,t);r.setAttrib("scope",i.scope),r.setAttrib("class",i.class),r.setStyle("height",Dc(i.height)),Vc(e)&&Yf(r,i),i.align!==n.align&&(vf.unApplyAlign(e,t),vf.applyAlign(e,t,i.align))}),e.focus()})},Jf=function(e){var n,r,o=e.dom,i=[];if((n=o.getParent(e.selection.getStart(),"table"))&&(r=o.getParent(e.selection.getStart(),"td,th"),ff.each(n.rows,function(e){ff.each(e.cells,function(t){if((o.getAttrib(t,"data-mce-selected")||t===r)&&i.indexOf(e)<0)return i.push(e),!1})}),i[0])){var a=ff.map(i,function(t){return Tf.extractDataFromRowElement(e,t,Vc(e))}),s=Tf.getSharedValues(a),l={type:"tabpanel",tabs:[{title:"General",name:"general",items:Kf.getItems(e)},Tf.getAdvancedTab()]},u={type:"panel",items:[{type:"grid",columns:2,items:Kf.getItems(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Vc(e)?l:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:s,onSubmit:t(Xf,e,i,s)})}},Zf={open:Jf},Qf=Object.prototype.hasOwnProperty,ed=function(e,t){return t},td=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)Qf.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(ed),nd=tinymce.util.Tools.resolve("tinymce.Env"),rd={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},od=function(){return We.fromTag("table")},id=function(){return We.fromTag("tbody")},ad=function(){return We.fromTag("tr")},sd=function(){return We.fromTag("th")},ld=function(){return We.fromTag("td")},ud=function(e,t,n,r,o){void 0===o&&(o=rd);var i=od();Qe(i,o.styles),Te(i,o.attributes);var a=id();ln(i,a);for(var s=[],l=0;l<e;l++){for(var u=ad(),c=0;c<t;c++){var f=l<n||c<r?sd():ld();c<r&&Oe(f,"scope","row"),l<n&&Oe(f,"scope","col"),ln(f,We.fromTag("br")),o.percentages&&Ze(f,"width",100/t+"%"),ln(u,f)}s.push(u)}return dn(a,s),i},cd=function(e){return e.dom().innerHTML},fd=function(e){var t=We.fromTag("div"),n=We.fromDom(e.dom().cloneNode(!0));return ln(t,n),cd(t)},dd=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},hd=function(e,n){jn(n,"td,th").each(t(dd,e))},pd=function(e,t){z(Fn(t,"tr"),function(t){rf(e,t.dom()),z(Fn(t,"th,td"),function(t){of(e,t.dom())})})},md=function(e){return F(e)&&-1!==e.indexOf("%")},gd=function(e,t,n){var r=Ic(e),o={styles:r,attributes:jc(e),percentages:md(r.width)&&!Qc(e)},i=ud(n,t,0,0,o);Oe(i,"data-mce-id","__mce");var a=fd(i);return e.insertContent(a),jn(Ec(e),'table[data-mce-id="__mce"]').map(function(t){return Qc(e)&&Ze(t,"width",et(t,"width")),Fe(t,"data-mce-id"),pd(e,t),hd(e,t),t.dom()}).getOr(null)},vd={insert:gd},bd=function(e,t,n){var r=n?[{type:"input",name:"cols",label:"Cols"},{type:"input",name:"rows",label:"Rows"}]:[],o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],i=Wc(e)?[{type:"input",name:"cellspacing",label:"Cell spacing"},{type:"input",name:"cellpadding",label:"Cell padding"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=[{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],s=t?[{type:"selectbox",name:"class",label:"Class",items:Tf.buildListItems(Jc(e),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"table",classes:[t.value]})})})}]:[];return r.concat(o).concat(i).concat(a).concat(s)},yd={getItems:bd},wd=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)F(n)?e.setStyle(t,n,r):e.setStyle(t,n);else if(t.children)for(var o=0;o<t.children.length;o++)wd(e,t.children[o],n,r)},xd=function(e,t,n){var r=e.dom,o={},i={};if(o.class=n.class,i.height=Dc(n.height),r.getAttrib(t,"width")&&!Gc(e)?o.width=Tc(n.width):i.width=Dc(n.width),Gc(e)?(i["border-width"]=Dc(n.border),i["border-spacing"]=Dc(n.cellspacing)):(o.border=n.border,o.cellpadding=n.cellpadding,o.cellspacing=n.cellspacing),Gc(e)&&t.children)for(var a=0;a<t.children.length;a++)wd(r,t.children[a],{"border-width":Dc(n.border),padding:Dc(n.cellpadding)}),Uc(e)&&wd(r,t.children[a],{"border-color":n.bordercolor});Uc(e)&&(i["background-color"]=n.backgroundcolor,i["border-color"]=n.bordercolor,i["border-style"]=n.borderstyle),o.style=r.serializeStyle(td(Ic(e),i)),r.setAttribs(t,td(jc(e),o))},Cd=function(e,t,n){var r,o=e.dom,i=n.getData();n.close(),""===i.class&&delete i.class,e.undoManager.transact(function(){if(!t){var n=parseInt(i.cols,10)||1,a=parseInt(i.rows,10)||1;t=vd.insert(e,n,a)}xd(e,t,i),r=o.select("caption",t)[0],r&&!i.caption&&o.remove(r),!r&&i.caption&&(r=o.create("caption"),r.innerHTML=nd.ie?" ":'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),""===i.align?vf.unApplyAlign(e,t):vf.applyAlign(e,t,i.align),e.focus(),e.addVisual()})},kd=function(e,n){var r,o=e.dom,i=Tf.extractDataFromSettings(e,Uc(e));!1===n?(r=o.getParent(e.selection.getStart(),"table"),r?i=Tf.extractDataFromTableElement(e,r,Uc(e)):Uc(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor="")):(i.cols="1",i.rows="1",Uc(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""));var a=Jc(e).length>0;a&&i.class&&(i.class=i.class.replace(/\s*mce\-item\-table\s*/g,""));var s={type:"grid",columns:2,items:yd.getItems(e,a,n)},l=Uc(e)?function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},Tf.getAdvancedTab()]}}():function(){return{type:"panel",items:[s]}}();e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:t(Cd,e,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i})},_d={open:kd},Ed=function(e){return function(t){return O.from(t.dom.getParent(t.selection.getStart(),e)).map(We.fromDom)}},Ad=Ed("th,td"),Sd=Ed("th,td,caption"),Od=ff.each,Td=function(e,n,r,o,i){var a=Oc(e),s=function(){Sd(e).each(function(t){rr.table(t,a).filter(b(a)).each(function(t){var n=We.fromText("");if(an(t,n),pn(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{var r=e.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),e.selection.setRng(r),e.nodeChanged()}})})},l=function(e){return rr.table(e,a)},u=function(e){return{width:Ac(e.dom()),height:Ac(e.dom())}},c=function(e,t,n){var r=u(n);t.width===r.width&&t.height===r.height||(af(e,n.dom(),t.width,t.height),sf(e,n.dom(),r.width,r.height))},f=function(t){Ad(e).each(function(n){l(n).each(function(i){var a=vi.forMenu(o,i,n),s=u(i);t(i,a).each(function(t){c(e,s,i),e.selection.setRng(t),e.focus(),r.clear(i),Nc(i)})})})},d=function(t){return Ad(e).map(function(t){return l(t).bind(function(n){var r=We.fromDom(e.getDoc()),i=vi.forMenu(o,n,t),a=Vr.cellOperations(p,r,O.none());return cf.copyRows(n,i,a)})})},h=function(t){i.get().each(function(n){var i=$(n,function(e){return Pr(e)});Ad(e).each(function(n){l(n).each(function(a){var s=We.fromDom(e.getDoc()),l=Vr.paste(s),u=vi.pasteRows(o,a,n,i,l);t(a,u).each(function(t){e.selection.setRng(t),e.focus(),r.clear(a)})})})})};Od({mceTableSplitCells:function(){f(n.unmergeCells)},mceTableMergeCells:function(){f(n.mergeCells)},mceTableInsertRowBefore:function(){f(n.insertRowsBefore)},mceTableInsertRowAfter:function(){f(n.insertRowsAfter)},mceTableInsertColBefore:function(){f(n.insertColumnsBefore)},mceTableInsertColAfter:function(){f(n.insertColumnsAfter)},mceTableDeleteCol:function(){f(n.deleteColumn)},mceTableDeleteRow:function(){f(n.deleteRow)},mceTableCutRow:function(e){d().each(function(e){i.set(e),f(n.deleteRow)})},mceTableCopyRow:function(e){d().each(function(e){i.set(e)})},mceTablePasteRowBefore:function(e){h(n.pasteRowsBefore)},mceTablePasteRowAfter:function(e){h(n.pasteRowsAfter)},mceTableDelete:s},function(t,n){e.addCommand(n,t)}),Od({mceInsertTable:t(_d.open,e,!0),mceTableProps:t(_d.open,e,!1),mceTableRowProps:t(Zf.open,e),mceTableCellProps:t(Hf.open,e)},function(t,n){e.addCommand(n,function(){t()})})},Dd={registerCommands:Td},Nd=function(e){var t=O.from(e.dom().documentElement).map(We.fromDom).getOr(e);return{parent:g(t),view:g(e),origin:g(ua(0,0))}},Fd=function(e,t){var n=function(){return da(t)};return{parent:g(t),view:g(e),origin:n}},Ld=function(e,t){return{parent:g(t),view:g(e),origin:g(ua(0,0))}},Pd={only:Nd,detached:Fd,body:Ld},Bd=function(e){var t=ue.apply(null,e),n=[];return{bind:function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");n.push(e)},unbind:function(e){n=V(n,function(t){return t!==e})},trigger:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.apply(null,e);z(n,function(e){e(o)})}}},Rd=function(e){return{registry:ie(e,function(e){return{bind:e.bind,unbind:e.unbind}}),trigger:ie(e,function(e){return e.trigger})}},qd={create:Rd},Md=function(e,t,n,r,o,i,a){return{target:g(e),x:g(t),y:g(n),stop:r,prevent:o,kill:i,raw:g(a)}},jd=function(e,t){return function(n){if(e(n)){var r=We.fromDom(n.target),o=function(){n.stopPropagation()},i=function(){n.preventDefault()},a=m(i,o),s=Md(r,n.clientX,n.clientY,o,i,a,n);t(s)}}},Id=function(e,n,r,o,i){var a=jd(r,o);return e.dom().addEventListener(n,a,i),{unbind:t(zd,e,n,a,i)}},$d=function(e,t,n,r){return Id(e,t,n,r,!1)},zd=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},Hd=g(!0),Vd=function(e,t,n){return $d(e,t,Hd,n)},Ud=rs("ephox-dragster"),Wd={resolve:Ud.resolve},Kd=function(e){var t=td({layerClass:Wd.resolve("blocker")},e),n=We.fromTag("div");return Oe(n,"role","presentation"),Qe(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Wa(n,Wd.resolve("blocker")),Wa(n,t.layerClass),{element:function(){return n},destroy:function(){pn(n)}}},Gd=yu(["compare","extract","mutate","sink"]),Yd=yu(["element","start","stop","destroy"]),Xd=yu(["forceDrop","drop","move","delayDrop"]),Jd=function(e,t){return ua(t.left()-e.left(),t.top()-e.top())},Zd=function(e){return O.some(ua(e.x(),e.y()))},Qd=function(e,t){e.mutate(t.left(),t.top())},eh=function(e,t){var n=Kd(t),r=Vd(n.element(),"mousedown",e.forceDrop),o=Vd(n.element(),"mouseup",e.drop),i=Vd(n.element(),"mousemove",e.move),a=Vd(n.element(),"mouseout",e.delayDrop),s=function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()},l=function(e){ln(e,n.element())},u=function(){pn(n.element())};return Yd({element:n.element,start:l,stop:u,destroy:s})},th=Gd({compare:Jd,extract:Zd,sink:eh,mutate:Qd}),nh=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){t.apply(null,o),r=null},n)}}},rh=function(e,t,n){var r=!1,o=qd.create({start:Bd([]),stop:Bd([])}),i=l(),a=function(){p.stop(),i.isOn()&&(i.off(),o.trigger.stop())},s=nh(a,200),u=function(e){p.start(e),i.on(),o.trigger.start()},c=function(e){s.cancel(),i.onEvent(e,t)};i.events.move.bind(function(n){t.mutate(e,n.info())});var f=function(){r=!0},d=function(){r=!1},h=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r&&e.apply(null,t)}},p=t.sink(Xd({forceDrop:a,drop:h(a),move:h(c),delayDrop:h(s.throttle)}),n),m=function(){p.destroy()};return{element:p.element,go:u,on:f,off:d,destroy:m,events:o.registry}},oh={setup:rh},ih=function(e,t){void 0===t&&(t={});var n=void 0!==t.mode?t.mode:th;return oh.setup(e,n,t)},ah={transform:ih},sh=function(){var e=qd.create({drag:Bd(["xDelta","yDelta"])});return{mutate:function(t,n){e.trigger.drag(t,n)},events:e.registry}},lh=function(){var e=qd.create({drag:Bd(["xDelta","yDelta","target"])}),t=O.none(),n=sh();return n.events.drag.bind(function(n){t.each(function(t){e.trigger.drag(n.xDelta(),n.yDelta(),t)})}),{assign:function(e){t=O.some(e)},get:function(){return t},mutate:n.mutate,events:e.registry}},uh=function(e){return"true"===De(e,"contenteditable")},ch=function(e,t){return In(e,"[contenteditable]",t)},fh=is.resolve("resizer-bar-dragging"),dh=function(e,n,r){var o=lh(),i=ah.transform(o,{}),a=O.none(),s=function(e,t){return O.from(De(e,t))};o.events.drag.bind(function(e){s(e.target(),"data-row").each(function(t){var n=Il.getInt(e.target(),"top");Ze(e.target(),"top",n+e.yDelta()+"px")}),s(e.target(),"data-column").each(function(t){var n=Il.getInt(e.target(),"left");Ze(e.target(),"left",n+e.xDelta()+"px")})});var l=function(e,t){return Il.getInt(e,t)-parseInt(De(e,"data-initial-"+t),10)};i.events.stop.bind(function(){o.get().each(function(t){a.each(function(o){s(t,"data-row").each(function(e){var n=l(t,"top");Fe(t,"data-initial-top"),g.trigger.adjustHeight(o,n,parseInt(e,10))}),s(t,"data-column").each(function(e){var n=l(t,"left");Fe(t,"data-initial-left"),g.trigger.adjustWidth(o,n,parseInt(e,10))}),ks.refresh(e,o,r,n)})})});var u=function(t,n){g.trigger.startAdjust(),o.assign(t),Oe(t,"data-initial-"+n,parseInt(et(t,n),10)),Wa(t,fh),Ze(t,"opacity","0.2"),i.go(e.parent())},c=Vd(e.parent(),"mousedown",function(e){ks.isRowBar(e.target())&&u(e.target(),"top"),ks.isColBar(e.target())&&u(e.target(),"left")}),f=function(t){return Ht(t,e.view())},d=function(e){return In(e,"table",f).filter(function(e){return ch(e,f).exists(uh)})},h=Vd(e.view(),"mouseover",function(t){d(t.target()).fold(function(){Ke(t.target())&&ks.destroy(e)},function(t){a=O.some(t),ks.refresh(e,t,r,n)})}),p=function(){c.unbind(),h.unbind(),i.destroy(),ks.destroy(e)},m=function(t){ks.refresh(e,t,r,n)},g=qd.create({adjustHeight:Bd(["table","delta","row"]),adjustWidth:Bd(["table","delta","column"]),startAdjust:Bd([])});return{destroy:p,refresh:m,on:i.on,off:i.off,hideBars:t(ks.hide,e),showBars:t(ks.show,e),events:g.registry}},hh=function(){var e=We.fromTag("div");return Qe(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ln(Ge(),e),e},ph=function(e,t){return e.inline?Pd.body(Ec(e),hh()):Pd.only(We.fromDom(e.getDoc()))},mh=function(e,t){e.inline&&pn(t.parent())},gh={get:ph,remove:mh},vh=function(e,t){return Ac(e.dom())/Ac(t.dom())*100+"%"},bh=function(e){var t=We.fromDom(e);Jt(t).map(function(e){return vh(t,e)}).each(function(e){Ze(t,"width",e),z(Fn(t,"tr"),function(e){z(tn(e),function(t){Ze(t,"width",vh(t,e))})})})},yh=function(e){Ze(We.fromDom(e),"width",Ac(e).toString()+"px")},wh=function(e){var t,n,r=O.none(),o=O.none(),a=O.none(),s=/(\d+(\.\d+)?)%/,l=function(e){return"TABLE"===e.nodeName},c=function(t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return O.from(n).filter(function(e){return e.length>0})},f=function(){return o},d=function(){return a.getOr(Pd.only(We.fromDom(e.getBody())))},h=function(){o.each(function(e){e.destroy()}),a.each(function(t){gh.remove(e,t)})};return e.on("init",function(){var t=i(Rc.directionAt),n=gh.get(e);if(a=O.some(n),nf(e)&&$c(e)){var s=u(n,t);s.on(),s.events.startDrag.bind(function(t){r=O.some(e.selection.getRng())}),s.events.beforeResize.bind(function(t){var n=t.table().dom();af(e,n,Ac(n),Sc(n))}),s.events.afterResize.bind(function(t){var n=t.table(),o=n.dom();Nc(n),r.each(function(t){e.selection.setRng(t),e.focus()}),sf(e,o,Ac(o),Sc(o)),e.undoManager.add()}),o=O.some(s)}}),e.on("ObjectResizeStart",function(r){var o=r.target;if(l(o)){var i=c(o).map(function(e){return s.test(e)}).getOr(!1);i&&Qc(e)?yh(o):!i&&Zc(e)&&bh(o),t=r.width,n=c(o).getOr("")}}),e.on("ObjectResized",function(r){var o=r.target;if(l(o)){var i=o;if(s.test(n)){var a=parseFloat(s.exec(n)[1]),u=r.width*a/t;e.dom.setStyle(i,"width",u+"%")}else{var c=[];ff.each(i.rows,function(t){ff.each(t.cells,function(t){var n=e.dom.getStyle(t,"width",!0);c.push({cell:t,width:n})})}),ff.each(c,function(t){e.dom.setStyle(t.cell,"width",t.width),e.dom.setAttrib(t.cell,"width",null)})}}}),e.on("SwitchMode",function(){f().each(function(t){e.readonly?t.hideBars():t.showBars()})}),{lazyResize:f,lazyWire:d,destroy:h}},xh=oi.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Ch=function(e){return void 0===e&&(e=void 0),xh.none(e)},kh=Fa({},xh,{none:Ch}),_h=function(e,t){return rr.table(e,t).bind(function(t){var n=rr.cells(t);return G(n,function(t){return Ht(e,t)}).map(function(e){return{index:g(e),all:g(n)}})})},Eh=function(e,t){return _h(e,t).fold(function(){return kh.none(e)},function(t){return t.index()+1<t.all().length?kh.middle(e,t.all()[t.index()+1]):kh.last(e)})},Ah=function(e,t){return _h(e,t).fold(function(){return kh.none()},function(t){return t.index()-1>=0?kh.middle(e,t.all()[t.index()-1]):kh.first(e)})},Sh={next:Eh,prev:Ah},Oh=ue("start","soffset","finish","foffset"),Th={create:Oh},Dh=oi.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Nh=function(e,t,n,r){return e.fold(t,n,r)},Fh=function(e){return e.fold(v,v,v)},Lh=Dh.before,Ph=Dh.on,Bh=Dh.after,Rh={before:Lh,on:Ph,after:Bh,cata:Nh,getStart:Fh},qh=oi.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Mh=function(e){return qh.exact(e.start(),e.soffset(),e.finish(),e.foffset())},jh=function(e){return e.match({domRange:function(e){return We.fromDom(e.startContainer)},relative:function(e,t){return Rh.getStart(e)},exact:function(e,t,n,r){return e}})},Ih=qh.domRange,$h=qh.relative,zh=qh.exact,Hh=function(e){var t=jh(e);return Xt(t)},Vh=Th.create,Uh={domRange:Ih,relative:$h,exact:zh,exactFromRange:Mh,getWin:Hh,range:Vh},Wh=function(e,t){var n=e.document.createRange();return Kh(n,t),n},Kh=function(e,t){e.selectNodeContents(t.dom())},Gh=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},Yh=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},Xh=function(e,t,n){var r=e.document.createRange();return Gh(r,t),Yh(r,n),r},Jh=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},Zh=function(e){return{left:g(e.left),top:g(e.top),right:g(e.right),bottom:g(e.bottom),width:g(e.width),height:g(e.height)}},Qh=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?O.some(n).map(Zh):O.none()},ep=oi.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),tp=function(e,t,n){return t(We.fromDom(n.startContainer),n.startOffset,We.fromDom(n.endContainer),n.endOffset)},np=function(e,t){return t.match({domRange:function(e){return{ltr:g(e),rtl:O.none}},relative:function(t,n){return{ltr:Ie(function(){return Xh(e,t,n)}),rtl:Ie(function(){return O.some(Xh(e,n,t))})}},exact:function(t,n,r,o){return{ltr:Ie(function(){return Jh(e,t,n,r,o)}),rtl:Ie(function(){return O.some(Jh(e,r,o,t,n))})}}})},rp=function(e,t){var n=t.ltr();if(n.collapsed){return t.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return ep.rtl(We.fromDom(e.endContainer),e.endOffset,We.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return tp(0,ep.ltr,n)})}return tp(0,ep.ltr,n)},op=function(e,t){var n=np(e,t);return rp(0,n)},ip=function(e,t){return op(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},ap=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var s=e(a),l=Math.abs(t-s.left);if(n<=s.bottom){if(n<s.top||l>i)return a-1;i=l}}return 0},sp=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},lp=function(e,t,n,r,o){var i=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},a=function(e){return i(e).getBoundingClientRect()},s=Cr(t).length,l=ap(a,n,r,o.right,s);return i(l)},up=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getClientRects();return Pa(i,function(e){return sp(e,n,r)?O.some(e):O.none()}).map(function(o){return lp(e,t,n,r,o)})},cp=function(e,t,n,r){var o=e.dom().createRange(),i=tn(t);return Pa(i,function(t){return o.selectNode(t.dom()),sp(o.getBoundingClientRect(),n,r)?fp(e,t,n,r):O.none()})},fp=function(e,t,n,r){return Ae(t)?up(e,t,n,r):cp(e,t,n,r)},dp=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return fp(e,t,a,s)},hp=function(e,t){return t-e.left<e.right-t},pp=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},mp=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),i=hp(o,n);return(!0===i?Tr:Dr)(t).map(function(t){return pp(e,t,i)})},gp=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=hp(r,n);return O.some(pp(e,t,o))},vp=function(e,t,n){return(0===tn(t).length?gp:mp)(e,t,n)},bp=function(e,t,n){return O.from(e.dom().caretPositionFromPoint(t,n)).bind(function(t){if(null===t.offsetNode)return O.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),O.some(n)})},yp=function(e,t,n){return O.from(e.dom().caretRangeFromPoint(t,n))},wp=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return dp(e,t,a,s)},xp=function(e,t,n){return We.fromPoint(e,t,n).bind(function(r){var o=function(){return vp(e,r,t)};return 0===tn(r).length?o():wp(e,r,t,n).orThunk(o)})},Cp=document.caretPositionFromPoint?bp:document.caretRangeFromPoint?yp:xp,kp=function(e,t,n){var r=We.fromDom(e.document);return Cp(r,t,n).map(function(e){return Th.create(We.fromDom(e.startContainer),e.startOffset,We.fromDom(e.endContainer),e.endOffset)})},_p=function(e,t){var n=xe(e);return"input"===n?Rh.after(e):j(["br","img"],n)?0===t?Rh.before(e):Rh.after(e):Rh.on(e,t)},Ep=function(e,t){var n=e.fold(Rh.before,_p,Rh.after),r=t.fold(Rh.before,_p,Rh.after);return Uh.relative(n,r)},Ap=function(e,t,n,r){var o=_p(e,t),i=_p(n,r);return Uh.relative(o,i)},Sp=function(e){return e.match({domRange:function(e){var t=We.fromDom(e.startContainer),n=We.fromDom(e.endContainer);return Ap(t,e.startOffset,n,e.endOffset)},relative:Ep,exact:Ap})},Op=function(e,t,n,r){var o=Yt(e),i=o.dom().createRange();return i.setStart(e.dom(),t),i.setEnd(n.dom(),r),i},Tp=function(e,t,n,r){var o=Op(e,t,n,r),i=Ht(e,n)&&t===r;return o.collapsed&&!i},Dp=function(e,t){O.from(e.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(t)})},Np=function(e,t,n,r,o){var i=Jh(e,t,n,r,o);Dp(e,i)},Fp=function(e,t,n,r,o,i){t.collapse(n.dom(),r),t.extend(o.dom(),i)},Lp=function(e,t){return op(e,t).match({ltr:function(t,n,r,o){Np(e,t,n,r,o)},rtl:function(t,n,r,o){var i=e.getSelection();if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom(),n,r.dom(),o);else if(i.extend)try{Fp(0,i,t,n,r,o)}catch(i){Np(e,r,o,t,n)}else Np(e,r,o,t,n)}})},Pp=function(e,t,n,r,o){var i=Ap(t,n,r,o);Lp(e,i)},Bp=function(e,t,n){var r=Ep(t,n);Lp(e,r)},Rp=function(e){var t=Uh.getWin(e).dom(),n=function(e,n,r,o){return Jh(t,e,n,r,o)},r=Sp(e);return op(t,r).match({ltr:n,rtl:n})},qp=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return O.some(Th.create(We.fromDom(t.startContainer),t.startOffset,We.fromDom(n.endContainer),n.endOffset))}return O.none()},Mp=function(e){var t=We.fromDom(e.anchorNode),n=We.fromDom(e.focusNode);return Tp(t,e.anchorOffset,n,e.focusOffset)?O.some(Th.create(t,e.anchorOffset,n,e.focusOffset)):qp(e)},jp=function(e,t){var n=Wh(e,t);Dp(e,n)},Ip=function(e){return O.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(Mp)},$p=function(e){return Ip(e).map(function(e){return Uh.exact(e.start(),e.soffset(),e.finish(),e.foffset())})},zp=function(e,t){var n=ip(e,t);return Qh(n)},Hp=function(e,t,n){return kp(e,t,n)},Vp=function(e){e.getSelection().removeAllRanges()},Up=tinymce.util.Tools.resolve("tinymce.util.VK"),Wp=function(e,t,n,r){return Xp(e,t,Sh.next(n),r)},Kp=function(e,t,n,r){return Xp(e,t,Sh.prev(n),r)},Gp=function(e,t){var n=Uh.exact(t,0,t,0);return Rp(n)},Yp=function(e,t){var n=Fn(t,"tr");return te(n).bind(function(e){return jn(e,"td,th").map(function(e){return Gp(0,e)})})},Xp=function(e,t,n,r,o){return n.fold(O.none,O.none,function(e,t){return Tr(t).map(function(e){return Gp(0,e)})},function(n){return rr.table(n,t).bind(function(t){var o=vi.noMenu(n);return e.undoManager.transact(function(){r.insertRowsAfter(t,o)}),Yp(0,t)})})},Jp=["table","li","dl"],Zp=function(e,t,n,r){if(e.keyCode===Up.TAB){var o=Ec(t),i=function(e){var t=xe(e);return Ht(e,o)||j(Jp,t)},a=t.selection.getRng();if(a.collapsed){var s=We.fromDom(a.startContainer);rr.cell(s,i).each(function(o){e.preventDefault(),(e.shiftKey?Kp:Wp)(t,i,o,n,r).each(function(e){t.selection.setRng(e)})})}}},Qp={handle:Zp},em=ue("selection","kill"),tm={create:em},nm=function(e,t,n,r){return{start:g(Rh.on(e,t)),finish:g(Rh.on(n,r))}},rm={create:nm},om=function(e,t){var n=ip(e,t);return Th.create(We.fromDom(n.startContainer),n.startOffset,We.fromDom(n.endContainer),n.endOffset)},im=rm.create,am={convertToRange:om,makeSitus:im},sm=function(e,t,n,r,o,i,a){return Ht(n,o)&&r===i?O.none():In(n,"td,th",t).bind(function(n){return In(o,"td,th",t).bind(function(r){return lm(e,t,n,r,a)})})},lm=function(e,t,n,r,o){return Ht(n,r)?O.none():Jo.identify(n,r,t).bind(function(t){var r=t.boxes().getOr([]);return r.length>0?(o(e,r,t.start(),t.finish()),O.some(tm.create(O.some(am.makeSitus(n,0,n,Er(n))),!0))):O.none()})},um=function(e,t,n,r,o){var i=function(e){return o.clear(n),o.selectRange(n,e.boxes(),e.start(),e.finish()),e.boxes()};return Jo.shiftSelection(r,e,t,o.firstSelectedSelector(),o.lastSelectedSelector()).map(i)},cm={sync:sm,detect:lm,update:um},fm=ue("item","mode"),dm=function(e,t,n,r){return void 0===r&&(r=hm),e.property().parent(t).map(function(e){return fm(e,r)})},hm=function(e,t,n,r){return void 0===r&&(r=pm),n.sibling(e,t).map(function(e){return fm(e,r)})},pm=function(e,t,n,r){void 0===r&&(r=pm);var o=e.property().children(t);return n.first(o).map(function(e){return fm(e,r)})},mm=[{current:dm,next:hm,fallback:O.none()},{current:hm,next:pm,fallback:O.some(dm)},{current:pm,next:pm,fallback:O.some(hm)}],gm=function(e,t,n,r,o){return void 0===o&&(o=mm),K(o,function(e){return e.current===n}).bind(function(n){return n.current(e,t,r,n.next).orThunk(function(){return n.fallback.bind(function(n){return gm(e,t,n,r)})})})},vm=function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return e.length>0?O.some(e[e.length-1]):O.none()}}},bm=function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return e.length>0?O.some(e[0]):O.none()}}},ym={left:vm,right:bm},wm=function(e,t,n,r,o,i){return gm(e,t,r,o).bind(function(t){return i(t.item())?O.none():n(t.item())?O.some(t.item()):wm(e,t.item(),n,t.mode(),o,i)})},xm=function(e,t,n,r){return wm(e,t,n,hm,ym.left(),r)},Cm=function(e,t,n,r){return wm(e,t,n,hm,ym.right(),r)},km=function(e){return function(t){return 0===e.property().children(t).length}},_m=function(e,t,n){return Am(e,t,km(e),n)},Em=function(e,t,n){return Sm(e,t,km(e),n)},Am=xm,Sm=Cm,Om=r(),Tm=function(e,t){return _m(Om,e,t)},Dm=function(e,t){return Em(Om,e,t)},Nm=function(e,t,n){return Am(Om,e,t,n)},Fm=function(e,t,n){return Sm(Om,e,t,n)},Lm=function(e,t,n){return Ln(e,t,n).isSome()},Pm=ue("element","offset"),Bm=(ue("element","deltaOffset"),ue("element","start","finish"),ue("begin","end"),ue("element","text"),oi.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}])),Rm=function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right},qm=function(e){return In(e,"tr")},Mm=function(e,t,n,r,o,i,a){return In(r,"td,th",a).bind(function(n){return In(t,"td,th",a).map(function(t){return Ht(n,t)?Ht(r,n)&&Er(n)===o?i(t):Bm.none("in same cell"):$o.sharedOne(qm,[n,t]).fold(function(){return Rm(e,t,n)?Bm.success():i(t)},function(e){return i(t)})})}).getOr(Bm.none("default"))},jm=function(e,t,n,r,o){return e.fold(t,n,r,o)},Im=Fa({},Bm,{verify:Mm,cata:jm}),$m=(ue("ancestor","descendants","element","index"),ue("parent","children","element","index")),zm=function(e){return Jt(e).bind(function(t){var n=tn(t);return Hm(n,e).map(function(r){return $m(t,n,e,r)})})},Hm=function(e,n){return G(e,t(Ht,n))},Vm=function(e){return"br"===xe(e)},Um=function(e,t,n){return t(e,n).bind(function(e){return Ae(e)&&0===Cr(e).trim().length?Um(e,t,n):O.some(e)})},Wm=function(e,t,n){return n.traverse(t).orThunk(function(){return Um(t,n.gather,e)}).map(n.relative)},Km=function(e,t){return nn(e,t).filter(Vm).orThunk(function(){return nn(e,t-1).filter(Vm)})},Gm=function(e,t,n,r){return Km(t,n).bind(function(t){return r.traverse(t).fold(function(){return Um(t,r.gather,e).map(r.relative)},function(e){return zm(e).map(function(e){return Rh.on(e.parent(),e.index())})})})},Ym=function(e,t,n,r){return(Vm(t)?Wm(e,t,r):Gm(e,t,n,r)).map(function(e){return{start:g(e),finish:g(e)}})},Xm=function(e){return Im.cata(e,function(e){return O.none()},function(){return O.none()},function(e){return O.some(Pm(e,0))},function(e){return O.some(Pm(e,Er(e)))})},Jm={tryBr:Ym,process:Xm},Zm=ge(["left","top","right","bottom"],[]),Qm=function(e,t){return Zm({left:e.left(),top:e.top()+t,right:e.right(),bottom:e.bottom()+t})},eg=function(e,t){return Zm({left:e.left(),top:e.top()-t,right:e.right(),bottom:e.bottom()-t})},tg=function(e,t){var n=e.bottom()-e.top();return Zm({left:e.left(),top:t-n,right:e.right(),bottom:t})},ng=function(e,t){var n=e.bottom()-e.top();return Zm({left:e.left(),top:t,right:e.right(),bottom:t+n})},rg=function(e,t,n){return Zm({left:e.left()+t,top:e.top()+n,right:e.right()+t,bottom:e.bottom()+n})},og=function(e){return e.top()},ig=function(e){return e.bottom()},ag=function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"},sg={nu:Zm,moveUp:eg,moveDown:Qm,moveBottomTo:tg,moveTopTo:ng,getTop:og,getBottom:ig,translate:rg,toString:ag},lg=function(e,t,n){return n>=0&&n<Er(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):O.none()},ug=function(e){return sg.nu({left:e.left,top:e.top,right:e.right,bottom:e.bottom})},cg=function(e,t){return O.some(e.getRect(t))},fg=function(e,t,n){return Ee(t)?cg(e,t).map(ug):Ae(t)?lg(e,t,n).map(ug):O.none()},dg=function(e,t){return Ee(t)?cg(e,t).map(ug):Ae(t)?e.getRangedRect(t,0,t,Er(t)).map(ug):O.none()},hg={getBoxAt:fg,getEntireBox:dg},pg=oi.generate([{none:[]},{retry:["caret"]}]),mg=function(e,t){return e.left()<t.left()||Math.abs(t.right()-e.left())<1||e.left()>t.right()},gg=function(e,t,n){return Pn(t,Uu.isBlock).fold(g(!1),function(t){return hg.getEntireBox(e,t).exists(function(e){return mg(n,e)})})},vg=function(e,t,n,r,o){var i=sg.moveDown(o,5);return Math.abs(n.bottom()-r.bottom())<1?pg.retry(i):n.top()>o.bottom()?pg.retry(i):n.top()===o.bottom()?pg.retry(sg.moveDown(o,1)):gg(e,t,o)?pg.retry(sg.translate(i,5,0)):pg.none()},bg=function(e,t,n,r,o){var i=sg.moveUp(o,5);return Math.abs(n.top()-r.top())<1?pg.retry(i):n.bottom()<o.top()?pg.retry(i):n.bottom()===o.top()?pg.retry(sg.moveUp(o,1)):gg(e,t,o)?pg.retry(sg.translate(i,5,0)):pg.none()},yg={point:sg.getTop,adjuster:bg,move:sg.moveUp,gather:Tm},wg={point:sg.getBottom,adjuster:vg,move:sg.moveDown,gather:Dm},xg=function(e,t,n){return e.elementFromPoint(t,n).filter(function(e){return"table"===xe(e)}).isSome()},Cg=function(e,t,n,r,o){return kg(e,t,n,t.move(r,5),o)},kg=function(e,t,n,r,o){return 0===o?O.some(r):xg(e,r.left(),t.point(r))?Cg(e,t,n,r,o-1):e.situsFromPoint(r.left(),t.point(r)).bind(function(i){return i.start().fold(O.none,function(i){return hg.getEntireBox(e,i).bind(function(a){return t.adjuster(e,i,a,n,r).fold(O.none,function(r){return kg(e,t,n,r,o-1)})}).orThunk(function(){return O.some(r)})},O.none)})},_g=function(e,t){return e.situsFromPoint(t.left(),t.bottom()+5)},Eg=function(e,t){return e.situsFromPoint(t.left(),t.top()-5)},Ag=function(e,t,n){return e.point(t)>n.getInnerHeight()?O.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?O.some(-e.point(t)):O.none()},Sg=function(e,t,n){var r=e.move(n,5),o=kg(t,e,n,r,100).getOr(r);return Ag(e,o,t).fold(function(){return t.situsFromPoint(o.left(),e.point(o))},function(n){return t.scrollBy(0,n),t.situsFromPoint(o.left(),e.point(o)-n)})},Og={tryUp:t(Sg,yg),tryDown:t(Sg,wg),ieTryUp:Eg,ieTryDown:_g,getJumpSize:g(5)},Tg=Rt.detect(),Dg=function(e,t,n){return e.getSelection().bind(function(r){return Jm.tryBr(t,r.finish(),r.foffset(),n).fold(function(){return O.some(Pm(r.finish(),r.foffset()))},function(o){var i=e.fromSitus(o),a=Im.verify(e,r.finish(),r.foffset(),i.finish(),i.foffset(),n.failure,t);return Jm.process(a)})})},Ng=function(e,t,n,r,o,i){return 0===i?O.none():Pg(e,t,n,r,o).bind(function(a){var s=e.fromSitus(a),l=Im.verify(e,n,r,s.finish(),s.foffset(),o.failure,t);return Im.cata(l,function(){return O.none()},function(){return O.some(a)},function(a){return Ht(n,a)&&0===r?Fg(e,n,r,sg.moveUp,o):Ng(e,t,a,0,o,i-1)},function(a){return Ht(n,a)&&r===Er(a)?Fg(e,n,r,sg.moveDown,o):Ng(e,t,a,Er(a),o,i-1)})})},Fg=function(e,t,n,r,o){return hg.getBoxAt(e,t,n).bind(function(t){return Lg(e,o,r(t,Og.getJumpSize()))})},Lg=function(e,t,n){return Tg.browser.isChrome()||Tg.browser.isSafari()||Tg.browser.isFirefox()||Tg.browser.isEdge()?t.otherRetry(e,n):Tg.browser.isIE()?t.ieRetry(e,n):O.none()},Pg=function(e,t,n,r,o){return hg.getBoxAt(e,n,r).bind(function(t){return Lg(e,o,t)})},Bg=function(e,t,n){return Dg(e,t,n).bind(function(r){return Ng(e,t,r.element(),r.offset(),n,20).map(e.fromSitus)})},Rg={handle:Bg},qg=Rt.detect(),Mg=function(e,t){return Lm(e,function(e){return Jt(e).exists(function(e){return Ht(e,t)})})},jg=function(e,t,n,r,o){return In(r,"td,th",t).bind(function(r){return In(r,"table",t).bind(function(i){return Mg(o,i)?Rg.handle(e,t,n).bind(function(e){return In(e.finish(),"td,th",t).map(function(t){return{start:g(r),finish:g(t),range:g(e)}})}):O.none()})})},Ig=function(e,t,n,r,o,i){return qg.browser.isIE()?O.none():i(r,t).orThunk(function(){return jg(e,t,n,r,o).map(function(e){var t=e.range();return tm.create(O.some(am.makeSitus(t.start(),t.soffset(),t.finish(),t.foffset())),!0)})})},$g=function(e,t){return In(e,"tr",t).bind(function(e){return In(e,"table",t).bind(function(n){var r=Fn(n,"tr");return Ht(e,r[0])?Nm(n,function(e){return Dr(e).isSome()},t).map(function(e){var t=Er(e);return tm.create(O.some(am.makeSitus(e,t,e,t)),!0)}):O.none()})})},zg=function(e,t){return In(e,"tr",t).bind(function(e){return In(e,"table",t).bind(function(n){var r=Fn(n,"tr");return Ht(e,r[r.length-1])?Fm(n,function(e){return Tr(e).isSome()},t).map(function(e){return tm.create(O.some(am.makeSitus(e,0,e,0)),!0)}):O.none()})})},Hg=function(e,t,n,r,o,i,a){return jg(e,n,r,o,i).bind(function(e){return cm.detect(t,n,e.start(),e.finish(),a)})},Vg={navigate:Ig,select:Hg,firstUpCheck:$g,lastDownCheck:zg},Ug=function(e,t){return In(e,"td,th",t)},Wg={traverse:en,gather:Dm,relative:Rh.before,otherRetry:Og.tryDown,ieRetry:Og.ieTryDown,failure:Im.failedDown},Kg={traverse:Qt,gather:Tm,relative:Rh.before,otherRetry:Og.tryUp,ieRetry:Og.ieTryUp,failure:Im.failedUp},Gg={down:Wg,up:Kg},Yg=function(e){return function(t){return t===e}},Xg=Yg(38),Jg=Yg(40),Zg=function(e){return e>=37&&e<=40},Qg={ltr:{isBackward:Yg(37),isForward:Yg(39)},rtl:{isBackward:Yg(39),isForward:Yg(37)},isUp:Xg,isDown:Jg,isNavigation:Zg},ev=function(e){return{left:e.left(),top:e.top(),right:e.right(),bottom:e.bottom(),width:e.width(),height:e.height()}},tv={toRaw:ev},nv=(Rt.detect().browser.isSafari(),function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return ua(r,o)}),rv=function(t,n,r){(void 0!==r?r.dom():e.document).defaultView.scrollBy(t,n)},ov=function(e){var t=function(t,n){return We.fromPoint(We.fromDom(e.document),t,n)},n=function(e){return e.dom().getBoundingClientRect()},r=function(t,n,r,o){var i=Uh.exact(t,n,r,o);return zp(e,i).map(tv.toRaw)},o=function(){return $p(e).map(function(t){return am.convertToRange(e,t)})},i=function(t){var n=Uh.relative(t.start(),t.finish());return am.convertToRange(e,n)},a=function(t,n){return Hp(e,t,n).map(function(e){return rm.create(e.start(),e.soffset(),e.finish(),e.foffset())})},s=function(){Vp(e)},l=function(t){jp(e,t)};return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:a,clearSelection:s,setSelection:function(t){Pp(e,t.start(),t.soffset(),t.finish(),t.foffset())},setRelativeSelection:function(t,n){Bp(e,t,n)},selectContents:l,getInnerHeight:function(){return e.innerHeight},getScrollY:function(){return nv(We.fromDom(e.document)).top()},scrollBy:function(t,n){rv(t,n,We.fromDom(e.document))}}},iv=ue("rows","cols"),av=function(e,t,n,r){var o=ov(e),i=c(o,t,n,r);return{mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},sv=function(e,n,r,o){var i=ov(e),a=function(){return o.clear(n),O.none()};return{keydown:function(e,s,l,u,c,f){var d=e.raw(),h=d.which,p=!0===d.shiftKey;return Jo.retrieve(n,o.selectedSelector()).fold(function(){return Qg.isDown(h)&&p?t(Vg.select,i,n,r,Gg.down,u,s,o.selectRange):Qg.isUp(h)&&p?t(Vg.select,i,n,r,Gg.up,u,s,o.selectRange):Qg.isDown(h)?t(Vg.navigate,i,r,Gg.down,u,s,Vg.lastDownCheck):Qg.isUp(h)?t(Vg.navigate,i,r,Gg.up,u,s,Vg.firstUpCheck):O.none},function(e){var t=function(t){return function(){return Pa(t,function(t){return cm.update(t.rows(),t.cols(),n,e,o)}).fold(function(){return Jo.getEdges(n,o.firstSelectedSelector(),o.lastSelectedSelector()).map(function(e){var t=Qg.isDown(h)||f.isForward(h)?Rh.after:Rh.before;return i.setRelativeSelection(Rh.on(e.first(),0),t(e.table())),o.clear(n),tm.create(O.none(),!0)})},function(e){return O.some(tm.create(O.none(),!0))})}};return Qg.isDown(h)&&p?t([iv(1,0)]):Qg.isUp(h)&&p?t([iv(-1,0)]):f.isBackward(h)&&p?t([iv(0,-1),iv(-1,0)]):f.isForward(h)&&p?t([iv(0,1),iv(1,0)]):Qg.isNavigation(h)&&!1===p?a:O.none})()},keyup:function(e,t,i,a,s){return Jo.retrieve(n,o.selectedSelector()).fold(function(){var l=e.raw(),u=l.which;return 0==(!0===l.shiftKey)?O.none():Qg.isNavigation(u)?cm.sync(n,r,t,i,a,s,o.selectRange):O.none()},O.none)}}},lv={mouse:av,keyboard:sv},uv=function(e,t){z(t,function(t){Ga(e,t)})},cv=function(e){return function(t){Wa(t,e)}},fv=function(e){return function(t){uv(t,e)}},dv=function(e){var t=cv(e.selected()),n=fv([e.selected(),e.lastSelected(),e.firstSelected()]),r=function(t){var r=Fn(t,e.selectedSelector());z(r,n)};return{clear:r,selectRange:function(n,o,i,a){r(n),z(o,t),Wa(i,e.firstSelected()),Wa(a,e.lastSelected())},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},hv=function(e){var t=function(t){Fe(t,e.selected()),Fe(t,e.firstSelected()),Fe(t,e.lastSelected())},n=function(t){Oe(t,e.selected(),"1")},r=function(n){var r=Fn(n,e.selectedSelector());z(r,t)};return{clear:r,selectRange:function(t,o,i,a){r(t),z(o,n),Oe(i,e.firstSelected(),"1"),Oe(a,e.lastSelected(),"1")},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},pv={byClass:dv,byAttr:hv},mv=function(e){return!1===Ya(We.fromDom(e.target),"ephox-snooker-resizer-bar")},gv=function(e){return{get:function(){var t=Ec(e);return ei.retrieve(t,ni.selectedSelector()).fold(function(){return void 0===e.selection.getStart()?si.none():si.single(e.selection)},function(e){return si.multiple(e)})}}},vv=function(e,t){var n=h(O.none()),r=h([]),o=function(){return Sd(e).bind(function(e){return rr.table(e).map(function(n){return"caption"===xe(e)?vi.notCell(e):vi.forMenu(t,n,e)})})},i=function(){n.set(Ie(o)()),z(r.get(),function(e){return e()})},a=function(e,t){var o=function(){return n.get().fold(function(){e.setDisabled(!0)},function(n){e.setDisabled(t(n))})};return o(),r.set(r.get().concat([o])),function(){r.set(V(r.get(),function(e){return e!==o}))}},s=function(e){return a(e,function(e){return!1})},l=function(e){return a(e,function(e){return"caption"===xe(e.element())})},u=function(e){return a(e,function(e){return e.mergable().isNone()})},c=function(e){return a(e,function(e){return e.unmergable().isNone()})};return e.on("NodeChange",i),{onSetupTable:s,onSetupCellOrRow:l,onSetupMergeable:u,onSetupUnmergeable:c,resetTargets:i,targets:function(){return n.get()}}},bv=function(e,t){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable tableprops deletetable | cell row column")}});var n=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:n("mceTableProps"),icon:"table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:n("mceTableDelete"),icon:"table-delete-table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:n("mceTableCellProps"),icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:n("mceTableMergeCells"),icon:"table-merge-cells",onSetup:t.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:n("mceTableSplitCells"),icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:n("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:n("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:n("mceTableDeleteRow"),icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:n("mceTableRowProps"),icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:n("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:n("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:n("mceTableDeleteCol"),icon:"table-delete-column",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",onAction:n("mceTableCutRow"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",onAction:n("mceTableCopyRow"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",onAction:n("mceTablePasteRowBefore"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",onAction:n("mceTablePasteRowAfter"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:n("mceInsertTable"),icon:"table"})},yv=function(e){var t=function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},n=ef(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})},wv={addButtons:bv,addToolbars:yv},xv=function(e,t){var n=function(t){return function(){return e.execCommand(t)}},r=function(t){var n=t.numRows,r=t.numColumns;e.undoManager.transact(function(){vd.insert(e,r,n)}),e.addVisual()},o={text:"Table properties",onSetup:t.onSetupTable,onAction:n("mceTableProps")},i={text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,onAction:n("mceTableDelete")},a=[{type:"menuitem",text:"Insert row before",icon:"table-insert-row-above",onAction:n("mceTableInsertRowBefore"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Insert row after",icon:"table-insert-row-after",onAction:n("mceTableInsertRowAfter"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Delete row",icon:"table-delete-row",onAction:n("mceTableDeleteRow"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Row properties",icon:"table-row-properties",onAction:n("mceTableRowProps"),onSetup:t.onSetupCellOrRow},{type:"separator"},{type:"menuitem",text:"Cut row",onAction:n("mceTableCutRow"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Copy row",onAction:n("mceTableCopyRow"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Paste row before",onAction:n("mceTablePasteRowBefore"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Paste row after",onAction:n("mceTablePasteRowAfter"),onSetup:t.onSetupCellOrRow}],s={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return a}},l=[{type:"menuitem",text:"Insert column before",icon:"table-insert-column-before",onAction:n("mceTableInsertColBefore"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Insert column after",icon:"table-insert-column-after",onAction:n("mceTableInsertColAfter"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Delete column",icon:"table-delete-column",onAction:n("mceTableDeleteCol"),onSetup:t.onSetupCellOrRow}],u={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return l}},c=[{type:"menuitem",text:"Cell properties",icon:"table-cell-properties",onAction:n("mceTableCellProps"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Merge cells",icon:"table-merge-cells",onAction:n("mceTableMergeCells"),onSetup:t.onSetupMergeable},{type:"menuitem",text:"Split cell",icon:"table-split-cells",onAction:n("mceTableSplitCells"),onSetup:t.onSetupUnmergeable}],f={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return c}};return!1===Kc(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:r}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",o),e.ui.registry.addMenuItem("deletetable",i),e.ui.registry.addNestedMenuItem("row",s),e.ui.registry.addNestedMenuItem("column",u),e.ui.registry.addNestedMenuItem("cell",f),e.ui.registry.addContextMenu("table",{update:function(){return t.resetTargets(),t.targets().fold(function(){return""},function(e){return"caption"===xe(e.element())?"tableprops deletetable":"cell row column | tableprops deletetable"})}}),{rowItems:a,columnItems:l,cellItems:c}},Cv={addMenuItems:xv},kv=function(e){return e.get().fold(function(){},function(e){return $(e,function(e){return e.dom()})})},_v=function(e,t){var n=$(e,We.fromDom);t.set(O.from(n))},Ev=function(e,t,n,r,o){return{insertTable:function(t,n){return vd.insert(e,t,n)},setClipboardRows:function(e){return _v(e,t)},getClipboardRows:function(){return kv(t)},resizeHandler:n,menuItems:o,selectionTargets:r}};!function(){T.add("table",d)}()}(window)},function(e,t,n){n(153)},function(e,t){!function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return function(){return e}},r=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},o=n(!1),i=n(!0),a=o,s=i,l=function(){return u},u=function(){var e=function(e){return e.isNone()},t=function(e){return e()},r=function(e){return e},o=function(){},i=function(){return null},u=function(){},c={fold:function(e,t){return e()},is:a,isSome:a,isNone:s,getOr:r,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i,getOrUndefined:u,or:r,orThunk:t,map:l,ap:l,each:o,bind:l,flatten:l,exists:a,forall:s,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:n("none()")};return Object.freeze&&Object.freeze(c),c}(),c=function(e){var t=function(){return e},n=function(){return i},r=function(t){return c(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(l,function(t){return c(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:u},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(a,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},f=function(e){return null===e||void 0===e?u:c(e)},d={some:c,none:l,from:f},h=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},p=function(e){return function(t){return h(t)===e}},m=p("string"),g=p("array"),v=p("boolean"),b=p("function"),y=p("number"),w=Array.prototype.slice,x=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},C=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},k=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},_=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],l=t(s);l!==n&&(r.push(o),o=[]),n=l,o.push(s)}return 0!==o.length&&r.push(o),r},E=function(e,t,n){return C(e,function(e){n=t(n,e)}),n},A=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return d.some(o)}return d.none()},S=Array.prototype.push,O=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!g(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);S.apply(t,e[n])}return t},T=function(e,t){var n=x(e,t);return O(n)},D=function(e){var t=w.call(e,0);return t.reverse(),t},N=function(e){return 0===e.length?d.none():d.some(e[0])},F=function(e){return 0===e.length?d.none():d.some(e[e.length-1])},L=(b(Array.from)&&Array.from,function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}),P=function(t,n){return L(t,n,e.Node.DOCUMENT_POSITION_PRECEDING)},B=function(t,n){return L(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},R={documentPositionPreceding:P,documentPositionContainedBy:B},q=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},M=function(e,t){var n=q(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return $(r(1),r(2))},j=function(e,t){var n=String(t).toLowerCase();return 0===e.length?I():M(e,n)},I=function(){return $(0,0)},$=function(e,t){return{major:e,minor:t}},z={nu:$,detect:j,unknown:I},H=function(e,t){return function(){return t===e}},V=function(){return U({current:void 0,version:z.unknown()})},U=function(e){var t=e.current;return{current:t,version:e.version,isEdge:H("Edge",t),isChrome:H("Chrome",t),isIE:H("IE",t),isOpera:H("Opera",t),isFirefox:H("Firefox",t),isSafari:H("Safari",t)}},W={unknown:V,nu:U,edge:n("Edge"),chrome:n("Chrome"),ie:n("IE"),opera:n("Opera"),firefox:n("Firefox"),safari:n("Safari")},K=function(e,t){return function(){return t===e}},G=function(){return Y({current:void 0,version:z.unknown()})},Y=function(e){var t=e.current;return{current:t,version:e.version,isWindows:K("Windows",t),isiOS:K("iOS",t),isAndroid:K("Android",t),isOSX:K("OSX",t),isLinux:K("Linux",t),isSolaris:K("Solaris",t),isFreeBSD:K("FreeBSD",t)}},X={unknown:G,nu:Y,windows:n("Windows"),ios:n("iOS"),android:n("Android"),linux:n("Linux"),osx:n("OSX"),solaris:n("Solaris"),freebsd:n("FreeBSD")},J=function(e,t,r){var o=e.isiOS()&&!0===/ipad/i.test(r),i=e.isiOS()&&!o,a=e.isAndroid()&&3===e.version.major,s=e.isAndroid()&&4===e.version.major,l=o||a||s&&!0===/mobile/i.test(r),u=e.isiOS()||e.isAndroid(),c=u&&!l,f=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r);return{isiPad:n(o),isiPhone:n(i),isTablet:n(l),isPhone:n(c),isTouch:n(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:n(f)}},Z=function(e,t){var n=String(t).toLowerCase();return A(e,function(e){return e.search(n)})},Q=function(e,t){return Z(e,t).map(function(e){var n=z.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ee=function(e,t){return Z(e,t).map(function(e){var n=z.detect(e.versionRegexes,t);return{current:e.name,version:n}})},te={detectBrowser:Q,detectOs:ee},ne=function(e,t){return-1!==e.indexOf(t)},re=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,oe=function(e){return function(t){return ne(t,e)}},ie=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ne(e,"edge/")&&ne(e,"chrome")&&ne(e,"safari")&&ne(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,re],search:function(e){return ne(e,"chrome")&&!ne(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ne(e,"msie")||ne(e,"trident")}},{name:"Opera",versionRegexes:[re,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oe("firefox")},{name:"Safari",versionRegexes:[re,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ne(e,"safari")||ne(e,"mobile/"))&&ne(e,"applewebkit")}}],ae=[{name:"Windows",search:oe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ne(e,"iphone")||ne(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:oe("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oe("linux"),versionRegexes:[]},{name:"Solaris",search:oe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oe("freebsd"),versionRegexes:[]}],se={browsers:n(ie),oses:n(ae)},le=function(e){var t=se.browsers(),n=se.oses(),r=te.detectBrowser(t,e).fold(W.unknown,W.nu),o=te.detectOs(n,e).fold(X.unknown,X.nu);return{browser:r,os:o,deviceType:J(o,r,e)}},ue={detect:le},ce=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}(function(){var t=e.navigator.userAgent;return ue.detect(t)}),fe={detect:ce},de=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return me(o.childNodes[0])},he=function(t,n){var r=n||e.document,o=r.createElement(t);return me(o)},pe=function(t,n){var r=n||e.document,o=r.createTextNode(t);return me(o)},me=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:n(e)}},ge=function(e,t,n){var r=e.dom();return d.from(r.elementFromPoint(t,n)).map(me)},ve={fromHtml:de,fromTag:he,fromText:pe,fromDom:me,fromPoint:ge},be=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),ye=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,be),we=function(e,t){var n=e.dom();if(n.nodeType!==ye)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},xe=function(e,t){return e.dom()===t.dom()},Ce=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},ke=function(e,t){return R.documentPositionContainedBy(e.dom(),t.dom())},_e=fe.detect().browser,Ee=_e.isIE()?ke:Ce,Ae=we,Se=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Oe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Te=tinymce.util.Tools.resolve("tinymce.util.VK"),De=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return d.none();n.push(o.getOrDie())}return d.some(t.apply(null,n))},Ne=function(t,n){var r=n||e.document,o=r.createDocumentFragment();return C(t,function(e){o.appendChild(e.dom())}),ve.fromDom(o)},Fe=Object.keys,Le=function(e,t){for(var n=Fe(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},Pe=function(e){return d.from(e.dom().parentNode).map(ve.fromDom)},Be=function(e){return x(e.dom().childNodes,ve.fromDom)},Re=function(e,t){var n=e.dom().childNodes;return d.from(n[t]).map(ve.fromDom)},qe=function(e){return Re(e,0)},Me=function(e){return Re(e,e.dom().childNodes.length-1)},je=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}("element","offset"),function(e,t){Pe(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})}),Ie=function(e,t){e.dom().appendChild(t.dom())},$e=function(e,t){C(t,function(t){je(e,t)})},ze=function(e,t){C(t,function(t){Ie(e,t)})},He=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Ve=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},Ue=void 0!==e.window?e.window:Function("return this;")(),We=function(e,t){for(var n=void 0!==t&&null!==t?t:Ue,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},Ke=function(e,t){var n=e.split(".");return We(n,t)},Ge=function(e,t){return Ke(e,t)},Ye=function(e,t){var n=Ge(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},Xe={getOrDie:Ye},Je=function(e){return Xe.getOrDie("HTMLElement",e)},Ze=function(e){var t=Ke("ownerDocument.defaultView",e);return Je(t).prototype.isPrototypeOf(e)},Qe={isPrototypeOf:Ze},et=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),tt=tinymce.util.Tools.resolve("tinymce.util.Tools"),nt=function(e){return e&&3===e.nodeType},rt=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},ot=function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},it=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},at=function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},st=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},lt=function(e){return e&&"BR"===e.nodeName},ut=function(e){return e.parentNode.firstChild===e},ct=function(e){return e.parentNode.lastChild===e},ft=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},dt=function(e,t){return e&&e.nodeName in t},ht=function(e,t){return!!lt(t)&&!(!e.isBlock(t.nextSibling)||lt(t.previousSibling))},pt=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},mt=function(e,t){return e.isChildOf(t,e.getRoot())},gt={isTextNode:nt,isListNode:rt,isOlUlNode:ot,isDlItemNode:at,isListItemNode:it,isTableCellNode:st,isBr:lt,isFirstChild:ut,isLastChild:ct,isTextBlock:ft,isBlock:dt,isBogusBr:ht,isEmpty:pt,isChildOfBody:mt},vt=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",_t(e,t))},bt=function(e,t){return e&&1===t.length&&t[0]===e},yt=function(e){return tt.grep(e.querySelectorAll("ol,ul,dl"),function(e){return gt.isListNode(e)})},wt=function(e){var t=vt(e),n=e.selection.getSelectedBlocks();return bt(t,n)?yt(t):tt.grep(n,function(e){return gt.isListNode(e)&&t!==e})},xt=function(e,t){var n=tt.map(t,function(t){var n=e.dom.getParent(t,"li,dd,dt",_t(e,t));return n||t});return et.unique(n)},Ct=function(e){var t=e.selection.getSelectedBlocks();return tt.grep(xt(e,t),function(e){return gt.isListItemNode(e)})},kt=function(e){return k(Ct(e),gt.isDlItemNode)},_t=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},Et=function(e,t){var n=e.dom.getParents(t,"ol,ul",_t(e,t));return F(n)},At=function(e){var t=Et(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),gt.isOlUlNode);return t.toArray().concat(n)},St=function(e){var t=At(e);return Ot(e,t)},Ot=function(e,t){var n=x(t,function(t){return Et(e,t).getOr(t)});return et.unique(n)},Tt=function(e){var t=vt(e);return Qe.isPrototypeOf(t)},Dt={isList:Tt,getParentList:vt,getSelectedSubLists:wt,getSelectedListItems:Ct,getClosestListRootElm:_t,getSelectedDlItems:kt,getSelectedListRoots:St},Nt=tinymce.util.Tools.resolve("tinymce.Env"),Ft=function(e,t){var n,r,o,i,a=e.dom,s=e.schema.getBlockElements(),l=a.createFragment();if(e.settings.forced_root_block&&(o=e.settings.forced_root_block),o&&(r=a.create(o),r.tagName===e.settings.forced_root_block&&a.setAttribs(r,e.settings.forced_root_block_attrs),gt.isBlock(t.firstChild,s)||l.appendChild(r)),t)for(;n=t.firstChild;){var u=n.nodeName;i||"SPAN"===u&&"bookmark"===n.getAttribute("data-mce-type")||(i=!0),gt.isBlock(n,s)?(l.appendChild(n),r=null):o?(r||(r=a.create(o),l.appendChild(r)),r.appendChild(n)):l.appendChild(n)}return e.settings.forced_root_block?i||Nt.ie&&!(Nt.ie>10)||r.appendChild(a.create("br",{"data-mce-bogus":"1"})):l.appendChild(a.create("br")),l},Lt=function(e){return e.dom().nodeName.toLowerCase()},Pt=function(e){return e.dom().nodeType},Bt=function(e){return function(t){return Pt(t)===e}}(be),Rt=function(t,n,r){if(!(m(r)||v(r)||y(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},qt=function(e,t){var n=e.dom();Le(t,function(e,t){Rt(n,t,e)})},Mt=function(e){return E(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},jt=function(e){return void 0!==e.style&&b(e.style.getPropertyValue)},It=function(t,n,r){if(!m(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);jt(t)&&t.style.setProperty(n,r)},$t=function(e,t,n){var r=e.dom();It(r,t,n)},zt=function(e,t){return ve.fromDom(e.dom().cloneNode(t))},Ht=function(e){return zt(e,!0)},Vt=function(e,t){var n=ve.fromTag(t),r=Mt(e);return qt(n,r),n},Ut=function(e,t){var n=Vt(e,t);je(e,n);var r=Be(e);return ze(n,r),He(e),n},Wt=function(e,t){Ie(e.item,t.list)},Kt=function(e){for(var t=1;t<e.length;t++)Wt(e[t-1],e[t])},Gt=function(e,t){De([F(e),N(t)],Wt)},Yt=function(e,t){var n={list:ve.fromTag(t,e),item:ve.fromTag("li",e)};return Ie(n.list,n.item),n},Xt=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(Yt(e,t.listType));return r},Jt=function(e,t){for(var n=0;n<e.length-1;n++)$t(e[n].item,"list-style-type","none");F(e).each(function(e){qt(e.list,t.listAttributes),qt(e.item,t.itemAttributes),ze(e.item,t.content)})},Zt=function(e,t){Lt(e.list)!==t.listType&&(e.list=Ut(e.list,t.listType)),qt(e.list,t.listAttributes)},Qt=function(e,t,n){var r=ve.fromTag("li",e);return qt(r,t),ze(r,n),r},en=function(e,t){Ie(e.list,t),e.item=t},tn=function(e,t,n){var r=t.slice(0,n.depth);return F(r).each(function(t){var r=Qt(e,n.itemAttributes,n.content);en(t,r),Zt(t,n)}),r},nn=function(e,t,n){var r=Xt(e,n,n.depth-t.length);return Kt(r),Jt(r,n),Gt(t,r),t.concat(r)},rn=function(e,t){var n=E(t,function(t,n){return n.depth>t.length?nn(e,t,n):tn(e,t,n)},[]);return N(n).map(function(e){return e.list})},on=function(e){return Ae(e,"OL,UL")},an=function(e){return qe(e).map(on).getOr(!1)},sn=function(e){return Me(e).map(on).getOr(!1)},ln=function(e){return e.depth>0},un=function(e){return e.isSelected},cn=function(e){var t=Be(e),n=sn(e)?t.slice(0,-1):t;return x(n,Ht)},fn=function(e,t,n){return Pe(e).filter(Bt).map(function(r){return{depth:t,isSelected:n,content:cn(e),itemAttributes:Mt(e),listAttributes:Mt(r),listType:Lt(r)}})},dn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}},hn=Object.prototype.hasOwnProperty,pn=function(e,t){return t},mn=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)hn.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(pn),gn=function(e,t){e.listType=t.listType,e.listAttributes=mn({},t.listAttributes)},vn=function(e,t){for(var n=e[t].depth,r=t-1;r>=0;r--){if(e[r].depth===n)return d.some(e[r]);if(e[r].depth<n)break}return d.none()},bn=function(e){C(e,function(t,n){vn(e,n).each(function(e){gn(t,e)})})},yn=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return yn(n())}}},wn=function(e,t,n,r){return qe(r).filter(on).fold(function(){t.each(function(e){xe(e.start,r)&&n.set(!0)});var o=fn(r,e,n.get());t.each(function(e){xe(e.end,r)&&n.set(!1)});var i=Me(r).filter(on).map(function(r){return xn(e,t,n,r)}).getOr([]);return o.toArray().concat(i)},function(r){return xn(e,t,n,r)})},xn=function(e,t,n,r){return T(Be(r),function(r){return(on(r)?xn:wn)(e+1,t,n,r)})},Cn=function(e,t){var n=yn(!1);return x(e,function(e){return{sourceList:e,entries:xn(0,t,n,e)}})},kn=function(e,t){return x(t,function(t){var n=Ne(t.content);return ve.fromDom(Ft(e,n.dom()))})},_n=function(e,t){return bn(t),rn(e.contentDocument,t).toArray()},En=function(e,t){return T(_(t,ln),function(t){return N(t).map(ln).getOr(!1)?_n(e,t):kn(e,t)})},An=function(e,t){C(k(e,un),function(e){return dn(t,e)})},Sn=function(e){var t=x(Dt.getSelectedListItems(e),ve.fromDom);return De([A(t,r(an)),A(D(t),r(an))],function(e,t){return{start:e,end:t}})},On=function(e,t,n){var r=Cn(t,Sn(e));C(r,function(t){An(t.entries,n);var r=En(e,t.entries);C(r,function(t){Ve(e,"Indent"===n?"IndentList":"OutdentList",t.dom())}),$e(t.sourceList,r),He(t.sourceList)})},Tn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Dn=Tn.DOM,Nn=function(e,t,n){var r,o,i,a,s;for(i=Dn.select('span[data-mce-type="bookmark"]',t),s=Ft(e,n),r=Dn.createRng(),r.setStartAfter(n),r.setEndAfter(t),o=r.extractContents(),a=o.firstChild;a;a=a.firstChild)if("LI"===a.nodeName&&e.dom.isEmpty(a)){Dn.remove(a);break}e.dom.isEmpty(o)||Dn.insertAfter(o,t),Dn.insertAfter(s,t),gt.isEmpty(e.dom,n.parentNode)&&function(e){tt.each(i,function(t){e.parentNode.insertBefore(t,n.parentNode)}),Dn.remove(e)}(n.parentNode),Dn.remove(n),gt.isEmpty(e.dom,t)&&Dn.remove(t)},Fn={splitList:Nn},Ln=function(e,t){Ae(t,"dd")?Ut(t,"dt"):Ae(t,"dt")&&Pe(t).each(function(n){return Fn.splitList(e,n.dom(),t.dom())})},Pn=function(e){Ae(e,"dt")&&Ut(e,"dd")},Bn=function(e,t,n){"Indent"===t?C(n,Pn):C(n,function(t){return Ln(e,t)})},Rn=function(e,t){if(gt.isTextNode(e))return{container:e,offset:t};var n=Se.getNode(e,t);return gt.isTextNode(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&gt.isTextNode(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&gt.isTextNode(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},qn=function(e){var t=e.cloneRange(),n=Rn(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=Rn(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},Mn={getNormalizedPoint:Rn,normalizeRange:qn},jn=function(e,t){var n=x(Dt.getSelectedListRoots(e),ve.fromDom),r=x(Dt.getSelectedDlItems(e),ve.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();On(e,n,t),Bn(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(Mn.normalizeRange(e.selection.getRng())),e.nodeChanged(),o=!0}return o},In=function(e){return jn(e,"Indent")},$n=function(e){return jn(e,"Outdent")},zn=function(e){return jn(e,"Flatten")},Hn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Vn=Tn.DOM,Un=function(e){var t={},n=function(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=Vn.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):Vn.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},Wn=function(e){function t(t){var n,r,o;n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,Vn.remove(o),!n.hasChildNodes()&&Vn.isBlock(n)&&n.appendChild(Vn.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=Vn.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),Mn.normalizeRange(n)},Kn={createBookmark:Un,resolveBookmark:Wn},Gn=function(e){return/\btox\-/.test(e.className)},Yn=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Xn=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},Jn=function(e,t){tt.each(t,function(t,n){e.setAttribute(n,t)})},Zn=function(e,t,n){Jn(t,n["list-attributes"]),tt.each(e.select("li",t),function(e){Jn(e,n["list-item-attributes"])})},Qn=function(e,t,n){Xn(e,t,n),Zn(e,t,n)},er=function(e,t,n){tt.each(n,function(n){var r;return e.setStyle(t,(r={},r[n]="",r))})},tr=function(e,t,n,r){var o,i;for(o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&gt.isBr(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(gt.isTextBlock(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},nr=function(e,t,n){for(var r,o=[],i=e.dom,a=tr(e,t,!0,n),s=tr(e,t,!1,n),l=[],u=a;u&&(l.push(u),u!==s);u=u.nextSibling);return tt.each(l,function(t){if(gt.isTextBlock(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||gt.isBr(t))return gt.isBr(t)&&i.remove(t),void(r=null);var a=t.nextSibling;if(Hn.isBookmarkNode(t)&&(gt.isTextBlock(e,a)||!a&&t.parentNode===n))return void(r=null);r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t)}),o},rr=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},or=function(e,t,n){void 0===n&&(n={});var r,o=e.selection.getRng(!0),i="LI",a=Dt.getClosestListRootElm(e,e.selection.getStart(!0)),s=e.dom;"false"!==s.getContentEditable(e.selection.getNode())&&(t=t.toUpperCase(),"DL"===t&&(i="DT"),r=Kn.createBookmark(o),tt.each(nr(e,o,a),function(r){var o,a;a=r.previousSibling,a&&gt.isListNode(a)&&a.nodeName===t&&rr(s,a,n)?(o=a,r=s.rename(r,i),a.appendChild(r)):(o=s.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=s.rename(r,i)),er(s,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qn(s,o,n),ur(e.dom,o)}),e.selection.setRng(Kn.resolveBookmark(r)))},ir=function(e,t){return e&&t&&gt.isListNode(e)&&e.nodeName===t.nodeName},ar=function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)},sr=function(e,t){return e.className===t.className},lr=function(e,t,n){return ir(t,n)&&ar(e,t,n)&&sr(t,n)},ur=function(e,t){var n,r;if(n=t.nextSibling,lr(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,lr(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},cr=function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);Qn(e.dom,o,r),Ve(e,Yn(n),o)}else Qn(e.dom,t,r),Ve(e,Yn(n),t)},fr=function(e,t,n,r,o){if(t.nodeName!==r||dr(o)){var i=Kn.createBookmark(e.selection.getRng(!0));tt.each([t].concat(n),function(t){cr(e,t,r,o)}),e.selection.setRng(Kn.resolveBookmark(i))}else zn(e)},dr=function(e){return"list-style-type"in e},hr=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||dr(r)||Gn(t)){var o=Kn.createBookmark(e.selection.getRng(!0));Qn(e.dom,t,r);var i=e.dom.rename(t,n);ur(e.dom,i),e.selection.setRng(Kn.resolveBookmark(o)),Ve(e,Yn(n),i)}else zn(e);else or(e,n,r),Ve(e,Yn(n),t)},pr=function(e,t,n){var r=Dt.getParentList(e),o=Dt.getSelectedSubLists(e);n=n||{},r&&o.length>0?fr(e,r,o,t,n):hr(e,r,t,n)},mr={toggleList:pr,mergeWithAdjacentLists:ur},gr=Tn.DOM,vr=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),gt.isEmpty(e,r)&&gr.remove(r)):gr.setStyle(r,"listStyleType","none")),gt.isListNode(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)},br=function(e,t){tt.each(tt.grep(e.select("ol,ul",t)),function(t){vr(e,t)})},yr={normalizeList:vr,normalizeLists:br},wr=function(e,t,n,r){var o=t.startContainer,i=t.startOffset;if(gt.isTextNode(o)&&(n?i<o.data.length:i>0))return o;var a=e.schema.getNonEmptyElements();1===o.nodeType&&(o=Se.getNode(o,i));var s=new Oe(o,r);for(n&&gt.isBogusBr(e.dom,o)&&s.next();o=s[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if(gt.isTextNode(o)&&o.data.length>0)return o}},xr=function(e,t){var n=t.childNodes;return 1===n.length&&!gt.isListNode(n[0])&&e.isBlock(n[0])},Cr=function(e,t){xr(e,t)&&e.remove(t.firstChild,!0)},kr=function(e,t,n){var r,o;if(o=xr(e,n)?n.firstChild:n,Cr(e,t),!gt.isEmpty(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},_r=function(e,t,n){var r,o,i=t.parentNode;if(gt.isChildOfBody(e,t)&&gt.isChildOfBody(e,n)){gt.isListNode(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&gt.isBr(i.previousSibling)&&e.remove(i.previousSibling),r=n.lastChild,r&&gt.isBr(r)&&t.hasChildNodes()&&e.remove(r),gt.isEmpty(e,n,!0)&&e.$(n).empty(),kr(e,t,n),o&&n.appendChild(o);var a=Ee(ve.fromDom(n),ve.fromDom(t)),s=a?e.getParents(t,gt.isListNode,n):[];e.remove(t),C(s,function(t){gt.isEmpty(e,t)&&t!==e.getRoot()&&e.remove(t)})}},Er=function(e,t,n){e.dom.$(n).empty(),_r(e.dom,t,n),e.selection.setCursorLocation(n)},Ar=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))Er(e,n,r);else{var i=Kn.createBookmark(t);_r(o,n,r),e.selection.setRng(Kn.resolveBookmark(i))}},Sr=function(e,t,n,r){var o=Kn.createBookmark(t);_r(e.dom,n,r);var i=Kn.resolveBookmark(o);e.selection.setRng(i)},Or=function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=Dt.getClosestListRootElm(e,o),a=n.getParent(r.getStart(),"LI",i);if(a){var s=a.parentNode;if(s===e.getBody()&&gt.isEmpty(n,s))return!0;var l=Mn.normalizeRange(r.getRng()),u=n.getParent(wr(e,l,t,i),"LI",i);if(u&&u!==a)return e.undoManager.transact(function(){t?Ar(e,l,u,a):gt.isFirstChild(a)?$n(e):Sr(e,l,a,u)}),!0;if(!u&&!t&&0===l.startOffset&&0===l.endOffset)return e.undoManager.transact(function(){zn(e)}),!0}return!1},Tr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Dr=function(e,t){var n=e.dom,r=e.selection.getStart(),o=Dt.getClosestListRootElm(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=Mn.normalizeRange(e.selection.getRng()),s=n.getParent(wr(e,a,t,o),"LI",o);if(s)return e.undoManager.transact(function(){Tr(n,i,o),mr.mergeWithAdjacentLists(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)}),!0}return!1},Nr=function(e,t){return Or(e,t)||Dr(e,t)},Fr=function(e){var t=e.selection.getStart(),n=Dt.getClosestListRootElm(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||Dt.getSelectedListItems(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),yr.normalizeLists(e.dom,e.getBody())}),!0)},Lr=function(e,t){return e.selection.isCollapsed()?Nr(e,t):Fr(e)},Pr=function(e){e.on("keydown",function(t){t.keyCode===Te.BACKSPACE?Lr(e,!1)&&t.preventDefault():t.keyCode===Te.DELETE&&Lr(e,!0)&&t.preventDefault()})},Br={setup:Pr,backspaceDelete:Lr},Rr=function(e){return{backspaceDelete:function(t){Br.backspaceDelete(e,t)}}},qr={get:Rr},Mr=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},jr=function(e){e.on("BeforeExecCommand",function(t){var n=t.command.toLowerCase();"indent"===n?In(e):"outdent"===n&&$n(e)}),e.addCommand("InsertUnorderedList",function(t,n){mr.toggleList(e,"UL",n)}),e.addCommand("InsertOrderedList",function(t,n){mr.toggleList(e,"OL",n)}),e.addCommand("InsertDefinitionList",function(t,n){mr.toggleList(e,"DL",n)}),e.addCommand("RemoveList",function(){zn(e)}),e.addQueryStateHandler("InsertUnorderedList",Mr(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Mr(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Mr(e,"DL"))},Ir={register:jr},$r=function(e){return e.getParam("lists_indent_on_tab",!0)},zr={shouldIndentOnTab:$r},Hr=function(e){e.on("keydown",function(t){t.keyCode!==Te.TAB||Te.metaKeyPressed(t)||e.undoManager.transact(function(){(t.shiftKey?$n(e):In(e))&&t.preventDefault()})})},Vr=function(e){zr.shouldIndentOnTab(e)&&Hr(e),Br.setup(e)},Ur={setup:Vr},Wr=function(e,t){for(var n=0;n<e.length;n++){if(t(e[n]))return n}return-1},Kr=function(e,t){return function(n){var r=function(e){var r=Wr(e.parents,gt.isTableCellNode),o=-1!==r?e.parents.slice(0,r):e.parents,i=tt.grep(o,gt.isListNode);n.setActive(i.length>0&&i[0].nodeName===t&&!Gn(i[0]))};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},Gr=function(e){var t=function(t){return function(){return e.execCommand(t)}};(function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return-1!==tt.inArray(n.split(/[ ,]/),t)})(e,"advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:Kr(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:Kr(e,"UL")}))},Yr={register:Gr};!function(){t.add("lists",function(e){return Ur.setup(e),Yr.register(e),Ir.register(e),qr.get(e)})}()}(window)},function(e,t,n){n(155)},function(e,t){!function(){"use strict";var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),o=function(e){return e.fire("ResizeEditor")},i={fireResizeEditor:o},a=function(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")},s=function(e){return e.getParam("max_height",0,"number")},l=function(e){return e.getParam("autoresize_overflow_padding",1,"number")},u=function(e){return e.getParam("autoresize_bottom_margin",50,"number")},c=function(e){return e.getParam("autoresize_on_init",!0,"boolean")},f={getAutoResizeMinHeight:a,getAutoResizeMaxHeight:s,getAutoResizeOverflowPadding:l,getAutoResizeBottomMargin:u,shouldAutoResizeOnInit:c},d=function(e){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()},h=function(e,t,n,o,i){r.setEditorTimeout(e,function(){g(e,t),n--?h(e,t,n,o,i):i&&i()},o)},p=function(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},m=function(e,t,n,r){var o=parseInt(e.getStyle(t,n,r),10);return isNaN(o)?0:o},g=function(e,t){var r,o,a,s=e.dom,l=e.getDoc();if(l){if(d(e))return void p(e,!0);var u=l.documentElement,c=f.getAutoResizeBottomMargin(e);o=f.getAutoResizeMinHeight(e);var h=m(s,u,"margin-top",!0),v=m(s,u,"margin-bottom",!0);a=u.offsetHeight+h+v+c,a<0&&(a=0);var b=e.getContainer().offsetHeight,y=e.getContentAreaContainer().offsetHeight,w=b-y;a+w>f.getAutoResizeMinHeight(e)&&(o=a+w);var x=f.getAutoResizeMaxHeight(e);x&&o>x?(o=x,p(e,!0)):p(e,!1),o!==t.get()&&(r=o-t.get(),s.setStyle(e.getContainer(),"height",o+"px"),t.set(o),i.fireResizeEditor(e),n.webkit&&r<0&&g(e,t))}},v=function(e,t){e.on("init",function(){var t=f.getAutoResizeOverflowPadding(e);e.dom.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0})}),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(n){g(e,t)}),f.shouldAutoResizeOnInit(e)&&e.on("init",function(){h(e,t,20,100,function(){h(e,t,5,1e3)})})},b={setup:v,resize:g},y=function(e,t){e.addCommand("mceAutoResize",function(){b.resize(e,t)})},w={register:y};!function(){t.add("autoresize",function(t){if(t.settings.hasOwnProperty("resize")||(t.settings.resize=!1),!t.inline){var n=e(0);w.register(t,n),b.setup(t,n)}})}()}()},function(e,t,n){n(157)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},n=function(e){return e.getContent({source_view:!0})},r={setContent:t,getContent:n},o=function(e){var t=r.getContent(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:function(t){r.setContent(e,t.getData().code),t.close()}})},i={open:o},a=function(e){e.addCommand("mceCodeEditor",function(){i.open(e)})},s={register:a},l=function(e){e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return i.open(e)}}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return i.open(e)}})},u={register:l};!function(){e.add("code",function(e){return s.register(e),u.register(e),{}})}()}()},function(e,t,n){n(159)},function(e,t,n){(function(e){!function(t){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.VK"),o=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},i=function(e){return function(t){return o(t)===e}},a=i("string"),s=i("array"),l=i("boolean"),u=i("function"),c=function(e){var t=e.getParam("link_assume_external_targets",!1);return l(t)&&t?1:!a(t)||"http"!==t&&"https"!==t?0:t},f=function(e){return e.getParam("link_context_toolbar",!1,"boolean")},d=function(e){return e.getParam("link_list")},h=function(e){return e.getParam("default_link_target")},p=function(e){return e.getParam("target_list",!0)},m=function(e){return e.getParam("rel_list",[],"array")},g=function(e){return e.getParam("link_class_list",[],"array")},v=function(e){return e.getParam("link_title",!0,"boolean")},b=function(e){return e.getParam("allow_unsafe_link_target",!1,"boolean")},y=function(e){return e.getParam("link_quicklink",!1,"boolean")},w={assumeExternalTargets:c,hasContextToolbar:f,getLinkList:d,getDefaultLinkTarget:h,getTargetList:p,getRelList:m,getLinkClassList:g,shouldShowLinkTitle:v,allowUnsafeLinkTarget:b,useQuickLink:y},x=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),C=tinymce.util.Tools.resolve("tinymce.Env"),k=function(e,n){t.document.body.appendChild(e),e.dispatchEvent(n),t.document.body.removeChild(e)},_=function(e){if(!C.ie||C.ie>10){var n=t.document.createElement("a");n.target="_blank",n.href=e,n.rel="noreferrer noopener";var r=t.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,t.window,0,0,0,0,0,!1,!1,!1,!1,0,null),k(n,r)}else{var o=t.window.open("","_blank");if(o){o.opener=null;var i=o.document;i.open(),i.write('<meta http-equiv="refresh" content="0; url='+x.DOM.encode(e)+'">'),i.close()}}},E={open:_},A=function(){},S=function(e){return function(){return e}},O=S(!1),T=S(!0),D=O,N=T,F=function(){return L},L=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},i=function(){},a={fold:function(e,t){return e()},is:D,isSome:D,isNone:N,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:i,or:n,orThunk:t,map:F,ap:F,each:r,bind:F,flatten:F,exists:D,forall:N,filter:F,equals:e,equals_:e,toArray:function(){return[]},toString:S("none()")};return Object.freeze&&Object.freeze(a),a}(),P=function(e){var t=function(){return e},n=function(){return i},r=function(t){return P(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:N,isNone:D,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(F,function(t){return P(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:L},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(D,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},B=function(e){return null===e||void 0===e?L:P(e)},R={some:P,none:F,from:B},q=Array.prototype.slice,M=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return H(e,t)};return void 0===e?n:t}(),j=function(e,t){return M(e,t)>-1},I=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},$=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},z=function(e,t,n){return $(e,function(e){n=t(n,e)}),n},H=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},V=Array.prototype.push,U=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);V.apply(t,e[n])}return t},W=function(e,t){var n=I(e,t);return U(n)},K=(u(Array.from)&&Array.from,tinymce.util.Tools.resolve("tinymce.util.Tools")),G=function(e){return/^\w+:/i.test(e)},Y=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},X=function(e,t){var n=["noopener"],r=e?e.split(/\s+/):[],o=function(e){return e.filter(function(e){return-1===K.inArray(n,e)})},i=t?function(e){return e=o(e),e.length>0?e.concat(n):n}(r):o(r);return i.length>0?function(e){return K.trim(e.sort().join(" "))}(i):""},J=function(e){return e.replace(/\uFEFF/g,"")},Z=function(e,t){return t=t||e.selection.getNode(),re(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},Q=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return J(n)},ee=function(e){return e&&"A"===e.nodeName&&!!e.href},te=function(e){return K.grep(e,ee).length>0},ne=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},re=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},oe=function(e){return z(["title","rel","class","target"],function(t,n){return e[n].each(function(e){t[n]=e.length>0?e:null}),t},{href:e.href})},ie=function(e,t){return"http"!==t&&"https"!==t||G(e)?e:t+"://"+e},ae=function(e,t,n,r){n.each(function(e){t.hasOwnProperty("innerText")?t.innerText=e:t.textContent=e}),e.dom.setAttribs(t,r),e.selection.select(t)},se=function(e,t,n,r){re(t)?fe(e,t,r):n.fold(function(){e.execCommand("mceInsertLink",!1,r)},function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))})},le=function(e,t,n){e.undoManager.transact(function(){var r=e.selection.getNode(),o=Z(e,r),i=oe(n);if(!(w.getRelList(e).length>0)&&!1===w.allowUnsafeLinkTarget(e)){var a=X(i.rel,"_blank"===i.target);i.rel=a||null}R.from(i.target).isNone()&&(i.target=w.getDefaultLinkTarget(e)),i.href=ie(i.href,w.assumeExternalTargets(e)),n.href===t.href&&t.attach(),o?(e.focus(),ae(e,o,n.text,i)):se(e,r,n.text,i)})},ue=function(e){e.undoManager.transact(function(){var t=e.selection.getNode();if(re(t))ce(e,t);else{var n=e.dom.getParent(t,"a[href]",e.getBody());n&&e.dom.remove(n,!0)}e.focus()})},ce=function(e,t){var n=e.dom.select("img",t)[0];if(n){var r=e.dom.getParents(n,"a[href]",t)[0];r&&(r.parentNode.insertBefore(n,r),e.dom.remove(r))}},fe=function(e,t,n){var r=e.dom.select("img",t)[0];if(r){var o=e.dom.create("a",n);r.parentNode.insertBefore(o,r),o.appendChild(r)}},de={link:le,unlink:ue,isLink:ee,hasLinks:te,getHref:Y,isOnlyTextSelected:ne,getAnchorElement:Z,getAnchorText:Q,applyRelTargetRules:X,hasProtocol:G},he=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},pe=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return R.none()},me=function(e){return a(e.value)?e.value:""},ge=function(e,t){var n=[];return K.each(e,function(e){var r=a(e.text)?e.text:a(e.title)?e.title:"";if(void 0!==e.menu);else{var o=t(e);n.push({text:r,value:o})}}),n},ve=function(e){return void 0===e&&(e=me),function(t){return R.from(t).map(function(t){return ge(t,e)})}},be=function(e){return ve(me)(e)},ye=function(e,t){return function(n){return{name:e,type:"selectbox",label:t,items:n}}},we={sanitize:be,sanitizeWith:ve,createUi:ye,getValue:me},xe=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return xe(n())}}},Ce=function(e,t){return pe(t,function(t){return R.some(t).filter(function(t){return t.value===e})})},ke=function(e,t,n,r){var o=r[t],i=e.length>0;return void 0!==o?Ce(o,n).map(function(t){return{url:{value:t.value,meta:{text:i?e:t.text,attach:A}},text:i?e:t.text}}):R.none()},_e=function(e,t){return"link"===t?e.catalogs.link:"anchor"===t?e.catalogs.anchor:R.none()},Ee=function(e,t){var n=xe(e.text),r=function(e){if(n.get().length<=0){var t=void 0!==e.url.meta.text?e.url.meta.text:e.url.value;return R.some({text:t})}return R.none()},o=function(e,r){var o=_e(t,r.name).getOr([]);return ke(n.get(),r.name,o,e)};return{onChange:function(e,t){return"url"===t.name?r(e()):j(["anchor","link"],t.name)?o(e(),t):"text"===t.name?(n.set(e().text),R.none()):R.none()}}},Ae={init:Ee,getDelta:ke},Se=function(){return Se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Se.apply(this,arguments)},Oe={},Te={exports:Oe};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof o&&o;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){return i(t[s][1][e]||e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&p&&(g=!1,p.length?m=p.concat(m):v=-1,m.length&&l())}function l(){if(!g){var e=i(s);g=!0;for(var t=m.length;t;){for(p=m,m=[];++v<t;)p&&p[v].run();v=-1,t=m.length}p=null,g=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var f,d,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var p,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||g||i(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:l)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void l(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,u(e)}catch(t){l(e,t)}}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,l(t,e))})}catch(e){if(n)return;n=!0,l(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new c(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,i(function(){l[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,Oe,Te,void 0);var De=Te.exports.boltExport,Ne=function(e){var n=R.none(),r=[],o=function(e){return Ne(function(t){i(function(n){t(e(n))})})},i=function(e){s()?u(e):r.push(e)},a=function(e){n=R.some(e),l(r),r=[]},s=function(){return n.isSome()},l=function(e){$(e,u)},u=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(a),{get:i,map:o,isReady:s}},Fe=function(e){return Ne(function(t){t(e)})},Le={nu:Ne,pure:Fe},Pe=function(e){t.setTimeout(function(){throw e},0)},Be=function(e){var t=function(t){e().then(t,Pe)};return{map:function(t){return Be(function(){return e().then(t)})},bind:function(t){return Be(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return Be(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return Le.nu(t)},toCached:function(){var t=null;return Be(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},Re=function(e){return Be(function(){return new De(e)})},qe=function(e){return Be(function(){return De.resolve(e)})},Me={nu:Re,pure:qe},je=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ie=function(e,t,n){var r=e.selection.getRng();je.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(r),n(t)})})},$e=function(e){var t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("//")&&-1===t.indexOf("mailto:")?R.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return Se({},e,{href:"mailto:"+t})}}):R.none()},ze=function(e){return function(t){var n=t.href;return 1===e&&!de.hasProtocol(n)||0===e&&/^\s*www[\.|\d\.]/i.test(n)?R.some({message:"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",preprocess:function(e){return Se({},e,{href:"http://"+n})}}):R.none()}},He=function(e,t,n){return pe([$e,ze(t)],function(e){return e(n)}).fold(function(){return Me.pure(n)},function(t){return Me.nu(function(r){Ie(e,t.message,function(e){r(e?t.preprocess(n):n)})})})},Ve={preprocess:He},Ue=function(e){var t=e.dom.select("a:not([href])"),n=W(t,function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]});return n.length>0?R.some([{text:"None",value:""}].concat(n)):R.none()},We={getAnchors:Ue},Ke=function(e){var t=w.getLinkClassList(e);return t.length>0?we.sanitize(t):R.none()},Ge={getClasses:Ke},Ye=tinymce.util.Tools.resolve("tinymce.util.XHR"),Xe=function(e){try{return R.some(JSON.parse(e))}catch(e){return R.none()}},Je=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")},n=w.getLinkList(e);return Me.nu(function(e){a(n)?Ye.send({url:n,success:function(t){return e(Xe(t))},error:function(t){return e(R.none())}}):u(n)?n(function(t){return e(R.some(t))}):e(R.from(n))}).map(function(e){return e.bind(we.sanitizeWith(t)).map(function(e){return e.length>0?[{text:"None",value:""}].concat(e):e})})},Ze={getLinks:Je},Qe=function(e,t){var n=w.getRelList(e);if(n.length>0){var r=t.is("_blank"),o=!1===w.allowUnsafeLinkTarget(e),i=function(e){return de.applyRelTargetRules(we.getValue(e),r)};return(o?we.sanitizeWith(i):we.sanitize)(n)}return R.none()},et={getRels:Qe},tt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],nt=function(e){var t=w.getTargetList(e);return s(t)?we.sanitize(t).orThunk(function(){return R.some(tt)}):!1===t?R.none():R.some(tt)},rt={getTargets:nt},ot=function(e,t,n){var r=e.getAttrib(t,n);return null!==r&&r.length>0?R.some(r):R.none()},it=function(e,t){var n=e.dom,r=de.isOnlyTextSelected(e.selection.getContent()),o=r?R.some(de.getAnchorText(e.selection,t)):R.none(),i=t?R.some(n.getAttrib(t,"href")):R.none(),a=t?R.from(n.getAttrib(t,"target")):R.none(),s=ot(n,t,"rel"),l=ot(n,t,"class");return{url:i,text:o,title:ot(n,t,"title"),target:a,rel:s,linkClass:l}},at=function(e,t){return Ze.getLinks(e).map(function(n){var r=it(e,t);return{anchor:r,catalogs:{targets:rt.getTargets(e),rels:et.getRels(e,r.target),classes:Ge.getClasses(e),anchor:We.getAnchors(e),link:n},optNode:R.from(t),flags:{titleEnabled:w.shouldShowLinkTitle(e)}}})},st={collect:at},lt=function(e,t,n){return function(r){var o=r.getData();if(!o.url.value)return de.unlink(e),void r.close();var i=function(e){return R.from(o[e]).filter(function(n){return!t.anchor[e].is(n)})},a={href:o.url.value,text:i("text"),target:i("target"),rel:i("rel"),class:i("linkClass"),title:i("title")},s={href:o.url.value,attach:void 0!==o.url.meta&&o.url.meta.attach?o.url.meta.attach:function(){}};Ve.preprocess(e,n,a).get(function(t){de.link(e,s,t)}),r.close()}},ut=function(e){var t=de.getAnchorElement(e);return st.collect(e,t)},ct=function(e,t){return{url:{value:e.anchor.url.getOr(""),meta:{attach:function(){},text:e.anchor.url.fold(function(){return""},function(){return e.anchor.text.getOr("")}),original:{value:e.anchor.url.getOr("")}}},text:e.anchor.text.getOr(""),title:e.anchor.title.getOr(""),anchor:e.anchor.url.getOr(""),link:e.anchor.url.getOr(""),rel:e.anchor.rel.getOr(""),target:e.anchor.target.or(t).getOr(""),linkClass:e.anchor.linkClass.getOr("")}},ft=function(e,t,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],o=e.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),i=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=R.from(w.getDefaultLinkTarget(n)),s=ct(e,a),l=Ae.init(s,e),u=e.catalogs;return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:U([r,o,i,he([u.anchor.map(we.createUi("anchor","Anchors")),u.rels.map(we.createUi("rel","Rel")),u.targets.map(we.createUi("target","Open link in...")),u.link.map(we.createUi("link","Link list")),u.classes.map(we.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:s,onChange:function(e,t){var n=t.name;l.onChange(e.getData,{name:n}).each(function(t){e.setData(t)})},onSubmit:t}},dt=function(e){ut(e).map(function(t){var n=lt(e,t,w.assumeExternalTargets(e));return ft(t,n,e)}).get(function(t){e.windowManager.open(t)})},ht={open:dt},pt=function(e,t){return e.dom.getParent(t,"a[href]")},mt=function(e){return pt(e,e.selection.getStart())},gt=function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey},vt=function(e,t){if(t){var n=de.getHref(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else E.open(t.href)}},bt=function(e){return function(){ht.open(e)}},yt=function(e){return function(){vt(e,mt(e))}},wt=function(e){return function(t){var n,r,o;return!!(w.hasContextToolbar(e)&&de.isLink(t)&&(n=e.selection,r=n.getRng(),o=r.startContainer,3===o.nodeType&&n.isCollapsed()&&r.startOffset>0&&r.startOffset<o.data.length))}},xt=function(e){e.on("click",function(t){var n=pt(e,t.target);n&&r.metaKeyPressed(t)&&(t.preventDefault(),vt(e,n))}),e.on("keydown",function(t){var n=mt(e);n&&13===t.keyCode&&gt(t)&&(t.preventDefault(),vt(e,n))})},Ct=function(e){return function(t){var n=function(n){return t.setActive(!e.readonly&&!!de.getAnchorElement(e,n.element))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}},kt=function(e){return function(t){t.setDisabled(!de.hasLinks(e.dom.getParents(e.selection.getStart())));var n=function(e){return t.setDisabled(!de.hasLinks(e.parents))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}},_t={openDialog:bt,gotoSelectedLink:yt,leftClickedOnAHref:wt,setupGotoLinks:xt,toggleActiveState:Ct,toggleEnabledState:kt},Et=function(e){e.addCommand("mceLink",function(){w.useQuickLink(e)?e.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):_t.openDialog(e)()})},At={register:Et},St=function(e){e.addShortcut("Meta+K","",function(){e.execCommand("mceLink")})},Ot={setup:St},Tt=function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:_t.openDialog(e),onSetup:_t.toggleActiveState(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return de.unlink(e)},onSetup:_t.toggleEnabledState(e)})},Dt=function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:_t.gotoSelectedLink(e),onSetup:_t.toggleEnabledState(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:_t.openDialog(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return de.unlink(e)},onSetup:_t.toggleEnabledState(e)})},Nt=function(e){e.ui.registry.addContextMenu("link",{update:function(t){return de.hasLinks(e.dom.getParents(t,"a"))?"link unlink openlink":"link"}})},Ft=function(e){var t=function(e){e.selection.collapse(!1)},n=function(t){var n=e.selection.getNode();return t.setDisabled(!de.getAnchorElement(e,n)),function(){}};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:_t.toggleActiveState(e)},label:"Link",predicate:function(t){return!!de.getAnchorElement(e,t)&&w.hasContextToolbar(e)},initValue:function(){var t=de.getAnchorElement(e);return t?de.getHref(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=e.selection.getNode();return t.setActive(!!de.getAnchorElement(e,n)),_t.toggleActiveState(e)(t)},onAction:function(n){var r=de.getAnchorElement(e),o=n.getValue();if(r)e.dom.setAttrib(r,"href",o),t(e),n.hide();else{var i={href:o,attach:function(){}},a=de.isOnlyTextSelected(e.selection.getContent()),s=a?R.some(de.getAnchorText(e.selection,r)).filter(function(e){return e.length>0}).or(R.from(o)):R.none();de.link(e,i,{href:o,text:s,title:R.none(),rel:R.none(),target:R.none(),class:R.none()}),n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(t){de.unlink(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(t){_t.gotoSelectedLink(e)(),t.hide()}}]})},Lt={setupButtons:Tt,setupMenuItems:Dt,setupContextMenu:Nt,setupContextToolbars:Ft};!function(){n.add("link",function(e){Lt.setupButtons(e),Lt.setupMenuItems(e),Lt.setupContextMenu(e),Lt.setupContextToolbars(e),_t.setupGotoLinks(e),At.register(e),Ot.setup(e)})}()}(window)}).call(t,n(3))},function(e,t,n){n(161)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){return e.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i)},r=function(e){return e.getParam("default_link_target",!1)},o={getAutoLinkPattern:n,getDefaultLinkTarget:r},i=function(e,t){return e===t||" "===e||160===e.charCodeAt(0)},a=function(e){d(e,-1,"(")},s=function(e){d(e,0,"")},l=function(e){d(e,-1,"")},u=function(e,t){if(t<0&&(t=0),3===e.nodeType){var n=e.data.length;t>n&&(t=n)}return t},c=function(e,t,n){1!==t.nodeType||t.hasChildNodes()?e.setStart(t,u(t,n)):e.setStartBefore(t)},f=function(e,t,n){1!==t.nodeType||t.hasChildNodes()?e.setEnd(t,u(t,n)):e.setEndAfter(t)},d=function(e,t,n){var r,a,s,l,u,d,h,p,m,g,v=o.getAutoLinkPattern(e),b=o.getDefaultLinkTarget(e);if("A"!==e.selection.getNode().tagName){if(r=e.selection.getRng(!0).cloneRange(),r.startOffset<5){if(!(p=r.endContainer.previousSibling)){if(!r.endContainer.firstChild||!r.endContainer.firstChild.nextSibling)return;p=r.endContainer.firstChild.nextSibling}if(m=p.length,c(r,p,m),f(r,p,m),r.endOffset<5)return;a=r.endOffset,l=p}else{if(l=r.endContainer,3!==l.nodeType&&l.firstChild){for(;3!==l.nodeType&&l.firstChild;)l=l.firstChild;3===l.nodeType&&(c(r,l,0),f(r,l,l.nodeValue.length))}a=1===r.endOffset?2:r.endOffset-1-t}s=a;do{c(r,l,a>=2?a-2:0),f(r,l,a>=1?a-1:0),a-=1,g=r.toString()}while(" "!==g&&""!==g&&160!==g.charCodeAt(0)&&a-2>=0&&g!==n);i(r.toString(),n)?(c(r,l,a),f(r,l,s),a+=1):0===r.startOffset?(c(r,l,0),f(r,l,s)):(c(r,l,a),f(r,l,s)),d=r.toString(),"."===d.charAt(d.length-1)&&f(r,l,s-1),d=r.toString().trim(),h=d.match(v),h&&("www."===h[1]?h[1]="http://www.":/@$/.test(h[1])&&!/^mailto:/.test(h[1])&&(h[1]="mailto:"+h[1]),u=e.selection.getBookmark(),e.selection.setRng(r),e.execCommand("createlink",!1,h[1]+h[2]),!1!==b&&e.dom.setAttrib(e.selection.getNode(),"target",b),e.selection.moveToBookmark(u),e.nodeChanged())}},h=function(e){var n;if(e.on("keydown",function(t){if(13===t.keyCode)return l(e)}),t.ie&&t.ie<=11)return void e.on("focus",function(){if(!n){n=!0;try{e.execCommand("AutoUrlDetect",!1,!0)}catch(e){}}});e.on("keypress",function(t){if(41===t.keyCode)return a(e)}),e.on("keyup",function(t){if(32===t.keyCode)return s(e)})},p={setup:h};!function(){e.add("autolink",function(e){p.setup(e)})}()}()},function(e,t,n){n(163)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){var t=e.getParam("nonbreaking_force_tab",0);return"boolean"==typeof t?!0===t?3:0:t},n=function(e){return e.getParam("nonbreaking_wrap",!0,"boolean")},r={getKeyboardSpaces:t,wrapNbsps:n},o=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},i=function(e){return!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled()},a=function(e,t){var n=function(){return i(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},a=r.wrapNbsps(e),s=a||e.plugins.visualchars?function(){return'<span class="'+n()+'" contenteditable="false">'+o("&nbsp;",t)+"</span>"}():o("&nbsp;",t);e.undoManager.transact(function(){return e.insertContent(s)})},s={insertNbsp:a},l=function(e){e.addCommand("mceNonBreaking",function(){s.insertNbsp(e,1)})},u={register:l},c=tinymce.util.Tools.resolve("tinymce.util.VK"),f=function(e){var t=r.getKeyboardSpaces(e);t>0&&e.on("keydown",function(n){if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),s.insertNbsp(e,t)}})},d={setup:f},h=function(e){e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return e.execCommand("mceNonBreaking")}}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return e.execCommand("mceNonBreaking")}})},p={register:h};!function(){e.add("nonbreaking",function(e){u.register(e),p.register(e),d.setup(e)})}()}()},function(e,t,n){n(165)},function(e,t){!function(e){"use strict";function t(e){return e&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-")}function n(e){return function(t,n){return e(n)}}var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),i={},a=i,s=void 0!==i?i:"undefined"!=typeof WorkerGlobalScope&&e.self instanceof WorkerGlobalScope?e.self:{},l=function(){var t=/\blang(?:uage)?-(?!\*)(\w+)\b/i,n=s.Prism={util:{encode:function(e){return e instanceof r?new r(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){switch(n.util.type(e)){case"Object":var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=n.util.clone(e[r]));return t;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var r=n.util.clone(n.languages[e]);for(var o in t)r[o]=t[o];return r},insertBefore:function(e,t,r,o){o=o||n.languages;var i=o[e];if(2===arguments.length){r=arguments[1];for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i}var s={};for(var l in i)if(i.hasOwnProperty(l)){if(l===t)for(var a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);s[l]=i[l]}return n.languages.DFS(n.languages,function(t,n){n===o[e]&&t!==e&&(this[t]=s)}),o[e]=s},DFS:function(e,t,r){for(var o in e)e.hasOwnProperty(o)&&(t.call(e,o,e[o],r||o),"Object"===n.util.type(e[o])?n.languages.DFS(e[o],t):"Array"===n.util.type(e[o])&&n.languages.DFS(e[o],t,o))}},plugins:{},highlightAll:function(t,r){for(var o=e.document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),i=0,a=void 0;a=o[i++];)n.highlightElement(a,!0===t,r)},highlightElement:function(r,o,i){for(var a,l,u=r;u&&!t.test(u.className);)u=u.parentNode;u&&(a=(u.className.match(t)||[,""])[1],l=n.languages[a]),r.className=r.className.replace(t,"").replace(/\s+/g," ")+" language-"+a,u=r.parentNode,/pre/i.test(u.nodeName)&&(u.className=u.className.replace(t,"").replace(/\s+/g," ")+" language-"+a);var c=r.textContent,f={element:r,language:a,grammar:l,code:c};if(!c||!l)return void n.hooks.run("complete",f);if(n.hooks.run("before-highlight",f),o&&s.Worker){var d=new e.Worker(n.filename);d.onmessage=function(e){f.highlightedCode=e.data,n.hooks.run("before-insert",f),f.element.innerHTML=f.highlightedCode,i&&i.call(f.element),n.hooks.run("after-highlight",f),n.hooks.run("complete",f)},d.postMessage(JSON.stringify({language:f.language,code:f.code,immediateClose:!0}))}else f.highlightedCode=n.highlight(f.code,f.grammar,f.language),n.hooks.run("before-insert",f),f.element.innerHTML=f.highlightedCode,i&&i.call(r),n.hooks.run("after-highlight",f),n.hooks.run("complete",f)},highlight:function(e,t,o){var i=n.tokenize(e,t);return r.stringify(n.util.encode(i),o)},tokenize:function(e,t,r){var o=n.Token,i=[e],a=t.rest;if(a){for(var s in a)t[s]=a[s];delete t.rest}e:for(var s in t)if(t.hasOwnProperty(s)&&t[s]){var l=t[s];l="Array"===n.util.type(l)?l:[l];for(var u=0;u<l.length;++u){var c=l[u],f=c.inside,d=!!c.lookbehind,h=0,p=c.alias;c=c.pattern||c;for(var m=0;m<i.length;m++){var g=i[m];if(i.length>e.length)break e;if(!(g instanceof o)){c.lastIndex=0;var v=c.exec(g);if(v){d&&(h=v[1].length);var b=v.index-1+h;v=v[0].slice(h);var y=v.length,w=b+y,x=g.slice(0,b+1),C=g.slice(w+1),k=[m,1];x&&k.push(x);var _=new o(s,f?n.tokenize(v,f):v,p);k.push(_),C&&k.push(C),Array.prototype.splice.apply(i,k)}}}}}return i},hooks:{all:{},add:function(e,t){var r=n.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=n.hooks.all[e];if(r&&r.length)for(var o=0,i=void 0;i=r[o++];)i(t)}}},r=n.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(r.stringify=function(e,t,o){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return r.stringify(n,t,e)}).join("");var i={type:e.type,content:r.stringify(e.content,t,o),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:o};if("comment"===i.type&&(i.attributes.spellcheck="true"),e.alias){var a="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(i.classes,a)}n.hooks.run("wrap",i);var s="";for(var l in i.attributes)s+=(s?" ":"")+l+'="'+(i.attributes[l]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+s+">"+i.content+"</"+i.tag+">"},!s.document)return s.addEventListener?(s.addEventListener("message",function(e){var t=JSON.parse(e.data),r=t.language,o=t.code,i=t.immediateClose;s.postMessage(n.highlight(o,n.languages[r],r)),i&&s.close()},!1),s.Prism):s.Prism}();void 0!==a&&(a.Prism=l),l.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},l.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),l.languages.xml=l.languages.markup,l.languages.html=l.languages.markup,l.languages.mathml=l.languages.markup,l.languages.svg=l.languages.markup,l.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},l.languages.css.atrule.inside.rest=l.util.clone(l.languages.css),l.languages.markup&&(l.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:l.languages.markup.tag.inside},rest:l.languages.css},alias:"language-css"}}),l.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:l.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:l.languages.css}},alias:"language-css"}},l.languages.markup.tag)),l.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},l.languages.javascript=l.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),l.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),l.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:l.languages.javascript}},string:/[\s\S]+/}}}),l.languages.markup&&l.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:l.languages.markup.tag.inside},rest:l.languages.javascript},alias:"language-javascript"}}),l.languages.js=l.languages.javascript,l.languages.c=l.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i}),l.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0}}}}),delete l.languages.c["class-name"],delete l.languages.c.boolean,l.languages.csharp=l.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i}),l.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0}}),l.languages.cpp=l.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,boolean:/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/}),l.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}}),l.languages.java=l.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),l.languages.php=l.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),l.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),l.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),l.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),l.languages.markup&&(l.hooks.add("before-highlight",function(e){"php"===e.language&&(e.tokenStack=[],e.backupCode=e.code,e.code=e.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,function(t){return e.tokenStack.push(t),"{{{PHP"+e.tokenStack.length+"}}}"}))}),l.hooks.add("before-insert",function(e){"php"===e.language&&(e.code=e.backupCode,delete e.backupCode)}),l.hooks.add("after-highlight",function(e){if("php"===e.language){for(var t=0,n=void 0;n=e.tokenStack[t];t++)e.highlightedCode=e.highlightedCode.replace("{{{PHP"+(t+1)+"}}}",l.highlight(n,e.grammar,"php").replace(/\$/g,"$$$$"));e.element.innerHTML=e.highlightedCode}}),l.hooks.add("wrap",function(e){"php"===e.language&&"markup"===e.type&&(e.content=e.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),l.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:l.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),l.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,boolean:/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},function(e){e.languages.ruby=e.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.util.clone(e.languages.ruby)}};e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:t}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:t}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:t}}]}(l);var u={isCodeSample:t,trimArg:n},c=function(e){return function(){return e}},f=c(!1),d=c(!0),h=f,p=d,m=function(){return g},g=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},i=function(){},a={fold:function(e,t){return e()},is:h,isSome:h,isNone:p,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:i,or:n,orThunk:t,map:m,ap:m,each:r,bind:m,flatten:m,exists:h,forall:p,filter:m,equals:e,equals_:e,toArray:function(){return[]},toString:c("none()")};return Object.freeze&&Object.freeze(a),a}(),v=function(e){var t=function(){return e},n=function(){return i},r=function(t){return v(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:p,isNone:h,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(m,function(t){return v(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:g},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(h,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},b=function(e){return null===e||void 0===e?g:v(e)},y={some:v,none:m,from:b},w=function(e){var t=e.selection?e.selection.getNode():null;return u.isCodeSample(t)?y.some(t):y.none()},x=function(e,t,n){e.undoManager.transact(function(){var r=w(e);return n=o.DOM.encode(n),r.fold(function(){e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>"),e.selection.select(e.$("#__new").removeAttr("id")[0])},function(r){e.dom.setAttrib(r,"class","language-"+t),r.innerHTML=n,l.highlightElement(r),e.selection.select(r)})})},C=function(e){return w(e).fold(function(){return""},function(e){return e.textContent})},k={getSelectedCodeSample:w,insertCodeSample:x,getCurrentCode:C},_=function(e){return e.settings.codesample_languages},E={getLanguages:_},A=function(e){var t=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],n=E.getLanguages(e);return n||t},S=function(e,t){return k.getSelectedCodeSample(e).fold(function(){return t},function(e){var n=e.className.match(/language-(\w+)/);return n?n[1]:t})},O={getLanguages:A,getCurrentLanguage:S},T=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},D=function(e){return function(t){return T(t)===e}}("function"),N=Array.prototype.slice,F=function(e){return 0===e.length?y.none():y.some(e[0])},L=(D(Array.from)&&Array.from,function(e){var t=O.getLanguages(e),n=F(t).fold(function(){return""},function(e){return e.value}),r=O.getCurrentLanguage(e,n),o=k.getCurrentCode(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:r,code:o},onSubmit:function(t){var n=t.getData();k.insertCodeSample(e,n.language,n.code),t.close()}})}),P={open:L},B=function(e){e.addCommand("codesample",function(){var t=e.selection.getNode();e.selection.isCollapsed()||u.isCodeSample(t)?P.open(e):e.formatter.toggle("code")})},R={register:B},q=function(e){var t=e.$;e.on("PreProcess",function(e){t("pre[contenteditable=false]",e.node).filter(u.trimArg(u.isCodeSample)).each(function(e,n){var r=t(n),o=n.textContent;r.attr("class",t.trim(r.attr("class"))),r.removeAttr("contentEditable"),r.empty().append(t("<code></code>").each(function(){this.textContent=o}))})}),e.on("SetContent",function(){var n=t("pre").filter(u.trimArg(u.isCodeSample)).filter(function(e,t){return"false"!==t.contentEditable});n.length&&e.undoManager.transact(function(){n.each(function(n,r){t(r).find("br").each(function(t,n){n.parentNode.replaceChild(e.getDoc().createTextNode("\n"),n)}),r.contentEditable="false",r.innerHTML=e.dom.encode(r.textContent),l.highlightElement(r),r.className=t.trim(r.className)})})})},M={setup:q},j=function(e){var t=e.selection.getStart();return e.dom.is(t,"pre.language-markup")},I=function(e){e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:function(){return P.open(e)},onSetup:function(t){var n=function(){t.setActive(j(e))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:function(){return P.open(e)}})},$={register:I};!function(){r.add("codesample",function(e){M.setup(e),$.register(e),R.register(e),e.on("dblclick",function(t){u.isCodeSample(t.target)&&P.open(e)})})}()}(window)},function(e,t,n){n(167)},function(e,t,n){(function(e){!function(t){"use strict";function n(e,t){return de.each(t,function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])}),e}function r(e){function t(e){var n=e.name,r=e;if("br"===n)return void(i+="\n");if("wbr"!==n){if(a[n]&&(i+=" "),s[n])return void(i+=" ");if(3===e.type&&(i+=e.value),!e.shortEnded&&(e=e.firstChild))do{t(e)}while(e=e.next);l[n]&&r.next&&(i+="\n","p"===n&&(i+="\n"))}}var r=Oe(),o=Ae({},r),i="",a=r.getShortEndedElements(),s=de.makeMap("script noscript style textarea video audio iframe object"," "),l=r.getBlockElements();return e=n(e,[/<!\[[^\]]+\]>/g]),t(o.parse(e)),i}function o(e){function t(e,t,n){return t||n?" ":" "}return e=n(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function i(e){var t=0;return function(){return e+t++}}function a(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function s(e){var t,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],e=e.replace(/^[\u00a0 ]+/,""),de.each(n,function(n){if(n.test(e))return t=!0,!1}),t}function l(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function u(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do{n+=t(e)}while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!n(e,t))return!1}while(e=e.next);return!0}function r(e){if(e._listIgnore)return void e.remove();if(e=e.firstChild)do{r(e)}while(e=e.next)}function o(e,t,o){var s=e._listLevel||u;s!==u&&(s<u?i&&(i=i.parent.parent):(a=i,i=null)),i&&i.name===t?i.append(e):(a=a||i,i=new Se(t,1),o>1&&i.attr("start",""+o),e.wrap(i)),e.name="li",s>u&&a&&a.lastChild.append(i),u=s,r(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var i,a,u=1,c=[],f=e.firstChild;void 0!==f&&null!==f;)if(c.push(f),null!==(f=f.walk()))for(;void 0!==f&&f.parent!==e;)f=f.walk();for(var d=0;d<c.length;d++)if(e=c[d],"p"===e.name&&e.firstChild){var h=t(e);if(l(h)){o(e,"ul");continue}if(s(h)){var p=/([0-9]+)\./.exec(h),m=1;p&&(m=parseInt(p[1],10)),o(e,"ol",m);continue}if(e._listLevel){o(e,"ul",1);continue}i=null}else a=i,i=null}function c(e,t,n,r){var o,i={},a=e.dom.parseStyle(r);return de.each(a,function(a,s){switch(s){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(r),o&&(n._listLevel=parseInt(o[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":s="text-align";break;case"vert-align":s="vertical-align";break;case"font-color":case"mso-foreground":s="color";break;case"mso-background":case"mso-highlight":s="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(i[s]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}if(0===s.indexOf("mso-comment"))return void n.remove();0!==s.indexOf("mso-")&&("all"===Ve.getRetainStyleProps(e)||t&&t[s])&&(i[s]=a)}),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],n.wrap(new Se("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],n.wrap(new Se("i",1))),(i=e.dom.serializeStyle(i,n.name))||null}function f(e,t){e.on("PastePreProcess",function(n){n.content=t(e,n.content,n.internal,n.wordContent)})}function d(e,t){e.on("PastePostProcess",function(n){t(e,n.node)})}function h(e,t){if(!Ye.isWordContent(t))return t;var n=[];de.each(e.schema.getBlockElements(),function(e,t){n.push(t)});var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=We.filter(t,[[r,"$1"]]),t=We.filter(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function p(e,t,n,r){if(r||n)return t;var o,i=Ve.getWebkitStyles(e);if(!1===Ve.shouldRemoveWebKitStyles(e)||"all"===i)return t;if(i&&(o=i.split(/[, ]/)),o){var a=e.dom,s=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,r){var i=a.parseStyle(a.decode(n)),l={};if("none"===o)return t+r;for(var u=0;u<o.length;u++){var c=i[o[u]],f=a.getStyle(s,o[u],!0);/color/.test(o[u])&&(c=a.toHex(c),f=a.toHex(f)),f!==c&&(l[o[u]]=c)}return l=a.serializeStyle(l,"span"),l?t+' style="'+l+'"'+r:t+r})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function m(e,t){e.$("a",t).find("font,u").each(function(t,n){e.dom.remove(n,!0)})}var g=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return g(n())}}},v=tinymce.util.Tools.resolve("tinymce.PluginManager"),b=function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)||!v.get("powerpaste"))&&(void 0!==t.window.console&&t.window.console.log&&t.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},y={hasProPlugin:b},w=function(e,t){return{clipboard:e,quirks:t}},x={get:w},C=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},k=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},_=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},E=function(e,t){return e.fire("paste",{ieFake:t})},A={firePastePreProcess:C,firePastePostProcess:k,firePastePlainTextToggle:_,firePaste:E},S=function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),A.firePastePlainTextToggle(e,!1)):(t.pasteFormat.set("text"),A.firePastePlainTextToggle(e,!0)),e.focus()},O={togglePlainTextPaste:S},T=function(e,t){e.addCommand("mceTogglePlainTextPaste",function(){O.togglePlainTextPaste(e,t)}),e.addCommand("mceInsertClipboardContent",function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)})},D={register:T},N=function(e){return function(){return e}},F=N(!1),L=N(!0),P=F,B=L,R=function(){return q},q=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},i=function(){},a={fold:function(e,t){return e()},is:P,isSome:P,isNone:B,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:i,or:n,orThunk:t,map:R,ap:R,each:r,bind:R,flatten:R,exists:P,forall:B,filter:R,equals:e,equals_:e,toArray:function(){return[]},toString:N("none()")};return Object.freeze&&Object.freeze(a),a}(),M=function(e){var t=function(){return e},n=function(){return i},r=function(t){return M(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:B,isNone:P,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(R,function(t){return M(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:q},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(P,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},j=function(e){return null===e||void 0===e?q:M(e)},I={some:M,none:R,from:j},$=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},z=function(e){return function(t){return $(t)===e}}("function"),H=Array.prototype.slice,V=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},U=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},W=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},K=function(e,t,n){return U(e,function(e){n=t(n,e)}),n},G=z(Array.from)?Array.from:function(e){return H.call(e)},Y={},X={exports:Y};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof o&&o;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){return i(t[s][1][e]||e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&p&&(g=!1,p.length?m=p.concat(m):v=-1,m.length&&l())}function l(){if(!g){var e=i(s);g=!0;for(var t=m.length;t;){for(p=m,m=[];++v<t;)p&&p[v].run();v=-1,t=m.length}p=null,g=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var f,d,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var p,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||g||i(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:l)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void l(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,u(e)}catch(t){l(e,t)}}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,l(t,e))})}catch(e){if(n)return;n=!0,l(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new c(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,i(function(){l[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,Y,X,void 0);var J=X.exports.boltExport,Z=function(e){var n=I.none(),r=[],o=function(e){return Z(function(t){i(function(n){t(e(n))})})},i=function(e){s()?u(e):r.push(e)},a=function(e){n=I.some(e),l(r),r=[]},s=function(){return n.isSome()},l=function(e){U(e,u)},u=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(a),{get:i,map:o,isReady:s}},Q=function(e){return Z(function(t){t(e)})},ee={nu:Z,pure:Q},te=function(e){t.setTimeout(function(){throw e},0)},ne=function(e){var t=function(t){e().then(t,te)};return{map:function(t){return ne(function(){return e().then(t)})},bind:function(t){return ne(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return ne(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return ee.nu(t)},toCached:function(){var t=null;return ne(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},re=function(e){return ne(function(){return new J(e)})},oe=function(e){return ne(function(){return J.resolve(e)})},ie={nu:re,pure:oe},ae=function(e,t){return t(function(t){var n=[],r=0,o=function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}};0===e.length?t([]):U(e,function(e,t){e.get(o(t))})})},se=function(e){return ae(e,ie.nu)},le=function(e,t){var n=V(e,t);return se(n)},ue=function(){var e=g(I.none()),t=function(){e.set(I.none())},n=function(t){e.set(I.some(t))},r=function(t){e.get().each(t)};return{clear:t,set:n,isSet:function(){return e.get().isSome()},on:r}},ce=tinymce.util.Tools.resolve("tinymce.Env"),fe=tinymce.util.Tools.resolve("tinymce.util.Delay"),de=tinymce.util.Tools.resolve("tinymce.util.Tools"),he=tinymce.util.Tools.resolve("tinymce.util.VK"),pe="\x3c!-- x-tinymce/html --\x3e",me=function(e){return pe+e},ge=function(e){return e.replace(pe,"")},ve=function(e){return-1!==e.indexOf(pe)},be={mark:me,unmark:ge,isMarked:ve,internalHtmlMime:function(){return"x-tinymce/html"}},ye=tinymce.util.Tools.resolve("tinymce.html.Entities"),we=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},xe=function(e){return e.replace(/\r?\n/g,"<br>")},Ce=function(e,t){var n,r=[],o="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+ye.encodeAllRaw(t[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"},ke=function(e,t,n){var r=e.split(/\n\n/),o=Ce(t,n),i="</"+t+">",a=de.map(r,function(e){return e.split(/\n/).join("<br />")}),s=function(e){return o+e+i};return 1===a.length?a[0]:de.map(a,s).join("")},_e=function(e,t,n){return t?ke(e,!0===t?"p":t,n):xe(e)},Ee={isPlainText:we,convert:_e,toBRs:xe,toBlockElements:ke},Ae=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Se=tinymce.util.Tools.resolve("tinymce.html.Node"),Oe=tinymce.util.Tools.resolve("tinymce.html.Schema"),Te=tinymce.util.Tools.resolve("tinymce.html.Serializer"),De=function(e){return e.getParam("paste_block_drop",!1)},Ne=function(e){return e.getParam("paste_data_images",!1)},Fe=function(e){return e.getParam("paste_filter_drop",!0)},Le=function(e){return e.getParam("paste_preprocess")},Pe=function(e){return e.getParam("paste_postprocess")},Be=function(e){return e.getParam("paste_webkit_styles")},Re=function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},qe=function(e){return e.getParam("paste_merge_formats",!0)},Me=function(e){return e.getParam("smart_paste",!0)},je=function(e){return e.getParam("paste_as_text",!1)},Ie=function(e){return e.getParam("paste_retain_style_properties")},$e=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},ze=function(e){return e.getParam("paste_convert_word_fake_lists",!0)},He=function(e){return e.getParam("paste_enable_default_filters",!0)},Ve={shouldBlockDrop:De,shouldPasteDataImages:Ne,shouldFilterDrop:Fe,getPreProcess:Le,getPostProcess:Pe,getWebkitStyles:Be,shouldRemoveWebKitStyles:Re,shouldMergeFormats:qe,isSmartPasteEnabled:Me,isPasteAsTextEnabled:je,getRetainStyleProps:Ie,getWordValidElements:$e,shouldConvertWordFakeLists:ze,shouldUseDefaultFilters:He},Ue=function(){return-1!==t.navigator.userAgent.indexOf(" Edge/")},We={filter:n,innerText:r,trimHtml:o,createIdGenerator:i,isMsEdge:Ue},Ke=function(e,t){var n,r;n=Ve.getRetainStyleProps(e),n&&(r=de.makeMap(n.split(/[, ]/))),t=We.filter(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi," "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(" "):""}]]);var o=Ve.getWordValidElements(e),i=Oe({valid_elements:o,valid_children:"-li[p]"});de.each(i.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var a=Ae({},i);a.addAttributeFilter("style",function(t){for(var n,o=t.length;o--;)n=t[o],n.attr("style",c(e,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()}),a.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),a.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),a.addNodeFilter("a",function(e){for(var t,n,r,o=e.length;o--;)if(t=e[o],n=t.attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var s=a.parse(t);return Ve.shouldConvertWordFakeLists(e)&&u(s),t=Te({validate:e.settings.validate},i).serialize(s)},Ge=function(e,t){return Ve.shouldUseDefaultFilters(e)?Ke(e,t):t},Ye={preProcess:Ge,isWordContent:a},Xe=function(e,t){return{content:e,cancelled:t}},Je=function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t),i=A.firePastePostProcess(e,o,n,r);return Xe(i.node.innerHTML,i.isDefaultPrevented())},Ze=function(e,t,n,r){var o=A.firePastePreProcess(e,t,n,r);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?Je(e,o.content,n,r):Xe(o.content,o.isDefaultPrevented())},Qe=function(e,t,n){var r=Ye.isWordContent(t),o=r?Ye.preProcess(e,t):t;return Ze(e,o,n,r)},et={process:Qe},tt=function(e,t){var n=e.dom.create("body",{},t);return de.each(n.querySelectorAll("meta"),function(e){return e.parentNode.removeChild(e)}),n.innerHTML},nt=function(e,t){return e.insertContent(tt(e,t),{merge:Ve.shouldMergeFormats(e),paste:!0}),!0},rt=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},ot=function(e){return rt(e)&&/.(gif|jpe?g|png)$/.test(e)},it=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0},at=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0},st=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!rt(t))&&at(e,t,n)},lt=function(e,t,n){return!!ot(t)&&it(e,t,n)},ut=function(e,t){de.each([st,lt,nt],function(n){return!0!==n(e,t,nt)})},ct=function(e,t){!1===Ve.isSmartPasteEnabled(e)?nt(e,t):ut(e,t)},ft={isImageUrl:ot,isAbsoluteUrl:rt,insertContent:ct},dt=function(e){return-1!==" \f\t\v".indexOf(e)},ht=function(e){return"\n"===e||"\r"===e},pt=function(e,t){return t<e.length&&t>=0&&ht(e[t])},mt=function(e){return K(e,function(t,n){return dt(n)||" "===n?t.pcIsSpace||""===t.str||t.str.length===e.length-1||pt(e,t.str.length+1)?{pcIsSpace:!1,str:t.str+" "}:{pcIsSpace:!0,str:t.str+" "}:{pcIsSpace:ht(n),str:t.str+n}},{pcIsSpace:!1,str:""}).str},gt=function(e,t,n){var r=n||be.isMarked(t),o=et.process(e,be.unmark(t),r);!1===o.cancelled&&ft.insertContent(e,o.content)},vt=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),r=mt(n),o=Ee.convert(r,e.settings.forced_root_block,e.settings.forced_root_block_attrs);gt(e,o,!1)},bt=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var o=e.types[r];try{t[o]=e.getData(o)}catch(e){t[o]=""}}}return t},yt=function(e,t){var n=bt(t.clipboardData||e.getDoc().dataTransfer);return We.isMsEdge()?de.extend(n,{"text/html":""}):n},wt=function(e,t){return t in e&&e[t].length>0},xt=function(e){return wt(e,"text/html")||wt(e,"text/plain")},Ct=function(e){var t;return t=e.indexOf(","),-1!==t?e.substr(t+1):null},kt=function(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)},_t=function(e,t){var n=t.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?e.dom.encode(n[1]):null},Et=We.createIdGenerator("mceclip"),At=function(e,n){var r=Ct(n.uri),o=Et(),i=e.settings.images_reuse_filename&&n.blob.name?_t(e,n.blob.name):o,a=new t.Image;if(a.src=n.uri,kt(e.settings,a)){var s=e.editorUpload.blobCache,l=void 0,u=void 0;u=s.findFirst(function(e){return e.base64()===r}),u?l=u:(l=s.create(o,n.blob,r,i),s.add(l)),gt(e,'<img src="'+l.blobUri()+'">',!1)}else gt(e,'<img src="'+n.uri+'">',!1)},St=function(e){return"paste"===e.type},Ot=function(e){return le(e,function(e){return ie.nu(function(t){var n=e.getAsFile?e.getAsFile():e,r=new window.FileReader;r.onload=function(){t({blob:n,uri:r.result})},r.readAsDataURL(n)})})},Tt=function(e){var t=e.items?V(G(e.items),function(e){return e.getAsFile()}):[],n=e.files?G(e.files):[];return W(t.length>0?t:n,function(e){return/^image\/(jpeg|png|gif|bmp)$/.test(e.type)})},Dt=function(e,t,n){var r=St(t)?t.clipboardData:t.dataTransfer;if(e.settings.paste_data_images&&r){var o=Tt(r);if(o.length>0)return t.preventDefault(),Ot(o).get(function(t){n&&e.selection.setRng(n),U(t,function(t){At(e,t)})}),!0}return!1},Nt=function(e){var n=e.clipboardData;return-1!==t.navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length},Ft=function(e){return he.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},Lt=function(e,n,r){function o(t,r,o,i){var a,s;if(wt(t,"text/html")?a=t["text/html"]:(a=n.getHtml(),i=i||be.isMarked(a),n.isDefaultContent(a)&&(o=!0)),a=We.trimHtml(a),n.remove(),s=!1===i&&Ee.isPlainText(a),a.length&&!s||(o=!0),o&&(a=wt(t,"text/plain")&&s?t["text/plain"]:We.innerText(a)),n.isDefaultContent(a))return void(r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."));o?vt(e,a):gt(e,a,i)}var i,a=ue();e.on("keydown",function(r){function o(e){Ft(e)&&!e.isDefaultPrevented()&&n.remove()}if(Ft(r)&&!r.isDefaultPrevented()){if((i=r.shiftKey&&86===r.keyCode)&&ce.webkit&&-1!==t.navigator.userAgent.indexOf("Version/"))return;if(r.stopImmediatePropagation(),a.set(r),window.setTimeout(function(){a.clear()},100),ce.ie&&i)return r.preventDefault(),void A.firePaste(e,!0);n.remove(),n.create(),e.once("keyup",o),e.once("paste",function(){e.off("keyup",o)})}});var s=function(){return n.getLastRng()||e.selection.getRng()};e.on("paste",function(t){var l=a.isSet(),u=yt(e,t),c="text"===r.get()||i,f=wt(u,be.internalHtmlMime());return i=!1,t.isDefaultPrevented()||Nt(t)?void n.remove():!xt(u)&&Dt(e,t,s())?void n.remove():(l||t.preventDefault(),!ce.ie||l&&!t.ieFake||wt(u,"text/html")||(n.create(),e.dom.bind(n.getEl(),"paste",function(e){e.stopPropagation()}),e.getDoc().execCommand("Paste",!1,null),u["text/html"]=n.getHtml()),void(wt(u,"text/html")?(t.preventDefault(),f||(f=be.isMarked(u["text/html"])),o(u,l,c,f)):fe.setEditorTimeout(e,function(){o(u,l,c,f)},0)))})},Pt=function(e,t,n){Lt(e,t,n);var r;e.parser.addNodeFilter("img",function(t,n,o){var i=function(e){e.attr("data-mce-object")||r===ce.transparentSrc||e.remove()};if(!e.settings.paste_data_images&&function(e){return e.data&&!0===e.data.paste}(o))for(var a=t.length;a--;)(r=t[a].attr("src"))&&(!function(e){return 0===e.indexOf("webkit-fake-url")}(r)?!e.settings.allow_html_data_urls&&function(e){return 0===e.indexOf("data:")}(r)&&i(t[a]):i(t[a]))})},Bt=function(e){return ce.ie&&e.inline?t.document.body:e.getBody()},Rt=function(e){return Bt(e)!==e.getBody()},qt=function(e,t,n){Rt(e)&&e.dom.bind(t,"paste keyup",function(t){Ut(e,n)||e.fire("paste")})},Mt=function(e,t,n){var r,o=e.dom,i=e.getBody();t.set(e.selection.getRng()),r=e.dom.add(Bt(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),(ce.ie||ce.gecko)&&o.setStyle(r,"left","rtl"===o.getStyle(i,"direction",!0)?65535:-65535),o.bind(r,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),qt(e,r,n),r.focus(),e.selection.select(r,!0)},jt=function(e,t){if(It(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)},It=function(e){return e.dom.get("mcepastebin")},$t=function(e){var t,n,r,o,i,a=function(t,n){t.appendChild(n),e.dom.remove(n,!0)};for(n=de.grep(Bt(e).childNodes,function(e){return"mcepastebin"===e.id}),t=n.shift(),de.each(n,function(e){a(t,e)}),o=e.dom.select("div[id=mcepastebin]",t),r=o.length-1;r>=0;r--)i=e.dom.create("div"),t.insertBefore(i,o[r]),a(i,o[r]);return t?t.innerHTML:""},zt=function(e){return e.get()},Ht=function(e,t){return t===e},Vt=function(e){return e&&"mcepastebin"===e.id},Ut=function(e,t){var n=It(e);return Vt(n)&&Ht(t,n.innerHTML)},Wt=function(e){var t=g(null);return{create:function(){return Mt(e,t,"%MCEPASTEBIN%")},remove:function(){return jt(e,t)},getEl:function(){return It(e)},getHtml:function(){return $t(e)},getLastRng:function(){return zt(t)},isDefault:function(){return Ut(e,"%MCEPASTEBIN%")},isDefaultContent:function(e){return Ht("%MCEPASTEBIN%",e)}}},Kt=function(e,t){var n=Wt(e);return e.on("PreInit",function(){return Pt(e,n,t)}),{pasteFormat:t,pasteHtml:function(t,n){return gt(e,t,n)},pasteText:function(t){return vt(e,t)},pasteImageData:function(t,n){return Dt(e,t,n)},getDataTransferItems:bt,hasHtmlOrText:xt,hasContentType:wt}},Gt=function(){},Yt=function(e){return!1===ce.iOS&&void 0!==e&&"function"==typeof e.setData&&!0!==We.isMsEdge()},Xt=function(e,t,n){if(!Yt(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(be.internalHtmlMime(),t),!0}catch(e){return!1}},Jt=function(e,t,n,r){Xt(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Zt=function(e){return function(t,n){var r=be.mark(t),o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),e.dom.add(e.getBody(),o);var a=e.selection.getRng();i.focus();var s=e.dom.createRng();s.selectNodeContents(i),e.selection.setRng(s),fe.setTimeout(function(){e.selection.setRng(a),o.parentNode.removeChild(o),n()},0)}},Qt=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},en=function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())},tn=function(e){return!e.selection.isCollapsed()||en(e)},nn=function(e){return function(t){tn(e)&&Jt(t,Qt(e),Zt(e),function(){fe.setTimeout(function(){e.execCommand("Delete")},0)})}},rn=function(e){return function(t){tn(e)&&Jt(t,Qt(e),Zt(e),Gt)}},on=function(e){e.on("cut",nn(e)),e.on("copy",rn(e))},an={register:on},sn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ln=function(e,t){return sn.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},un=function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")},cn=function(e,t){e.focus(),e.selection.setRng(t)},fn=function(e,t,n){Ve.shouldBlockDrop(e)&&e.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),Ve.shouldPasteDataImages(e)||e.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),e.on("drop",function(r){var o,i;if(i=ln(e,r),!r.isDefaultPrevented()&&!n.get()){o=t.getDataTransferItems(r.dataTransfer);var a=t.hasContentType(o,be.internalHtmlMime());if((t.hasHtmlOrText(o)&&!un(o)||!t.pasteImageData(r,i))&&i&&Ve.shouldFilterDrop(e)){var s=o["mce-internal"]||o["text/html"]||o["text/plain"];s&&(r.preventDefault(),fe.setEditorTimeout(e,function(){e.undoManager.transact(function(){o["mce-internal"]&&e.execCommand("Delete"),cn(e,i),s=We.trimHtml(s),o["text/html"]?t.pasteHtml(s,a):t.pasteText(s)})}))}}}),e.on("dragstart",function(e){n.set(!0)}),e.on("dragover dragend",function(t){Ve.shouldPasteDataImages(e)&&!1===n.get()&&(t.preventDefault(),cn(e,ln(e,t))),"dragend"===t.type&&n.set(!1)})},dn={setup:fn},hn=function(e){var t=e.plugins.paste,n=Ve.getPreProcess(e);n&&e.on("PastePreProcess",function(e){n.call(t,t,e)});var r=Ve.getPostProcess(e);r&&e.on("PastePostProcess",function(e){r.call(t,t,e)})},pn={setup:hn},mn=function(e){ce.webkit&&f(e,p),ce.ie&&(f(e,h),d(e,m))},gn={setup:mn},vn=function(e,t){return function(n){n.setActive("text"===t.pasteFormat.get());var r=function(e){return n.setActive(e.state)};return e.on("PastePlainTextToggle",r),function(){return e.off("PastePlainTextToggle",r)}}},bn=function(e,t){e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:vn(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:vn(e,t)})},yn={register:bn};!function(){v.add("paste",function(e){if(!1===y.hasProPlugin(e)){var t=g(!1),n=g(Ve.isPasteAsTextEnabled(e)?"text":"html"),r=Kt(e,n),o=gn.setup(e);return yn.register(e,r),D.register(e,r),pn.setup(e),an.register(e),dn.setup(e,r,t),x.get(r,o)}})}()}(window)}).call(t,n(3))},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-box"},[n("Editor",{attrs:{init:e.init,disabled:!1},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}})],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[e.isShowDialogDetail?n("el-dialog",{attrs:{title:"查看详情",visible:e.isShowDialogDetail,width:"95%","before-close":e.closeDialogDetailFun,"close-on-click-modal":!1,"append-to-body":!0},on:{"update:visible":function(t){e.isShowDialogDetail=t}}},[e.cf.customDetail?e._e():[n("table",{staticClass:"table-normal WP100"},e._l(e.cf.detailItems,function(t,r){return n("tr",{key:r},[n("td",{staticClass:"W100"},[e._v(e._s(t.label))]),e._v(" "),n("td",{staticStyle:{"line-height":"150%"}},[t.slot?e._t(t.slot,null,{row:e.row}):t.formatter?n("div",{domProps:{innerHTML:e._s(t.formatter(e.row))}}):"html"==t.type?n("div",{domProps:{innerHTML:e._s(e.row[t.prop])}}):"htmlJson"==t.type?n("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[n("pre",[e._v("                    "),n("code",{domProps:{innerHTML:e._s(e.row[t.prop])}}),e._v("\n                ")])]):"editorTM"==t.type?n("tiny_mce",{attrs:{showToolbar:!1},model:{value:e.row[t.prop],callback:function(n){e.$set(e.row,t.prop,n)},expression:"row[item.prop]"}}):[e._v(e._s(e.row[t.prop]))]],2)])}),0)],e._v(" "),e.cf.customDetail?[e._t("customDetail",null,{detailData:e.row})]:e._e(),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.closeDialogDetailFun}},[e._v("关 闭")])],1)],2):e._e(),e._v(" "),e.isShowDialogAdd?n("el-dialog",{attrs:{title:"新增数据",visible:e.isShowDialogAdd,width:"95%","before-close":e.closeDialogAddFun,"close-on-click-modal":!1,"append-to-body":!0},on:{"update:visible":function(t){e.isShowDialogAdd=t}}},[n("div",{},[n("dm_debug_list",{attrs:{"level-up":"1"}},[n("dm_debug_item",{attrs:{text:"新增表单的绑定数据"},model:{value:e.formAdd,callback:function(t){e.formAdd=t},expression:"formAdd"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"新增表单的初始数据"},model:{value:e.cf.formDataAddInit,callback:function(t){e.$set(e.cf,"formDataAddInit",t)},expression:"cf.formDataAddInit"}})],1)],1),e._v(" "),e.$lodash.get(e.cf,"cfDialogForm.tips")?n("div",{style:e.getTipsStyle(e.cf),domProps:{innerHTML:e._s(e.$lodash.get(e.cf,"cfDialogForm.tips.text"))}}):e._e(),e._v(" "),n("dynamicForm",{attrs:{cf:e.cfFormAdd,needDeleteId:!0},on:{submit:e.addData,cancel:e.closeDialogAddFun},scopedSlots:e._u([e._l(e.cf.formItems,function(t){return{key:t.slot,fn:function(n){var r=n.formData;return[t.slot?e._t(t.slot,null,{formData:r}):e._e()]}}})],null,!0),model:{value:e.formAdd,callback:function(t){e.formAdd=t},expression:"formAdd"}})],1):e._e(),e._v(" "),n("dm_dialog_edit",{ref:"dialog_edit",attrs:{cf:e.cfEditDialog,formModify:e.formModify},on:{"after-modify":e.afterModify},scopedSlots:e._u([e._l(e.cf.formItems,function(t){return{key:t.slot,fn:function(n){var r=n.formData;return[t.slot?e._t(t.slot,null,{formData:r}):e._e()]}}})],null,!0)})],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-data-box",attrs:{id:e.id}},[n("dm_debug_list",[n("dm_debug_item",{attrs:{text:"list-data列表配置"},model:{value:e.cf,callback:function(t){e.cf=t},expression:"cf"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"附加的列表查询参数"},model:{value:e.cf.objParamAddon,callback:function(t){e.$set(e.cf,"objParamAddon",t)},expression:"cf.objParamAddon"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"列表查询参数"},model:{value:e.objParam,callback:function(t){e.objParam=t},expression:"objParam"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"筛选表单配置"},model:{value:e.cf.searchFormItems,callback:function(t){e.$set(e.cf,"searchFormItems",t)},expression:"cf.searchFormItems"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"动态数据字典配置"},model:{value:e.cf.dynamicDict,callback:function(t){e.$set(e.cf,"dynamicDict",t)},expression:"cf.dynamicDict"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"列表数据"},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1),e._v(" "),e.cf.isShowBreadcrumb&&!e.cf.breadcrumb?n("el-breadcrumb",{staticClass:"MB12",attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/listHome"}}},[e._v("首页")]),e._v(" "),n("el-breadcrumb-item",[e._v(e._s(e.cf.twoTitle))]),e._v(" "),n("el-breadcrumb-item",[e._v(e._s(e.cf.threeTitle))])],1):e._e(),e._v(" "),e.cf.isShowBreadcrumb&&e.cf.breadcrumb?n("el-breadcrumb",{staticClass:"MB12",attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.cf.breadcrumb,function(t,r){return n("el-breadcrumb-item",{key:r},[t.path?n("a",{attrs:{href:t.path}},[e._v(e._s(t.value))]):n("span",[e._v(e._s(t.value))])])}),1):e._e(),e._v(" "),e.cf.isShowSearchForm?n("div",{staticClass:"search-form-box MB10"},[n("dynamicForm",{attrs:{cf:e.cfSearchForm},on:{submit1:e.searchList},model:{value:e.objParam.findJson,callback:function(t){e.$set(e.objParam,"findJson",t)},expression:"objParam.findJson"}})],1):e._e(),e._v(" "),e.cf.isShowToolBar?n("el-row",{staticClass:"MB10",attrs:{size:"mini"}},[e.$lodash.hasIn(e.cf,"batchBtns.addon")?[e._l(e.cf.batchBtns.addon,function(t,r){return["slot"==t.uiType?e._t(t.slot,null,{data:e.$data}):n("a",{key:r,staticClass:"MR10",attrs:{target:t.target,href:t.url||"javascript:;"}},[n("el-button",e._b({key:r,attrs:{size:"mini"},on:{click:function(n){return e.batchBtnClick(t.eventType,t.needSelect)}}},"el-button",t.cfElBtn,!1),[e._v(e._s(e.$lodash.get(t,"cfElBtn.text")||t.text))])],1)]})]:e._e(),e._v(" "),e.$lodash.get(e.cf,"batchBtns.tips")?n("span",{style:e.getTipsStyle(e.cf),domProps:{innerHTML:e._s(e.$lodash.get(e.cf,"batchBtns.tips.text"))}}):e._e()],2):e._e(),e._v(" "),n("el-table",e._b({ref:"table",staticClass:"table-need-export",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.tableData,border:"",stripe:!0,"cell-style":{padding:"5px"},"header-cell-style":{padding:"5px"}},on:{"sort-change":e.sortChange,"selection-change":e.selectionChange,"filter-change":e.filterHandler}},"el-table",e.cf.cfElTable,!1),[e.cf.isShowCheckedBox?n("el-table-column",{attrs:{fixed:"",label:"Id",prop:e.cf.idKey,width:26,type:"selection"}}):e._e(),e._v(" "),e.cf.expand?n("el-table-column",{attrs:{width:40,type:"expand",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.cf.expands,function(r,o){return n("div",{key:o},[n("div",[n("span",{staticStyle:{display:"inline-block",width:"80px"}},[e._v(e._s(r.label)+"：")]),e._v(" "),r.slot?e._t(r.slot,null,{row:t.row}):r.formatter?n("span",{},[e._v(e._s(r.formatter(t.row)))]):n("span",[e._v(e._s(t.row[r.prop]))])],2)])})}}],null,!0)}):e._e(),e._v(" "),e._l(e.cf.columns,function(t){return[n("el-table-column",e._b({key:t.__id,attrs:{prop:t.prop,label:t.label,width:t.width,type:t.type,fixed:t.fixed,formatter:t.formatter,sortable:t.sortable,"column-key":t.columnKey,filters:t.filters,"show-overflow-tooltip":t.showOverflowTooltip},scopedSlots:e._u([{key:"default",fn:function(r){return[n("div",{staticClass:"DPI"},[t.slot?e._t(t.slot,null,{row:r.row}):t.formatter?n("span",{},[e._v(e._s(t.formatter(r.row)))]):t.statistics?n("a",{staticClass:"link-blue",attrs:{href:"javascript:;"},on:{click:function(n){return e.filterData({pid:r.row[e.cf.idKey],listIndex:t.statistics.listIndex,targetIdKey:t.statistics.targetIdKey})}}},[e._v(e._s(r.row[t.prop]))]):n("span",{},[e._v(e._s(r.row[t.prop]))]),e._v(" "),t.edit?n("i",{staticClass:"el-icon-edit icon-edit",on:{click:function(n){return e.tdEdit(r.row,t)}}}):e._e()],2)]}}],null,!0)},"el-table-column",t.cfColumn,!1))]}),e._v(" "),e.cf.isShowOperateColumn?n("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":e.$lodash.get(e.cf,"columnOperate['min-width']",140)},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$lodash.hasIn(e.cf,"singleBtns.addon")?[e._l(e.cf.singleBtns.addon,function(r,o){return[n("a",{key:o,class:r.class,attrs:{target:r.target,title:r.title,href:e.getSigleLinkUrl(r,t.row)}},[n("el-button",e._b({key:o,staticStyle:{"margin-right":"5px"},attrs:{size:"mini"},on:{click:function(n){return e.singleBtnClick(r.eventType,t.row)}}},"el-button",r.cfElBtn,!1),[e.$lodash.get(r,"cfElBtn.circle")?e._e():[e._v(e._s(e.$lodash.get(r,"cfElBtn.text")||r.text))]],2)],1)]})]:e._e()]}}],null,!1,3865660712)}):e._e()],2),e._v(" "),n("div",{staticClass:"OFH"},[e.cf.isShowPageLink?n("el-pagination",{staticStyle:{float:"right",margin:"10px 0 0 0"},attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.allCount,pageSize:e.objParam.pageSize,"page-sizes":[2,10,20,50,100,200]},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1),e._v(" "),n("listDialogs",{ref:"listDialogs",attrs:{cf:e.cf,tableData:e.tableData},on:{"after-add":function(t,n){e.$emit("after-add",t,n)},"after-modify":function(t,n){e.$emit("after-modify",t,n)},"after-show-Dialog-Modify":function(t){e.$emit("after-show-Dialog-Modify",t)}},scopedSlots:e._u([e._l(e.cf.detailItems,function(t){return{key:t.slot,fn:function(n){var r=n.row;return[t.slot?e._t(t.slot,null,{row:r}):e._e()]}}}),{key:"customDetail",fn:function(t){var n=t.detailData;return[e._t("customDetail",null,{detailData:n})]}},e._l(e.cf.formItems,function(t){return{key:t.slot,fn:function(n){var r=n.formData;return[t.slot?e._t(t.slot,null,{formData:r}):e._e()]}}})],null,!0)}),e._v(" "),e.isShowDialogEditRow?n("el-dialog",{attrs:{"custom-class":"n-el-dialog",width:"65%",title:"编辑单项内容","close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,visible:e.isShowDialogEditRow},on:{"update:visible":function(t){e.isShowDialogEditRow=t}}},[n("dm_dynamic_form",{attrs:{cf:e.cfFormEditRow},on:{submit:e.submitFormEditRow,cancel:function(t){e.isShowDialogEditRow=!1}},model:{value:e.formDataEditRow,callback:function(t){e.formDataEditRow=t},expression:"formDataEditRow"}})],1):e._e()],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var a=n(172),s=n(2),l=s(o.a,a.a,!1,null,null,null);t.default=l.exports},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-box",style:{height:e.height+"px","line-height":e.height+"px",color:e.color,"text-align":"center"}},[e._v("\n   加载中\n   "),n("i",{staticClass:"el-icon-loading FS16"})])},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(174)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(176),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-25f7f3b6",null);t.default=c.exports},function(e,t,n){var r=n(175);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("6ff14788",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._t("default",[n("span",{attrs:{title:e.id}},[e._v(e._s(e.text))])],{doc:e.doc})],2)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var a=n(178),s=n(2),l=s(o.a,a.a,!1,null,null,null);t.default=l.exports},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{style:{height:e.height+"px","background-color":e.color,clear:"both"}})},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(180)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(182),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-7771da7f",null);t.default=c.exports},function(e,t,n){var r=n(181);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("497f2170",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"DPIB"},[n("el-select",{attrs:{multiple:e.cf.multiple,filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请输入","remote-method":e.remoteMethod,loading:e.loading},on:{change:e.change},model:{value:e.valueNeed,callback:function(t){e.valueNeed=t},expression:"valueNeed"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(184)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(186),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-5866437c",null);t.default=c.exports},function(e,t,n){var r=n(185);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("2255f09c",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"a[data-v-5866437c]{text-decoration:none;color:#666}.pannel-box.border_card[data-v-5866437c]{border:1px solid #ebeef5;border-radius:5px}.pannel-box.border_card .title-bar[data-v-5866437c]{padding:0 10px;border-bottom:1px solid #ebeef5}.pannel-box.border_card .content-box[data-v-5866437c]{padding:5px 10px}.title-bar[data-v-5866437c]{display:flex;height:40px;line-height:40px;border-bottom:2px solid #ccc;font-size:16px}.title-text[data-v-5866437c]{flex:1;line-height:40px}.more-box[data-v-5866437c]{height:40px;line-height:40px;font-size:14px}",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pannel-box",class:e.type},[n("div",{staticClass:"title-bar",style:e.style_title_bar},[n("div",{staticClass:"title-text"},[e.title?[e._v(e._s(e.title))]:e._t("title")],2),e._v(" "),e.link_more?n("div",{staticClass:"more-box"},[n("a",{attrs:{href:e.link_more}},[e._v("更多>>")])]):e._t("more")],2),e._v(" "),n("div",{staticClass:"content-box clearfix"},[e._t("default")],2)])},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(188)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(38),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(190),l=n(2),u=r,c=l(i.a,s.a,!1,u,"data-v-0ded0cf2",null);t.default=c.exports},function(e,t,n){var r=n(189);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("3642c4cf",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".n-flex-main[data-v-0ded0cf2]{display:flex;flex-wrap:wrap;justify-content:space-between}.n-flex-main .n-flex-group[data-v-0ded0cf2]{margin:0 0 10px}.n-flex-main .n-flex-group[data-v-0ded0cf2]:empty{height:0;margin:0}.n-col-2 .n-flex-group[data-v-0ded0cf2]{width:48%}.n-col-3 .n-flex-group[data-v-0ded0cf2]{width:32%}.n-col-4 .n-flex-group[data-v-0ded0cf2]{width:23%}.n-col-5 .n-flex-group[data-v-0ded0cf2]{width:19%}.n-col-6 .n-flex-group[data-v-0ded0cf2]{width:15%}.n-col-7 .n-flex-group[data-v-0ded0cf2]{width:13%}.n-col-8 .n-flex-group[data-v-0ded0cf2]{width:11.6%}.n-col-9 .n-flex-group[data-v-0ded0cf2]{width:10.8%}.n-col-10 .n-flex-group[data-v-0ded0cf2]{width:9.6%}@media screen and (max-width:640px){.n-col-2 .n-flex-group[data-v-0ded0cf2]{width:100%}.n-col-3 .n-flex-group[data-v-0ded0cf2],.n-col-4 .n-flex-group[data-v-0ded0cf2]{width:48%}.n-col-5 .n-flex-group[data-v-0ded0cf2]{width:32%}.n-col-6 .n-flex-group[data-v-0ded0cf2],.n-col-7 .n-flex-group[data-v-0ded0cf2]{width:24%}.n-col-8 .n-flex-group[data-v-0ded0cf2],.n-col-9 .n-flex-group[data-v-0ded0cf2],.n-col-10 .n-flex-group[data-v-0ded0cf2]{width:19%}}@media screen and (max-width:360px){.n-col-4 .n-flex-group[data-v-0ded0cf2]{width:100%}.n-col-5 .n-flex-group[data-v-0ded0cf2]{width:48%}.n-col-6 .n-flex-group[data-v-0ded0cf2],.n-col-7 .n-flex-group[data-v-0ded0cf2]{width:32%}.n-col-8 .n-flex-group[data-v-0ded0cf2],.n-col-9 .n-flex-group[data-v-0ded0cf2],.n-col-10 .n-flex-group[data-v-0ded0cf2]{width:24%}}",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"clearfix n-flex-main",class:e.arrClass},[e._l(e.list,function(t,r){return n("li",{key:r,staticClass:"n-flex-group",style:e.style_g},[e._t("default",null,{item:t})],2)}),e._v(" "),e._l(10,function(e){return n("li",{key:"item"+e,staticClass:"n-flex-group"})})],2)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(192)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(39),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(194),l=n(2),u=r,c=l(i.a,s.a,!1,u,null,null);t.default=c.exports},function(e,t,n){var r=n(193);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("2ea5b9e3",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.cf.visible?n("el-dialog",{attrs:{title:"修改数据",visible:e.cf.visible,width:"95%","close-on-click-modal":!1,"append-to-body":!0},on:{"update:visible":function(t){return e.$set(e.cf,"visible",t)}}},[n("dm_debug_list",{attrs:{"level-up":"1"}},[n("dm_debug_item",{attrs:{text:"修改表单的绑定数据"},model:{value:e.IN_formModify,callback:function(t){e.IN_formModify=t},expression:"IN_formModify"}})],1),e._v(" "),e.cf.cfTips?n("div",{style:e.getTipsStyle(),domProps:{innerHTML:e._s(e.$lodash.get(e.cf.cfTips,"text"))}}):e._e(),e._v(" "),n("dm_dynamic_form",{attrs:{cf:e.cf.cfFormModify},on:{submit:e.modifyData,cancel:function(t){e.cf.visible=!1}},scopedSlots:e._u([e._l(e.cf.cfFormModify.formItems,function(t){return{key:t.slot,fn:function(n){var r=n.formData;return[t.slot?e._t(t.slot,null,{formData:r}):e._e()]}}})],null,!0),model:{value:e.IN_formModify,callback:function(t){e.IN_formModify=t},expression:"IN_formModify"}})],1):e._e()],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(196)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(40),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var s=n(198),l=n(2),u=r,c=l(i.a,s.a,!1,u,null,null);t.default=c.exports},function(e,t,n){var r=n(197);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("5ac171fb",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.cf.visible?n("el-dialog",{attrs:{title:"新增数据",visible:e.cf.visible,width:"95%","before-close":e.closeDialogAddFun,"close-on-click-modal":!1,"append-to-body":!0},on:{"update:visible":function(t){return e.$set(e.cf,"visible",t)}}},[n("div",{},[n("dm_debug_list",{attrs:{"level-up":"1"}},[n("dm_debug_item",{attrs:{text:"新增表单的绑定数据"},model:{value:e.formAdd,callback:function(t){e.formAdd=t},expression:"formAdd"}}),e._v(" "),n("dm_debug_item",{attrs:{text:"新增表单的初始数据"},model:{value:e.cf.formDataAddInit,callback:function(t){e.$set(e.cf,"formDataAddInit",t)},expression:"cf.formDataAddInit"}})],1)],1),e._v(" "),e.cf.cfTips?n("div",{style:e.getTipsStyle(),domProps:{innerHTML:e._s(e.$lodash.get(e.cf.cfTips,"text"))}}):e._e(),e._v(" "),n("dm_dynamic_form",{attrs:{cf:e.cf.cfFormAdd,needDeleteId:!0},on:{submit:e.addData,cancel:e.closeDialogAddFun},scopedSlots:e._u([e._l(e.cf.cfFormAdd.formItems,function(t){return{key:t.slot,fn:function(n){var r=n.formData;return[t.slot?e._t(t.slot,null,{formData:r}):e._e()]}}})],null,!0),model:{value:e.IN_formAdd,callback:function(t){e.IN_formAdd=t},expression:"IN_formAdd"}})],1):e._e()],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){!function(t,r){e.exports=r(n(5))}(0,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=window.CodeMirror||o.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),t.default={name:"codemirror",data:function(){return{content:"",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:"codemirror"},placeholder:{type:String,default:""},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(e){for(var t in e)this.cminstance.setOption(t,e[t])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(e){this.handerCodeChange(e)},value:function(e){this.handerCodeChange(e)}},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=i.MergeView(this.$refs.mergeview,t),this.cminstance=this.codemirror.edit):(this.codemirror=i.fromTextArea(this.$refs.textarea,t),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on("change",function(t){e.content=t.getValue(),e.$emit&&e.$emit("input",e.content)});var n={};["scroll","changes","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"].concat(this.events).concat(this.globalEvents).filter(function(e){return!n[e]&&(n[e]=!0)}).forEach(function(t){e.cminstance.on(t,function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];e.$emit.apply(e,[t].concat(r));var i=t.replace(/([A-Z])/g,"-$1").toLowerCase();i!==t&&e.$emit.apply(e,[i].concat(r))})}),this.$emit("ready",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var e=this;this.$nextTick(function(){e.cminstance.refresh()})},destroy:function(){var e=this.cminstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove()},handerCodeChange:function(e){if(e!==this.cminstance.getValue()){var t=this.cminstance.getScrollInfo();this.cminstance.setValue(e),this.content=e,this.cminstance.scrollTo(t.left,t.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var e=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach(function(t){var n=e.cminstance.lineInfo(t);e.cminstance.setGutterMarker(t,"breakpoints",n.gutterMarkers?null:e.marker())})},switchMerge:function(){var e=this.cminstance.doc.history,t=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=e,this.cminstance.doc.cleanGeneration=t}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n.n(r);for(var i in r)["default","default"].indexOf(i)<0&&function(e){n.d(t,e,function(){return r[e]})}(i);var a=n(5),s=n(4),l=s(o.a,a.a,!1,null,null,null);t.default=l.exports},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.codemirror=t.CodeMirror=void 0;var o=n(0),i=r(o),a=n(2),s=r(a),l=window.CodeMirror||i.default,u=function(e,t){t&&(t.options&&(s.default.props.globalOptions.default=function(){return t.options}),t.events&&(s.default.props.globalEvents.default=function(){return t.events})),e.component(s.default.name,s.default)},c={CodeMirror:l,codemirror:s.default,install:u};t.default=c,t.CodeMirror=l,t.codemirror=s.default,t.install=u},function(e,t){e.exports=function(e,t,n,r,o,i){var a,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,s=e.default);var u="function"==typeof s?s.options:s;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):r&&(c=r),c){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=c,u.render=function(e,t){return c.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:s,options:u}}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-codemirror",class:{merge:e.merge}},[e.merge?n("div",{ref:"mergeview"}):n("textarea",{ref:"textarea",attrs:{name:e.name,placeholder:e.placeholder}})])},o=[],i={render:r,staticRenderFns:o};t.a=i}])})},function(e,t,n){var r=n(201);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("21a0d716",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,'.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,.5)}.cm-animate-fat-cursor,.cm-fat-cursor-mark{-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;background-color:#7e7}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}',""])},function(e,t,n){var r=n(203);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("5a10504c",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,".cm-s-lucario.CodeMirror,.cm-s-lucario .CodeMirror-gutters{background-color:#2b3e50!important;color:#f8f8f2!important;border:none}.cm-s-lucario .CodeMirror-gutters{color:#2b3e50}.cm-s-lucario .CodeMirror-cursor{border-left:thin solid #e6c845}.cm-s-lucario .CodeMirror-linenumber{color:#f8f8f2}.cm-s-lucario .CodeMirror-selected{background:#243443}.cm-s-lucario .CodeMirror-line::selection,.cm-s-lucario .CodeMirror-line>span::selection,.cm-s-lucario .CodeMirror-line>span>span::selection{background:#243443}.cm-s-lucario .CodeMirror-line::-moz-selection,.cm-s-lucario .CodeMirror-line>span::-moz-selection,.cm-s-lucario .CodeMirror-line>span>span::-moz-selection{background:#243443}.cm-s-lucario span.cm-comment{color:#5c98cd}.cm-s-lucario span.cm-string,.cm-s-lucario span.cm-string-2{color:#e6db74}.cm-s-lucario span.cm-number{color:#ca94ff}.cm-s-lucario span.cm-variable,.cm-s-lucario span.cm-variable-2{color:#f8f8f2}.cm-s-lucario span.cm-def{color:#72c05d}.cm-s-lucario span.cm-operator{color:#66d9ef}.cm-s-lucario span.cm-keyword{color:#ff6541}.cm-s-lucario span.cm-atom{color:#bd93f9}.cm-s-lucario span.cm-meta{color:#f8f8f2}.cm-s-lucario span.cm-tag{color:#ff6541}.cm-s-lucario span.cm-attribute{color:#66d9ef}.cm-s-lucario span.cm-qualifier{color:#72c05d}.cm-s-lucario span.cm-property{color:#f8f8f2}.cm-s-lucario span.cm-builtin{color:#72c05d}.cm-s-lucario span.cm-type,.cm-s-lucario span.cm-variable-3{color:#ffb86c}.cm-s-lucario .CodeMirror-activeline-background{background:#243443}.cm-s-lucario .CodeMirror-matchingbracket{text-decoration:underline;color:#fff!important}",""])},function(e,t,n){!function(e){e(n(5))}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function o(e,t,n){return Ie=e,$e=n,t}function i(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=a(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return o("number","number");if("."==n&&e.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return o(n);if("="==n&&e.eat(">"))return o("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return o("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),o("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),o("comment","comment")):je(e,t,1)?(r(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),o("regexp","string-2")):(e.eat("="),o("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),o("error","error");if("<"==n&&e.match("!--")||"-"==n&&e.match("->"))return e.skipToEnd(),o("comment","comment");if(Ye.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),o("operator","operator",e.current());if(Ke.test(n)){e.eatWhile(Ke);var i=e.current();if("."!=t.lastType){if(Ge.propertyIsEnumerable(i)){var u=Ge[i];return o(u.type,u.style,i)}if("async"==i&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return o("async","keyword",i)}return o("variable","variable",i)}}function a(e){return function(t,n){var r,a=!1;if(Ve&&"@"==t.peek()&&t.match(Xe))return n.tokenize=i,o("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||a);)a=!a&&"\\"==r;return a||(n.tokenize=i),o("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=i;break}r="*"==n}return o("comment","comment")}function l(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=i;break}r=!r&&"\\"==n}return o("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(We){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var o=0,i=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),l=Je.indexOf(s);if(l>=0&&l<3){if(!o){++a;break}if(0==--o){"("==s&&(i=!0);break}}else if(l>=3&&l<6)++o;else if(Ke.test(s))i=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;var u=e.string.charAt(a-1);if(u==s&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(i&&!o){++a;break}}i&&!o&&(t.fatArrowAt=a)}}function c(e,t,n,r,o,i){this.indented=e,this.column=t,this.type=n,this.prev=o,this.info=i,null!=r&&(this.align=r)}function f(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function d(e,t,n,r,o){var i=e.cc;for(Qe.state=e,Qe.stream=o,Qe.marked=null,Qe.cc=i,Qe.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((i.length?i.pop():Ue?T:S)(n,r)){for(;i.length&&i[i.length-1].lex;)i.pop()();return Qe.marked?Qe.marked:"variable"==n&&f(e,r)?"variable-2":t}}}function h(){for(var e=arguments.length-1;e>=0;e--)Qe.cc.push(arguments[e])}function p(){return h.apply(null,arguments),!0}function m(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function g(e){var t=Qe.state;if(Qe.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=v(e,t.context);if(null!=r)return void(t.context=r)}else if(!m(e,t.localVars))return void(t.localVars=new w(e,t.localVars));n.globalVars&&!m(e,t.globalVars)&&(t.globalVars=new w(e,t.globalVars))}function v(e,t){if(t){if(t.block){var n=v(e,t.prev);return n?n==t.prev?t:new y(n,t.vars,!0):null}return m(e,t.vars)?t:new y(t.prev,new w(e,t.vars),!1)}return null}function b(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function y(e,t,n){this.prev=e,this.vars=t,this.block=n}function w(e,t){this.name=e,this.next=t}function x(){Qe.state.context=new y(Qe.state.context,Qe.state.localVars,!1),Qe.state.localVars=et}function C(){Qe.state.context=new y(Qe.state.context,Qe.state.localVars,!0),Qe.state.localVars=null}function k(){Qe.state.localVars=Qe.state.context.vars,Qe.state.context=Qe.state.context.prev}function _(e,t){var n=function(){var n=Qe.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var o=n.lexical;o&&")"==o.type&&o.align;o=o.prev)r=o.indented;n.lexical=new c(r,Qe.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function E(){var e=Qe.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function A(e){function t(n){return n==e?p():";"==e||"}"==n||")"==n||"]"==n?h():p(t)}return t}function S(e,t){return"var"==e?p(_("vardef",t),ue,A(";"),E):"keyword a"==e?p(_("form"),N,S,E):"keyword b"==e?p(_("form"),S,E):"keyword d"==e?Qe.stream.match(/^\s*$/,!1)?p():p(_("stat"),L,A(";"),E):"debugger"==e?p(A(";")):"{"==e?p(_("}"),C,X,E,k):";"==e?p():"if"==e?("else"==Qe.state.lexical.info&&Qe.state.cc[Qe.state.cc.length-1]==E&&Qe.state.cc.pop()(),p(_("form"),N,S,E,me)):"function"==e?p(ye):"for"==e?p(_("form"),ge,S,E):"class"==e||We&&"interface"==t?(Qe.marked="keyword",p(_("form","class"==e?e:t),_e,E)):"variable"==e?We&&"declare"==t?(Qe.marked="keyword",p(S)):We&&("module"==t||"enum"==t||"type"==t)&&Qe.stream.match(/^\s*\w/,!1)?(Qe.marked="keyword","enum"==t?p(Re):"type"==t?p(xe,A("operator"),te,A(";")):p(_("form"),ce,A("{"),_("}"),X,E,E)):We&&"namespace"==t?(Qe.marked="keyword",p(_("form"),T,S,E)):We&&"abstract"==t?(Qe.marked="keyword",p(S)):p(_("stat"),H):"switch"==e?p(_("form"),N,A("{"),_("}","switch"),C,X,E,E,k):"case"==e?p(T,A(":")):"default"==e?p(A(":")):"catch"==e?p(_("form"),x,O,S,E,k):"export"==e?p(_("stat"),Oe,E):"import"==e?p(_("stat"),De,E):"async"==e?p(S):"@"==t?p(T,S):h(_("stat"),T,A(";"),E)}function O(e){if("("==e)return p(Ce,A(")"))}function T(e,t){return F(e,t,!1)}function D(e,t){return F(e,t,!0)}function N(e){return"("!=e?h():p(_(")"),T,A(")"),E)}function F(e,t,n){if(Qe.state.fatArrowAt==Qe.stream.start){var r=n?j:M;if("("==e)return p(x,_(")"),G(Ce,")"),E,A("=>"),r,k);if("variable"==e)return h(x,ce,A("=>"),r,k)}var o=n?B:P;return Ze.hasOwnProperty(e)?p(o):"function"==e?p(ye,o):"class"==e||We&&"interface"==t?(Qe.marked="keyword",p(_("form"),ke,E)):"keyword c"==e||"async"==e?p(n?D:T):"("==e?p(_(")"),L,A(")"),E,o):"operator"==e||"spread"==e?p(n?D:T):"["==e?p(_("]"),Be,E,o):"{"==e?Y(U,"}",null,o):"quasi"==e?h(R,o):"new"==e?p(I(n)):"import"==e?p(T):p()}function L(e){return e.match(/[;\}\)\],]/)?h():h(T)}function P(e,t){return","==e?p(T):B(e,t,!1)}function B(e,t,n){var r=0==n?P:B,o=0==n?T:D;return"=>"==e?p(x,n?j:M,k):"operator"==e?/\+\+|--/.test(t)||We&&"!"==t?p(r):We&&"<"==t&&Qe.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?p(_(">"),G(te,">"),E,r):"?"==t?p(T,A(":"),o):p(o):"quasi"==e?h(R,r):";"!=e?"("==e?Y(D,")","call",r):"."==e?p(V,r):"["==e?p(_("]"),L,A("]"),E,r):We&&"as"==t?(Qe.marked="keyword",p(te,r)):"regexp"==e?(Qe.state.lastType=Qe.marked="operator",Qe.stream.backUp(Qe.stream.pos-Qe.stream.start-1),p(o)):void 0:void 0}function R(e,t){return"quasi"!=e?h():"${"!=t.slice(t.length-2)?p(R):p(T,q)}function q(e){if("}"==e)return Qe.marked="string-2",Qe.state.tokenize=l,p(R)}function M(e){return u(Qe.stream,Qe.state),h("{"==e?S:T)}function j(e){return u(Qe.stream,Qe.state),h("{"==e?S:D)}function I(e){return function(t){return"."==t?p(e?z:$):"variable"==t&&We?p(ae,e?B:P):h(e?D:T)}}function $(e,t){if("target"==t)return Qe.marked="keyword",p(P)}function z(e,t){if("target"==t)return Qe.marked="keyword",p(B)}function H(e){return":"==e?p(E,S):h(P,A(";"),E)}function V(e){if("variable"==e)return Qe.marked="property",p()}function U(e,t){if("async"==e)return Qe.marked="property",p(U);if("variable"==e||"keyword"==Qe.style){if(Qe.marked="property","get"==t||"set"==t)return p(W);var n;return We&&Qe.state.fatArrowAt==Qe.stream.start&&(n=Qe.stream.match(/^\s*:\s*/,!1))&&(Qe.state.fatArrowAt=Qe.stream.pos+n[0].length),p(K)}return"number"==e||"string"==e?(Qe.marked=Ve?"property":Qe.style+" property",p(K)):"jsonld-keyword"==e?p(K):We&&b(t)?(Qe.marked="keyword",p(U)):"["==e?p(T,J,A("]"),K):"spread"==e?p(D,K):"*"==t?(Qe.marked="keyword",p(U)):":"==e?h(K):void 0}function W(e){return"variable"!=e?h(K):(Qe.marked="property",p(ye))}function K(e){return":"==e?p(D):"("==e?h(ye):void 0}function G(e,t,n){function r(o,i){if(n?n.indexOf(o)>-1:","==o){var a=Qe.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),p(function(n,r){return n==t||r==t?h():h(e)},r)}return o==t||i==t?p():n&&n.indexOf(";")>-1?h(e):p(A(t))}return function(n,o){return n==t||o==t?p():h(e,r)}}function Y(e,t,n){for(var r=3;r<arguments.length;r++)Qe.cc.push(arguments[r]);return p(_(t,n),G(e,t),E)}function X(e){return"}"==e?p():h(S,X)}function J(e,t){if(We){if(":"==e)return p(te);if("?"==t)return p(J)}}function Z(e,t){if(We&&(":"==e||"in"==t))return p(te)}function Q(e){if(We&&":"==e)return Qe.stream.match(/^\s*\w+\s+is\b/,!1)?p(T,ee,te):p(te)}function ee(e,t){if("is"==t)return Qe.marked="keyword",p()}function te(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(Qe.marked="keyword",p("typeof"==t?D:te)):"variable"==e||"void"==t?(Qe.marked="type",p(ie)):"|"==t||"&"==t?p(te):"string"==e||"number"==e||"atom"==e?p(ie):"["==e?p(_("]"),G(te,"]",","),E,ie):"{"==e?p(_("}"),G(re,"}",",;"),E,ie):"("==e?p(G(oe,")"),ne,ie):"<"==e?p(G(te,">"),te):void 0}function ne(e){if("=>"==e)return p(te)}function re(e,t){return"variable"==e||"keyword"==Qe.style?(Qe.marked="property",p(re)):"?"==t||"number"==e||"string"==e?p(re):":"==e?p(te):"["==e?p(A("variable"),Z,A("]"),re):"("==e?h(we,re):void 0}function oe(e,t){return"variable"==e&&Qe.stream.match(/^\s*[?:]/,!1)||"?"==t?p(oe):":"==e?p(te):"spread"==e?p(oe):h(te)}function ie(e,t){return"<"==t?p(_(">"),G(te,">"),E,ie):"|"==t||"."==e||"&"==t?p(te):"["==e?p(te,A("]"),ie):"extends"==t||"implements"==t?(Qe.marked="keyword",p(te)):"?"==t?p(te,A(":"),te):void 0}function ae(e,t){if("<"==t)return p(_(">"),G(te,">"),E,ie)}function se(){return h(te,le)}function le(e,t){if("="==t)return p(te)}function ue(e,t){return"enum"==t?(Qe.marked="keyword",p(Re)):h(ce,J,he,pe)}function ce(e,t){return We&&b(t)?(Qe.marked="keyword",p(ce)):"variable"==e?(g(t),p()):"spread"==e?p(ce):"["==e?Y(de,"]"):"{"==e?Y(fe,"}"):void 0}function fe(e,t){return"variable"!=e||Qe.stream.match(/^\s*:/,!1)?("variable"==e&&(Qe.marked="property"),"spread"==e?p(ce):"}"==e?h():"["==e?p(T,A("]"),A(":"),fe):p(A(":"),ce,he)):(g(t),p(he))}function de(){return h(ce,he)}function he(e,t){if("="==t)return p(D)}function pe(e){if(","==e)return p(ue)}function me(e,t){if("keyword b"==e&&"else"==t)return p(_("form","else"),S,E)}function ge(e,t){return"await"==t?p(ge):"("==e?p(_(")"),ve,E):void 0}function ve(e){return"var"==e?p(ue,be):"variable"==e?p(be):h(be)}function be(e,t){return")"==e?p():";"==e?p(be):"in"==t||"of"==t?(Qe.marked="keyword",p(T,be)):h(T,be)}function ye(e,t){return"*"==t?(Qe.marked="keyword",p(ye)):"variable"==e?(g(t),p(ye)):"("==e?p(x,_(")"),G(Ce,")"),E,Q,S,k):We&&"<"==t?p(_(">"),G(se,">"),E,ye):void 0}function we(e,t){return"*"==t?(Qe.marked="keyword",p(we)):"variable"==e?(g(t),p(we)):"("==e?p(x,_(")"),G(Ce,")"),E,Q,k):We&&"<"==t?p(_(">"),G(se,">"),E,we):void 0}function xe(e,t){return"keyword"==e||"variable"==e?(Qe.marked="type",p(xe)):"<"==t?p(_(">"),G(se,">"),E):void 0}function Ce(e,t){return"@"==t&&p(T,Ce),"spread"==e?p(Ce):We&&b(t)?(Qe.marked="keyword",p(Ce)):We&&"this"==e?p(J,he):h(ce,J,he)}function ke(e,t){return"variable"==e?_e(e,t):Ee(e,t)}function _e(e,t){if("variable"==e)return g(t),p(Ee)}function Ee(e,t){return"<"==t?p(_(">"),G(se,">"),E,Ee):"extends"==t||"implements"==t||We&&","==e?("implements"==t&&(Qe.marked="keyword"),p(We?te:T,Ee)):"{"==e?p(_("}"),Ae,E):void 0}function Ae(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||We&&b(t))&&Qe.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Qe.marked="keyword",p(Ae)):"variable"==e||"keyword"==Qe.style?(Qe.marked="property",p(We?Se:ye,Ae)):"number"==e||"string"==e?p(We?Se:ye,Ae):"["==e?p(T,J,A("]"),We?Se:ye,Ae):"*"==t?(Qe.marked="keyword",p(Ae)):We&&"("==e?h(we,Ae):";"==e||","==e?p(Ae):"}"==e?p():"@"==t?p(T,Ae):void 0}function Se(e,t){if("?"==t)return p(Se);if(":"==e)return p(te,he);if("="==t)return p(D);var n=Qe.state.lexical.prev;return h(n&&"interface"==n.info?we:ye)}function Oe(e,t){return"*"==t?(Qe.marked="keyword",p(Pe,A(";"))):"default"==t?(Qe.marked="keyword",p(T,A(";"))):"{"==e?p(G(Te,"}"),Pe,A(";")):h(S)}function Te(e,t){return"as"==t?(Qe.marked="keyword",p(A("variable"))):"variable"==e?h(D,Te):void 0}function De(e){return"string"==e?p():"("==e?h(T):h(Ne,Fe,Pe)}function Ne(e,t){return"{"==e?Y(Ne,"}"):("variable"==e&&g(t),"*"==t&&(Qe.marked="keyword"),p(Le))}function Fe(e){if(","==e)return p(Ne,Fe)}function Le(e,t){if("as"==t)return Qe.marked="keyword",p(Ne)}function Pe(e,t){if("from"==t)return Qe.marked="keyword",p(T)}function Be(e){return"]"==e?p():h(G(D,"]"))}function Re(){return h(_("form"),ce,A("{"),_("}"),G(qe,"}"),E,E)}function qe(){return h(ce,he)}function Me(e,t){return"operator"==e.lastType||","==e.lastType||Ye.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function je(e,t,n){return t.tokenize==i&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var Ie,$e,ze=t.indentUnit,He=n.statementIndent,Ve=n.jsonld,Ue=n.json||Ve,We=n.typescript,Ke=n.wordCharacters||/[\w$\xa1-\uffff]/,Ge=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),o=e("keyword d"),i=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:o,break:o,continue:o,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),Ye=/[+\-*&%=<>!?|~^@]/,Xe=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Je="([{}])",Ze={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},Qe={state:null,column:null,marked:null,cc:null},et=new w("this",new w("arguments",null));return k.lex=!0,E.lex=!0,{startState:function(e){var t={tokenize:i,lastType:"sof",cc:[],lexical:new c((e||0)-ze,0,"block",!1),localVars:n.localVars,context:n.localVars&&new y(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==Ie?n:(t.lastType="operator"!=Ie||"++"!=$e&&"--"!=$e?Ie:"incdec",d(t,n,Ie,$e,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=i)return 0;var o,a=r&&r.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(r))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==E)l=l.prev;else if(c!=me)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(o=t.cc[t.cc.length-1])&&(o==P||o==B)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;He&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var f=l.type,d=a==f;return"vardef"==f?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==f&&"{"==a?l.indented:"form"==f?l.indented+ze:"stat"==f?l.indented+(Me(t,r)?He||ze:0):"switch"!=l.info||d||0==n.doubleIndentSwitch?l.align?l.column+(d?0:1):l.indented+(d?0:ze):l.indented+(/^(?:case|default)\b/.test(r)?ze:2*ze)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Ue?null:"/*",blockCommentEnd:Ue?null:"*/",blockCommentContinue:Ue?null:" * ",lineComment:Ue?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Ue?"json":"javascript",jsonldMode:Ve,jsonMode:Ue,expressionAllowed:je,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=T&&t!=D||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(e,t,n){!function(e){e(n(5))}(function(e){"use strict";function t(e){for(var t=0;t<e.state.activeLines.length;t++)e.removeLineClass(e.state.activeLines[t],"wrap",i),e.removeLineClass(e.state.activeLines[t],"background",a),e.removeLineClass(e.state.activeLines[t],"gutter",s)}function n(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function r(e,r){for(var o=[],l=0;l<r.length;l++){var u=r[l],c=e.getOption("styleActiveLine");if("object"==typeof c&&c.nonEmpty?u.anchor.line==u.head.line:u.empty()){var f=e.getLineHandleVisualStart(u.head.line);o[o.length-1]!=f&&o.push(f)}}n(e.state.activeLines,o)||e.operation(function(){t(e);for(var n=0;n<o.length;n++)e.addLineClass(o[n],"wrap",i),e.addLineClass(o[n],"background",a),e.addLineClass(o[n],"gutter",s);e.state.activeLines=o})}function o(e,t){r(e,t.ranges)}var i="CodeMirror-activeline",a="CodeMirror-activeline-background",s="CodeMirror-activeline-gutter";e.defineOption("styleActiveLine",!1,function(n,i,a){var s=a!=e.Init&&a;i!=s&&(s&&(n.off("beforeSelectionChange",o),t(n),delete n.state.activeLines),i&&(n.state.activeLines=[],r(n,n.listSelections()),n.on("beforeSelectionChange",o)))})})},function(e,t,n){!function(e){e(n(5),n(207))}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function n(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function r(e,t){for(var n=e.findMarks(d(t,0),d(t+1,0)),r=0;r<n.length;++r)if(n[r].__isFold){var o=n[r].find(-1);if(o&&o.line===t)return n[r]}}function o(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function i(e,t,n){var i=e.state.foldGutter.options,s=t-1,l=e.foldOption(i,"minFoldSize"),u=e.foldOption(i,"rangeFinder"),c="string"==typeof i.indicatorFolded&&a(i.indicatorFolded),f="string"==typeof i.indicatorOpen&&a(i.indicatorOpen);e.eachLine(t,n,function(t){++s;var n=null,a=t.gutterMarkers;if(a&&(a=a[i.gutter]),r(e,s)){if(c&&a&&c.test(a.className))return;n=o(i.indicatorFolded)}else{var h=d(s,0),p=u&&u(e,h);if(p&&p.to.line-p.from.line>=l){if(f&&a&&f.test(a.className))return;n=o(i.indicatorOpen)}}(n||a)&&e.setGutterMarker(t,i.gutter,n)})}function a(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function s(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){i(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function l(e,t,n){var o=e.state.foldGutter;if(o){var i=o.options;if(n==i.gutter){var a=r(e,t);a?a.clear():e.foldCode(d(t,0),i)}}}function u(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){s(e)},n.foldOnChangeTimeSpan||600)}}function c(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?s(e):e.operation(function(){n.from<t.from&&(i(e,n.from,t.from),t.from=n.from),n.to>t.to&&(i(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function f(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&i(e,r,r+1)}}e.defineOption("foldGutter",!1,function(r,o,i){i&&i!=e.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",l),r.off("changes",u),r.off("viewportChange",c),r.off("fold",f),r.off("unfold",f),r.off("swapDoc",u)),o&&(r.state.foldGutter=new t(n(o)),s(r),r.on("gutterClick",l),r.on("changes",u),r.on("viewportChange",c),r.on("fold",f),r.on("unfold",f),r.on("swapDoc",u))});var d=e.Pos})},function(e,t,n){!function(e){e(n(5))}(function(e){"use strict";function t(t,o,i,a){function s(e){var n=l(t,o);if(!n||n.to.line-n.from.line<u)return null;for(var r=t.findMarksAt(n.from),i=0;i<r.length;++i)if(r[i].__isFold&&"fold"!==a){if(!e)return null;n.cleared=!0,r[i].clear()}return n}if(i&&i.call){var l=i;i=null}else var l=r(t,i,"rangeFinder");"number"==typeof o&&(o=e.Pos(o,0));var u=r(t,i,"minFoldSize"),c=s(!0);if(r(t,i,"scanUp"))for(;!c&&o.line>t.firstLine();)o=e.Pos(o.line-1,0),c=s(!1);if(c&&!c.cleared&&"unfold"!==a){var f=n(t,i);e.on(f,"mousedown",function(t){d.clear(),e.e_preventDefault(t)});var d=t.markText(c.from,c.to,{replacedWith:f,clearOnEnter:r(t,i,"clearOnEnter"),__isFold:!0});d.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,c.from,c.to)}}function n(e,t){var n=r(e,t,"widget");if("string"==typeof n){var o=document.createTextNode(n);n=document.createElement("span"),n.appendChild(o),n.className="CodeMirror-foldmarker"}else n&&(n=n.cloneNode(!0));return n}function r(e,t,n){if(t&&void 0!==t[n])return t[n];var r=e.options.foldOptions;return r&&void 0!==r[n]?r[n]:o[n]}e.newFoldFunction=function(e,n){return function(r,o){t(r,o,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,r){t(this,e,n,r)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var o=e[r](t,n);if(o)return o}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var o=n[r](e,t);if(o)return o}});var o={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return r(this,e,t)})})},function(e,t,n){var r=n(209);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(1)("1df91cf9",r,!0,{})},function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,'.CodeMirror-foldmarker{color:blue;text-shadow:#b9f 1px 1px 2px,#b9f -1px -1px 2px,#b9f 1px -1px 2px,#b9f -1px 1px 2px;font-family:arial;line-height:.3;cursor:pointer}.CodeMirror-foldgutter{width:.7em}.CodeMirror-foldgutter-folded,.CodeMirror-foldgutter-open{cursor:pointer}.CodeMirror-foldgutter-open:after{content:"\\25BE"}.CodeMirror-foldgutter-folded:after{content:"\\25B8"}',""])},function(e,t,n){!function(e){e(n(5))}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function r(r){for(var s=n.ch,l=0;;){var u=s<=0?-1:a.lastIndexOf(r,s-1);if(-1!=u){if(1==l&&u<n.ch)break;if(o=t.getTokenTypeAt(e.Pos(i,u+1)),!/^(comment|string)/.test(o))return u+1;s=u-1}else{if(1==l)break;l=1,s=a.length}}}var o,i=n.line,a=t.getLine(i),s="{",l="}",u=r("{");if(null==u&&(s="[",l="]",u=r("[")),null!=u){var c,f,d=1,h=t.lastLine();e:for(var p=i;p<=h;++p)for(var m=t.getLine(p),g=p==i?u:0;;){var v=m.indexOf(s,g),b=m.indexOf(l,g);if(v<0&&(v=m.length),b<0&&(b=m.length),(g=Math.min(v,b))==m.length)break;if(t.getTokenTypeAt(e.Pos(p,g+1))==o)if(g==v)++d;else if(!--d){c=p,f=g;break e}++g}if(null!=c&&i!=c)return{from:e.Pos(i,u),to:e.Pos(c,f)}}}),e.registerHelper("fold","import",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var o=n,i=Math.min(t.lastLine(),n+10);o<=i;++o){var a=t.getLine(o),s=a.indexOf(";");if(-1!=s)return{startCh:r.end,end:e.Pos(o,s)}}}var o,i=n.line,a=r(i);if(!a||r(i-1)||(o=r(i-2))&&o.end.line==i-1)return null;for(var s=a.end;;){var l=r(s.line+1);if(null==l)break;s=l.end}return{from:t.clipPos(e.Pos(i,a.startCh+1)),to:s}}),e.registerHelper("fold","include",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var o=n.line,i=r(o);if(null==i||null!=r(o-1))return null;for(var a=o;;){if(null==r(a+1))break;++a}return{from:e.Pos(o,i+1),to:t.clipPos(e.Pos(a))}})})}])});
//# sourceMappingURL=vue-dm-components.js.map